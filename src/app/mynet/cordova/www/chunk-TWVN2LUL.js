import{a as ne,b as Re,c as RD,d as Le,e as _k,f as yo,g as bk,h as L,i as Ui,j as jo,k as Ls,l as Uo,m as OK}from"./chunk-GUAWKLZI.js";var tf=Le((wje,$R)=>{"use strict";var Mp=typeof Reflect=="object"?Reflect:null,BV=Mp&&typeof Mp.apply=="function"?Mp.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},kE;Mp&&typeof Mp.ownKeys=="function"?kE=Mp.ownKeys:Object.getOwnPropertySymbols?kE=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:kE=function(e){return Object.getOwnPropertyNames(e)};function Uie(n){console&&console.warn&&console.warn(n)}var UV=Number.isNaN||function(e){return e!==e};function lr(){lr.init.call(this)}$R.exports=lr;$R.exports.once=qie;lr.EventEmitter=lr;lr.prototype._events=void 0;lr.prototype._eventsCount=0;lr.prototype._maxListeners=void 0;var jV=10;function PE(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(lr,"defaultMaxListeners",{enumerable:!0,get:function(){return jV},set:function(n){if(typeof n!="number"||n<0||UV(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");jV=n}});lr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};lr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||UV(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function VV(n){return n._maxListeners===void 0?lr.defaultMaxListeners:n._maxListeners}lr.prototype.getMaxListeners=function(){return VV(this)};lr.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")BV(l,this,t);else for(var c=l.length,u=GV(l,c),r=0;r<c;++r)BV(u[r],this,t);return!0};function $V(n,e,t,r){var i,o,s;if(PE(t),o=n._events,o===void 0?(o=n._events=Object.create(null),n._eventsCount=0):(o.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),o=n._events),s=o[e]),s===void 0)s=o[e]=t,++n._eventsCount;else if(typeof s=="function"?s=o[e]=r?[t,s]:[s,t]:r?s.unshift(t):s.push(t),i=VV(n),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=n,a.type=e,a.count=s.length,Uie(a)}return n}lr.prototype.addListener=function(e,t){return $V(this,e,t,!1)};lr.prototype.on=lr.prototype.addListener;lr.prototype.prependListener=function(e,t){return $V(this,e,t,!0)};function Vie(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function HV(n,e,t){var r={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},i=Vie.bind(r);return i.listener=t,r.wrapFn=i,i}lr.prototype.once=function(e,t){return PE(t),this.on(e,HV(this,e,t)),this};lr.prototype.prependOnceListener=function(e,t){return PE(t),this.prependListener(e,HV(this,e,t)),this};lr.prototype.removeListener=function(e,t){var r,i,o,s,a;if(PE(t),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():$ie(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};lr.prototype.off=lr.prototype.removeListener;lr.prototype.removeAllListeners=function(e){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function qV(n,e,t){var r=n._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?Hie(i):GV(i,i.length)}lr.prototype.listeners=function(e){return qV(this,e,!0)};lr.prototype.rawListeners=function(e){return qV(this,e,!1)};lr.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):zV.call(n,e)};lr.prototype.listenerCount=zV;function zV(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}lr.prototype.eventNames=function(){return this._eventsCount>0?kE(this._events):[]};function GV(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n[r];return t}function $ie(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function Hie(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function qie(n,e){return new Promise(function(t,r){function i(s){n.removeListener(e,o),r(s)}function o(){typeof n.removeListener=="function"&&n.removeListener("error",i),t([].slice.call(arguments))}WV(n,e,o,{once:!0}),e!=="error"&&zie(n,i,{once:!0})})}function zie(n,e,t){typeof n.on=="function"&&WV(n,"error",e,t)}function WV(n,e,t,r){if(typeof n.on=="function")r.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function i(o){r.once&&n.removeEventListener(e,i),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}});var qR=Le((Zy,HR)=>{"use strict";(function(e,t){if(typeof Zy=="object"&&typeof HR=="object")HR.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var i in r)(typeof Zy=="object"?Zy:e)[i]=r[i]}})(Zy,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,o){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var s in r)t.d(o,s,(function(a){return r[a]}).bind(null,s));return o},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=22)}([function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function a(l,c){for(var u=0;u<c.length;u++){var h=c[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,u){return c&&a(l.prototype,c),u&&a(l,u),l}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,s=void 0;(e.Log=function(){function a(){(function(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.reset=function(){s=3,o=i},a.debug=function(){if(s>=4){for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];o.debug.apply(o,Array.from(u))}},a.info=function(){if(s>=3){for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];o.info.apply(o,Array.from(u))}},a.warn=function(){if(s>=2){for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];o.warn.apply(o,Array.from(u))}},a.error=function(){if(s>=1){for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];o.error.apply(o,Array.from(u))}},r(a,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return s},set:function(c){if(!(0<=c&&c<=4))throw new Error("Invalid log level");s=c}},{key:"logger",get:function(){return o},set:function(c){if(!c.debug&&c.info&&(c.debug=c.info),!(c.debug&&c.info&&c.warn&&c.error))throw new Error("Invalid logger");o=c}}]),a}()).reset()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function a(l,c){for(var u=0;u<c.length;u++){var h=c[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,u){return c&&a(l.prototype,c),u&&a(l,u),l}}(),i={setInterval:function(a){function l(c,u){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l}(function(a,l){return setInterval(a,l)}),clearInterval:function(a){function l(c){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l}(function(a){return clearInterval(a)})},o=!1,s=null;e.Global=function(){function a(){(function(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")})(this,a)}return a._testing=function(){o=!0},a.setXMLHttpRequest=function(c){s=c},r(a,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!o&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&typeof window<"u")return s||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return i}}]),a}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataService=void 0;var r=function(){function l(c,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,u,h){return u&&l(c.prototype,u),h&&l(c,h),c}}(),i=t(0),o=t(7);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=".well-known/openid-configuration";e.MetadataService=function(){function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.JsonService;if(s(this,l),!c)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=c,this._jsonService=new u(["application/jwk-set+json"])}return l.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},l.prototype.getMetadata=function(){var u=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(h){i.Log.debug("MetadataService.getMetadata: json received");var m=u._settings.metadataSeed||{};return u._settings.metadata=Object.assign({},m,h),u._settings.metadata})):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},l.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},l.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},l.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},l.prototype.getTokenEndpoint=function(){var u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",u)},l.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},l.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},l.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},l.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},l.prototype._getMetadataProperty=function(u){var h=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+u),this.getMetadata().then(function(m){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),m[u]===void 0){if(h===!0)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+u);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+u),new Error("Metadata does not contain property "+u)}return m[u]})},l.prototype.getSigningKeys=function(){var u=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(h){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",h),u._jsonService.getJson(h).then(function(m){if(i.Log.debug("MetadataService.getSigningKeys: key set received",m),!m.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return u._settings.signingKeys=m.keys,u._settings.signingKeys})})},r(l,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(a)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=a))),this._metadataUrl}}]),l}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlUtility=void 0;var r=t(0),i=t(1);e.UrlUtility=function(){function o(){(function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.addQueryParam=function(a,l,c){return a.indexOf("?")<0&&(a+="?"),a[a.length-1]!=="?"&&(a+="&"),a+=encodeURIComponent(l),a+="=",a+=encodeURIComponent(c)},o.parseUrlFragment=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.Global;typeof a!="string"&&(a=c.location.href);var u=a.lastIndexOf(l);u>=0&&(a=a.substr(u+1)),l==="?"&&(u=a.indexOf("#"))>=0&&(a=a.substr(0,u));for(var h,m={},g=/([^&=]+)=([^&]*)/g,b=0;h=g.exec(a);)if(m[decodeURIComponent(h[1])]=decodeURIComponent(h[2].replace(/\+/g," ")),b++>50)return r.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",a),{error:"Response exceeded expected number of parameters"};for(var v in m)return m;return{}},o}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JoseUtil=void 0;var r=t(26),i=function(s){return s&&s.__esModule?s:{default:s}}(t(33));e.JoseUtil=(0,i.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OidcClientSettings=void 0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},i=function(){function v(E,C){for(var R=0;R<C.length;R++){var F=C[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}}return function(E,C,R){return C&&v(E.prototype,C),R&&v(E,R),E}}(),o=t(0),s=t(23),a=t(6),l=t(24),c=t(2);function u(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}var h=".well-known/openid-configuration",m="id_token",g="openid",b="client_secret_post";e.OidcClientSettings=function(){function v(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=E.authority,R=E.metadataUrl,F=E.metadata,M=E.signingKeys,D=E.metadataSeed,$=E.client_id,Q=E.client_secret,k=E.response_type,oe=k===void 0?m:k,Ce=E.scope,z=Ce===void 0?g:Ce,ae=E.redirect_uri,Te=E.post_logout_redirect_uri,Oe=E.client_authentication,_e=Oe===void 0?b:Oe,De=E.prompt,Be=E.display,pt=E.max_age,Tt=E.ui_locales,bt=E.acr_values,At=E.resource,sn=E.response_mode,Dn=E.filterProtocolClaims,Rn=Dn===void 0||Dn,mn=E.loadUserInfo,an=mn===void 0||mn,Nn=E.staleStateAge,qt=Nn===void 0?900:Nn,ie=E.clockSkew,A=ie===void 0?300:ie,T=E.clockService,X=T===void 0?new s.ClockService:T,re=E.userInfoJwtIssuer,pe=re===void 0?"OP":re,xe=E.mergeClaims,gt=xe!==void 0&&xe,Fe=E.stateStore,wt=Fe===void 0?new a.WebStorageStateStore:Fe,ln=E.ResponseValidatorCtor,Gn=ln===void 0?l.ResponseValidator:ln,Zi=E.MetadataServiceCtor,ss=Zi===void 0?c.MetadataService:Zi,Dt=E.extraQueryParams,Er=Dt===void 0?{}:Dt,gn=E.extraTokenParams,Mo=gn===void 0?{}:gn;u(this,v),this._authority=C,this._metadataUrl=R,this._metadata=F,this._metadataSeed=D,this._signingKeys=M,this._client_id=$,this._client_secret=Q,this._response_type=oe,this._scope=z,this._redirect_uri=ae,this._post_logout_redirect_uri=Te,this._client_authentication=_e,this._prompt=De,this._display=Be,this._max_age=pt,this._ui_locales=Tt,this._acr_values=bt,this._resource=At,this._response_mode=sn,this._filterProtocolClaims=!!Rn,this._loadUserInfo=!!an,this._staleStateAge=qt,this._clockSkew=A,this._clockService=X,this._userInfoJwtIssuer=pe,this._mergeClaims=!!gt,this._stateStore=wt,this._validator=new Gn(this),this._metadataService=new ss(this),this._extraQueryParams=(Er===void 0?"undefined":r(Er))==="object"?Er:{},this._extraTokenParams=(Mo===void 0?"undefined":r(Mo))==="object"?Mo:{}}return v.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(v,[{key:"client_id",get:function(){return this._client_id},set:function(C){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=C}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(C){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=C}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(h)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=h)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(C){this._metadata=C}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(C){this._metadataSeed=C}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(C){this._signingKeys=C}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(C){(C===void 0?"undefined":r(C))==="object"?this._extraQueryParams=C:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(C){(C===void 0?"undefined":r(C))==="object"?this._extraTokenParams=C:this._extraTokenParams={}}}]),v}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebStorageStateStore=void 0;var r=t(0),i=t(1);function o(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}e.WebStorageStateStore=function(){function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=a.prefix,c=l===void 0?"oidc.":l,u=a.store,h=u===void 0?i.Global.localStorage:u;o(this,s),this._store=h,this._prefix=c}return s.prototype.set=function(l,c){return r.Log.debug("WebStorageStateStore.set",l),l=this._prefix+l,this._store.setItem(l,c),Promise.resolve()},s.prototype.get=function(l){r.Log.debug("WebStorageStateStore.get",l),l=this._prefix+l;var c=this._store.getItem(l);return Promise.resolve(c)},s.prototype.remove=function(l){r.Log.debug("WebStorageStateStore.remove",l),l=this._prefix+l;var c=this._store.getItem(l);return this._store.removeItem(l),Promise.resolve(c)},s.prototype.getAllKeys=function(){r.Log.debug("WebStorageStateStore.getAllKeys");for(var l=[],c=0;c<this._store.length;c++){var u=this._store.key(c);u.indexOf(this._prefix)===0&&l.push(u.substr(this._prefix.length))}return Promise.resolve(l)},s}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonService=void 0;var r=t(0),i=t(1);function o(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}e.JsonService=function(){function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.Global.XMLHttpRequest,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;o(this,s),a&&Array.isArray(a)?this._contentTypes=a.slice():this._contentTypes=[],this._contentTypes.push("application/json"),c&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=l,this._jwtHandler=c}return s.prototype.getJson=function(l,c){var u=this;if(!l)throw r.Log.error("JsonService.getJson: No url passed"),new Error("url");return r.Log.debug("JsonService.getJson, url: ",l),new Promise(function(h,m){var g=new u._XMLHttpRequest;g.open("GET",l);var b=u._contentTypes,v=u._jwtHandler;g.onload=function(){if(r.Log.debug("JsonService.getJson: HTTP response received, status",g.status),g.status===200){var E=g.getResponseHeader("Content-Type");if(E){var C=b.find(function(R){if(E.startsWith(R))return!0});if(C=="application/jwt")return void v(g).then(h,m);if(C)try{return void h(JSON.parse(g.responseText))}catch(R){return r.Log.error("JsonService.getJson: Error parsing JSON response",R.message),void m(R)}}m(Error("Invalid response Content-Type: "+E+", from URL: "+l))}else m(Error(g.statusText+" ("+g.status+")"))},g.onerror=function(){r.Log.error("JsonService.getJson: network error"),m(Error("Network Error"))},c&&(r.Log.debug("JsonService.getJson: token passed, setting Authorization header"),g.setRequestHeader("Authorization","Bearer "+c)),g.send()})},s.prototype.postForm=function(l,c,u){var h=this;if(!l)throw r.Log.error("JsonService.postForm: No url passed"),new Error("url");return r.Log.debug("JsonService.postForm, url: ",l),new Promise(function(m,g){var b=new h._XMLHttpRequest;b.open("POST",l);var v=h._contentTypes;b.onload=function(){if(r.Log.debug("JsonService.postForm: HTTP response received, status",b.status),b.status!==200){if(b.status===400&&(M=b.getResponseHeader("Content-Type"))&&v.find(function(D){if(M.startsWith(D))return!0}))try{var F=JSON.parse(b.responseText);if(F&&F.error)return r.Log.error("JsonService.postForm: Error from server: ",F.error),void g(new Error(F.error))}catch(D){return r.Log.error("JsonService.postForm: Error parsing JSON response",D.message),void g(D)}g(Error(b.statusText+" ("+b.status+")"))}else{var M;if((M=b.getResponseHeader("Content-Type"))&&v.find(function(D){if(M.startsWith(D))return!0}))try{return void m(JSON.parse(b.responseText))}catch(D){return r.Log.error("JsonService.postForm: Error parsing JSON response",D.message),void g(D)}g(Error("Invalid response Content-Type: "+M+", from URL: "+l))}},b.onerror=function(){r.Log.error("JsonService.postForm: network error"),g(Error("Network Error"))};var E="";for(var C in c){var R=c[C];R&&(E.length>0&&(E+="&"),E+=encodeURIComponent(C),E+="=",E+=encodeURIComponent(R))}b.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u!==void 0&&b.setRequestHeader("Authorization","Basic "+btoa(u)),b.send(E)})},s}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SigninRequest=void 0;var r=t(0),i=t(3),o=t(13);e.SigninRequest=function(){function s(a){var l=a.url,c=a.client_id,u=a.redirect_uri,h=a.response_type,m=a.scope,g=a.authority,b=a.data,v=a.prompt,E=a.display,C=a.max_age,R=a.ui_locales,F=a.id_token_hint,M=a.login_hint,D=a.acr_values,$=a.resource,Q=a.response_mode,k=a.request,oe=a.request_uri,Ce=a.extraQueryParams,z=a.request_type,ae=a.client_secret,Te=a.extraTokenParams,Oe=a.skipUserInfo;if(function(At,sn){if(!(At instanceof sn))throw new TypeError("Cannot call a class as a function")}(this,s),!l)throw r.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!c)throw r.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!u)throw r.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!h)throw r.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!m)throw r.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!g)throw r.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var _e=s.isOidc(h),De=s.isCode(h);Q||(Q=s.isCode(h)?"query":null),this.state=new o.SigninState({nonce:_e,data:b,client_id:c,authority:g,redirect_uri:u,code_verifier:De,request_type:z,response_mode:Q,client_secret:ae,scope:m,extraTokenParams:Te,skipUserInfo:Oe}),l=i.UrlUtility.addQueryParam(l,"client_id",c),l=i.UrlUtility.addQueryParam(l,"redirect_uri",u),l=i.UrlUtility.addQueryParam(l,"response_type",h),l=i.UrlUtility.addQueryParam(l,"scope",m),l=i.UrlUtility.addQueryParam(l,"state",this.state.id),_e&&(l=i.UrlUtility.addQueryParam(l,"nonce",this.state.nonce)),De&&(l=i.UrlUtility.addQueryParam(l,"code_challenge",this.state.code_challenge),l=i.UrlUtility.addQueryParam(l,"code_challenge_method","S256"));var Be={prompt:v,display:E,max_age:C,ui_locales:R,id_token_hint:F,login_hint:M,acr_values:D,resource:$,request:k,request_uri:oe,response_mode:Q};for(var pt in Be)Be[pt]&&(l=i.UrlUtility.addQueryParam(l,pt,Be[pt]));for(var Tt in Ce)l=i.UrlUtility.addQueryParam(l,Tt,Ce[Tt]);this.url=l}return s.isOidc=function(l){return!!l.split(/\s+/g).filter(function(c){return c==="id_token"})[0]},s.isOAuth=function(l){return!!l.split(/\s+/g).filter(function(c){return c==="token"})[0]},s.isCode=function(l){return!!l.split(/\s+/g).filter(function(c){return c==="code"})[0]},s}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.State=void 0;var r=function(){function a(l,c){for(var u=0;u<c.length;u++){var h=c[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,u){return c&&a(l.prototype,c),u&&a(l,u),l}}(),i=t(0),o=function(l){return l&&l.__esModule?l:{default:l}}(t(14));function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}e.State=function(){function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=l.id,u=l.data,h=l.created,m=l.request_type;s(this,a),this._id=c||(0,o.default)(),this._data=u,this._created=typeof h=="number"&&h>0?h:parseInt(Date.now()/1e3),this._request_type=m}return a.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},a.fromStorageString=function(c){return i.Log.debug("State.fromStorageString"),new a(JSON.parse(c))},a.clearStaleState=function(c,u){var h=Date.now()/1e3-u;return c.getAllKeys().then(function(m){i.Log.debug("State.clearStaleState: got keys",m);for(var g=[],b=function(R){var F=m[R];E=c.get(F).then(function(M){var D=!1;if(M)try{var $=a.fromStorageString(M);i.Log.debug("State.clearStaleState: got item from key: ",F,$.created),$.created<=h&&(D=!0)}catch(Q){i.Log.error("State.clearStaleState: Error parsing state for key",F,Q.message),D=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",F),D=!0;if(D)return i.Log.debug("State.clearStaleState: removed item for key: ",F),c.remove(F)}),g.push(E)},v=0;v<m.length;v++){var E;b(v)}return i.Log.debug("State.clearStaleState: waiting on promise count:",g.length),Promise.all(g)})},r(a,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),a}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OidcClient=void 0;var r=function(){function b(v,E){for(var C=0;C<E.length;C++){var R=E[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(v,R.key,R)}}return function(v,E,C){return E&&b(v.prototype,E),C&&b(v,C),v}}(),i=t(0),o=t(5),s=t(12),a=t(8),l=t(34),c=t(35),u=t(36),h=t(13),m=t(9);function g(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}e.OidcClient=function(){function b(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};g(this,b),v instanceof o.OidcClientSettings?this._settings=v:this._settings=new o.OidcClientSettings(v)}return b.prototype.createSigninRequest=function(){var E=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=C.response_type,F=C.scope,M=C.redirect_uri,D=C.data,$=C.state,Q=C.prompt,k=C.display,oe=C.max_age,Ce=C.ui_locales,z=C.id_token_hint,ae=C.login_hint,Te=C.acr_values,Oe=C.resource,_e=C.request,De=C.request_uri,Be=C.response_mode,pt=C.extraQueryParams,Tt=C.extraTokenParams,bt=C.request_type,At=C.skipUserInfo,sn=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var Dn=this._settings.client_id;R=R||this._settings.response_type,F=F||this._settings.scope,M=M||this._settings.redirect_uri,Q=Q||this._settings.prompt,k=k||this._settings.display,oe=oe||this._settings.max_age,Ce=Ce||this._settings.ui_locales,Te=Te||this._settings.acr_values,Oe=Oe||this._settings.resource,Be=Be||this._settings.response_mode,pt=pt||this._settings.extraQueryParams,Tt=Tt||this._settings.extraTokenParams;var Rn=this._settings.authority;return a.SigninRequest.isCode(R)&&R!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(mn){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",mn);var an=new a.SigninRequest({url:mn,client_id:Dn,redirect_uri:M,response_type:R,scope:F,data:D||$,authority:Rn,prompt:Q,display:k,max_age:oe,ui_locales:Ce,id_token_hint:z,login_hint:ae,acr_values:Te,resource:Oe,request:_e,request_uri:De,extraQueryParams:pt,extraTokenParams:Tt,request_type:bt,response_mode:Be,client_secret:E._settings.client_secret,skipUserInfo:At}),Nn=an.state;return(sn=sn||E._stateStore).set(Nn.id,Nn.toStorageString()).then(function(){return an})})},b.prototype.readSigninResponseState=function(E,C){var R=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var F=this._settings.response_mode==="query"||!this._settings.response_mode&&a.SigninRequest.isCode(this._settings.response_type),M=F?"?":"#",D=new l.SigninResponse(E,M);if(!D.state)return i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));C=C||this._stateStore;var $=R?C.remove.bind(C):C.get.bind(C);return $(D.state).then(function(Q){if(!Q)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:h.SigninState.fromStorageString(Q),response:D}})},b.prototype.processSigninResponse=function(E,C){var R=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(E,C,!0).then(function(F){var M=F.state,D=F.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),R._validator.validateSigninResponse(M,D)})},b.prototype.createSignoutRequest=function(){var E=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=C.id_token_hint,F=C.data,M=C.state,D=C.post_logout_redirect_uri,$=C.extraQueryParams,Q=C.request_type,k=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),D=D||this._settings.post_logout_redirect_uri,$=$||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(oe){if(!oe)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",oe);var Ce=new c.SignoutRequest({url:oe,id_token_hint:R,post_logout_redirect_uri:D,data:F||M,extraQueryParams:$,request_type:Q}),z=Ce.state;return z&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(k=k||E._stateStore).set(z.id,z.toStorageString())),Ce})},b.prototype.readSignoutResponseState=function(E,C){var R=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var F=new u.SignoutResponse(E);if(!F.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),F.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",F.error),Promise.reject(new s.ErrorResponse(F))):Promise.resolve({state:void 0,response:F});var M=F.state;C=C||this._stateStore;var D=R?C.remove.bind(C):C.get.bind(C);return D(M).then(function($){if(!$)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:m.State.fromStorageString($),response:F}})},b.prototype.processSignoutResponse=function(E,C){var R=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(E,C,!0).then(function(F){var M=F.state,D=F.response;return M?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),R._validator.validateSignoutResponse(M,D)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),D)})},b.prototype.clearStaleState=function(E){return i.Log.debug("OidcClient.clearStaleState"),E=E||this._stateStore,m.State.clearStaleState(E,this.settings.staleStateAge)},r(b,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),b}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenClient=void 0;var r=t(7),i=t(2),o=t(0);function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}e.TokenClient=function(){function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.JsonService,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.MetadataService;if(s(this,a),!l)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=l,this._jsonService=new c,this._metadataService=new u(this._settings)}return a.prototype.exchangeCode=function(){var c=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(u=Object.assign({},u)).grant_type=u.grant_type||"authorization_code",u.client_id=u.client_id||this._settings.client_id,u.client_secret=u.client_secret||this._settings.client_secret,u.redirect_uri=u.redirect_uri||this._settings.redirect_uri;var h=void 0,m=u._client_authentication||this._settings._client_authentication;return delete u._client_authentication,u.code?u.redirect_uri?u.code_verifier?u.client_id?u.client_secret||m!="client_secret_basic"?(m=="client_secret_basic"&&(h=u.client_id+":"+u.client_secret,delete u.client_id,delete u.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(g){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),c._jsonService.postForm(g,u,h).then(function(b){return o.Log.debug("TokenClient.exchangeCode: response received"),b})})):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},a.prototype.exchangeRefreshToken=function(){var c=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(u=Object.assign({},u)).grant_type=u.grant_type||"refresh_token",u.client_id=u.client_id||this._settings.client_id,u.client_secret=u.client_secret||this._settings.client_secret;var h=void 0,m=u._client_authentication||this._settings._client_authentication;return delete u._client_authentication,u.refresh_token?u.client_id?(m=="client_secret_basic"&&(h=u.client_id+":"+u.client_secret,delete u.client_id,delete u.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(g){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),c._jsonService.postForm(g,u,h).then(function(b){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),b})})):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},a}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorResponse=void 0;var r=t(0);function i(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function o(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?s:a}e.ErrorResponse=function(s){function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=l.error,u=l.error_description,h=l.error_uri,m=l.state,g=l.session_state;if(i(this,a),!c)throw r.Log.error("No error passed to ErrorResponse"),new Error("error");var b=o(this,s.call(this,u||c));return b.name="ErrorResponse",b.error=c,b.error_description=u,b.error_uri=h,b.state=m,b.session_state=g,b}return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}(a,s),a}(Error)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SigninState=void 0;var r=function(){function u(h,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}return function(h,m,g){return m&&u(h.prototype,m),g&&u(h,g),h}}(),i=t(0),o=t(9),s=t(4),a=function(h){return h&&h.__esModule?h:{default:h}}(t(14));function l(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}function c(u,h){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?u:h}e.SigninState=function(u){function h(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=m.nonce,b=m.authority,v=m.client_id,E=m.redirect_uri,C=m.code_verifier,R=m.response_mode,F=m.client_secret,M=m.scope,D=m.extraTokenParams,$=m.skipUserInfo;l(this,h);var Q=c(this,u.call(this,arguments[0]));if(g===!0?Q._nonce=(0,a.default)():g&&(Q._nonce=g),C===!0?Q._code_verifier=(0,a.default)()+(0,a.default)()+(0,a.default)():C&&(Q._code_verifier=C),Q.code_verifier){var k=s.JoseUtil.hashString(Q.code_verifier,"SHA256");Q._code_challenge=s.JoseUtil.hexToBase64Url(k)}return Q._redirect_uri=E,Q._authority=b,Q._client_id=v,Q._response_mode=R,Q._client_secret=F,Q._scope=M,Q._extraTokenParams=D,Q._skipUserInfo=$,Q}return function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}(h,u),h.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},h.fromStorageString=function(g){return i.Log.debug("SigninState.fromStorageString"),new h(JSON.parse(g))},r(h,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),h}(o.State)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(r!="undefined"&&r!==null&&r.getRandomValues!==void 0?i:o)().replace(/-/g,"")};var r=typeof window<"u"?window.crypto||window.msCrypto:null;function i(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(s){return(s^r.getRandomValues(new Uint8Array(1))[0]&15>>s/4).toString(16)})}function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(s){return(s^16*Math.random()>>s/4).toString(16)})}n.exports=e.default},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.User=void 0;var r=function(){function o(s,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,a,l){return a&&o(s.prototype,a),l&&o(s,l),s}}(),i=t(0);e.User=function(){function o(s){var a=s.id_token,l=s.session_state,c=s.access_token,u=s.refresh_token,h=s.token_type,m=s.scope,g=s.profile,b=s.expires_at,v=s.state;(function(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")})(this,o),this.id_token=a,this.session_state=l,this.access_token=c,this.refresh_token=u,this.token_type=h,this.scope=m,this.profile=g,this.expires_at=b,this.state=v}return o.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},o.fromStorageString=function(a){return i.Log.debug("User.fromStorageString"),new o(JSON.parse(a))},r(o,[{key:"expires_in",get:function(){if(this.expires_at){var a=parseInt(Date.now()/1e3);return this.expires_at-a}},set:function(a){var l=parseInt(a);if(typeof l=="number"&&l>0){var c=parseInt(Date.now()/1e3);this.expires_at=c+l}}},{key:"expired",get:function(){var a=this.expires_in;if(a!==void 0)return a<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),o}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessTokenEvents=void 0;var r=t(0),i=t(46);function o(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}e.AccessTokenEvents=function(){function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=a.accessTokenExpiringNotificationTime,c=l===void 0?60:l,u=a.accessTokenExpiringTimer,h=u===void 0?new i.Timer("Access token expiring"):u,m=a.accessTokenExpiredTimer,g=m===void 0?new i.Timer("Access token expired"):m;o(this,s),this._accessTokenExpiringNotificationTime=c,this._accessTokenExpiring=h,this._accessTokenExpired=g}return s.prototype.load=function(l){if(l.access_token&&l.expires_in!==void 0){var c=l.expires_in;if(r.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",c),c>0){var u=c-this._accessTokenExpiringNotificationTime;u<=0&&(u=1),r.Log.debug("AccessTokenEvents.load: registering expiring timer in:",u),this._accessTokenExpiring.init(u)}else r.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var h=c+1;r.Log.debug("AccessTokenEvents.load: registering expired timer in:",h),this._accessTokenExpired.init(h)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},s.prototype.unload=function(){r.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},s.prototype.addAccessTokenExpiring=function(l){this._accessTokenExpiring.addHandler(l)},s.prototype.removeAccessTokenExpiring=function(l){this._accessTokenExpiring.removeHandler(l)},s.prototype.addAccessTokenExpired=function(l){this._accessTokenExpired.addHandler(l)},s.prototype.removeAccessTokenExpired=function(l){this._accessTokenExpired.removeHandler(l)},s}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0;var r=t(0);e.Event=function(){function i(o){(function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i),this._name=o,this._callbacks=[]}return i.prototype.addHandler=function(s){this._callbacks.push(s)},i.prototype.removeHandler=function(s){var a=this._callbacks.findIndex(function(l){return l===s});a>=0&&this._callbacks.splice(a,1)},i.prototype.raise=function(){r.Log.debug("Event: Raising event: "+this._name);for(var s=0;s<this._callbacks.length;s++){var a;(a=this._callbacks)[s].apply(a,arguments)}},i}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SessionMonitor=void 0;var r=function(){function l(c,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,u,h){return u&&l(c.prototype,u),h&&l(c,h),c}}(),i=t(0),o=t(19),s=t(1);function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}e.SessionMonitor=function(){function l(c){var u=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.CheckSessionIFrame,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.Global.timer;if(a(this,l),!c)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=c,this._CheckSessionIFrameCtor=h,this._timer=m,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(g){g?u._start(g):u._settings.monitorAnonymousSession&&u._userManager.querySessionStatus().then(function(b){var v={session_state:b.session_state};b.sub&&b.sid&&(v.profile={sub:b.sub,sid:b.sid}),u._start(v)}).catch(function(b){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",b.message)})}).catch(function(g){i.Log.error("SessionMonitor ctor: error from getUser:",g.message)}))}return l.prototype._start=function(u){var h=this,m=u.session_state;m&&(u.profile?(this._sub=u.profile.sub,this._sid=u.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",m,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",m,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(m):this._metadataService.getCheckSessionIframe().then(function(g){if(g){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var b=h._client_id,v=h._checkSessionInterval,E=h._stopCheckSessionOnError;h._checkSessionIFrame=new h._CheckSessionIFrameCtor(h._callback.bind(h),b,g,v,E),h._checkSessionIFrame.load().then(function(){h._checkSessionIFrame.start(m)})}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(g){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",g.message)}))},l.prototype._stop=function(){var u=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var h=this._timer.setInterval(function(){u._timer.clearInterval(h),u._userManager.querySessionStatus().then(function(m){var g={session_state:m.session_state};m.sub&&m.sid&&(g.profile={sub:m.sub,sid:m.sid}),u._start(g)}).catch(function(m){i.Log.error("SessionMonitor: error from querySessionStatus:",m.message)})},1e3)},l.prototype._callback=function(){var u=this;this._userManager.querySessionStatus().then(function(h){var m=!0;h?h.sub===u._sub?(m=!1,u._checkSessionIFrame.start(h.session_state),h.sid===u._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",h.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",h.session_state),u._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",h.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),m&&(u._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),u._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),u._userManager.events._raiseUserSignedIn()))}).catch(function(h){u._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",h.message),u._userManager.events._raiseUserSignedOut())})},r(l,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),l}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CheckSessionIFrame=void 0;var r=t(0);function i(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}e.CheckSessionIFrame=function(){function o(s,a,l,c){var u=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];i(this,o),this._callback=s,this._client_id=a,this._url=l,this._interval=c||2e3,this._stopOnError=u;var h=l.indexOf("/",l.indexOf("//")+2);this._frame_origin=l.substr(0,h),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=l}return o.prototype.load=function(){var a=this;return new Promise(function(l){a._frame.onload=function(){l()},window.document.body.appendChild(a._frame),a._boundMessageEvent=a._message.bind(a),window.addEventListener("message",a._boundMessageEvent,!1)})},o.prototype._message=function(a){a.origin===this._frame_origin&&a.source===this._frame.contentWindow&&(a.data==="error"?(r.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):a.data==="changed"?(r.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):r.Log.debug("CheckSessionIFrame: "+a.data+" message from check session op iframe"))},o.prototype.start=function(a){var l=this;if(this._session_state!==a){r.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=a;var c=function(){l._frame.contentWindow.postMessage(l._client_id+" "+l._session_state,l._frame_origin)};c(),this._timer=window.setInterval(c,this._interval)}},o.prototype.stop=function(){this._session_state=null,this._timer&&(r.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},o}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenRevocationClient=void 0;var r=t(0),i=t(2),o=t(1);function s(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var a="access_token",l="refresh_token";e.TokenRevocationClient=function(){function c(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.MetadataService;if(s(this,c),!u)throw r.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=u,this._XMLHttpRequestCtor=h,this._metadataService=new m(this._settings)}return c.prototype.revoke=function(h,m){var g=this,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!h)throw r.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(b!==a&&b!=l)throw r.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(v){if(v){r.Log.debug("TokenRevocationClient.revoke: Revoking "+b);var E=g._settings.client_id,C=g._settings.client_secret;return g._revoke(v,E,C,h,b)}if(m)throw r.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},c.prototype._revoke=function(h,m,g,b,v){var E=this;return new Promise(function(C,R){var F=new E._XMLHttpRequestCtor;F.open("POST",h),F.onload=function(){r.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",F.status),F.status===200?C():R(Error(F.statusText+" ("+F.status+")"))},F.onerror=function(){r.Log.debug("TokenRevocationClient.revoke: Network Error."),R("Network Error")};var M="client_id="+encodeURIComponent(m);g&&(M+="&client_secret="+encodeURIComponent(g)),M+="&token_type_hint="+encodeURIComponent(v),M+="&token="+encodeURIComponent(b),F.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),F.send(M)})},c}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaPopupWindow=void 0;var r=function(){function o(s,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,a,l){return a&&o(s.prototype,a),l&&o(s,l),s}}(),i=t(0);e.CordovaPopupWindow=function(){function o(s){var a=this;(function(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")})(this,o),this._promise=new Promise(function(l,c){a._resolve=l,a._reject=c}),this.features=s.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=s.popupWindowTarget||"_blank",this.redirect_uri=s.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return o.prototype._isInAppBrowserInstalled=function(a){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(l){return a.hasOwnProperty(l)})},o.prototype.navigate=function(a){if(a&&a.url){if(!window.cordova)return this._error("cordova is undefined");var l=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(l)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(a.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},o.prototype._loadStartCallback=function(a){a.url.indexOf(this.redirect_uri)===0&&this._success({url:a.url})},o.prototype._exitCallback=function(a){this._error(a)},o.prototype._success=function(a){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(a)},o.prototype._error=function(a){this._cleanup(),i.Log.error(a),this._reject(new Error(a))},o.prototype.close=function(){this._cleanup()},o.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},r(o,[{key:"promise",get:function(){return this._promise}}]),o}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(0),i=t(10),o=t(5),s=t(6),a=t(37),l=t(38),c=t(16),u=t(2),h=t(48),m=t(49),g=t(19),b=t(20),v=t(18),E=t(1),C=t(15),R=t(50);e.default={Version:R.Version,Log:r.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:s.WebStorageStateStore,InMemoryWebStorage:a.InMemoryWebStorage,UserManager:l.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:u.MetadataService,CordovaPopupNavigator:h.CordovaPopupNavigator,CordovaIFrameNavigator:m.CordovaIFrameNavigator,CheckSessionIFrame:g.CheckSessionIFrame,TokenRevocationClient:b.TokenRevocationClient,SessionMonitor:v.SessionMonitor,Global:E.Global,User:C.User},n.exports=e.default},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClockService=function(){function r(){(function(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")})(this,r)}return r.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},r}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResponseValidator=void 0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},i=t(0),o=t(2),s=t(25),a=t(11),l=t(12),c=t(4);function u(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}var h=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];e.ResponseValidator=function(){function m(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.MetadataService,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.UserInfoService,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c.JoseUtil,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:a.TokenClient;if(u(this,m),!g)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=g,this._metadataService=new b(this._settings),this._userInfoService=new v(this._settings),this._joseUtil=E,this._tokenClient=new C(this._settings)}return m.prototype.validateSigninResponse=function(b,v){var E=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(b,v).then(function(C){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),E._validateTokens(b,C).then(function(R){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),E._processClaims(b,R).then(function(F){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),F})})})},m.prototype.validateSignoutResponse=function(b,v){return b.id!==v.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),v.state=b.data,v.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",v.error),Promise.reject(new l.ErrorResponse(v))):Promise.resolve(v))},m.prototype._processSigninParams=function(b,v){if(b.id!==v.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!b.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!b.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==b.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=b.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==b.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=b.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),v.state=b.data,v.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",v.error),Promise.reject(new l.ErrorResponse(v))):b.nonce&&!v.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!b.nonce&&v.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):b.code_verifier&&!v.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!b.code_verifier&&v.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(v.scope||(v.scope=b.scope),Promise.resolve(v))},m.prototype._processClaims=function(b,v){var E=this;if(v.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),v.profile=this._filterProtocolClaims(v.profile),b.skipUserInfo!==!0&&this._settings.loadUserInfo&&v.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(v.access_token).then(function(C){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),C.sub!==v.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(v.profile=E._mergeClaims(v.profile,C),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",v.profile),v)});i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(v)},m.prototype._mergeClaims=function(b,v){var E=Object.assign({},b);for(var C in v){var R=v[C];Array.isArray(R)||(R=[R]);for(var F=0;F<R.length;F++){var M=R[F];E[C]?Array.isArray(E[C])?E[C].indexOf(M)<0&&E[C].push(M):E[C]!==M&&((M===void 0?"undefined":r(M))==="object"&&this._settings.mergeClaims?E[C]=this._mergeClaims(E[C],M):E[C]=[E[C],M]):E[C]=M}}return E},m.prototype._filterProtocolClaims=function(b){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",b);var v=Object.assign({},b);return this._settings._filterProtocolClaims?(h.forEach(function(E){delete v[E]}),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",v)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),v},m.prototype._validateTokens=function(b,v){return v.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(b,v)):v.id_token?v.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(b,v)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(b,v)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(v))},m.prototype._processCode=function(b,v){var E=this,C={client_id:b.client_id,client_secret:b.client_secret,code:v.code,redirect_uri:b.redirect_uri,code_verifier:b.code_verifier};return b.extraTokenParams&&r(b.extraTokenParams)==="object"&&Object.assign(C,b.extraTokenParams),this._tokenClient.exchangeCode(C).then(function(R){for(var F in R)v[F]=R[F];return v.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),E._validateIdTokenAttributes(b,v)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),v)})},m.prototype._validateIdTokenAttributes=function(b,v){var E=this;return this._metadataService.getIssuer().then(function(C){var R=b.client_id,F=E._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",F),E._settings.getEpochTime().then(function(M){return E._joseUtil.validateJwtAttributes(v.id_token,C,R,F,M).then(function(D){return b.nonce&&b.nonce!==D.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):D.sub?(v.profile=D,v):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},m.prototype._validateIdTokenAndAccessToken=function(b,v){var E=this;return this._validateIdToken(b,v).then(function(C){return E._validateAccessToken(C)})},m.prototype._getSigningKeyForJwt=function(b){var v=this;return this._metadataService.getSigningKeys().then(function(E){var C=b.header.kid;if(!E)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var R=void 0;if(C)R=E.filter(function(F){return F.kid===C})[0];else{if((E=v._filterByAlg(E,b.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));R=E[0]}return Promise.resolve(R)})},m.prototype._getSigningKeyForJwtWithSingleRetry=function(b){var v=this;return this._getSigningKeyForJwt(b).then(function(E){return E?Promise.resolve(E):(v._metadataService.resetSigningKeys(),v._getSigningKeyForJwt(b))})},m.prototype._validateIdToken=function(b,v){var E=this;if(!b.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var C=this._joseUtil.parseJwt(v.id_token);return C&&C.header&&C.payload?b.nonce!==C.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(R){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),E._getSigningKeyForJwtWithSingleRetry(C).then(function(F){if(!F)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var M=b.client_id,D=E._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",D),E._joseUtil.validateJwt(v.id_token,F,R,M,D).then(function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),C.payload.sub?(v.profile=C.payload,v):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",C),Promise.reject(new Error("Failed to parse id_token")))},m.prototype._filterByAlg=function(b,v){var E=null;if(v.startsWith("RS"))E="RSA";else if(v.startsWith("PS"))E="PS";else{if(!v.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",v),[];E="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",E),b=b.filter(function(C){return C.kty===E}),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",E,b.length),b},m.prototype._validateAccessToken=function(b){if(!b.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!b.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!b.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var v=this._joseUtil.parseJwt(b.id_token);if(!v||!v.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",v),Promise.reject(new Error("Failed to parse id_token"));var E=v.header.alg;if(!E||E.length!==5)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E),Promise.reject(new Error("Unsupported alg: "+E));var C=E.substr(2,3);if(!C)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,C),Promise.reject(new Error("Unsupported alg: "+E));if((C=parseInt(C))!==256&&C!==384&&C!==512)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,C),Promise.reject(new Error("Unsupported alg: "+E));var R="sha"+C,F=this._joseUtil.hashString(b.access_token,R);if(!F)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",R),Promise.reject(new Error("Failed to validate at_hash"));var M=F.substr(0,F.length/2),D=this._joseUtil.hexToBase64Url(M);return D!==b.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",D,b.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(b))},m}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserInfoService=void 0;var r=t(7),i=t(2),o=t(0),s=t(4);function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}e.UserInfoService=function(){function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.JsonService,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.MetadataService,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s.JoseUtil;if(a(this,l),!c)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=c,this._jsonService=new u(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new h(this._settings),this._joseUtil=m}return l.prototype.getClaims=function(u){var h=this;return u?this._metadataService.getUserInfoEndpoint().then(function(m){return o.Log.debug("UserInfoService.getClaims: received userinfo url",m),h._jsonService.getJson(m,u).then(function(g){return o.Log.debug("UserInfoService.getClaims: claims received",g),g})}):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},l.prototype._getClaimsFromJwt=function(u){var h=this;try{var m=this._joseUtil.parseJwt(u.responseText);if(!m||!m.header||!m.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",m),Promise.reject(new Error("Failed to parse id_token"));var g=m.header.kid,b=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":b=this._metadataService.getIssuer();break;case"ANY":b=Promise.resolve(m.payload.iss);break;default:b=Promise.resolve(this._settings.userInfoJwtIssuer)}return b.then(function(v){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+v),h._metadataService.getSigningKeys().then(function(E){if(!E)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var C=void 0;if(g)C=E.filter(function(M){return M.kid===g})[0];else{if((E=h._filterByAlg(E,m.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));C=E[0]}if(!C)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var R=h._settings.client_id,F=h._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",F),h._joseUtil.validateJwt(u.responseText,C,v,R,F,void 0,!0).then(function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),m.payload})})})}catch(v){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",v.message),void reject(v)}},l.prototype._filterByAlg=function(u,h){var m=null;if(h.startsWith("RS"))m="RSA";else if(h.startsWith("PS"))m="PS";else{if(!h.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",h),[];m="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",m),u=u.filter(function(g){return g.kty===m}),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",m,u.length),u},l}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AllowedSigningAlgs=e.b64tohex=e.hextob64u=e.crypto=e.X509=e.KeyUtil=e.jws=void 0;var r=t(27);e.jws=r.jws,e.KeyUtil=r.KEYUTIL,e.X509=r.X509,e.crypto=r.crypto,e.hextob64u=r.hextob64u,e.b64tohex=r.b64tohex,e.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,e,t){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0});var i,o,s,a,l,c,u,h,m,g,b,v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},E={userAgent:!1},C={},R=R||(i=Math,s=(o={}).lib={},a=s.Base=function(){function f(){}return{extend:function(p){f.prototype=this;var y=new f;return p&&y.mixIn(p),y.hasOwnProperty("init")||(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var p=this.extend();return p.init.apply(p,arguments),p},init:function(){},mixIn:function(p){for(var y in p)p.hasOwnProperty(y)&&(this[y]=p[y]);p.hasOwnProperty("toString")&&(this.toString=p.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=s.WordArray=a.extend({init:function(d,p){d=this.words=d||[],this.sigBytes=p??4*d.length},toString:function(d){return(d||u).stringify(this)},concat:function(d){var p=this.words,y=d.words,S=this.sigBytes,I=d.sigBytes;if(this.clamp(),S%4)for(var P=0;P<I;P++){var H=y[P>>>2]>>>24-P%4*8&255;p[S+P>>>2]|=H<<24-(S+P)%4*8}else for(P=0;P<I;P+=4)p[S+P>>>2]=y[P>>>2];return this.sigBytes+=I,this},clamp:function(){var d=this.words,p=this.sigBytes;d[p>>>2]&=4294967295<<32-p%4*8,d.length=i.ceil(p/4)},clone:function(){var d=a.clone.call(this);return d.words=this.words.slice(0),d},random:function(d){for(var p=[],y=0;y<d;y+=4)p.push(4294967296*i.random()|0);return new l.init(p,d)}}),c=o.enc={},u=c.Hex={stringify:function(d){for(var p=d.words,y=d.sigBytes,S=[],I=0;I<y;I++){var P=p[I>>>2]>>>24-I%4*8&255;S.push((P>>>4).toString(16)),S.push((15&P).toString(16))}return S.join("")},parse:function(d){for(var p=d.length,y=[],S=0;S<p;S+=2)y[S>>>3]|=parseInt(d.substr(S,2),16)<<24-S%8*4;return new l.init(y,p/2)}},h=c.Latin1={stringify:function(d){for(var p=d.words,y=d.sigBytes,S=[],I=0;I<y;I++){var P=p[I>>>2]>>>24-I%4*8&255;S.push(String.fromCharCode(P))}return S.join("")},parse:function(d){for(var p=d.length,y=[],S=0;S<p;S++)y[S>>>2]|=(255&d.charCodeAt(S))<<24-S%4*8;return new l.init(y,p)}},m=c.Utf8={stringify:function(d){try{return decodeURIComponent(escape(h.stringify(d)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(d){return h.parse(unescape(encodeURIComponent(d)))}},g=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(d){typeof d=="string"&&(d=m.parse(d)),this._data.concat(d),this._nDataBytes+=d.sigBytes},_process:function(d){var p=this._data,y=p.words,S=p.sigBytes,I=this.blockSize,P=S/(4*I),H=(P=d?i.ceil(P):i.max((0|P)-this._minBufferSize,0))*I,V=i.min(4*H,S);if(H){for(var q=0;q<H;q+=I)this._doProcessBlock(y,q);var K=y.splice(0,H);p.sigBytes-=V}return new l.init(K,V)},clone:function(){var d=a.clone.call(this);return d._data=this._data.clone(),d},_minBufferSize:0}),s.Hasher=g.extend({cfg:a.extend(),init:function(d){this.cfg=this.cfg.extend(d),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(d){return this._append(d),this._process(),this},finalize:function(d){return d&&this._append(d),this._doFinalize()},blockSize:16,_createHelper:function(d){return function(p,y){return new d.init(y).finalize(p)}},_createHmacHelper:function(d){return function(p,y){return new b.HMAC.init(d,y).finalize(p)}}}),b=o.algo={},o);(function(f){var d,p=(d=R).lib,y=p.Base,S=p.WordArray;(d=d.x64={}).Word=y.extend({init:function(P,H){this.high=P,this.low=H}}),d.WordArray=y.extend({init:function(P,H){P=this.words=P||[],this.sigBytes=H??8*P.length},toX32:function(){for(var P=this.words,H=P.length,V=[],q=0;q<H;q++){var K=P[q];V.push(K.high),V.push(K.low)}return S.create(V,this.sigBytes)},clone:function(){for(var P=y.clone.call(this),H=P.words=this.words.slice(0),V=H.length,q=0;q<V;q++)H[q]=H[q].clone();return P}})})(),function(){var f=R,d=f.lib.WordArray;f.enc.Base64={stringify:function(y){var S=y.words,I=y.sigBytes,P=this._map;y.clamp(),y=[];for(var H=0;H<I;H+=3)for(var V=(S[H>>>2]>>>24-H%4*8&255)<<16|(S[H+1>>>2]>>>24-(H+1)%4*8&255)<<8|S[H+2>>>2]>>>24-(H+2)%4*8&255,q=0;4>q&&H+.75*q<I;q++)y.push(P.charAt(V>>>6*(3-q)&63));if(S=P.charAt(64))for(;y.length%4;)y.push(S);return y.join("")},parse:function(y){var S=y.length,I=this._map;(P=I.charAt(64))&&(P=y.indexOf(P))!=-1&&(S=P);for(var P=[],H=0,V=0;V<S;V++)if(V%4){var q=I.indexOf(y.charAt(V-1))<<V%4*2,K=I.indexOf(y.charAt(V))>>>6-V%4*2;P[H>>>2]|=(q|K)<<24-H%4*8,H++}return d.create(P,H)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(f){for(var d=R,p=(S=d.lib).WordArray,y=S.Hasher,S=d.algo,I=[],P=[],H=function(ve){return 4294967296*(ve-(0|ve))|0},V=2,q=0;64>q;){var K;e:{K=V;for(var Y=f.sqrt(K),te=2;te<=Y;te++)if(!(K%te)){K=!1;break e}K=!0}K&&(8>q&&(I[q]=H(f.pow(V,.5))),P[q]=H(f.pow(V,1/3)),q++),V++}var se=[];S=S.SHA256=y.extend({_doReset:function(){this._hash=new p.init(I.slice(0))},_doProcessBlock:function(ve,Ee){for(var O=this._hash.words,J=O[0],Z=O[1],ee=O[2],me=O[3],we=O[4],rt=O[5],Ve=O[6],cn=O[7],lt=0;64>lt;lt++){if(16>lt)se[lt]=0|ve[Ee+lt];else{var It=se[lt-15],Jn=se[lt-2];se[lt]=((It<<25|It>>>7)^(It<<14|It>>>18)^It>>>3)+se[lt-7]+((Jn<<15|Jn>>>17)^(Jn<<13|Jn>>>19)^Jn>>>10)+se[lt-16]}It=cn+((we<<26|we>>>6)^(we<<21|we>>>11)^(we<<7|we>>>25))+(we&rt^~we&Ve)+P[lt]+se[lt],Jn=((J<<30|J>>>2)^(J<<19|J>>>13)^(J<<10|J>>>22))+(J&Z^J&ee^Z&ee),cn=Ve,Ve=rt,rt=we,we=me+It|0,me=ee,ee=Z,Z=J,J=It+Jn|0}O[0]=O[0]+J|0,O[1]=O[1]+Z|0,O[2]=O[2]+ee|0,O[3]=O[3]+me|0,O[4]=O[4]+we|0,O[5]=O[5]+rt|0,O[6]=O[6]+Ve|0,O[7]=O[7]+cn|0},_doFinalize:function(){var ve=this._data,Ee=ve.words,O=8*this._nDataBytes,J=8*ve.sigBytes;return Ee[J>>>5]|=128<<24-J%32,Ee[14+(J+64>>>9<<4)]=f.floor(O/4294967296),Ee[15+(J+64>>>9<<4)]=O,ve.sigBytes=4*Ee.length,this._process(),this._hash},clone:function(){var ve=y.clone.call(this);return ve._hash=this._hash.clone(),ve}}),d.SHA256=y._createHelper(S),d.HmacSHA256=y._createHmacHelper(S)}(Math),function(){function f(){return y.create.apply(y,arguments)}for(var d=R,p=d.lib.Hasher,y=(I=d.x64).Word,S=I.WordArray,I=d.algo,P=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],H=[],V=0;80>V;V++)H[V]=f();I=I.SHA512=p.extend({_doReset:function(){this._hash=new S.init([new y.init(1779033703,4089235720),new y.init(3144134277,2227873595),new y.init(1013904242,4271175723),new y.init(2773480762,1595750129),new y.init(1359893119,2917565137),new y.init(2600822924,725511199),new y.init(528734635,4215389547),new y.init(1541459225,327033209)])},_doProcessBlock:function(K,Y){for(var te=(Z=this._hash.words)[0],se=Z[1],he=Z[2],ve=Z[3],Ee=Z[4],O=Z[5],J=Z[6],Z=Z[7],ee=te.high,me=te.low,we=se.high,rt=se.low,Ve=he.high,cn=he.low,lt=ve.high,It=ve.low,Jn=Ee.high,yr=Ee.low,dr=O.high,Bi=O.low,Di=J.high,ji=J.low,Ar=Z.high,zr=Z.low,ci=ee,Ii=me,ld=we,Gc=rt,Wc=Ve,Kc=cn,Zm=lt,Jc=It,cs=Jn,Po=yr,cd=dr,ud=Bi,Ch=Di,Xc=ji,eg=Ar,dd=zr,Lo=0;80>Lo;Lo++){var Xl=H[Lo];if(16>Lo)var fa=Xl.high=0|K[Y+2*Lo],fr=Xl.low=0|K[Y+2*Lo+1];else{fa=((fr=(fa=H[Lo-15]).high)>>>1|(ha=fa.low)<<31)^(fr>>>8|ha<<24)^fr>>>7;var ha=(ha>>>1|fr<<31)^(ha>>>8|fr<<24)^(ha>>>7|fr<<25),Yc=((fr=(Yc=H[Lo-2]).high)>>>19|(Gr=Yc.low)<<13)^(fr<<3|Gr>>>29)^fr>>>6,Gr=(Gr>>>19|fr<<13)^(Gr<<3|fr>>>29)^(Gr>>>6|fr<<26),tg=(fr=H[Lo-7]).high,Yl=(Ql=H[Lo-16]).high,Ql=Ql.low;fa=(fa=(fa=fa+tg+((fr=ha+fr.low)>>>0<ha>>>0?1:0))+Yc+((fr=fr+Gr)>>>0<Gr>>>0?1:0))+Yl+((fr=fr+Ql)>>>0<Ql>>>0?1:0),Xl.high=fa,Xl.low=fr}tg=cs&cd^~cs&Ch,Ql=Po&ud^~Po&Xc,Xl=ci&ld^ci&Wc^ld&Wc;var _D=Ii&Gc^Ii&Kc^Gc&Kc,bD=(ha=(ci>>>28|Ii<<4)^(ci<<30|Ii>>>2)^(ci<<25|Ii>>>7),Yc=(Ii>>>28|ci<<4)^(Ii<<30|ci>>>2)^(Ii<<25|ci>>>7),(Gr=P[Lo]).high),Q_=Gr.low;Yl=eg+((cs>>>14|Po<<18)^(cs>>>18|Po<<14)^(cs<<23|Po>>>9))+((Gr=dd+((Po>>>14|cs<<18)^(Po>>>18|cs<<14)^(Po<<23|cs>>>9)))>>>0<dd>>>0?1:0),eg=Ch,dd=Xc,Ch=cd,Xc=ud,cd=cs,ud=Po,cs=Zm+(Yl=(Yl=(Yl=Yl+tg+((Gr=Gr+Ql)>>>0<Ql>>>0?1:0))+bD+((Gr=Gr+Q_)>>>0<Q_>>>0?1:0))+fa+((Gr=Gr+fr)>>>0<fr>>>0?1:0))+((Po=Jc+Gr|0)>>>0<Jc>>>0?1:0)|0,Zm=Wc,Jc=Kc,Wc=ld,Kc=Gc,ld=ci,Gc=Ii,ci=Yl+(Xl=ha+Xl+((fr=Yc+_D)>>>0<Yc>>>0?1:0))+((Ii=Gr+fr|0)>>>0<Gr>>>0?1:0)|0}me=te.low=me+Ii,te.high=ee+ci+(me>>>0<Ii>>>0?1:0),rt=se.low=rt+Gc,se.high=we+ld+(rt>>>0<Gc>>>0?1:0),cn=he.low=cn+Kc,he.high=Ve+Wc+(cn>>>0<Kc>>>0?1:0),It=ve.low=It+Jc,ve.high=lt+Zm+(It>>>0<Jc>>>0?1:0),yr=Ee.low=yr+Po,Ee.high=Jn+cs+(yr>>>0<Po>>>0?1:0),Bi=O.low=Bi+ud,O.high=dr+cd+(Bi>>>0<ud>>>0?1:0),ji=J.low=ji+Xc,J.high=Di+Ch+(ji>>>0<Xc>>>0?1:0),zr=Z.low=zr+dd,Z.high=Ar+eg+(zr>>>0<dd>>>0?1:0)},_doFinalize:function(){var K=this._data,Y=K.words,te=8*this._nDataBytes,se=8*K.sigBytes;return Y[se>>>5]|=128<<24-se%32,Y[30+(se+128>>>10<<5)]=Math.floor(te/4294967296),Y[31+(se+128>>>10<<5)]=te,K.sigBytes=4*Y.length,this._process(),this._hash.toX32()},clone:function(){var K=p.clone.call(this);return K._hash=this._hash.clone(),K},blockSize:32}),d.SHA512=p._createHelper(I),d.HmacSHA512=p._createHmacHelper(I)}(),function(){var f=R,d=(S=f.x64).Word,p=S.WordArray,y=(S=f.algo).SHA512,S=S.SHA384=y.extend({_doReset:function(){this._hash=new p.init([new d.init(3418070365,3238371032),new d.init(1654270250,914150663),new d.init(2438529370,812702999),new d.init(355462360,4144912697),new d.init(1731405415,4290775857),new d.init(2394180231,1750603025),new d.init(3675008525,1694076839),new d.init(1203062813,3204075428)])},_doFinalize:function(){var P=y._doFinalize.call(this);return P.sigBytes-=16,P}});f.SHA384=y._createHelper(S),f.HmacSHA384=y._createHmacHelper(S)}();var F,M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function D(f){var d,p,y="";for(d=0;d+3<=f.length;d+=3)p=parseInt(f.substring(d,d+3),16),y+=M.charAt(p>>6)+M.charAt(63&p);for(d+1==f.length?(p=parseInt(f.substring(d,d+1),16),y+=M.charAt(p<<2)):d+2==f.length&&(p=parseInt(f.substring(d,d+2),16),y+=M.charAt(p>>2)+M.charAt((3&p)<<4)),"=";(3&y.length)>0;)y+="=";return y}function $(f){var d,p,y,S="",I=0;for(d=0;d<f.length&&f.charAt(d)!="=";++d)(y=M.indexOf(f.charAt(d)))<0||(I==0?(S+=Te(y>>2),p=3&y,I=1):I==1?(S+=Te(p<<2|y>>4),p=15&y,I=2):I==2?(S+=Te(p),S+=Te(y>>2),p=3&y,I=3):(S+=Te(p<<2|y>>4),S+=Te(15&y),I=0));return I==1&&(S+=Te(p<<2)),S}function Q(f){var d,p=$(f),y=new Array;for(d=0;2*d<p.length;++d)y[d]=parseInt(p.substring(2*d,2*d+2),16);return y}function k(f,d,p){f!=null&&(typeof f=="number"?this.fromNumber(f,d,p):d==null&&typeof f!="string"?this.fromString(f,256):this.fromString(f,d))}function oe(){return new k(null)}E.appName=="Microsoft Internet Explorer"?(k.prototype.am=function(d,p,y,S,I,P){for(var H=32767&p,V=p>>15;--P>=0;){var q=32767&this[d],K=this[d++]>>15,Y=V*q+K*H;I=((q=H*q+((32767&Y)<<15)+y[S]+(1073741823&I))>>>30)+(Y>>>15)+V*K+(I>>>30),y[S++]=1073741823&q}return I},F=30):E.appName!="Netscape"?(k.prototype.am=function(d,p,y,S,I,P){for(;--P>=0;){var H=p*this[d++]+y[S]+I;I=Math.floor(H/67108864),y[S++]=67108863&H}return I},F=26):(k.prototype.am=function(d,p,y,S,I,P){for(var H=16383&p,V=p>>14;--P>=0;){var q=16383&this[d],K=this[d++]>>14,Y=V*q+K*H;I=((q=H*q+((16383&Y)<<14)+y[S]+I)>>28)+(Y>>14)+V*K,y[S++]=268435455&q}return I},F=28),k.prototype.DB=F,k.prototype.DM=(1<<F)-1,k.prototype.DV=1<<F,k.prototype.FV=Math.pow(2,52),k.prototype.F1=52-F,k.prototype.F2=2*F-52;var Ce,z,ae=new Array;for(Ce=48,z=0;z<=9;++z)ae[Ce++]=z;for(Ce=97,z=10;z<36;++z)ae[Ce++]=z;for(Ce=65,z=10;z<36;++z)ae[Ce++]=z;function Te(f){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(f)}function Oe(f,d){var p=ae[f.charCodeAt(d)];return p??-1}function _e(f){var d=oe();return d.fromInt(f),d}function De(f){var d,p=1;return(d=f>>>16)!=0&&(f=d,p+=16),(d=f>>8)!=0&&(f=d,p+=8),(d=f>>4)!=0&&(f=d,p+=4),(d=f>>2)!=0&&(f=d,p+=2),(d=f>>1)!=0&&(f=d,p+=1),p}function Be(f){this.m=f}function pt(f){this.m=f,this.mp=f.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<f.DB-15)-1,this.mt2=2*f.t}function Tt(f,d){return f&d}function bt(f,d){return f|d}function At(f,d){return f^d}function sn(f,d){return f&~d}function Dn(f){if(f==0)return-1;var d=0;return(65535&f)==0&&(f>>=16,d+=16),(255&f)==0&&(f>>=8,d+=8),(15&f)==0&&(f>>=4,d+=4),(3&f)==0&&(f>>=2,d+=2),(1&f)==0&&++d,d}function Rn(f){for(var d=0;f!=0;)f&=f-1,++d;return d}function mn(){}function an(f){return f}function Nn(f){this.r2=oe(),this.q3=oe(),k.ONE.dlShiftTo(2*f.t,this.r2),this.mu=this.r2.divide(f),this.m=f}Be.prototype.convert=function(d){return d.s<0||d.compareTo(this.m)>=0?d.mod(this.m):d},Be.prototype.revert=function(d){return d},Be.prototype.reduce=function(d){d.divRemTo(this.m,null,d)},Be.prototype.mulTo=function(d,p,y){d.multiplyTo(p,y),this.reduce(y)},Be.prototype.sqrTo=function(d,p){d.squareTo(p),this.reduce(p)},pt.prototype.convert=function(d){var p=oe();return d.abs().dlShiftTo(this.m.t,p),p.divRemTo(this.m,null,p),d.s<0&&p.compareTo(k.ZERO)>0&&this.m.subTo(p,p),p},pt.prototype.revert=function(d){var p=oe();return d.copyTo(p),this.reduce(p),p},pt.prototype.reduce=function(d){for(;d.t<=this.mt2;)d[d.t++]=0;for(var p=0;p<this.m.t;++p){var y=32767&d[p],S=y*this.mpl+((y*this.mph+(d[p]>>15)*this.mpl&this.um)<<15)&d.DM;for(d[y=p+this.m.t]+=this.m.am(0,S,d,p,0,this.m.t);d[y]>=d.DV;)d[y]-=d.DV,d[++y]++}d.clamp(),d.drShiftTo(this.m.t,d),d.compareTo(this.m)>=0&&d.subTo(this.m,d)},pt.prototype.mulTo=function(d,p,y){d.multiplyTo(p,y),this.reduce(y)},pt.prototype.sqrTo=function(d,p){d.squareTo(p),this.reduce(p)},k.prototype.copyTo=function(d){for(var p=this.t-1;p>=0;--p)d[p]=this[p];d.t=this.t,d.s=this.s},k.prototype.fromInt=function(d){this.t=1,this.s=d<0?-1:0,d>0?this[0]=d:d<-1?this[0]=d+this.DV:this.t=0},k.prototype.fromString=function(d,p){var y;if(p==16)y=4;else if(p==8)y=3;else if(p==256)y=8;else if(p==2)y=1;else if(p==32)y=5;else{if(p!=4)return void this.fromRadix(d,p);y=2}this.t=0,this.s=0;for(var S=d.length,I=!1,P=0;--S>=0;){var H=y==8?255&d[S]:Oe(d,S);H<0?d.charAt(S)=="-"&&(I=!0):(I=!1,P==0?this[this.t++]=H:P+y>this.DB?(this[this.t-1]|=(H&(1<<this.DB-P)-1)<<P,this[this.t++]=H>>this.DB-P):this[this.t-1]|=H<<P,(P+=y)>=this.DB&&(P-=this.DB))}y==8&&(128&d[0])!=0&&(this.s=-1,P>0&&(this[this.t-1]|=(1<<this.DB-P)-1<<P)),this.clamp(),I&&k.ZERO.subTo(this,this)},k.prototype.clamp=function(){for(var d=this.s&this.DM;this.t>0&&this[this.t-1]==d;)--this.t},k.prototype.dlShiftTo=function(d,p){var y;for(y=this.t-1;y>=0;--y)p[y+d]=this[y];for(y=d-1;y>=0;--y)p[y]=0;p.t=this.t+d,p.s=this.s},k.prototype.drShiftTo=function(d,p){for(var y=d;y<this.t;++y)p[y-d]=this[y];p.t=Math.max(this.t-d,0),p.s=this.s},k.prototype.lShiftTo=function(d,p){var y,S=d%this.DB,I=this.DB-S,P=(1<<I)-1,H=Math.floor(d/this.DB),V=this.s<<S&this.DM;for(y=this.t-1;y>=0;--y)p[y+H+1]=this[y]>>I|V,V=(this[y]&P)<<S;for(y=H-1;y>=0;--y)p[y]=0;p[H]=V,p.t=this.t+H+1,p.s=this.s,p.clamp()},k.prototype.rShiftTo=function(d,p){p.s=this.s;var y=Math.floor(d/this.DB);if(y>=this.t)p.t=0;else{var S=d%this.DB,I=this.DB-S,P=(1<<S)-1;p[0]=this[y]>>S;for(var H=y+1;H<this.t;++H)p[H-y-1]|=(this[H]&P)<<I,p[H-y]=this[H]>>S;S>0&&(p[this.t-y-1]|=(this.s&P)<<I),p.t=this.t-y,p.clamp()}},k.prototype.subTo=function(d,p){for(var y=0,S=0,I=Math.min(d.t,this.t);y<I;)S+=this[y]-d[y],p[y++]=S&this.DM,S>>=this.DB;if(d.t<this.t){for(S-=d.s;y<this.t;)S+=this[y],p[y++]=S&this.DM,S>>=this.DB;S+=this.s}else{for(S+=this.s;y<d.t;)S-=d[y],p[y++]=S&this.DM,S>>=this.DB;S-=d.s}p.s=S<0?-1:0,S<-1?p[y++]=this.DV+S:S>0&&(p[y++]=S),p.t=y,p.clamp()},k.prototype.multiplyTo=function(d,p){var y=this.abs(),S=d.abs(),I=y.t;for(p.t=I+S.t;--I>=0;)p[I]=0;for(I=0;I<S.t;++I)p[I+y.t]=y.am(0,S[I],p,I,0,y.t);p.s=0,p.clamp(),this.s!=d.s&&k.ZERO.subTo(p,p)},k.prototype.squareTo=function(d){for(var p=this.abs(),y=d.t=2*p.t;--y>=0;)d[y]=0;for(y=0;y<p.t-1;++y){var S=p.am(y,p[y],d,2*y,0,1);(d[y+p.t]+=p.am(y+1,2*p[y],d,2*y+1,S,p.t-y-1))>=p.DV&&(d[y+p.t]-=p.DV,d[y+p.t+1]=1)}d.t>0&&(d[d.t-1]+=p.am(y,p[y],d,2*y,0,1)),d.s=0,d.clamp()},k.prototype.divRemTo=function(d,p,y){var S=d.abs();if(!(S.t<=0)){var I=this.abs();if(I.t<S.t)return p?.fromInt(0),void(y!=null&&this.copyTo(y));y==null&&(y=oe());var P=oe(),H=this.s,V=d.s,q=this.DB-De(S[S.t-1]);q>0?(S.lShiftTo(q,P),I.lShiftTo(q,y)):(S.copyTo(P),I.copyTo(y));var K=P.t,Y=P[K-1];if(Y!=0){var te=Y*(1<<this.F1)+(K>1?P[K-2]>>this.F2:0),se=this.FV/te,he=(1<<this.F1)/te,ve=1<<this.F2,Ee=y.t,O=Ee-K,J=p??oe();for(P.dlShiftTo(O,J),y.compareTo(J)>=0&&(y[y.t++]=1,y.subTo(J,y)),k.ONE.dlShiftTo(K,J),J.subTo(P,P);P.t<K;)P[P.t++]=0;for(;--O>=0;){var Z=y[--Ee]==Y?this.DM:Math.floor(y[Ee]*se+(y[Ee-1]+ve)*he);if((y[Ee]+=P.am(0,Z,y,O,0,K))<Z)for(P.dlShiftTo(O,J),y.subTo(J,y);y[Ee]<--Z;)y.subTo(J,y)}p!=null&&(y.drShiftTo(K,p),H!=V&&k.ZERO.subTo(p,p)),y.t=K,y.clamp(),q>0&&y.rShiftTo(q,y),H<0&&k.ZERO.subTo(y,y)}}},k.prototype.invDigit=function(){if(this.t<1)return 0;var d=this[0];if((1&d)==0)return 0;var p=3&d;return(p=(p=(p=(p=p*(2-(15&d)*p)&15)*(2-(255&d)*p)&255)*(2-((65535&d)*p&65535))&65535)*(2-d*p%this.DV)%this.DV)>0?this.DV-p:-p},k.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},k.prototype.exp=function(d,p){if(d>4294967295||d<1)return k.ONE;var y=oe(),S=oe(),I=p.convert(this),P=De(d)-1;for(I.copyTo(y);--P>=0;)if(p.sqrTo(y,S),(d&1<<P)>0)p.mulTo(S,I,y);else{var H=y;y=S,S=H}return p.revert(y)},k.prototype.toString=function(d){if(this.s<0)return"-"+this.negate().toString(d);var p;if(d==16)p=4;else if(d==8)p=3;else if(d==2)p=1;else if(d==32)p=5;else{if(d!=4)return this.toRadix(d);p=2}var y,S=(1<<p)-1,I=!1,P="",H=this.t,V=this.DB-H*this.DB%p;if(H-- >0)for(V<this.DB&&(y=this[H]>>V)>0&&(I=!0,P=Te(y));H>=0;)V<p?(y=(this[H]&(1<<V)-1)<<p-V,y|=this[--H]>>(V+=this.DB-p)):(y=this[H]>>(V-=p)&S,V<=0&&(V+=this.DB,--H)),y>0&&(I=!0),I&&(P+=Te(y));return I?P:"0"},k.prototype.negate=function(){var d=oe();return k.ZERO.subTo(this,d),d},k.prototype.abs=function(){return this.s<0?this.negate():this},k.prototype.compareTo=function(d){var p=this.s-d.s;if(p!=0)return p;var y=this.t;if((p=y-d.t)!=0)return this.s<0?-p:p;for(;--y>=0;)if((p=this[y]-d[y])!=0)return p;return 0},k.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+De(this[this.t-1]^this.s&this.DM)},k.prototype.mod=function(d){var p=oe();return this.abs().divRemTo(d,null,p),this.s<0&&p.compareTo(k.ZERO)>0&&d.subTo(p,p),p},k.prototype.modPowInt=function(d,p){var y;return y=d<256||p.isEven()?new Be(p):new pt(p),this.exp(d,y)},k.ZERO=_e(0),k.ONE=_e(1),mn.prototype.convert=an,mn.prototype.revert=an,mn.prototype.mulTo=function(d,p,y){d.multiplyTo(p,y)},mn.prototype.sqrTo=function(d,p){d.squareTo(p)},Nn.prototype.convert=function(d){if(d.s<0||d.t>2*this.m.t)return d.mod(this.m);if(d.compareTo(this.m)<0)return d;var p=oe();return d.copyTo(p),this.reduce(p),p},Nn.prototype.revert=function(d){return d},Nn.prototype.reduce=function(d){for(d.drShiftTo(this.m.t-1,this.r2),d.t>this.m.t+1&&(d.t=this.m.t+1,d.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);d.compareTo(this.r2)<0;)d.dAddOffset(1,this.m.t+1);for(d.subTo(this.r2,d);d.compareTo(this.m)>=0;)d.subTo(this.m,d)},Nn.prototype.mulTo=function(d,p,y){d.multiplyTo(p,y),this.reduce(y)},Nn.prototype.sqrTo=function(d,p){d.squareTo(p),this.reduce(p)};var qt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ie=(1<<26)/qt[qt.length-1];function A(){this.i=0,this.j=0,this.S=new Array}k.prototype.chunkSize=function(d){return Math.floor(Math.LN2*this.DB/Math.log(d))},k.prototype.toRadix=function(d){if(d==null&&(d=10),this.signum()==0||d<2||d>36)return"0";var p=this.chunkSize(d),y=Math.pow(d,p),S=_e(y),I=oe(),P=oe(),H="";for(this.divRemTo(S,I,P);I.signum()>0;)H=(y+P.intValue()).toString(d).substr(1)+H,I.divRemTo(S,I,P);return P.intValue().toString(d)+H},k.prototype.fromRadix=function(d,p){this.fromInt(0),p==null&&(p=10);for(var y=this.chunkSize(p),S=Math.pow(p,y),I=!1,P=0,H=0,V=0;V<d.length;++V){var q=Oe(d,V);q<0?d.charAt(V)=="-"&&this.signum()==0&&(I=!0):(H=p*H+q,++P>=y&&(this.dMultiply(S),this.dAddOffset(H,0),P=0,H=0))}P>0&&(this.dMultiply(Math.pow(p,P)),this.dAddOffset(H,0)),I&&k.ZERO.subTo(this,this)},k.prototype.fromNumber=function(d,p,y){if(typeof p=="number")if(d<2)this.fromInt(1);else for(this.fromNumber(d,y),this.testBit(d-1)||this.bitwiseTo(k.ONE.shiftLeft(d-1),bt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(p);)this.dAddOffset(2,0),this.bitLength()>d&&this.subTo(k.ONE.shiftLeft(d-1),this);else{var S=new Array,I=7&d;S.length=1+(d>>3),p.nextBytes(S),I>0?S[0]&=(1<<I)-1:S[0]=0,this.fromString(S,256)}},k.prototype.bitwiseTo=function(d,p,y){var S,I,P=Math.min(d.t,this.t);for(S=0;S<P;++S)y[S]=p(this[S],d[S]);if(d.t<this.t){for(I=d.s&this.DM,S=P;S<this.t;++S)y[S]=p(this[S],I);y.t=this.t}else{for(I=this.s&this.DM,S=P;S<d.t;++S)y[S]=p(I,d[S]);y.t=d.t}y.s=p(this.s,d.s),y.clamp()},k.prototype.changeBit=function(d,p){var y=k.ONE.shiftLeft(d);return this.bitwiseTo(y,p,y),y},k.prototype.addTo=function(d,p){for(var y=0,S=0,I=Math.min(d.t,this.t);y<I;)S+=this[y]+d[y],p[y++]=S&this.DM,S>>=this.DB;if(d.t<this.t){for(S+=d.s;y<this.t;)S+=this[y],p[y++]=S&this.DM,S>>=this.DB;S+=this.s}else{for(S+=this.s;y<d.t;)S+=d[y],p[y++]=S&this.DM,S>>=this.DB;S+=d.s}p.s=S<0?-1:0,S>0?p[y++]=S:S<-1&&(p[y++]=this.DV+S),p.t=y,p.clamp()},k.prototype.dMultiply=function(d){this[this.t]=this.am(0,d-1,this,0,0,this.t),++this.t,this.clamp()},k.prototype.dAddOffset=function(d,p){if(d!=0){for(;this.t<=p;)this[this.t++]=0;for(this[p]+=d;this[p]>=this.DV;)this[p]-=this.DV,++p>=this.t&&(this[this.t++]=0),++this[p]}},k.prototype.multiplyLowerTo=function(d,p,y){var S,I=Math.min(this.t+d.t,p);for(y.s=0,y.t=I;I>0;)y[--I]=0;for(S=y.t-this.t;I<S;++I)y[I+this.t]=this.am(0,d[I],y,I,0,this.t);for(S=Math.min(d.t,p);I<S;++I)this.am(0,d[I],y,I,0,p-I);y.clamp()},k.prototype.multiplyUpperTo=function(d,p,y){--p;var S=y.t=this.t+d.t-p;for(y.s=0;--S>=0;)y[S]=0;for(S=Math.max(p-this.t,0);S<d.t;++S)y[this.t+S-p]=this.am(p-S,d[S],y,0,0,this.t+S-p);y.clamp(),y.drShiftTo(1,y)},k.prototype.modInt=function(d){if(d<=0)return 0;var p=this.DV%d,y=this.s<0?d-1:0;if(this.t>0)if(p==0)y=this[0]%d;else for(var S=this.t-1;S>=0;--S)y=(p*y+this[S])%d;return y},k.prototype.millerRabin=function(d){var p=this.subtract(k.ONE),y=p.getLowestSetBit();if(y<=0)return!1;var S=p.shiftRight(y);(d=d+1>>1)>qt.length&&(d=qt.length);for(var I=oe(),P=0;P<d;++P){I.fromInt(qt[Math.floor(Math.random()*qt.length)]);var H=I.modPow(S,this);if(H.compareTo(k.ONE)!=0&&H.compareTo(p)!=0){for(var V=1;V++<y&&H.compareTo(p)!=0;)if((H=H.modPowInt(2,this)).compareTo(k.ONE)==0)return!1;if(H.compareTo(p)!=0)return!1}}return!0},k.prototype.clone=function(){var d=oe();return this.copyTo(d),d},k.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},k.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},k.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},k.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},k.prototype.toByteArray=function(){var d=this.t,p=new Array;p[0]=this.s;var y,S=this.DB-d*this.DB%8,I=0;if(d-- >0)for(S<this.DB&&(y=this[d]>>S)!=(this.s&this.DM)>>S&&(p[I++]=y|this.s<<this.DB-S);d>=0;)S<8?(y=(this[d]&(1<<S)-1)<<8-S,y|=this[--d]>>(S+=this.DB-8)):(y=this[d]>>(S-=8)&255,S<=0&&(S+=this.DB,--d)),(128&y)!=0&&(y|=-256),I==0&&(128&this.s)!=(128&y)&&++I,(I>0||y!=this.s)&&(p[I++]=y);return p},k.prototype.equals=function(d){return this.compareTo(d)==0},k.prototype.min=function(d){return this.compareTo(d)<0?this:d},k.prototype.max=function(d){return this.compareTo(d)>0?this:d},k.prototype.and=function(d){var p=oe();return this.bitwiseTo(d,Tt,p),p},k.prototype.or=function(d){var p=oe();return this.bitwiseTo(d,bt,p),p},k.prototype.xor=function(d){var p=oe();return this.bitwiseTo(d,At,p),p},k.prototype.andNot=function(d){var p=oe();return this.bitwiseTo(d,sn,p),p},k.prototype.not=function(){for(var d=oe(),p=0;p<this.t;++p)d[p]=this.DM&~this[p];return d.t=this.t,d.s=~this.s,d},k.prototype.shiftLeft=function(d){var p=oe();return d<0?this.rShiftTo(-d,p):this.lShiftTo(d,p),p},k.prototype.shiftRight=function(d){var p=oe();return d<0?this.lShiftTo(-d,p):this.rShiftTo(d,p),p},k.prototype.getLowestSetBit=function(){for(var d=0;d<this.t;++d)if(this[d]!=0)return d*this.DB+Dn(this[d]);return this.s<0?this.t*this.DB:-1},k.prototype.bitCount=function(){for(var d=0,p=this.s&this.DM,y=0;y<this.t;++y)d+=Rn(this[y]^p);return d},k.prototype.testBit=function(d){var p=Math.floor(d/this.DB);return p>=this.t?this.s!=0:(this[p]&1<<d%this.DB)!=0},k.prototype.setBit=function(d){return this.changeBit(d,bt)},k.prototype.clearBit=function(d){return this.changeBit(d,sn)},k.prototype.flipBit=function(d){return this.changeBit(d,At)},k.prototype.add=function(d){var p=oe();return this.addTo(d,p),p},k.prototype.subtract=function(d){var p=oe();return this.subTo(d,p),p},k.prototype.multiply=function(d){var p=oe();return this.multiplyTo(d,p),p},k.prototype.divide=function(d){var p=oe();return this.divRemTo(d,p,null),p},k.prototype.remainder=function(d){var p=oe();return this.divRemTo(d,null,p),p},k.prototype.divideAndRemainder=function(d){var p=oe(),y=oe();return this.divRemTo(d,p,y),new Array(p,y)},k.prototype.modPow=function(d,p){var y,S,I=d.bitLength(),P=_e(1);if(I<=0)return P;y=I<18?1:I<48?3:I<144?4:I<768?5:6,S=I<8?new Be(p):p.isEven()?new Nn(p):new pt(p);var H=new Array,V=3,q=y-1,K=(1<<y)-1;if(H[1]=S.convert(this),y>1){var Y=oe();for(S.sqrTo(H[1],Y);V<=K;)H[V]=oe(),S.mulTo(Y,H[V-2],H[V]),V+=2}var te,se,he=d.t-1,ve=!0,Ee=oe();for(I=De(d[he])-1;he>=0;){for(I>=q?te=d[he]>>I-q&K:(te=(d[he]&(1<<I+1)-1)<<q-I,he>0&&(te|=d[he-1]>>this.DB+I-q)),V=y;(1&te)==0;)te>>=1,--V;if((I-=V)<0&&(I+=this.DB,--he),ve)H[te].copyTo(P),ve=!1;else{for(;V>1;)S.sqrTo(P,Ee),S.sqrTo(Ee,P),V-=2;V>0?S.sqrTo(P,Ee):(se=P,P=Ee,Ee=se),S.mulTo(Ee,H[te],P)}for(;he>=0&&(d[he]&1<<I)==0;)S.sqrTo(P,Ee),se=P,P=Ee,Ee=se,--I<0&&(I=this.DB-1,--he)}return S.revert(P)},k.prototype.modInverse=function(d){var p=d.isEven();if(this.isEven()&&p||d.signum()==0)return k.ZERO;for(var y=d.clone(),S=this.clone(),I=_e(1),P=_e(0),H=_e(0),V=_e(1);y.signum()!=0;){for(;y.isEven();)y.rShiftTo(1,y),p?(I.isEven()&&P.isEven()||(I.addTo(this,I),P.subTo(d,P)),I.rShiftTo(1,I)):P.isEven()||P.subTo(d,P),P.rShiftTo(1,P);for(;S.isEven();)S.rShiftTo(1,S),p?(H.isEven()&&V.isEven()||(H.addTo(this,H),V.subTo(d,V)),H.rShiftTo(1,H)):V.isEven()||V.subTo(d,V),V.rShiftTo(1,V);y.compareTo(S)>=0?(y.subTo(S,y),p&&I.subTo(H,I),P.subTo(V,P)):(S.subTo(y,S),p&&H.subTo(I,H),V.subTo(P,V))}return S.compareTo(k.ONE)!=0?k.ZERO:V.compareTo(d)>=0?V.subtract(d):V.signum()<0?(V.addTo(d,V),V.signum()<0?V.add(d):V):V},k.prototype.pow=function(d){return this.exp(d,new mn)},k.prototype.gcd=function(d){var p=this.s<0?this.negate():this.clone(),y=d.s<0?d.negate():d.clone();if(p.compareTo(y)<0){var S=p;p=y,y=S}var I=p.getLowestSetBit(),P=y.getLowestSetBit();if(P<0)return p;for(I<P&&(P=I),P>0&&(p.rShiftTo(P,p),y.rShiftTo(P,y));p.signum()>0;)(I=p.getLowestSetBit())>0&&p.rShiftTo(I,p),(I=y.getLowestSetBit())>0&&y.rShiftTo(I,y),p.compareTo(y)>=0?(p.subTo(y,p),p.rShiftTo(1,p)):(y.subTo(p,y),y.rShiftTo(1,y));return P>0&&y.lShiftTo(P,y),y},k.prototype.isProbablePrime=function(d){var p,y=this.abs();if(y.t==1&&y[0]<=qt[qt.length-1]){for(p=0;p<qt.length;++p)if(y[0]==qt[p])return!0;return!1}if(y.isEven())return!1;for(p=1;p<qt.length;){for(var S=qt[p],I=p+1;I<qt.length&&S<ie;)S*=qt[I++];for(S=y.modInt(S);p<I;)if(S%qt[p++]==0)return!1}return y.millerRabin(d)},k.prototype.square=function(){var d=oe();return this.squareTo(d),d},A.prototype.init=function(d){var p,y,S;for(p=0;p<256;++p)this.S[p]=p;for(y=0,p=0;p<256;++p)y=y+this.S[p]+d[p%d.length]&255,S=this.S[p],this.S[p]=this.S[y],this.S[y]=S;this.i=0,this.j=0},A.prototype.next=function(){var d;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,d=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=d,this.S[d+this.S[this.i]&255]};var T,X,re;function pe(){(function(d){X[re++]^=255&d,X[re++]^=d>>8&255,X[re++]^=d>>16&255,X[re++]^=d>>24&255,re>=256&&(re-=256)})(new Date().getTime())}if(X==null){var xe;if(X=new Array,re=0,C!==void 0&&(C.crypto!==void 0||C.msCrypto!==void 0)){var gt=C.crypto||C.msCrypto;if(gt.getRandomValues){var Fe=new Uint8Array(32);for(gt.getRandomValues(Fe),xe=0;xe<32;++xe)X[re++]=Fe[xe]}else if(E.appName=="Netscape"&&E.appVersion<"5"){var wt=C.crypto.random(32);for(xe=0;xe<wt.length;++xe)X[re++]=255&wt.charCodeAt(xe)}}for(;re<256;)xe=Math.floor(65536*Math.random()),X[re++]=xe>>>8,X[re++]=255&xe;re=0,pe()}function ln(){if(T==null){for(pe(),(T=function(){return new A}()).init(X),re=0;re<X.length;++re)X[re]=0;re=0}return T.next()}function Gn(){}function Zi(f,d){return new k(f,d)}function ss(f,d,p){for(var y="",S=0;y.length<d;)y+=p(String.fromCharCode.apply(String,f.concat([(4278190080&S)>>24,(16711680&S)>>16,(65280&S)>>8,255&S]))),S+=1;return y}function Dt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Er(f,d){this.x=d,this.q=f}function gn(f,d,p,y){this.curve=f,this.x=d,this.y=p,this.z=y??k.ONE,this.zinv=null}function Mo(f,d,p){this.q=f,this.a=this.fromBigInteger(d),this.b=this.fromBigInteger(p),this.infinity=new gn(this,null,null)}Gn.prototype.nextBytes=function(d){var p;for(p=0;p<d.length;++p)d[p]=ln()},Dt.prototype.doPublic=function(d){return d.modPowInt(this.e,this.n)},Dt.prototype.setPublic=function(d,p){if(this.isPublic=!0,this.isPrivate=!1,typeof d!="string")this.n=d,this.e=p;else{if(!(d!=null&&p!=null&&d.length>0&&p.length>0))throw"Invalid RSA public key";this.n=Zi(d,16),this.e=parseInt(p,16)}},Dt.prototype.encrypt=function(d){var p=function(P,H){if(H<P.length+11)throw"Message too long for RSA";for(var V=new Array,q=P.length-1;q>=0&&H>0;){var K=P.charCodeAt(q--);K<128?V[--H]=K:K>127&&K<2048?(V[--H]=63&K|128,V[--H]=K>>6|192):(V[--H]=63&K|128,V[--H]=K>>6&63|128,V[--H]=K>>12|224)}V[--H]=0;for(var Y=new Gn,te=new Array;H>2;){for(te[0]=0;te[0]==0;)Y.nextBytes(te);V[--H]=te[0]}return V[--H]=2,V[--H]=0,new k(V)}(d,this.n.bitLength()+7>>3);if(p==null)return null;var y=this.doPublic(p);if(y==null)return null;var S=y.toString(16);return(1&S.length)==0?S:"0"+S},Dt.prototype.encryptOAEP=function(d,p,y){var S=function(V,q,K,Y){var te=U.crypto.MessageDigest,se=U.crypto.Util,he=null;if(K||(K="sha1"),typeof K=="string"&&(he=te.getCanonicalAlgName(K),Y=te.getHashLength(he),K=function(Ve){return ko(se.hashHex(as(Ve),he))}),V.length+2*Y+2>q)throw"Message too long for RSA";var ve,Ee="";for(ve=0;ve<q-V.length-2*Y-2;ve+=1)Ee+="\0";var O=K("")+Ee+""+V,J=new Array(Y);new Gn().nextBytes(J);var Z=ss(J,O.length,K),ee=[];for(ve=0;ve<O.length;ve+=1)ee[ve]=O.charCodeAt(ve)^Z.charCodeAt(ve);var me=ss(ee,J.length,K),we=[0];for(ve=0;ve<J.length;ve+=1)we[ve+1]=J[ve]^me.charCodeAt(ve);return new k(we.concat(ee))}(d,this.n.bitLength()+7>>3,p,y);if(S==null)return null;var I=this.doPublic(S);if(I==null)return null;var P=I.toString(16);return(1&P.length)==0?P:"0"+P},Dt.prototype.type="RSA",Er.prototype.equals=function(d){return d==this||this.q.equals(d.q)&&this.x.equals(d.x)},Er.prototype.toBigInteger=function(){return this.x},Er.prototype.negate=function(){return new Er(this.q,this.x.negate().mod(this.q))},Er.prototype.add=function(d){return new Er(this.q,this.x.add(d.toBigInteger()).mod(this.q))},Er.prototype.subtract=function(d){return new Er(this.q,this.x.subtract(d.toBigInteger()).mod(this.q))},Er.prototype.multiply=function(d){return new Er(this.q,this.x.multiply(d.toBigInteger()).mod(this.q))},Er.prototype.square=function(){return new Er(this.q,this.x.square().mod(this.q))},Er.prototype.divide=function(d){return new Er(this.q,this.x.multiply(d.toBigInteger().modInverse(this.q)).mod(this.q))},gn.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},gn.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},gn.prototype.equals=function(d){return d==this||(this.isInfinity()?d.isInfinity():d.isInfinity()?this.isInfinity():!!d.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(d.z)).mod(this.curve.q).equals(k.ZERO)&&d.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(d.z)).mod(this.curve.q).equals(k.ZERO))},gn.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(k.ZERO)&&!this.y.toBigInteger().equals(k.ZERO)},gn.prototype.negate=function(){return new gn(this.curve,this.x,this.y.negate(),this.z)},gn.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var p=d.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(d.z)).mod(this.curve.q),y=d.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(d.z)).mod(this.curve.q);if(k.ZERO.equals(y))return k.ZERO.equals(p)?this.twice():this.curve.getInfinity();var S=new k("3"),I=this.x.toBigInteger(),P=this.y.toBigInteger(),H=(d.x.toBigInteger(),d.y.toBigInteger(),y.square()),V=H.multiply(y),q=I.multiply(H),K=p.square().multiply(this.z),Y=K.subtract(q.shiftLeft(1)).multiply(d.z).subtract(V).multiply(y).mod(this.curve.q),te=q.multiply(S).multiply(p).subtract(P.multiply(V)).subtract(K.multiply(p)).multiply(d.z).add(p.multiply(V)).mod(this.curve.q),se=V.multiply(this.z).multiply(d.z).mod(this.curve.q);return new gn(this.curve,this.curve.fromBigInteger(Y),this.curve.fromBigInteger(te),se)},gn.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var d=new k("3"),p=this.x.toBigInteger(),y=this.y.toBigInteger(),S=y.multiply(this.z),I=S.multiply(y).mod(this.curve.q),P=this.curve.a.toBigInteger(),H=p.square().multiply(d);k.ZERO.equals(P)||(H=H.add(this.z.square().multiply(P)));var V=(H=H.mod(this.curve.q)).square().subtract(p.shiftLeft(3).multiply(I)).shiftLeft(1).multiply(S).mod(this.curve.q),q=H.multiply(d).multiply(p).subtract(I.shiftLeft(1)).shiftLeft(2).multiply(I).subtract(H.square().multiply(H)).mod(this.curve.q),K=S.square().multiply(S).shiftLeft(3).mod(this.curve.q);return new gn(this.curve,this.curve.fromBigInteger(V),this.curve.fromBigInteger(q),K)},gn.prototype.multiply=function(d){if(this.isInfinity())return this;if(d.signum()==0)return this.curve.getInfinity();var p,y=d,S=y.multiply(new k("3")),I=this.negate(),P=this,H=this.curve.q.subtract(d),V=H.multiply(new k("3")),q=new gn(this.curve,this.x,this.y),K=q.negate();for(p=S.bitLength()-2;p>0;--p){P=P.twice();var Y=S.testBit(p);Y!=y.testBit(p)&&(P=P.add(Y?this:I))}for(p=V.bitLength()-2;p>0;--p){q=q.twice();var te=V.testBit(p);te!=H.testBit(p)&&(q=q.add(te?q:K))}return P},gn.prototype.multiplyTwo=function(d,p,y){var S;S=d.bitLength()>y.bitLength()?d.bitLength()-1:y.bitLength()-1;for(var I=this.curve.getInfinity(),P=this.add(p);S>=0;)I=I.twice(),d.testBit(S)?I=y.testBit(S)?I.add(P):I.add(this):y.testBit(S)&&(I=I.add(p)),--S;return I},Mo.prototype.getQ=function(){return this.q},Mo.prototype.getA=function(){return this.a},Mo.prototype.getB=function(){return this.b},Mo.prototype.equals=function(d){return d==this||this.q.equals(d.q)&&this.a.equals(d.a)&&this.b.equals(d.b)},Mo.prototype.getInfinity=function(){return this.infinity},Mo.prototype.fromBigInteger=function(d){return new Er(this.q,d)},Mo.prototype.decodePointHex=function(d){switch(parseInt(d.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var p=(d.length-2)/2,y=d.substr(2,p),S=d.substr(p+2,p);return new gn(this,this.fromBigInteger(new k(y,16)),this.fromBigInteger(new k(S,16)));default:return null}},Er.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},gn.prototype.getEncoded=function(f){var d=function(P,H){var V=P.toByteArrayUnsigned();if(H<V.length)V=V.slice(V.length-H);else for(;H>V.length;)V.unshift(0);return V},p=this.getX().toBigInteger(),y=this.getY().toBigInteger(),S=d(p,32);return f?y.isEven()?S.unshift(2):S.unshift(3):(S.unshift(4),S=S.concat(d(y,32))),S},gn.decodeFrom=function(f,d){d[0];var p=d.length-1,y=d.slice(1,1+p/2),S=d.slice(1+p/2,1+p);y.unshift(0),S.unshift(0);var I=new k(y),P=new k(S);return new gn(f,f.fromBigInteger(I),f.fromBigInteger(P))},gn.decodeFromHex=function(f,d){d.substr(0,2);var p=d.length-2,y=d.substr(2,p/2),S=d.substr(2+p/2,p/2),I=new k(y,16),P=new k(S,16);return new gn(f,f.fromBigInteger(I),f.fromBigInteger(P))},gn.prototype.add2D=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;if(this.x.equals(f.x))return this.y.equals(f.y)?this.twice():this.curve.getInfinity();var d=f.x.subtract(this.x),p=f.y.subtract(this.y).divide(d),y=p.square().subtract(this.x).subtract(f.x),S=p.multiply(this.x.subtract(y)).subtract(this.y);return new gn(this.curve,y,S)},gn.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var f=this.curve.fromBigInteger(k.valueOf(2)),d=this.curve.fromBigInteger(k.valueOf(3)),p=this.x.square().multiply(d).add(this.curve.a).divide(this.y.multiply(f)),y=p.square().subtract(this.x.multiply(f)),S=p.multiply(this.x.subtract(y)).subtract(this.y);return new gn(this.curve,y,S)},gn.prototype.multiply2D=function(f){if(this.isInfinity())return this;if(f.signum()==0)return this.curve.getInfinity();var d,p=f,y=p.multiply(new k("3")),S=this.negate(),I=this;for(d=y.bitLength()-2;d>0;--d){I=I.twice();var P=y.testBit(d);P!=p.testBit(d)&&(I=I.add2D(P?this:S))}return I},gn.prototype.isOnCurve=function(){var f=this.getX().toBigInteger(),d=this.getY().toBigInteger(),p=this.curve.getA().toBigInteger(),y=this.curve.getB().toBigInteger(),S=this.curve.getQ(),I=d.multiply(d).mod(S),P=f.multiply(f).multiply(f).add(p.multiply(f)).add(y).mod(S);return I.equals(P)},gn.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},gn.prototype.validate=function(){var f=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var d=this.getX().toBigInteger(),p=this.getY().toBigInteger();if(d.compareTo(k.ONE)<0||d.compareTo(f.subtract(k.ONE))>0)throw new Error("x coordinate out of bounds");if(p.compareTo(k.ONE)<0||p.compareTo(f.subtract(k.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(f).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var Km=function(){var f=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),d=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),p={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function y(P,H,V){return H?p[H]:String.fromCharCode(parseInt(V,16))}var S=new String(""),I=Object.hasOwnProperty;return function(P,H){var V,q,K=P.match(f),Y=K[0],te=!1;Y==="{"?V={}:Y==="["?V=[]:(V=[],te=!0);for(var se=[V],he=1-te,ve=K.length;he<ve;++he){var Ee;switch((Y=K[he]).charCodeAt(0)){default:(Ee=se[0])[q||Ee.length]=+Y,q=void 0;break;case 34:if((Y=Y.substring(1,Y.length-1)).indexOf("\\")!==-1&&(Y=Y.replace(d,y)),Ee=se[0],!q){if(!(Ee instanceof Array)){q=Y||S;break}q=Ee.length}Ee[q]=Y,q=void 0;break;case 91:Ee=se[0],se.unshift(Ee[q||Ee.length]=[]),q=void 0;break;case 93:se.shift();break;case 102:(Ee=se[0])[q||Ee.length]=!1,q=void 0;break;case 110:(Ee=se[0])[q||Ee.length]=null,q=void 0;break;case 116:(Ee=se[0])[q||Ee.length]=!0,q=void 0;break;case 123:Ee=se[0],se.unshift(Ee[q||Ee.length]={}),q=void 0;break;case 125:se.shift()}}if(te){if(se.length!==1)throw new Error;V=V[0]}else if(se.length)throw new Error;return H&&(V=function O(J,Z){var ee=J[Z];if(ee&&(ee===void 0?"undefined":v(ee))==="object"){var me=null;for(var we in ee)if(I.call(ee,we)&&ee!==J){var rt=O(ee,we);rt!==void 0?ee[we]=rt:(me||(me=[]),me.push(we))}if(me)for(var Ve=me.length;--Ve>=0;)delete ee[me[Ve]]}return H.call(J,Z,ee)}({"":V},"")),V}}();U!==void 0&&U||(e.KJUR=U={}),U.asn1!==void 0&&U.asn1||(U.asn1={}),U.asn1.ASN1Util=new function(){this.integerToByteHex=function(f){var d=f.toString(16);return d.length%2==1&&(d="0"+d),d},this.bigIntToMinTwosComplementsHex=function(f){var d=f.toString(16);if(d.substr(0,1)!="-")d.length%2==1?d="0"+d:d.match(/^[0-7]/)||(d="00"+d);else{var p=d.substr(1).length;p%2==1?p+=1:d.match(/^[0-7]/)||(p+=2);for(var y="",S=0;S<p;S++)y+="f";d=new k(y,16).xor(f).add(k.ONE).toString(16).replace(/^-/,"")}return d},this.getPEMStringFromHex=function(f,d){return eo(f,d)},this.newObject=function(f){var d=U.asn1,p=d.ASN1Object,y=d.DERBoolean,S=d.DERInteger,I=d.DERBitString,P=d.DEROctetString,H=d.DERNull,V=d.DERObjectIdentifier,q=d.DEREnumerated,K=d.DERUTF8String,Y=d.DERNumericString,te=d.DERPrintableString,se=d.DERTeletexString,he=d.DERIA5String,ve=d.DERUTCTime,Ee=d.DERGeneralizedTime,O=d.DERVisibleString,J=d.DERBMPString,Z=d.DERSequence,ee=d.DERSet,me=d.DERTaggedObject,we=d.ASN1Util.newObject;if(f instanceof d.ASN1Object)return f;var rt=Object.keys(f);if(rt.length!=1)throw new Error("key of param shall be only one.");var Ve=rt[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Ve+":")==-1)throw new Error("undefined key: "+Ve);if(Ve=="bool")return new y(f[Ve]);if(Ve=="int")return new S(f[Ve]);if(Ve=="bitstr")return new I(f[Ve]);if(Ve=="octstr")return new P(f[Ve]);if(Ve=="null")return new H(f[Ve]);if(Ve=="oid")return new V(f[Ve]);if(Ve=="enum")return new q(f[Ve]);if(Ve=="utf8str")return new K(f[Ve]);if(Ve=="numstr")return new Y(f[Ve]);if(Ve=="prnstr")return new te(f[Ve]);if(Ve=="telstr")return new se(f[Ve]);if(Ve=="ia5str")return new he(f[Ve]);if(Ve=="utctime")return new ve(f[Ve]);if(Ve=="gentime")return new Ee(f[Ve]);if(Ve=="visstr")return new O(f[Ve]);if(Ve=="bmpstr")return new J(f[Ve]);if(Ve=="asn1")return new p(f[Ve]);if(Ve=="seq"){for(var cn=f[Ve],lt=[],It=0;It<cn.length;It++){var Jn=we(cn[It]);lt.push(Jn)}return new Z({array:lt})}if(Ve=="set"){for(cn=f[Ve],lt=[],It=0;It<cn.length;It++)Jn=we(cn[It]),lt.push(Jn);return new ee({array:lt})}if(Ve=="tag"){var yr=f[Ve];if(Object.prototype.toString.call(yr)==="[object Array]"&&yr.length==3){var dr=we(yr[2]);return new me({tag:yr[0],explicit:yr[1],obj:dr})}return new me(yr)}},this.jsonToASN1HEX=function(f){return this.newObject(f).getEncodedHex()}},U.asn1.ASN1Util.oidHexToInt=function(f){for(var d="",p=parseInt(f.substr(0,2),16),y=(d=Math.floor(p/40)+"."+p%40,""),S=2;S<f.length;S+=2){var I=("00000000"+parseInt(f.substr(S,2),16).toString(2)).slice(-8);y+=I.substr(1,7),I.substr(0,1)=="0"&&(d=d+"."+new k(y,2).toString(10),y="")}return d},U.asn1.ASN1Util.oidIntToHex=function(f){var d=function(V){var q=V.toString(16);return q.length==1&&(q="0"+q),q},p=function(V){var q="",K=new k(V,10).toString(2),Y=7-K.length%7;Y==7&&(Y=0);for(var te="",se=0;se<Y;se++)te+="0";for(K=te+K,se=0;se<K.length-1;se+=7){var he=K.substr(se,7);se!=K.length-7&&(he="1"+he),q+=d(parseInt(he,2))}return q};if(!f.match(/^[0-9.]+$/))throw"malformed oid string: "+f;var y="",S=f.split("."),I=40*parseInt(S[0])+parseInt(S[1]);y+=d(I),S.splice(0,2);for(var P=0;P<S.length;P++)y+=p(S[P]);return y},U.asn1.ASN1Object=function(f){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var d=this.hV.length/2,p=d.toString(16);if(p.length%2==1&&(p="0"+p),d<128)return p;var y=p.length/2;if(y>15)throw"ASN.1 length too long to represent by 8x: n = "+d.toString(16);return(128+y).toString(16)+p},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(d){this.params=d},f!=null&&f.tlv!=null&&(this.hTLV=f.tlv,this.isModified=!1)},U.asn1.DERAbstractString=function(f){U.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(d){this.hTLV=null,this.isModified=!0,this.s=d,this.hV=ph(this.s).toLowerCase()},this.setStringHex=function(d){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=d},this.getFreshValueHex=function(){return this.hV},f!==void 0&&(typeof f=="string"?this.setString(f):f.str!==void 0?this.setString(f.str):f.hex!==void 0&&this.setStringHex(f.hex))},en(U.asn1.DERAbstractString,U.asn1.ASN1Object),U.asn1.DERAbstractTime=function(f){U.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(d){var p=d.getTime()+6e4*d.getTimezoneOffset();return new Date(p)},this.formatDate=function(d,p,y){var S=this.zeroPadding,I=this.localDateToUTC(d),P=String(I.getFullYear());p=="utc"&&(P=P.substr(2,2));var H=P+S(String(I.getMonth()+1),2)+S(String(I.getDate()),2)+S(String(I.getHours()),2)+S(String(I.getMinutes()),2)+S(String(I.getSeconds()),2);if(y===!0){var V=I.getMilliseconds();if(V!=0){var q=S(String(V),3);H=H+"."+(q=q.replace(/[0]+$/,""))}}return H+"Z"},this.zeroPadding=function(d,p){return d.length>=p?d:new Array(p-d.length+1).join("0")+d},this.getString=function(){return this.s},this.setString=function(d){this.hTLV=null,this.isModified=!0,this.s=d,this.hV=da(d)},this.setByDateValue=function(d,p,y,S,I,P){var H=new Date(Date.UTC(d,p-1,y,S,I,P,0));this.setByDate(H)},this.getFreshValueHex=function(){return this.hV}},en(U.asn1.DERAbstractTime,U.asn1.ASN1Object),U.asn1.DERAbstractStructured=function(f){U.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(d){this.hTLV=null,this.isModified=!0,this.asn1Array=d},this.appendASN1Object=function(d){this.hTLV=null,this.isModified=!0,this.asn1Array.push(d)},this.asn1Array=new Array,f!==void 0&&f.array!==void 0&&(this.asn1Array=f.array)},en(U.asn1.DERAbstractStructured,U.asn1.ASN1Object),U.asn1.DERBoolean=function(f){U.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=f==0?"010100":"0101ff"},en(U.asn1.DERBoolean,U.asn1.ASN1Object),U.asn1.DERInteger=function(f){U.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(d){this.hTLV=null,this.isModified=!0,this.hV=U.asn1.ASN1Util.bigIntToMinTwosComplementsHex(d)},this.setByInteger=function(d){var p=new k(String(d),10);this.setByBigInteger(p)},this.setValueHex=function(d){this.hV=d},this.getFreshValueHex=function(){return this.hV},f!==void 0&&(f.bigint!==void 0?this.setByBigInteger(f.bigint):f.int!==void 0?this.setByInteger(f.int):typeof f=="number"?this.setByInteger(f):f.hex!==void 0&&this.setValueHex(f.hex))},en(U.asn1.DERInteger,U.asn1.ASN1Object),U.asn1.DERBitString=function(f){if(f!==void 0&&f.obj!==void 0){var d=U.asn1.ASN1Util.newObject(f.obj);f.hex="00"+d.getEncodedHex()}U.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(p){this.hTLV=null,this.isModified=!0,this.hV=p},this.setUnusedBitsAndHexValue=function(p,y){if(p<0||7<p)throw"unused bits shall be from 0 to 7: u = "+p;var S="0"+p;this.hTLV=null,this.isModified=!0,this.hV=S+y},this.setByBinaryString=function(p){var y=8-(p=p.replace(/0+$/,"")).length%8;y==8&&(y=0);for(var S=0;S<=y;S++)p+="0";var I="";for(S=0;S<p.length-1;S+=8){var P=p.substr(S,8),H=parseInt(P,2).toString(16);H.length==1&&(H="0"+H),I+=H}this.hTLV=null,this.isModified=!0,this.hV="0"+y+I},this.setByBooleanArray=function(p){for(var y="",S=0;S<p.length;S++)p[S]==1?y+="1":y+="0";this.setByBinaryString(y)},this.newFalseArray=function(p){for(var y=new Array(p),S=0;S<p;S++)y[S]=!1;return y},this.getFreshValueHex=function(){return this.hV},f!==void 0&&(typeof f=="string"&&f.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(f):f.hex!==void 0?this.setHexValueIncludingUnusedBits(f.hex):f.bin!==void 0?this.setByBinaryString(f.bin):f.array!==void 0&&this.setByBooleanArray(f.array))},en(U.asn1.DERBitString,U.asn1.ASN1Object),U.asn1.DEROctetString=function(f){if(f!==void 0&&f.obj!==void 0){var d=U.asn1.ASN1Util.newObject(f.obj);f.hex=d.getEncodedHex()}U.asn1.DEROctetString.superclass.constructor.call(this,f),this.hT="04"},en(U.asn1.DEROctetString,U.asn1.DERAbstractString),U.asn1.DERNull=function(){U.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},en(U.asn1.DERNull,U.asn1.ASN1Object),U.asn1.DERObjectIdentifier=function(f){U.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(d){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=d},this.setValueOidString=function(d){var p=function(S){var I=function(te){var se=te.toString(16);return se.length==1&&(se="0"+se),se},P=function(te){var se="",he=parseInt(te,10).toString(2),ve=7-he.length%7;ve==7&&(ve=0);for(var Ee="",O=0;O<ve;O++)Ee+="0";for(he=Ee+he,O=0;O<he.length-1;O+=7){var J=he.substr(O,7);O!=he.length-7&&(J="1"+J),se+=I(parseInt(J,2))}return se};try{if(!S.match(/^[0-9.]+$/))return null;var H="",V=S.split("."),q=40*parseInt(V[0],10)+parseInt(V[1],10);H+=I(q),V.splice(0,2);for(var K=0;K<V.length;K++)H+=P(V[K]);return H}catch{return null}}(d);if(p==null)throw new Error("malformed oid string: "+d);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=p},this.setValueName=function(d){var p=U.asn1.x509.OID.name2oid(d);if(p==="")throw new Error("DERObjectIdentifier oidName undefined: "+d);this.setValueOidString(p)},this.setValueNameOrOid=function(d){d.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(d):this.setValueName(d)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(d){typeof d=="string"?this.setValueNameOrOid(d):d.oid!==void 0?this.setValueNameOrOid(d.oid):d.name!==void 0?this.setValueNameOrOid(d.name):d.hex!==void 0&&this.setValueHex(d.hex)},f!==void 0&&this.setByParam(f)},en(U.asn1.DERObjectIdentifier,U.asn1.ASN1Object),U.asn1.DEREnumerated=function(f){U.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(d){this.hTLV=null,this.isModified=!0,this.hV=U.asn1.ASN1Util.bigIntToMinTwosComplementsHex(d)},this.setByInteger=function(d){var p=new k(String(d),10);this.setByBigInteger(p)},this.setValueHex=function(d){this.hV=d},this.getFreshValueHex=function(){return this.hV},f!==void 0&&(f.int!==void 0?this.setByInteger(f.int):typeof f=="number"?this.setByInteger(f):f.hex!==void 0&&this.setValueHex(f.hex))},en(U.asn1.DEREnumerated,U.asn1.ASN1Object),U.asn1.DERUTF8String=function(f){U.asn1.DERUTF8String.superclass.constructor.call(this,f),this.hT="0c"},en(U.asn1.DERUTF8String,U.asn1.DERAbstractString),U.asn1.DERNumericString=function(f){U.asn1.DERNumericString.superclass.constructor.call(this,f),this.hT="12"},en(U.asn1.DERNumericString,U.asn1.DERAbstractString),U.asn1.DERPrintableString=function(f){U.asn1.DERPrintableString.superclass.constructor.call(this,f),this.hT="13"},en(U.asn1.DERPrintableString,U.asn1.DERAbstractString),U.asn1.DERTeletexString=function(f){U.asn1.DERTeletexString.superclass.constructor.call(this,f),this.hT="14"},en(U.asn1.DERTeletexString,U.asn1.DERAbstractString),U.asn1.DERIA5String=function(f){U.asn1.DERIA5String.superclass.constructor.call(this,f),this.hT="16"},en(U.asn1.DERIA5String,U.asn1.DERAbstractString),U.asn1.DERVisibleString=function(f){U.asn1.DERIA5String.superclass.constructor.call(this,f),this.hT="1a"},en(U.asn1.DERVisibleString,U.asn1.DERAbstractString),U.asn1.DERBMPString=function(f){U.asn1.DERBMPString.superclass.constructor.call(this,f),this.hT="1e"},en(U.asn1.DERBMPString,U.asn1.DERAbstractString),U.asn1.DERUTCTime=function(f){U.asn1.DERUTCTime.superclass.constructor.call(this,f),this.hT="17",this.setByDate=function(d){this.hTLV=null,this.isModified=!0,this.date=d,this.s=this.formatDate(this.date,"utc"),this.hV=da(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=da(this.s)),this.hV},f!==void 0&&(f.str!==void 0?this.setString(f.str):typeof f=="string"&&f.match(/^[0-9]{12}Z$/)?this.setString(f):f.hex!==void 0?this.setStringHex(f.hex):f.date!==void 0&&this.setByDate(f.date))},en(U.asn1.DERUTCTime,U.asn1.DERAbstractTime),U.asn1.DERGeneralizedTime=function(f){U.asn1.DERGeneralizedTime.superclass.constructor.call(this,f),this.hT="18",this.withMillis=!1,this.setByDate=function(d){this.hTLV=null,this.isModified=!0,this.date=d,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=da(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=da(this.s)),this.hV},f!==void 0&&(f.str!==void 0?this.setString(f.str):typeof f=="string"&&f.match(/^[0-9]{14}Z$/)?this.setString(f):f.hex!==void 0?this.setStringHex(f.hex):f.date!==void 0&&this.setByDate(f.date),f.millis===!0&&(this.withMillis=!0))},en(U.asn1.DERGeneralizedTime,U.asn1.DERAbstractTime),U.asn1.DERSequence=function(f){U.asn1.DERSequence.superclass.constructor.call(this,f),this.hT="30",this.getFreshValueHex=function(){for(var d="",p=0;p<this.asn1Array.length;p++)d+=this.asn1Array[p].getEncodedHex();return this.hV=d,this.hV}},en(U.asn1.DERSequence,U.asn1.DERAbstractStructured),U.asn1.DERSet=function(f){U.asn1.DERSet.superclass.constructor.call(this,f),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var d=new Array,p=0;p<this.asn1Array.length;p++){var y=this.asn1Array[p];d.push(y.getEncodedHex())}return this.sortFlag==1&&d.sort(),this.hV=d.join(""),this.hV},f!==void 0&&f.sortflag!==void 0&&f.sortflag==0&&(this.sortFlag=!1)},en(U.asn1.DERSet,U.asn1.DERAbstractStructured),U.asn1.DERTaggedObject=function(f){U.asn1.DERTaggedObject.superclass.constructor.call(this);var d=U.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(p,y,S){this.hT=y,this.isExplicit=p,this.asn1Object=S,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=S.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,y),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(p){p.tag!=null&&(this.hT=p.tag),p.explicit!=null&&(this.isExplicit=p.explicit),p.tage!=null&&(this.hT=p.tage,this.isExplicit=!0),p.tagi!=null&&(this.hT=p.tagi,this.isExplicit=!1),p.obj!=null&&(p.obj instanceof d.ASN1Object?(this.asn1Object=p.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):v(p.obj)=="object"&&(this.asn1Object=d.ASN1Util.newObject(p.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},f!=null&&this.setByParam(f)},en(U.asn1.DERTaggedObject,U.asn1.ASN1Object);var U,qc,Oo,nt=new function(){};function U_(f){for(var d=new Array,p=0;p<f.length;p++)d[p]=f.charCodeAt(p);return d}function V_(f){for(var d="",p=0;p<f.length;p++)d+=String.fromCharCode(f[p]);return d}function fh(f){for(var d="",p=0;p<f.length;p++){var y=f[p].toString(16);y.length==1&&(y="0"+y),d+=y}return d}function da(f){return fh(U_(f))}function hh(f){return f=(f=(f=f.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function zc(f){return f.length%4==2?f+="==":f.length%4==3&&(f+="="),f=(f=f.replace(/-/g,"+")).replace(/_/g,"/")}function Hr(f){return f.length%2==1&&(f="0"+f),hh(D(f))}function ur(f){return $(zc(f))}function ph(f){return gh(vh(f))}function qr(f){return decodeURIComponent(yh(f))}function ko(f){for(var d="",p=0;p<f.length-1;p+=2)d+=String.fromCharCode(parseInt(f.substr(p,2),16));return d}function as(f){for(var d="",p=0;p<f.length;p++)d+=("0"+f.charCodeAt(p).toString(16)).slice(-2);return d}function $_(f){return D(f)}function H_(f){var d=$_(f).replace(/(.{64})/g,`$1\r
`);return d=d.replace(/\r\n$/,"")}function q_(f){return $(f.replace(/[^0-9A-Za-z\/+=]*/g,""))}function eo(f,d){return"-----BEGIN "+d+`-----\r
`+H_(f)+`\r
-----END `+d+`-----\r
`}function ks(f,d){if(f.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+d;return q_(f=d!==void 0?(f=f.replace(new RegExp("^[^]*-----BEGIN "+d+"-----"),"")).replace(new RegExp("-----END "+d+"-----[^]*$"),""):(f=f.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function mh(f){var d,p,y,S,I,P,H,V,q,K,Y;if(Y=f.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return V=Y[1],d=parseInt(V),V.length===2&&(50<=d&&d<100?d=1900+d:0<=d&&d<50&&(d=2e3+d)),p=parseInt(Y[2])-1,y=parseInt(Y[3]),S=parseInt(Y[4]),I=parseInt(Y[5]),P=parseInt(Y[6]),H=0,(q=Y[7])!==""&&(K=(q.substr(1)+"00").substr(0,3),H=parseInt(K)),Date.UTC(d,p,y,S,I,P,H);throw"unsupported zulu format: "+f}function Jm(f){return~~(mh(f)/1e3)}function gh(f){return f.replace(/%/g,"")}function yh(f){return f.replace(/(..)/g,"%$1")}function z_(f){var d="malformed IPv6 address";if(!f.match(/^[0-9A-Fa-f:]+$/))throw d;var p=(f=f.toLowerCase()).split(":").length-1;if(p<2)throw d;var y=":".repeat(7-p+2),S=(f=f.replace("::",y)).split(":");if(S.length!=8)throw d;for(var I=0;I<8;I++)S[I]=("0000"+S[I]).slice(-4);return S.join("")}function Ps(f){if(!f.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var d=(f=f.toLowerCase()).match(/.{1,4}/g),p=0;p<8;p++)d[p]=d[p].replace(/^0+/,""),d[p]==""&&(d[p]="0");var y=(f=":"+d.join(":")+":").match(/:(0:){2,}/g);if(y===null)return f.slice(1,-1);var S="";for(p=0;p<y.length;p++)y[p].length>S.length&&(S=y[p]);return(f=f.replace(S,"::")).slice(1,-1)}function ls(f){var d="malformed hex value";if(!f.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw d;if(f.length!=8)return f.length==32?Ps(f):f;try{return parseInt(f.substr(0,2),16)+"."+parseInt(f.substr(2,2),16)+"."+parseInt(f.substr(4,2),16)+"."+parseInt(f.substr(6,2),16)}catch{throw d}}function G_(f){return f.match(/.{4}/g).map(function(p){var y=parseInt(p.substr(0,2),16),S=parseInt(p.substr(2),16);if(y==0&S<128)return String.fromCharCode(S);if(y<8){var I=128|63&S;return qr((192|(7&y)<<3|(192&S)>>6).toString(16)+I.toString(16))}I=128|(15&y)<<2|(192&S)>>6;var P=128|63&S;return qr((224|(240&y)>>4).toString(16)+I.toString(16)+P.toString(16))}).join("")}function vh(f){for(var d=encodeURIComponent(f),p="",y=0;y<d.length;y++)d[y]=="%"?(p+=d.substr(y,3),y+=2):p=p+"%"+da(d[y]);return p}function W_(f){return!(f.length%2!=0||!f.match(/^[0-9a-f]+$/)&&!f.match(/^[0-9A-F]+$/))}function _h(f){return f.length%2==1?"0"+f:f.substr(0,1)>"7"?"00"+f:f}nt.getLblen=function(f,d){if(f.substr(d+2,1)!="8")return 1;var p=parseInt(f.substr(d+3,1));return p==0?-1:0<p&&p<10?p+1:-2},nt.getL=function(f,d){var p=nt.getLblen(f,d);return p<1?"":f.substr(d+2,2*p)},nt.getVblen=function(f,d){var p;return(p=nt.getL(f,d))==""?-1:(p.substr(0,1)==="8"?new k(p.substr(2),16):new k(p,16)).intValue()},nt.getVidx=function(f,d){var p=nt.getLblen(f,d);return p<0?p:d+2*(p+1)},nt.getV=function(f,d){var p=nt.getVidx(f,d),y=nt.getVblen(f,d);return f.substr(p,2*y)},nt.getTLV=function(f,d){return f.substr(d,2)+nt.getL(f,d)+nt.getV(f,d)},nt.getTLVblen=function(f,d){return 2+2*nt.getLblen(f,d)+2*nt.getVblen(f,d)},nt.getNextSiblingIdx=function(f,d){return nt.getVidx(f,d)+2*nt.getVblen(f,d)},nt.getChildIdx=function(f,d){var p,y,S,I=nt,P=[];p=I.getVidx(f,d),y=2*I.getVblen(f,d),f.substr(d,2)=="03"&&(p+=2,y-=2),S=0;for(var H=p;S<=y;){var V=I.getTLVblen(f,H);if((S+=V)<=y&&P.push(H),H+=V,S>=y)break}return P},nt.getNthChildIdx=function(f,d,p){return nt.getChildIdx(f,d)[p]},nt.getIdxbyList=function(f,d,p,y){var S,I,P=nt;return p.length==0?y!==void 0&&f.substr(d,2)!==y?-1:d:(S=p.shift())>=(I=P.getChildIdx(f,d)).length?-1:P.getIdxbyList(f,I[S],p,y)},nt.getIdxbyListEx=function(f,d,p,y){var S,I,P=nt;if(p.length==0)return y!==void 0&&f.substr(d,2)!==y?-1:d;S=p.shift(),I=P.getChildIdx(f,d);for(var H=0,V=0;V<I.length;V++){var q=f.substr(I[V],2);if(typeof S=="number"&&!P.isContextTag(q)&&H==S||typeof S=="string"&&P.isContextTag(q,S))return P.getIdxbyListEx(f,I[V],p,y);P.isContextTag(q)||H++}return-1},nt.getTLVbyList=function(f,d,p,y){var S=nt,I=S.getIdxbyList(f,d,p,y);return I==-1||I>=f.length?null:S.getTLV(f,I)},nt.getTLVbyListEx=function(f,d,p,y){var S=nt,I=S.getIdxbyListEx(f,d,p,y);return I==-1?null:S.getTLV(f,I)},nt.getVbyList=function(f,d,p,y,S){var I,P,H=nt;return(I=H.getIdxbyList(f,d,p,y))==-1||I>=f.length?null:(P=H.getV(f,I),S===!0&&(P=P.substr(2)),P)},nt.getVbyListEx=function(f,d,p,y,S){var I,P,H=nt;return(I=H.getIdxbyListEx(f,d,p,y))==-1?null:(P=H.getV(f,I),f.substr(I,2)=="03"&&S!==!1&&(P=P.substr(2)),P)},nt.getInt=function(f,d,p){p==null&&(p=-1);try{var y=f.substr(d,2);if(y!="02"&&y!="03")return p;var S=nt.getV(f,d);return y=="02"?parseInt(S,16):function(P){try{var H=P.substr(0,2);if(H=="00")return parseInt(P.substr(2),16);var V=parseInt(H,16),q=P.substr(2),K=parseInt(q,16).toString(2);return K=="0"&&(K="00000000"),K=K.slice(0,0-V),parseInt(K,2)}catch{return-1}}(S)}catch{return p}},nt.getOID=function(f,d,p){p==null&&(p=null);try{return f.substr(d,2)!="06"?p:function(S){if(!W_(S))return null;try{var I=[],P=S.substr(0,2),H=parseInt(P,16);I[0]=new String(Math.floor(H/40)),I[1]=new String(H%40);for(var V=S.substr(2),q=[],K=0;K<V.length/2;K++)q.push(parseInt(V.substr(2*K,2),16));var Y=[],te="";for(K=0;K<q.length;K++)128&q[K]?te+=K_((127&q[K]).toString(2),7):(te+=K_((127&q[K]).toString(2),7),Y.push(new String(parseInt(te,2))),te="");var se=I.join(".");return Y.length>0&&(se=se+"."+Y.join(".")),se}catch{return null}}(nt.getV(f,d))}catch{return p}},nt.getOIDName=function(f,d,p){p==null&&(p=null);try{var y=nt.getOID(f,d,p);if(y==p)return p;var S=U.asn1.x509.OID.oid2name(y);return S==""?y:S}catch{return p}},nt.getString=function(f,d,p){p==null&&(p=null);try{return ko(nt.getV(f,d))}catch{return p}},nt.hextooidstr=function(f){var d=function(te,se){return te.length>=se?te:new Array(se-te.length+1).join("0")+te},p=[],y=f.substr(0,2),S=parseInt(y,16);p[0]=new String(Math.floor(S/40)),p[1]=new String(S%40);for(var I=f.substr(2),P=[],H=0;H<I.length/2;H++)P.push(parseInt(I.substr(2*H,2),16));var V=[],q="";for(H=0;H<P.length;H++)128&P[H]?q+=d((127&P[H]).toString(2),7):(q+=d((127&P[H]).toString(2),7),V.push(new String(parseInt(q,2))),q="");var K=p.join(".");return V.length>0&&(K=K+"."+V.join(".")),K},nt.dump=function(f,d,p,y){var S=nt,I=S.getV,P=S.dump,H=S.getChildIdx,V=f;f instanceof U.asn1.ASN1Object&&(V=f.getEncodedHex());var q=function(Ve,cn){return Ve.length<=2*cn?Ve:Ve.substr(0,cn)+"..(total "+Ve.length/2+"bytes).."+Ve.substr(Ve.length-cn,cn)};d===void 0&&(d={ommit_long_octet:32}),p===void 0&&(p=0),y===void 0&&(y="");var K,Y=d.ommit_long_octet;if((K=V.substr(p,2))=="01")return(te=I(V,p))=="00"?y+`BOOLEAN FALSE
`:y+`BOOLEAN TRUE
`;if(K=="02")return y+"INTEGER "+q(te=I(V,p),Y)+`
`;if(K=="03"){var te=I(V,p);if(S.isASN1HEX(te.substr(2))){var se=y+`BITSTRING, encapsulates
`;return se+=P(te.substr(2),d,0,y+"  ")}return y+"BITSTRING "+q(te,Y)+`
`}if(K=="04")return te=I(V,p),S.isASN1HEX(te)?(se=y+`OCTETSTRING, encapsulates
`,se+=P(te,d,0,y+"  ")):y+"OCTETSTRING "+q(te,Y)+`
`;if(K=="05")return y+`NULL
`;if(K=="06"){var he=I(V,p),ve=U.asn1.ASN1Util.oidHexToInt(he),Ee=U.asn1.x509.OID.oid2name(ve),O=ve.replace(/\./g," ");return Ee!=""?y+"ObjectIdentifier "+Ee+" ("+O+`)
`:y+"ObjectIdentifier ("+O+`)
`}if(K=="0a")return y+"ENUMERATED "+parseInt(I(V,p))+`
`;if(K=="0c")return y+"UTF8String '"+qr(I(V,p))+`'
`;if(K=="13")return y+"PrintableString '"+qr(I(V,p))+`'
`;if(K=="14")return y+"TeletexString '"+qr(I(V,p))+`'
`;if(K=="16")return y+"IA5String '"+qr(I(V,p))+`'
`;if(K=="17")return y+"UTCTime "+qr(I(V,p))+`
`;if(K=="18")return y+"GeneralizedTime "+qr(I(V,p))+`
`;if(K=="1a")return y+"VisualString '"+qr(I(V,p))+`'
`;if(K=="1e")return y+"BMPString '"+G_(I(V,p))+`'
`;if(K=="30"){if(V.substr(p,4)=="3000")return y+`SEQUENCE {}
`;se=y+`SEQUENCE
`;var J=d;if(((me=H(V,p)).length==2||me.length==3)&&V.substr(me[0],2)=="06"&&V.substr(me[me.length-1],2)=="04"){Ee=S.oidname(I(V,me[0]));var Z=JSON.parse(JSON.stringify(d));Z.x509ExtName=Ee,J=Z}for(var ee=0;ee<me.length;ee++)se+=P(V,J,me[ee],y+"  ");return se}if(K=="31"){se=y+`SET
`;var me=H(V,p);for(ee=0;ee<me.length;ee++)se+=P(V,d,me[ee],y+"  ");return se}if((128&(K=parseInt(K,16)))!=0){var we=31&K;if((32&K)!=0){for(se=y+"["+we+`]
`,me=H(V,p),ee=0;ee<me.length;ee++)se+=P(V,d,me[ee],y+"  ");return se}if(te=I(V,p),nt.isASN1HEX(te)){var se=y+"["+we+`]
`;return se+=P(te,d,0,y+"  ")}return(te.substr(0,8)=="68747470"||d.x509ExtName==="subjectAltName"&&we==2)&&(te=qr(te)),se=y+"["+we+"] "+te+`
`}return y+"UNKNOWN("+K+") "+I(V,p)+`
`},nt.isContextTag=function(f,d){var p,y;f=f.toLowerCase();try{p=parseInt(f,16)}catch{return-1}if(d===void 0)return(192&p)==128;try{return d.match(/^\[[0-9]+\]$/)!=null&&!((y=parseInt(d.substr(1,d.length-1),10))>31)&&(192&p)==128&&(31&p)==y}catch{return!1}},nt.isASN1HEX=function(f){var d=nt;if(f.length%2==1)return!1;var p=d.getVblen(f,0),y=f.substr(0,2),S=d.getL(f,0);return f.length-y.length-S.length==2*p},nt.checkStrictDER=function(f,d,p,y,S){var I=nt;if(p===void 0){if(typeof f!="string")throw new Error("not hex string");if(f=f.toLowerCase(),!U.lang.String.isHex(f))throw new Error("not hex string");p=f.length,S=(y=f.length/2)<128?1:Math.ceil(y.toString(16))+1}if(I.getL(f,d).length>2*S)throw new Error("L of TLV too long: idx="+d);var P=I.getVblen(f,d);if(P>y)throw new Error("value of L too long than hex: idx="+d);var H=I.getTLV(f,d),V=H.length-2-I.getL(f,d).length;if(V!==2*P)throw new Error("V string length and L's value not the same:"+V+"/"+2*P);if(d===0&&f.length!=H.length)throw new Error("total length and TLV length unmatch:"+f.length+"!="+H.length);var q=f.substr(d,2);if(q==="02"){var K=I.getVidx(f,d);if(f.substr(K,2)=="00"&&f.charCodeAt(K+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(q,16)){for(var Y=I.getVblen(f,d),te=0,se=I.getChildIdx(f,d),he=0;he<se.length;he++)te+=I.getTLV(f,se[he]).length,I.checkStrictDER(f,se[he],p,y,S);if(2*Y!=te)throw new Error("sum of children's TLV length and L unmatch: "+2*Y+"!="+te)}},nt.oidname=function(f){var d=U.asn1;U.lang.String.isHex(f)&&(f=d.ASN1Util.oidHexToInt(f));var p=d.x509.OID.oid2name(f);return p===""&&(p=f),p},U!==void 0&&U||(e.KJUR=U={}),U.lang!==void 0&&U.lang||(U.lang={}),U.lang.String=function(){},typeof r=="function"?(e.utf8tob64u=qc=function(d){return hh(r.from(d,"utf8").toString("base64"))},e.b64utoutf8=Oo=function(d){return r.from(zc(d),"base64").toString("utf8")}):(e.utf8tob64u=qc=function(d){return Hr(gh(vh(d)))},e.b64utoutf8=Oo=function(d){return decodeURIComponent(yh(ur(d)))}),U.lang.String.isInteger=function(f){return!!f.match(/^[0-9]+$/)||!!f.match(/^-[0-9]+$/)},U.lang.String.isHex=function(f){return W_(f)},U.lang.String.isBase64=function(f){return!(!(f=f.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||f.length%4!=0)},U.lang.String.isBase64URL=function(f){return!f.match(/[+/=]/)&&(f=zc(f),U.lang.String.isBase64(f))},U.lang.String.isIntegerArray=function(f){return!!(f=f.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},U.lang.String.isPrintable=function(f){return f.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},U.lang.String.isIA5=function(f){return f.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},U.lang.String.isMail=function(f){return f.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var K_=function(d,p,y){return y==null&&(y="0"),d.length>=p?d:new Array(p-d.length+1).join(y)+d};function en(f,d){var p=function(){};p.prototype=d.prototype,f.prototype=new p,f.prototype.constructor=f,f.superclass=d.prototype,d.prototype.constructor==Object.prototype.constructor&&(d.prototype.constructor=d)}U!==void 0&&U||(e.KJUR=U={}),U.crypto!==void 0&&U.crypto||(U.crypto={}),U.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:R.algo.MD5,sha1:R.algo.SHA1,sha224:R.algo.SHA224,sha256:R.algo.SHA256,sha384:R.algo.SHA384,sha512:R.algo.SHA512,ripemd160:R.algo.RIPEMD160},this.getDigestInfoHex=function(f,d){if(this.DIGESTINFOHEAD[d]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+d;return this.DIGESTINFOHEAD[d]+f},this.getPaddedDigestInfoHex=function(f,d,p){var y=this.getDigestInfoHex(f,d),S=p/4;if(y.length+22>S)throw"key is too short for SigAlg: keylen="+p+","+d;for(var I="0001",P="00"+y,H="",V=S-I.length-P.length,q=0;q<V;q+=2)H+="ff";return I+H+P},this.hashString=function(f,d){return new U.crypto.MessageDigest({alg:d}).digestString(f)},this.hashHex=function(f,d){return new U.crypto.MessageDigest({alg:d}).digestHex(f)},this.sha1=function(f){return this.hashString(f,"sha1")},this.sha256=function(f){return this.hashString(f,"sha256")},this.sha256Hex=function(f){return this.hashHex(f,"sha256")},this.sha512=function(f){return this.hashString(f,"sha512")},this.sha512Hex=function(f){return this.hashHex(f,"sha512")},this.isKey=function(f){return f instanceof Dt||f instanceof U.crypto.DSA||f instanceof U.crypto.ECDSA}},U.crypto.Util.md5=function(f){return new U.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(f)},U.crypto.Util.ripemd160=function(f){return new U.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(f)},U.crypto.Util.SECURERANDOMGEN=new Gn,U.crypto.Util.getRandomHexOfNbytes=function(f){var d=new Array(f);return U.crypto.Util.SECURERANDOMGEN.nextBytes(d),fh(d)},U.crypto.Util.getRandomBigIntegerOfNbytes=function(f){return new k(U.crypto.Util.getRandomHexOfNbytes(f),16)},U.crypto.Util.getRandomHexOfNbits=function(f){var d=f%8,p=new Array((f-d)/8+1);return U.crypto.Util.SECURERANDOMGEN.nextBytes(p),p[0]=(255<<d&255^255)&p[0],fh(p)},U.crypto.Util.getRandomBigIntegerOfNbits=function(f){return new k(U.crypto.Util.getRandomHexOfNbits(f),16)},U.crypto.Util.getRandomBigIntegerZeroToMax=function(f){for(var d=f.bitLength();;){var p=U.crypto.Util.getRandomBigIntegerOfNbits(d);if(f.compareTo(p)!=-1)return p}},U.crypto.Util.getRandomBigIntegerMinToMax=function(f,d){var p=f.compareTo(d);if(p==1)throw"biMin is greater than biMax";if(p==0)return f;var y=d.subtract(f);return U.crypto.Util.getRandomBigIntegerZeroToMax(y).add(f)},U.crypto.MessageDigest=function(f){this.setAlgAndProvider=function(d,p){if((d=U.crypto.MessageDigest.getCanonicalAlgName(d))!==null&&p===void 0&&(p=U.crypto.Util.DEFAULTPROVIDER[d]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(d)!=-1&&p=="cryptojs"){try{this.md=U.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[d].create()}catch(y){throw"setAlgAndProvider hash alg set fail alg="+d+"/"+y}this.updateString=function(y){this.md.update(y)},this.updateHex=function(y){var S=R.enc.Hex.parse(y);this.md.update(S)},this.digest=function(){return this.md.finalize().toString(R.enc.Hex)},this.digestString=function(y){return this.updateString(y),this.digest()},this.digestHex=function(y){return this.updateHex(y),this.digest()}}if(":sha256:".indexOf(d)!=-1&&p=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(y){throw"setAlgAndProvider hash alg set fail alg="+d+"/"+y}this.updateString=function(y){this.md.update(y)},this.updateHex=function(y){var S=sjcl.codec.hex.toBits(y);this.md.update(S)},this.digest=function(){var y=this.md.finalize();return sjcl.codec.hex.fromBits(y)},this.digestString=function(y){return this.updateString(y),this.digest()},this.digestHex=function(y){return this.updateHex(y),this.digest()}}},this.updateString=function(d){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(d){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(d){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(d){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},f!==void 0&&f.alg!==void 0&&(this.algName=f.alg,f.prov===void 0&&(this.provName=U.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},U.crypto.MessageDigest.getCanonicalAlgName=function(f){return typeof f=="string"&&(f=(f=f.toLowerCase()).replace(/-/,"")),f},U.crypto.MessageDigest.getHashLength=function(f){var d=U.crypto.MessageDigest,p=d.getCanonicalAlgName(f);if(d.HASHLENGTH[p]===void 0)throw"not supported algorithm: "+f;return d.HASHLENGTH[p]},U.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},U.crypto.Mac=function(f){this.setAlgAndProvider=function(d,p){if((d=d.toLowerCase())==null&&(d="hmacsha1"),(d=d.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+d;p===void 0&&(p=U.crypto.Util.DEFAULTPROVIDER[d]),this.algProv=d+"/"+p;var y=d.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(y)!=-1&&p=="cryptojs"){try{var S=U.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[y];this.mac=R.algo.HMAC.create(S,this.pass)}catch(I){throw"setAlgAndProvider hash alg set fail hashAlg="+y+"/"+I}this.updateString=function(I){this.mac.update(I)},this.updateHex=function(I){var P=R.enc.Hex.parse(I);this.mac.update(P)},this.doFinal=function(){return this.mac.finalize().toString(R.enc.Hex)},this.doFinalString=function(I){return this.updateString(I),this.doFinal()},this.doFinalHex=function(I){return this.updateHex(I),this.doFinal()}}},this.updateString=function(d){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(d){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(d){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(d){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(d){if(typeof d=="string"){var p=d;return d.length%2!=1&&d.match(/^[0-9A-Fa-f]+$/)||(p=as(d)),void(this.pass=R.enc.Hex.parse(p))}if((d===void 0?"undefined":v(d))!="object")throw"KJUR.crypto.Mac unsupported password type: "+d;if(p=null,d.hex!==void 0){if(d.hex.length%2!=0||!d.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+d.hex;p=d.hex}if(d.utf8!==void 0&&(p=ph(d.utf8)),d.rstr!==void 0&&(p=as(d.rstr)),d.b64!==void 0&&(p=$(d.b64)),d.b64u!==void 0&&(p=ur(d.b64u)),p==null)throw"KJUR.crypto.Mac unsupported password type: "+d;this.pass=R.enc.Hex.parse(p)},f!==void 0&&(f.pass!==void 0&&this.setPassword(f.pass),f.alg!==void 0&&(this.algName=f.alg,f.prov===void 0&&(this.provName=U.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},U.crypto.Signature=function(f){var d=null;if(this._setAlgNames=function(){var p=this.algName.match(/^(.+)with(.+)$/);p&&(this.mdAlgName=p[1].toLowerCase(),this.pubkeyAlgName=p[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(p,y){for(var S="",I=y/4-p.length,P=0;P<I;P++)S+="0";return S+p},this.setAlgAndProvider=function(p,y){if(this._setAlgNames(),y!="cryptojs/jsrsa")throw new Error("provider not supported: "+y);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new U.crypto.MessageDigest({alg:this.mdAlgName})}catch(S){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+S)}this.init=function(S,I){var P=null;try{P=I===void 0?dn.getKey(S):dn.getKey(S,I)}catch(H){throw"init failed:"+H}if(P.isPrivate===!0)this.prvKey=P,this.state="SIGN";else{if(P.isPublic!==!0)throw"init failed.:"+P;this.pubKey=P,this.state="VERIFY"}},this.updateString=function(S){this.md.updateString(S)},this.updateHex=function(S){this.md.updateHex(S)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&U.crypto.ECDSA!==void 0&&(this.prvKey=new U.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Dt&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Dt&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof U.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof U.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(S){return this.updateString(S),this.sign()},this.signHex=function(S){return this.updateHex(S),this.sign()},this.verify=function(S){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&U.crypto.ECDSA!==void 0&&(this.pubKey=new U.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Dt&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,S,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Dt&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,S);if(U.crypto.ECDSA!==void 0&&this.pubKey instanceof U.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,S);if(U.crypto.DSA!==void 0&&this.pubKey instanceof U.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,S);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(p,y){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(p){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(p){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(p){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(p){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(p){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=f,f!==void 0&&(f.alg!==void 0&&(this.algName=f.alg,f.prov===void 0?this.provName=U.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=f.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),f.psssaltlen!==void 0&&(this.pssSaltLen=f.psssaltlen),f.prvkeypem!==void 0)){if(f.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{d=dn.getKey(f.prvkeypem),this.init(d)}catch(p){throw"fatal error to load pem private key: "+p}}},U.crypto.Cipher=function(f){},U.crypto.Cipher.encrypt=function(f,d,p){if(d instanceof Dt&&d.isPublic){var y=U.crypto.Cipher.getAlgByKeyAndName(d,p);if(y==="RSA")return d.encrypt(f);if(y==="RSAOAEP")return d.encryptOAEP(f,"sha1");var S=y.match(/^RSAOAEP(\d+)$/);if(S!==null)return d.encryptOAEP(f,"sha"+S[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+p}throw"Cipher.encrypt: unsupported key or algorithm"},U.crypto.Cipher.decrypt=function(f,d,p){if(d instanceof Dt&&d.isPrivate){var y=U.crypto.Cipher.getAlgByKeyAndName(d,p);if(y==="RSA")return d.decrypt(f);if(y==="RSAOAEP")return d.decryptOAEP(f,"sha1");var S=y.match(/^RSAOAEP(\d+)$/);if(S!==null)return d.decryptOAEP(f,"sha"+S[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+p}throw"Cipher.decrypt: unsupported key or algorithm"},U.crypto.Cipher.getAlgByKeyAndName=function(f,d){if(f instanceof Dt){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(d)!=-1)return d;if(d==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+d}throw"getAlgByKeyAndName: not supported algorithm name: "+d},U.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},U!==void 0&&U||(e.KJUR=U={}),U.crypto!==void 0&&U.crypto||(U.crypto={}),U.crypto.ECDSA=function(f){var d=Error,p=k,y=gn,S=U.crypto.ECDSA,I=U.crypto.ECParameterDB,P=S.getName,H=nt,V=H.getVbyListEx,q=H.isASN1HEX,K=new Gn;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Y){return new p(Y.bitLength(),K).mod(Y.subtract(p.ONE)).add(p.ONE)},this.setNamedCurve=function(Y){this.ecparams=I.getByName(Y),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Y},this.setPrivateKeyHex=function(Y){this.isPrivate=!0,this.prvKeyHex=Y},this.setPublicKeyHex=function(Y){this.isPublic=!0,this.pubKeyHex=Y},this.getPublicKeyXYHex=function(){var Y=this.pubKeyHex;if(Y.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var te=this.ecparams.keylen/4;if(Y.length!==2+2*te)throw"malformed public key hex length";var se={};return se.x=Y.substr(2,te),se.y=Y.substr(2+te),se},this.getShortNISTPCurveName=function(){var Y=this.curveName;return Y==="secp256r1"||Y==="NIST P-256"||Y==="P-256"||Y==="prime256v1"?"P-256":Y==="secp384r1"||Y==="NIST P-384"||Y==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var Y=this.ecparams.n,te=this.getBigRandom(Y),se=this.ecparams.G.multiply(te),he=se.getX().toBigInteger(),ve=se.getY().toBigInteger(),Ee=this.ecparams.keylen/4,O=("0000000000"+te.toString(16)).slice(-Ee),J="04"+("0000000000"+he.toString(16)).slice(-Ee)+("0000000000"+ve.toString(16)).slice(-Ee);return this.setPrivateKeyHex(O),this.setPublicKeyHex(J),{ecprvhex:O,ecpubhex:J}},this.signWithMessageHash=function(Y){return this.signHex(Y,this.prvKeyHex)},this.signHex=function(Y,te){var se=new p(te,16),he=this.ecparams.n,ve=new p(Y.substring(0,this.ecparams.keylen/4),16);do var Ee=this.getBigRandom(he),O=this.ecparams.G.multiply(Ee).getX().toBigInteger().mod(he);while(O.compareTo(p.ZERO)<=0);var J=Ee.modInverse(he).multiply(ve.add(se.multiply(O))).mod(he);return S.biRSSigToASN1Sig(O,J)},this.sign=function(Y,te){var se=te,he=this.ecparams.n,ve=p.fromByteArrayUnsigned(Y);do var Ee=this.getBigRandom(he),O=this.ecparams.G.multiply(Ee).getX().toBigInteger().mod(he);while(O.compareTo(k.ZERO)<=0);var J=Ee.modInverse(he).multiply(ve.add(se.multiply(O))).mod(he);return this.serializeSig(O,J)},this.verifyWithMessageHash=function(Y,te){return this.verifyHex(Y,te,this.pubKeyHex)},this.verifyHex=function(Y,te,se){try{var he,ve,Ee=S.parseSigHex(te);he=Ee.r,ve=Ee.s;var O=y.decodeFromHex(this.ecparams.curve,se),J=new p(Y.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(J,he,ve,O)}catch{return!1}},this.verify=function(Y,te,se){var he,ve,Ee;if(Bitcoin.Util.isArray(te)){var O=this.parseSig(te);he=O.r,ve=O.s}else{if((te===void 0?"undefined":v(te))!=="object"||!te.r||!te.s)throw"Invalid value for signature";he=te.r,ve=te.s}if(se instanceof gn)Ee=se;else{if(!Bitcoin.Util.isArray(se))throw"Invalid format for pubkey value, must be byte array or ECPointFp";Ee=y.decodeFrom(this.ecparams.curve,se)}var J=p.fromByteArrayUnsigned(Y);return this.verifyRaw(J,he,ve,Ee)},this.verifyRaw=function(Y,te,se,he){var ve=this.ecparams.n,Ee=this.ecparams.G;if(te.compareTo(p.ONE)<0||te.compareTo(ve)>=0||se.compareTo(p.ONE)<0||se.compareTo(ve)>=0)return!1;var O=se.modInverse(ve),J=Y.multiply(O).mod(ve),Z=te.multiply(O).mod(ve);return Ee.multiply(J).add(he.multiply(Z)).getX().toBigInteger().mod(ve).equals(te)},this.serializeSig=function(Y,te){var se=Y.toByteArraySigned(),he=te.toByteArraySigned(),ve=[];return ve.push(2),ve.push(se.length),(ve=ve.concat(se)).push(2),ve.push(he.length),(ve=ve.concat(he)).unshift(ve.length),ve.unshift(48),ve},this.parseSig=function(Y){var te;if(Y[0]!=48)throw new Error("Signature not a valid DERSequence");if(Y[te=2]!=2)throw new Error("First element in signature must be a DERInteger");var se=Y.slice(te+2,te+2+Y[te+1]);if(Y[te+=2+Y[te+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var he=Y.slice(te+2,te+2+Y[te+1]);return te+=2+Y[te+1],{r:p.fromByteArrayUnsigned(se),s:p.fromByteArrayUnsigned(he)}},this.parseSigCompact=function(Y){if(Y.length!==65)throw"Signature has the wrong length";var te=Y[0]-27;if(te<0||te>7)throw"Invalid signature type";var se=this.ecparams.n;return{r:p.fromByteArrayUnsigned(Y.slice(1,33)).mod(se),s:p.fromByteArrayUnsigned(Y.slice(33,65)).mod(se),i:te}},this.readPKCS5PrvKeyHex=function(Y){if(q(Y)===!1)throw new Error("not ASN.1 hex string");var te,se,he;try{te=V(Y,0,["[0]",0],"06"),se=V(Y,0,[1],"04");try{he=V(Y,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=P(te),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(he),this.setPrivateKeyHex(se),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Y){if(q(Y)===!1)throw new d("not ASN.1 hex string");var te,se,he;try{V(Y,0,[1,0],"06"),te=V(Y,0,[1,1],"06"),se=V(Y,0,[2,0,1],"04");try{he=V(Y,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new d("malformed PKCS#8 plain ECC private key")}if(this.curveName=P(te),this.curveName===void 0)throw new d("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(he),this.setPrivateKeyHex(se),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Y){if(q(Y)===!1)throw new d("not ASN.1 hex string");var te,se;try{V(Y,0,[0,0],"06"),te=V(Y,0,[0,1],"06"),se=V(Y,0,[1],"03")}catch{throw new d("malformed PKCS#8 ECC public key")}if(this.curveName=P(te),this.curveName===null)throw new d("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(se)},this.readCertPubKeyHex=function(Y,te){if(q(Y)===!1)throw new d("not ASN.1 hex string");var se,he;try{se=V(Y,0,[0,5,0,1],"06"),he=V(Y,0,[0,5,1],"03")}catch{throw new d("malformed X.509 certificate ECC public key")}if(this.curveName=P(se),this.curveName===null)throw new d("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(he)},f!==void 0&&f.curve!==void 0&&(this.curveName=f.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),f!==void 0&&(f.prv!==void 0&&this.setPrivateKeyHex(f.prv),f.pub!==void 0&&this.setPublicKeyHex(f.pub))},U.crypto.ECDSA.parseSigHex=function(f){var d=U.crypto.ECDSA.parseSigHexInHexRS(f);return{r:new k(d.r,16),s:new k(d.s,16)}},U.crypto.ECDSA.parseSigHexInHexRS=function(f){var d=nt,p=d.getChildIdx,y=d.getV;if(d.checkStrictDER(f,0),f.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var S=p(f,0);if(S.length!=2)throw new Error("signature shall have two elements");var I=S[0],P=S[1];if(f.substr(I,2)!="02")throw new Error("1st item not ASN.1 integer");if(f.substr(P,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:y(f,I),s:y(f,P)}},U.crypto.ECDSA.asn1SigToConcatSig=function(f){var d=U.crypto.ECDSA.parseSigHexInHexRS(f),p=d.r,y=d.s;if(p.substr(0,2)=="00"&&p.length%32==2&&(p=p.substr(2)),y.substr(0,2)=="00"&&y.length%32==2&&(y=y.substr(2)),p.length%32==30&&(p="00"+p),y.length%32==30&&(y="00"+y),p.length%32!=0)throw"unknown ECDSA sig r length error";if(y.length%32!=0)throw"unknown ECDSA sig s length error";return p+y},U.crypto.ECDSA.concatSigToASN1Sig=function(f){if(f.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var d=f.substr(0,f.length/2),p=f.substr(f.length/2);return U.crypto.ECDSA.hexRSSigToASN1Sig(d,p)},U.crypto.ECDSA.hexRSSigToASN1Sig=function(f,d){var p=new k(f,16),y=new k(d,16);return U.crypto.ECDSA.biRSSigToASN1Sig(p,y)},U.crypto.ECDSA.biRSSigToASN1Sig=function(f,d){var p=U.asn1,y=new p.DERInteger({bigint:f}),S=new p.DERInteger({bigint:d});return new p.DERSequence({array:[y,S]}).getEncodedHex()},U.crypto.ECDSA.getName=function(f){return f==="2b8104001f"?"secp192k1":f==="2a8648ce3d030107"?"secp256r1":f==="2b8104000a"?"secp256k1":f==="2b81040021"?"secp224r1":f==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(f)!==-1?"secp256r1":"|secp256k1|".indexOf(f)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(f)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(f)!==-1?"secp384r1":null},U!==void 0&&U||(e.KJUR=U={}),U.crypto!==void 0&&U.crypto||(U.crypto={}),U.crypto.ECParameterDB=new function(){var f={},d={};function p(y){return new k(y,16)}this.getByName=function(y){var S=y;if(d[S]!==void 0&&(S=d[y]),f[S]!==void 0)return f[S];throw"unregistered EC curve name: "+S},this.regist=function(y,S,I,P,H,V,q,K,Y,te,se,he){f[y]={};var ve=p(I),Ee=p(P),O=p(H),J=p(V),Z=p(q),ee=new Mo(ve,Ee,O),me=ee.decodePointHex("04"+K+Y);f[y].name=y,f[y].keylen=S,f[y].curve=ee,f[y].G=me,f[y].n=J,f[y].h=Z,f[y].oid=se,f[y].info=he;for(var we=0;we<te.length;we++)d[te[we]]=y}},U.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),U.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),U.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),U.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),U.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),U.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),U.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),U.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),U.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),U.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var dn=function(){var f=function(q,K,Y){return d(R.AES,q,K,Y)},d=function(q,K,Y,te){var se=R.enc.Hex.parse(K),he=R.enc.Hex.parse(Y),ve=R.enc.Hex.parse(te),Ee={};Ee.key=he,Ee.iv=ve,Ee.ciphertext=se;var O=q.decrypt(Ee,he,{iv:ve});return R.enc.Hex.stringify(O)},p=function(q,K,Y){return y(R.AES,q,K,Y)},y=function(q,K,Y,te){var se=R.enc.Hex.parse(K),he=R.enc.Hex.parse(Y),ve=R.enc.Hex.parse(te),Ee=q.encrypt(se,he,{iv:ve}),O=R.enc.Hex.parse(Ee.toString());return R.enc.Base64.stringify(O)},S={"AES-256-CBC":{proc:f,eproc:p,keylen:32,ivlen:16},"AES-192-CBC":{proc:f,eproc:p,keylen:24,ivlen:16},"AES-128-CBC":{proc:f,eproc:p,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(q,K,Y){return d(R.TripleDES,q,K,Y)},eproc:function(q,K,Y){return y(R.TripleDES,q,K,Y)},keylen:24,ivlen:8},"DES-CBC":{proc:function(q,K,Y){return d(R.DES,q,K,Y)},eproc:function(q,K,Y){return y(R.DES,q,K,Y)},keylen:8,ivlen:8}},I=function(q){var K={},Y=q.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Y&&(K.cipher=Y[1],K.ivsalt=Y[2]);var te=q.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));te&&(K.type=te[1]);var se=-1,he=0;q.indexOf(`\r
\r
`)!=-1&&(se=q.indexOf(`\r
\r
`),he=2),q.indexOf(`

`)!=-1&&(se=q.indexOf(`

`),he=1);var ve=q.indexOf("-----END");if(se!=-1&&ve!=-1){var Ee=q.substring(se+2*he,ve-he);Ee=Ee.replace(/\s+/g,""),K.data=Ee}return K},P=function(q,K,Y){for(var te=Y.substring(0,16),se=R.enc.Hex.parse(te),he=R.enc.Utf8.parse(K),ve=S[q].keylen+S[q].ivlen,Ee="",O=null;;){var J=R.algo.MD5.create();if(O!=null&&J.update(O),J.update(he),J.update(se),O=J.finalize(),(Ee+=R.enc.Hex.stringify(O)).length>=2*ve)break}var Z={};return Z.keyhex=Ee.substr(0,2*S[q].keylen),Z.ivhex=Ee.substr(2*S[q].keylen,2*S[q].ivlen),Z},H=function(q,K,Y,te){var se=R.enc.Base64.parse(q),he=R.enc.Hex.stringify(se);return(0,S[K].proc)(he,Y,te)};return{version:"1.0.0",parsePKCS5PEM:function(q){return I(q)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(q,K,Y){return P(q,K,Y)},decryptKeyB64:function(q,K,Y,te){return H(q,K,Y,te)},getDecryptedKeyHex:function(q,K){var Y=I(q),te=(Y.type,Y.cipher),se=Y.ivsalt,he=Y.data,ve=P(te,K,se).keyhex;return H(he,te,ve,se)},getEncryptedPKCS5PEMFromPrvKeyHex:function(q,K,Y,te,se){var he="";if(te!==void 0&&te!=null||(te="AES-256-CBC"),S[te]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+te);se!==void 0&&se!=null||(se=function(O){var J=R.lib.WordArray.random(O);return R.enc.Hex.stringify(J)}(S[te].ivlen).toUpperCase());var ve=function(O,J,Z,ee){return(0,S[J].eproc)(O,Z,ee)}(K,te,P(te,Y,se).keyhex,se);return he="-----BEGIN "+q+` PRIVATE KEY-----\r
`,he+=`Proc-Type: 4,ENCRYPTED\r
`,he+="DEK-Info: "+te+","+se+`\r
`,he+=`\r
`,he+=ve.replace(/(.{64})/g,`$1\r
`),he+=`\r
-----END `+q+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(q){var K=nt,Y=K.getChildIdx,te=K.getV,se={},he=Y(q,0);if(he.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+he.length);se.ciphertext=te(q,he[1]);var ve=Y(q,he[0]);if(ve.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+ve.length);if(te(q,ve[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var Ee=Y(q,ve[1]);if(ve.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+Ee.length);var O=Y(q,Ee[1]);if(O.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+O.length);if(te(q,O[0])!="2a864886f70d0307")throw"this only supports TripleDES";se.encryptionSchemeAlg="TripleDES",se.encryptionSchemeIV=te(q,O[1]);var J=Y(q,Ee[0]);if(J.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+J.length);if(te(q,J[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Z=Y(q,J[1]);if(Z.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Z.length);se.pbkdf2Salt=te(q,Z[0]);var ee=te(q,Z[1]);try{se.pbkdf2Iter=parseInt(ee,16)}catch{throw new Error("malformed format pbkdf2Iter: "+ee)}return se},getPBKDF2KeyHexFromParam:function(q,K){var Y=R.enc.Hex.parse(q.pbkdf2Salt),te=q.pbkdf2Iter,se=R.PBKDF2(K,Y,{keySize:6,iterations:te});return R.enc.Hex.stringify(se)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(q,K){var Y=ks(q,"ENCRYPTED PRIVATE KEY"),te=this.parseHexOfEncryptedPKCS8(Y),se=dn.getPBKDF2KeyHexFromParam(te,K),he={};he.ciphertext=R.enc.Hex.parse(te.ciphertext);var ve=R.enc.Hex.parse(se),Ee=R.enc.Hex.parse(te.encryptionSchemeIV),O=R.TripleDES.decrypt(he,ve,{iv:Ee});return R.enc.Hex.stringify(O)},getKeyFromEncryptedPKCS8PEM:function(q,K){var Y=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(q,K);return this.getKeyFromPlainPrivatePKCS8Hex(Y)},parsePlainPrivatePKCS8Hex:function(q){var K=nt,Y=K.getChildIdx,te=K.getV,se={algparam:null};if(q.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var he=Y(q,0);if(he.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(q.substr(he[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var ve=Y(q,he[1]);if(ve.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(q.substr(ve[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(se.algoid=te(q,ve[0]),q.substr(ve[1],2)=="06"&&(se.algparam=te(q,ve[1])),q.substr(he[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return se.keyidx=K.getVidx(q,he[2]),se},getKeyFromPlainPrivatePKCS8PEM:function(q){var K=ks(q,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(K)},getKeyFromPlainPrivatePKCS8Hex:function(q){var K,Y=this.parsePlainPrivatePKCS8Hex(q);if(Y.algoid=="2a864886f70d010101")K=new Dt;else if(Y.algoid=="2a8648ce380401")K=new U.crypto.DSA;else{if(Y.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");K=new U.crypto.ECDSA}return K.readPKCS8PrvKeyHex(q),K},_getKeyFromPublicPKCS8Hex:function(q){var K,Y=nt.getVbyList(q,0,[0,0],"06");if(Y==="2a864886f70d010101")K=new Dt;else if(Y==="2a8648ce380401")K=new U.crypto.DSA;else{if(Y!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");K=new U.crypto.ECDSA}return K.readPKCS8PubKeyHex(q),K},parsePublicRawRSAKeyHex:function(q){var K=nt,Y=K.getChildIdx,te=K.getV,se={};if(q.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var he=Y(q,0);if(he.length!=2)throw new Error("malformed RSA key(code:002)");if(q.substr(he[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(se.n=te(q,he[0]),q.substr(he[1],2)!="02")throw new Error("malformed RSA key(code:004)");return se.e=te(q,he[1]),se},parsePublicPKCS8Hex:function(q){var K=nt,Y=K.getChildIdx,te=K.getV,se={algparam:null},he=Y(q,0);if(he.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+he.length);var ve=he[0];if(q.substr(ve,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var Ee=Y(q,ve);if(Ee.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(q.substr(Ee[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(se.algoid=te(q,Ee[0]),q.substr(Ee[1],2)=="06"?se.algparam=te(q,Ee[1]):q.substr(Ee[1],2)=="30"&&(se.algparam={},se.algparam.p=K.getVbyList(q,Ee[1],[0],"02"),se.algparam.q=K.getVbyList(q,Ee[1],[1],"02"),se.algparam.g=K.getVbyList(q,Ee[1],[2],"02")),q.substr(he[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return se.key=te(q,he[1]).substr(2),se}}}();dn.getKey=function(f,d,p){var y=(Ee=nt).getChildIdx,S=(Ee.getV,Ee.getVbyList),I=U.crypto,P=I.ECDSA,H=I.DSA,V=Dt,q=ks,K=dn;if(V!==void 0&&f instanceof V||P!==void 0&&f instanceof P||H!==void 0&&f instanceof H)return f;if(f.curve!==void 0&&f.xy!==void 0&&f.d===void 0)return new P({pub:f.xy,curve:f.curve});if(f.curve!==void 0&&f.d!==void 0)return new P({prv:f.d,curve:f.curve});if(f.kty===void 0&&f.n!==void 0&&f.e!==void 0&&f.d===void 0)return(It=new V).setPublic(f.n,f.e),It;if(f.kty===void 0&&f.n!==void 0&&f.e!==void 0&&f.d!==void 0&&f.p!==void 0&&f.q!==void 0&&f.dp!==void 0&&f.dq!==void 0&&f.co!==void 0&&f.qi===void 0)return(It=new V).setPrivateEx(f.n,f.e,f.d,f.p,f.q,f.dp,f.dq,f.co),It;if(f.kty===void 0&&f.n!==void 0&&f.e!==void 0&&f.d!==void 0&&f.p===void 0)return(It=new V).setPrivate(f.n,f.e,f.d),It;if(f.p!==void 0&&f.q!==void 0&&f.g!==void 0&&f.y!==void 0&&f.x===void 0)return(It=new H).setPublic(f.p,f.q,f.g,f.y),It;if(f.p!==void 0&&f.q!==void 0&&f.g!==void 0&&f.y!==void 0&&f.x!==void 0)return(It=new H).setPrivate(f.p,f.q,f.g,f.y,f.x),It;if(f.kty==="RSA"&&f.n!==void 0&&f.e!==void 0&&f.d===void 0)return(It=new V).setPublic(ur(f.n),ur(f.e)),It;if(f.kty==="RSA"&&f.n!==void 0&&f.e!==void 0&&f.d!==void 0&&f.p!==void 0&&f.q!==void 0&&f.dp!==void 0&&f.dq!==void 0&&f.qi!==void 0)return(It=new V).setPrivateEx(ur(f.n),ur(f.e),ur(f.d),ur(f.p),ur(f.q),ur(f.dp),ur(f.dq),ur(f.qi)),It;if(f.kty==="RSA"&&f.n!==void 0&&f.e!==void 0&&f.d!==void 0)return(It=new V).setPrivate(ur(f.n),ur(f.e),ur(f.d)),It;if(f.kty==="EC"&&f.crv!==void 0&&f.x!==void 0&&f.y!==void 0&&f.d===void 0){var Y=(lt=new P({curve:f.crv})).ecparams.keylen/4,te="04"+("0000000000"+ur(f.x)).slice(-Y)+("0000000000"+ur(f.y)).slice(-Y);return lt.setPublicKeyHex(te),lt}if(f.kty==="EC"&&f.crv!==void 0&&f.x!==void 0&&f.y!==void 0&&f.d!==void 0){Y=(lt=new P({curve:f.crv})).ecparams.keylen/4,te="04"+("0000000000"+ur(f.x)).slice(-Y)+("0000000000"+ur(f.y)).slice(-Y);var se=("0000000000"+ur(f.d)).slice(-Y);return lt.setPublicKeyHex(te),lt.setPrivateKeyHex(se),lt}if(p==="pkcs5prv"){var he,ve=f,Ee=nt;if((he=y(ve,0)).length===9)(It=new V).readPKCS5PrvKeyHex(ve);else if(he.length===6)(It=new H).readPKCS5PrvKeyHex(ve);else{if(!(he.length>2&&ve.substr(he[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(It=new P).readPKCS5PrvKeyHex(ve)}return It}if(p==="pkcs8prv")return It=K.getKeyFromPlainPrivatePKCS8Hex(f);if(p==="pkcs8pub")return K._getKeyFromPublicPKCS8Hex(f);if(p==="x509pub")return Vr.getPublicKeyFromCertHex(f);if(f.indexOf("-END CERTIFICATE-",0)!=-1||f.indexOf("-END X509 CERTIFICATE-",0)!=-1||f.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Vr.getPublicKeyFromCertPEM(f);if(f.indexOf("-END PUBLIC KEY-")!=-1){var O=ks(f,"PUBLIC KEY");return K._getKeyFromPublicPKCS8Hex(O)}if(f.indexOf("-END RSA PRIVATE KEY-")!=-1&&f.indexOf("4,ENCRYPTED")==-1){var J=q(f,"RSA PRIVATE KEY");return K.getKey(J,null,"pkcs5prv")}if(f.indexOf("-END DSA PRIVATE KEY-")!=-1&&f.indexOf("4,ENCRYPTED")==-1){var Z=S(dr=q(f,"DSA PRIVATE KEY"),0,[1],"02"),ee=S(dr,0,[2],"02"),me=S(dr,0,[3],"02"),we=S(dr,0,[4],"02"),rt=S(dr,0,[5],"02");return(It=new H).setPrivate(new k(Z,16),new k(ee,16),new k(me,16),new k(we,16),new k(rt,16)),It}if(f.indexOf("-END EC PRIVATE KEY-")!=-1&&f.indexOf("4,ENCRYPTED")==-1)return J=q(f,"EC PRIVATE KEY"),K.getKey(J,null,"pkcs5prv");if(f.indexOf("-END PRIVATE KEY-")!=-1)return K.getKeyFromPlainPrivatePKCS8PEM(f);if(f.indexOf("-END RSA PRIVATE KEY-")!=-1&&f.indexOf("4,ENCRYPTED")!=-1){var Ve=K.getDecryptedKeyHex(f,d),cn=new Dt;return cn.readPKCS5PrvKeyHex(Ve),cn}if(f.indexOf("-END EC PRIVATE KEY-")!=-1&&f.indexOf("4,ENCRYPTED")!=-1){var lt,It=S(dr=K.getDecryptedKeyHex(f,d),0,[1],"04"),Jn=S(dr,0,[2,0],"06"),yr=S(dr,0,[3,0],"03").substr(2);if(U.crypto.OID.oidhex2name[Jn]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+Jn);return(lt=new P({curve:U.crypto.OID.oidhex2name[Jn]})).setPublicKeyHex(yr),lt.setPrivateKeyHex(It),lt.isPublic=!1,lt}if(f.indexOf("-END DSA PRIVATE KEY-")!=-1&&f.indexOf("4,ENCRYPTED")!=-1){var dr;return Z=S(dr=K.getDecryptedKeyHex(f,d),0,[1],"02"),ee=S(dr,0,[2],"02"),me=S(dr,0,[3],"02"),we=S(dr,0,[4],"02"),rt=S(dr,0,[5],"02"),(It=new H).setPrivate(new k(Z,16),new k(ee,16),new k(me,16),new k(we,16),new k(rt,16)),It}if(f.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return K.getKeyFromEncryptedPKCS8PEM(f,d);throw new Error("not supported argument")},dn.generateKeypair=function(f,d){if(f=="RSA"){var p=d;(P=new Dt).generate(p,"10001"),P.isPrivate=!0,P.isPublic=!0;var y=new Dt,S=P.n.toString(16),I=P.e.toString(16);return y.setPublic(S,I),y.isPrivate=!1,y.isPublic=!0,(H={}).prvKeyObj=P,H.pubKeyObj=y,H}if(f=="EC"){var P,H,V=d,q=new U.crypto.ECDSA({curve:V}).generateKeyPairHex();return(P=new U.crypto.ECDSA({curve:V})).setPublicKeyHex(q.ecpubhex),P.setPrivateKeyHex(q.ecprvhex),P.isPrivate=!0,P.isPublic=!1,(y=new U.crypto.ECDSA({curve:V})).setPublicKeyHex(q.ecpubhex),y.isPrivate=!1,y.isPublic=!0,(H={}).prvKeyObj=P,H.pubKeyObj=y,H}throw new Error("unknown algorithm: "+f)},dn.getPEM=function(f,d,p,y,S,I){var P=U,H=P.asn1,V=H.DERObjectIdentifier,q=H.DERInteger,K=H.ASN1Util.newObject,Y=H.x509.SubjectPublicKeyInfo,te=P.crypto,se=te.DSA,he=te.ECDSA,ve=Dt;function Ee(lt){return K({seq:[{int:0},{int:{bigint:lt.n}},{int:lt.e},{int:{bigint:lt.d}},{int:{bigint:lt.p}},{int:{bigint:lt.q}},{int:{bigint:lt.dmp1}},{int:{bigint:lt.dmq1}},{int:{bigint:lt.coeff}}]})}function O(lt){return K({seq:[{int:1},{octstr:{hex:lt.prvKeyHex}},{tag:["a0",!0,{oid:{name:lt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+lt.pubKeyHex}}]}]})}function J(lt){return K({seq:[{int:0},{int:{bigint:lt.p}},{int:{bigint:lt.q}},{int:{bigint:lt.g}},{int:{bigint:lt.y}},{int:{bigint:lt.x}}]})}if((ve!==void 0&&f instanceof ve||se!==void 0&&f instanceof se||he!==void 0&&f instanceof he)&&f.isPublic==1&&(d===void 0||d=="PKCS8PUB"))return eo(we=new Y(f).getEncodedHex(),"PUBLIC KEY");if(d=="PKCS1PRV"&&ve!==void 0&&f instanceof ve&&(p===void 0||p==null)&&f.isPrivate==1)return eo(we=Ee(f).getEncodedHex(),"RSA PRIVATE KEY");if(d=="PKCS1PRV"&&he!==void 0&&f instanceof he&&(p===void 0||p==null)&&f.isPrivate==1){var Z=new V({name:f.curveName}).getEncodedHex(),ee=O(f).getEncodedHex(),me="";return me+=eo(Z,"EC PARAMETERS"),me+=eo(ee,"EC PRIVATE KEY")}if(d=="PKCS1PRV"&&se!==void 0&&f instanceof se&&(p===void 0||p==null)&&f.isPrivate==1)return eo(we=J(f).getEncodedHex(),"DSA PRIVATE KEY");if(d=="PKCS5PRV"&&ve!==void 0&&f instanceof ve&&p!==void 0&&p!=null&&f.isPrivate==1){var we=Ee(f).getEncodedHex();return y===void 0&&(y="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",we,p,y,I)}if(d=="PKCS5PRV"&&he!==void 0&&f instanceof he&&p!==void 0&&p!=null&&f.isPrivate==1)return we=O(f).getEncodedHex(),y===void 0&&(y="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",we,p,y,I);if(d=="PKCS5PRV"&&se!==void 0&&f instanceof se&&p!==void 0&&p!=null&&f.isPrivate==1)return we=J(f).getEncodedHex(),y===void 0&&(y="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",we,p,y,I);var rt=function(It,Jn){var yr=Ve(It,Jn);return new K({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:yr.pbkdf2Salt}},{int:yr.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:yr.encryptionSchemeIV}}]}]}]},{octstr:{hex:yr.ciphertext}}]}).getEncodedHex()},Ve=function(It,Jn){var yr=R.lib.WordArray.random(8),dr=R.lib.WordArray.random(8),Bi=R.PBKDF2(Jn,yr,{keySize:6,iterations:100}),Di=R.enc.Hex.parse(It),ji=R.TripleDES.encrypt(Di,Bi,{iv:dr})+"",Ar={};return Ar.ciphertext=ji,Ar.pbkdf2Salt=R.enc.Hex.stringify(yr),Ar.pbkdf2Iter=100,Ar.encryptionSchemeAlg="DES-EDE3-CBC",Ar.encryptionSchemeIV=R.enc.Hex.stringify(dr),Ar};if(d=="PKCS8PRV"&&ve!=null&&f instanceof ve&&f.isPrivate==1){var cn=Ee(f).getEncodedHex();return we=K({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:cn}}]}).getEncodedHex(),p===void 0||p==null?eo(we,"PRIVATE KEY"):eo(ee=rt(we,p),"ENCRYPTED PRIVATE KEY")}if(d=="PKCS8PRV"&&he!==void 0&&f instanceof he&&f.isPrivate==1)return cn=new K({seq:[{int:1},{octstr:{hex:f.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+f.pubKeyHex}}]}]}).getEncodedHex(),we=K({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:f.curveName}}]},{octstr:{hex:cn}}]}).getEncodedHex(),p===void 0||p==null?eo(we,"PRIVATE KEY"):eo(ee=rt(we,p),"ENCRYPTED PRIVATE KEY");if(d=="PKCS8PRV"&&se!==void 0&&f instanceof se&&f.isPrivate==1)return cn=new q({bigint:f.x}).getEncodedHex(),we=K({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:f.p}},{int:{bigint:f.q}},{int:{bigint:f.g}}]}]},{octstr:{hex:cn}}]}).getEncodedHex(),p===void 0||p==null?eo(we,"PRIVATE KEY"):eo(ee=rt(we,p),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},dn.getKeyFromCSRPEM=function(f){var d=ks(f,"CERTIFICATE REQUEST");return dn.getKeyFromCSRHex(d)},dn.getKeyFromCSRHex=function(f){var d=dn.parseCSRHex(f);return dn.getKey(d.p8pubkeyhex,null,"pkcs8pub")},dn.parseCSRHex=function(f){var d=nt,p=d.getChildIdx,y=d.getTLV,S={},I=f;if(I.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var P=p(I,0);if(P.length<1)throw new Error("malformed CSR(code:002)");if(I.substr(P[0],2)!="30")throw new Error("malformed CSR(code:003)");var H=p(I,P[0]);if(H.length<3)throw new Error("malformed CSR(code:004)");return S.p8pubkeyhex=y(I,H[2]),S},dn.getKeyID=function(f){var d=dn,p=nt;typeof f=="string"&&f.indexOf("BEGIN ")!=-1&&(f=d.getKey(f));var y=ks(d.getPEM(f)),S=p.getIdxbyList(y,0,[1]),I=p.getV(y,S).substring(2);return U.crypto.Util.hashHex(I,"sha1")},dn.getJWKFromKey=function(f){var d={};if(f instanceof Dt&&f.isPrivate)return d.kty="RSA",d.n=Hr(f.n.toString(16)),d.e=Hr(f.e.toString(16)),d.d=Hr(f.d.toString(16)),d.p=Hr(f.p.toString(16)),d.q=Hr(f.q.toString(16)),d.dp=Hr(f.dmp1.toString(16)),d.dq=Hr(f.dmq1.toString(16)),d.qi=Hr(f.coeff.toString(16)),d;if(f instanceof Dt&&f.isPublic)return d.kty="RSA",d.n=Hr(f.n.toString(16)),d.e=Hr(f.e.toString(16)),d;if(f instanceof U.crypto.ECDSA&&f.isPrivate){if((y=f.getShortNISTPCurveName())!=="P-256"&&y!=="P-384")throw new Error("unsupported curve name for JWT: "+y);var p=f.getPublicKeyXYHex();return d.kty="EC",d.crv=y,d.x=Hr(p.x),d.y=Hr(p.y),d.d=Hr(f.prvKeyHex),d}if(f instanceof U.crypto.ECDSA&&f.isPublic){var y;if((y=f.getShortNISTPCurveName())!=="P-256"&&y!=="P-384")throw new Error("unsupported curve name for JWT: "+y);return p=f.getPublicKeyXYHex(),d.kty="EC",d.crv=y,d.x=Hr(p.x),d.y=Hr(p.y),d}throw new Error("not supported key object")},Dt.getPosArrayOfChildrenFromHex=function(f){return nt.getChildIdx(f,0)},Dt.getHexValueArrayOfChildrenFromHex=function(f){var d,p=nt.getV,y=p(f,(d=Dt.getPosArrayOfChildrenFromHex(f))[0]),S=p(f,d[1]),I=p(f,d[2]),P=p(f,d[3]),H=p(f,d[4]),V=p(f,d[5]),q=p(f,d[6]),K=p(f,d[7]),Y=p(f,d[8]);return(d=new Array).push(y,S,I,P,H,V,q,K,Y),d},Dt.prototype.readPrivateKeyFromPEMString=function(f){var d=ks(f),p=Dt.getHexValueArrayOfChildrenFromHex(d);this.setPrivateEx(p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8])},Dt.prototype.readPKCS5PrvKeyHex=function(f){var d=Dt.getHexValueArrayOfChildrenFromHex(f);this.setPrivateEx(d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8])},Dt.prototype.readPKCS8PrvKeyHex=function(f){var d,p,y,S,I,P,H,V,q=nt,K=q.getVbyListEx;if(q.isASN1HEX(f)===!1)throw new Error("not ASN.1 hex string");try{d=K(f,0,[2,0,1],"02"),p=K(f,0,[2,0,2],"02"),y=K(f,0,[2,0,3],"02"),S=K(f,0,[2,0,4],"02"),I=K(f,0,[2,0,5],"02"),P=K(f,0,[2,0,6],"02"),H=K(f,0,[2,0,7],"02"),V=K(f,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(d,p,y,S,I,P,H,V)},Dt.prototype.readPKCS5PubKeyHex=function(f){var d=nt,p=d.getV;if(d.isASN1HEX(f)===!1)throw new Error("keyHex is not ASN.1 hex string");var y=d.getChildIdx(f,0);if(y.length!==2||f.substr(y[0],2)!=="02"||f.substr(y[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var S=p(f,y[0]),I=p(f,y[1]);this.setPublic(S,I)},Dt.prototype.readPKCS8PubKeyHex=function(f){var d=nt;if(d.isASN1HEX(f)===!1)throw new Error("not ASN.1 hex string");if(d.getTLVbyListEx(f,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var p=d.getTLVbyListEx(f,0,[1,0]);this.readPKCS5PubKeyHex(p)},Dt.prototype.readCertPubKeyHex=function(f,d){var p,y;(p=new Vr).readCertHex(f),y=p.getPublicKeyHex(),this.readPKCS8PubKeyHex(y)},new RegExp("[^0-9a-f]","gi");function J_(f,d){for(var p="",y=d/4-f.length,S=0;S<y;S++)p+="0";return p+f}function X_(f,d,p){for(var y="",S=0;y.length<d;)y+=ko(p(as(f+String.fromCharCode.apply(String,[(4278190080&S)>>24,(16711680&S)>>16,(65280&S)>>8,255&S])))),S+=1;return y}function Xm(f){for(var d in U.crypto.Util.DIGESTINFOHEAD){var p=U.crypto.Util.DIGESTINFOHEAD[d],y=p.length;if(f.substring(0,y)==p)return[d,f.substring(y)]}return[]}function Vr(f){var d,p=nt,y=p.getChildIdx,S=p.getV,I=p.getTLV,P=p.getVbyList,H=p.getVbyListEx,V=p.getTLVbyList,q=p.getTLVbyListEx,K=p.getIdxbyList,Y=p.getIdxbyListEx,te=p.getVidx,se=p.getInt,he=p.oidname,ve=p.hextooidstr,Ee=ks;try{d=U.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var O=V(this.hex,0,[0,0]);if(O.substr(0,2)=="a0"){var J=V(O,0,[0]),Z=se(J,0);if(Z<0||2<Z)throw new Error("malformed version field");return this.version=Z+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return H(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var O=q(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(O)},this.getAlgorithmIdentifierName=function(O){for(var J in d)if(O===d[J])return J;return he(H(O,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return V(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return V(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var O=P(this.hex,0,[0,4+this.foffset,0]);return O=O.replace(/(..)/g,"%$1"),O=decodeURIComponent(O)},this.getNotAfter=function(){var O=P(this.hex,0,[0,4+this.foffset,1]);return O=O.replace(/(..)/g,"%$1"),O=decodeURIComponent(O)},this.getPublicKeyHex=function(){return p.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return K(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var O=this.getPublicKeyIdx();return K(this.hex,O,[1,0],"30")},this.getPublicKey=function(){return dn.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var O=V(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(O)},this.getSignatureValueHex=function(){return P(this.hex,0,[2],"03",!0)},this.verifySignature=function(O){var J=this.getSignatureAlgorithmField(),Z=this.getSignatureValueHex(),ee=V(this.hex,0,[0],"30"),me=new U.crypto.Signature({alg:J});return me.init(O),me.updateHex(ee),me.verify(Z)},this.parseExt=function(O){var J,Z,ee;if(O===void 0){if(ee=this.hex,this.version!==3)return-1;J=K(ee,0,[0,7,0],"30"),Z=y(ee,J)}else{ee=ks(O);var me=K(ee,0,[0,3,0,0],"06");if(S(ee,me)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);J=K(ee,0,[0,3,0,1,0],"30"),Z=y(ee,J),this.hex=ee}this.aExtInfo=new Array;for(var we=0;we<Z.length;we++){var rt={critical:!1},Ve=0;y(ee,Z[we]).length===3&&(rt.critical=!0,Ve=1),rt.oid=p.hextooidstr(P(ee,Z[we],[0],"06"));var cn=K(ee,Z[we],[1+Ve]);rt.vidx=te(ee,cn),this.aExtInfo.push(rt)}},this.getExtInfo=function(O){var J=this.aExtInfo,Z=O;if(O.match(/^[0-9.]+$/)||(Z=U.asn1.x509.OID.name2oid(O)),Z!==""){for(var ee=0;ee<J.length;ee++)if(J[ee].oid===Z)return J[ee]}},this.getExtBasicConstraints=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("basicConstraints");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"basicConstraints"};if(J&&(ee.critical=!0),O==="3000")return ee;if(O==="30030101ff")return ee.cA=!0,ee;if(O.substr(0,12)==="30060101ff02"){var me=S(O,10),we=parseInt(me,16);return ee.cA=!0,ee.pathLen=we,ee}throw new Error("hExtV parse error: "+O)},this.getExtKeyUsage=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("keyUsage");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"keyUsage"};return J&&(ee.critical=!0),ee.names=this.getExtKeyUsageString(O).split(","),ee},this.getExtKeyUsageBin=function(O){if(O===void 0){var J=this.getExtInfo("keyUsage");if(J===void 0)return"";O=I(this.hex,J.vidx)}if(O.length!=8&&O.length!=10)throw new Error("malformed key usage value: "+O);var Z="000000000000000"+parseInt(O.substr(6),16).toString(2);return O.length==8&&(Z=Z.slice(-8)),O.length==10&&(Z=Z.slice(-16)),(Z=Z.replace(/0+$/,""))==""&&(Z="0"),Z},this.getExtKeyUsageString=function(O){for(var J=this.getExtKeyUsageBin(O),Z=new Array,ee=0;ee<J.length;ee++)J.substr(ee,1)=="1"&&Z.push(Vr.KEYUSAGE_NAME[ee]);return Z.join(",")},this.getExtSubjectKeyIdentifier=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("subjectKeyIdentifier");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"subjectKeyIdentifier"};J&&(ee.critical=!0);var me=S(O,0);return ee.kid={hex:me},ee},this.getExtAuthorityKeyIdentifier=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("authorityKeyIdentifier");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"authorityKeyIdentifier"};J&&(ee.critical=!0);for(var me=y(O,0),we=0;we<me.length;we++){var rt=O.substr(me[we],2);if(rt==="80"&&(ee.kid={hex:S(O,me[we])}),rt==="a1"){var Ve=I(O,me[we]),cn=this.getGeneralNames(Ve);ee.issuer=cn[0].dn}rt==="82"&&(ee.sn={hex:S(O,me[we])})}return ee},this.getExtExtKeyUsage=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("extKeyUsage");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"extKeyUsage",array:[]};J&&(ee.critical=!0);for(var me=y(O,0),we=0;we<me.length;we++)ee.array.push(he(S(O,me[we])));return ee},this.getExtExtKeyUsageName=function(){var O=this.getExtInfo("extKeyUsage");if(O===void 0)return O;var J=new Array,Z=I(this.hex,O.vidx);if(Z==="")return J;for(var ee=y(Z,0),me=0;me<ee.length;me++)J.push(he(S(Z,ee[me])));return J},this.getExtSubjectAltName=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("subjectAltName");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"subjectAltName",array:[]};return J&&(ee.critical=!0),ee.array=this.getGeneralNames(O),ee},this.getExtIssuerAltName=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("issuerAltName");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"issuerAltName",array:[]};return J&&(ee.critical=!0),ee.array=this.getGeneralNames(O),ee},this.getGeneralNames=function(O){for(var J=y(O,0),Z=[],ee=0;ee<J.length;ee++){var me=this.getGeneralName(I(O,J[ee]));me!==void 0&&Z.push(me)}return Z},this.getGeneralName=function(O){var J=O.substr(0,2),Z=S(O,0),ee=ko(Z);return J=="81"?{rfc822:ee}:J=="82"?{dns:ee}:J=="86"?{uri:ee}:J=="87"?{ip:ls(Z)}:J=="a4"?{dn:this.getX500Name(Z)}:void 0},this.getExtSubjectAltName2=function(){var O,J,Z,ee=this.getExtInfo("subjectAltName");if(ee===void 0)return ee;for(var me=new Array,we=I(this.hex,ee.vidx),rt=y(we,0),Ve=0;Ve<rt.length;Ve++)Z=we.substr(rt[Ve],2),O=S(we,rt[Ve]),Z==="81"&&(J=qr(O),me.push(["MAIL",J])),Z==="82"&&(J=qr(O),me.push(["DNS",J])),Z==="84"&&(J=Vr.hex2dn(O,0),me.push(["DN",J])),Z==="86"&&(J=qr(O),me.push(["URI",J])),Z==="87"&&(J=ls(O),me.push(["IP",J]));return me},this.getExtCRLDistributionPoints=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("cRLDistributionPoints");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"cRLDistributionPoints",array:[]};J&&(ee.critical=!0);for(var me=y(O,0),we=0;we<me.length;we++){var rt=I(O,me[we]);ee.array.push(this.getDistributionPoint(rt))}return ee},this.getDistributionPoint=function(O){for(var J={},Z=y(O,0),ee=0;ee<Z.length;ee++){var me=O.substr(Z[ee],2),we=I(O,Z[ee]);me=="a0"&&(J.dpname=this.getDistributionPointName(we))}return J},this.getDistributionPointName=function(O){for(var J={},Z=y(O,0),ee=0;ee<Z.length;ee++){var me=O.substr(Z[ee],2),we=I(O,Z[ee]);me=="a0"&&(J.full=this.getGeneralNames(we))}return J},this.getExtCRLDistributionPointsURI=function(){var O=this.getExtInfo("cRLDistributionPoints");if(O===void 0)return O;for(var J=new Array,Z=y(this.hex,O.vidx),ee=0;ee<Z.length;ee++)try{var me=qr(P(this.hex,Z[ee],[0,0,0],"86"));J.push(me)}catch{}return J},this.getExtAIAInfo=function(){var O=this.getExtInfo("authorityInfoAccess");if(O===void 0)return O;for(var J={ocsp:[],caissuer:[]},Z=y(this.hex,O.vidx),ee=0;ee<Z.length;ee++){var me=P(this.hex,Z[ee],[0],"06"),we=P(this.hex,Z[ee],[1],"86");me==="2b06010505073001"&&J.ocsp.push(qr(we)),me==="2b06010505073002"&&J.caissuer.push(qr(we))}return J},this.getExtAuthorityInfoAccess=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("authorityInfoAccess");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"authorityInfoAccess",array:[]};J&&(ee.critical=!0);for(var me=y(O,0),we=0;we<me.length;we++){var rt=H(O,me[we],[0],"06"),Ve=qr(P(O,me[we],[1],"86"));if(rt=="2b06010505073001")ee.array.push({ocsp:Ve});else{if(rt!="2b06010505073002")throw new Error("unknown method: "+rt);ee.array.push({caissuer:Ve})}}return ee},this.getExtCertificatePolicies=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("certificatePolicies");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"certificatePolicies",array:[]};J&&(ee.critical=!0);for(var me=y(O,0),we=0;we<me.length;we++){var rt=I(O,me[we]),Ve=this.getPolicyInformation(rt);ee.array.push(Ve)}return ee},this.getPolicyInformation=function(O){var J={},Z=P(O,0,[0],"06");J.policyoid=he(Z);var ee=Y(O,0,[1],"30");if(ee!=-1){J.array=[];for(var me=y(O,ee),we=0;we<me.length;we++){var rt=I(O,me[we]),Ve=this.getPolicyQualifierInfo(rt);J.array.push(Ve)}}return J},this.getPolicyQualifierInfo=function(O){var J={},Z=P(O,0,[0],"06");if(Z==="2b06010505070201"){var ee=H(O,0,[1],"16");J.cps=ko(ee)}else if(Z==="2b06010505070202"){var me=V(O,0,[1],"30");J.unotice=this.getUserNotice(me)}return J},this.getUserNotice=function(O){for(var J={},Z=y(O,0),ee=0;ee<Z.length;ee++){var me=I(O,Z[ee]);me.substr(0,2)!="30"&&(J.exptext=this.getDisplayText(me))}return J},this.getDisplayText=function(O){var J={};return J.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[O.substr(0,2)],J.str=ko(S(O,0)),J},this.getExtCRLNumber=function(O,J){var Z={extname:"cRLNumber"};if(J&&(Z.critical=!0),O.substr(0,2)=="02")return Z.num={hex:S(O,0)},Z;throw new Error("hExtV parse error: "+O)},this.getExtCRLReason=function(O,J){var Z={extname:"cRLReason"};if(J&&(Z.critical=!0),O.substr(0,2)=="0a")return Z.code=parseInt(S(O,0),16),Z;throw new Error("hExtV parse error: "+O)},this.getExtOcspNonce=function(O,J){var Z={extname:"ocspNonce"};J&&(Z.critical=!0);var ee=S(O,0);return Z.hex=ee,Z},this.getExtOcspNoCheck=function(O,J){var Z={extname:"ocspNoCheck"};return J&&(Z.critical=!0),Z},this.getExtAdobeTimeStamp=function(O,J){if(O===void 0&&J===void 0){var Z=this.getExtInfo("adobeTimeStamp");if(Z===void 0)return;O=I(this.hex,Z.vidx),J=Z.critical}var ee={extname:"adobeTimeStamp"};J&&(ee.critical=!0);var me=y(O,0);if(me.length>1){var we=I(O,me[1]),rt=this.getGeneralName(we);rt.uri!=null&&(ee.uri=rt.uri)}if(me.length>2){var Ve=I(O,me[2]);Ve=="0101ff"&&(ee.reqauth=!0),Ve=="010100"&&(ee.reqauth=!1)}return ee},this.getX500NameRule=function(O){for(var J=null,Z=[],ee=0;ee<O.length;ee++)for(var me=O[ee],we=0;we<me.length;we++)Z.push(me[we]);for(ee=0;ee<Z.length;ee++){var rt=Z[ee],Ve=rt.ds,cn=rt.value,lt=rt.type;if(""+Ve,Ve!="prn"&&Ve!="utf8"&&Ve!="ia5")return"mixed";if(Ve=="ia5"){if(lt!="CN")return"mixed";if(U.lang.String.isMail(cn))continue;return"mixed"}if(lt=="C"){if(Ve=="prn")continue;return"mixed"}if(""+Ve,J==null)J=Ve;else if(J!==Ve)return"mixed"}return J??"prn"},this.getX500Name=function(O){var J=this.getX500NameArray(O);return{array:J,str:this.dnarraytostr(J)}},this.getX500NameArray=function(O){for(var J=[],Z=y(O,0),ee=0;ee<Z.length;ee++)J.push(this.getRDN(I(O,Z[ee])));return J},this.getRDN=function(O){for(var J=[],Z=y(O,0),ee=0;ee<Z.length;ee++)J.push(this.getAttrTypeAndValue(I(O,Z[ee])));return J},this.getAttrTypeAndValue=function(O){var J={type:null,value:null,ds:null},Z=y(O,0),ee=P(O,Z[0],[],"06"),me=P(O,Z[1],[]),we=U.asn1.ASN1Util.oidHexToInt(ee);return J.type=U.asn1.x509.OID.oid2atype(we),J.ds=this.HEX2STAG[O.substr(Z[1],2)],J.ds!="bmp"?J.value=qr(me):J.value=G_(me),J},this.readCertPEM=function(O){this.readCertHex(Ee(O))},this.readCertHex=function(O){this.hex=O,this.getVersion();try{K(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var O={};return O.version=this.getVersion(),O.serial={hex:this.getSerialNumberHex()},O.sigalg=this.getSignatureAlgorithmField(),O.issuer=this.getIssuer(),O.notbefore=this.getNotBefore(),O.notafter=this.getNotAfter(),O.subject=this.getSubject(),O.sbjpubkey=eo(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(O.ext=this.getExtParamArray()),O.sighex=this.getSignatureValueHex(),O},this.getExtParamArray=function(O){O==null&&Y(this.hex,0,[0,"[3]"])!=-1&&(O=q(this.hex,0,[0,"[3]",0],"30"));for(var J=[],Z=y(O,0),ee=0;ee<Z.length;ee++){var me=I(O,Z[ee]),we=this.getExtParam(me);we!=null&&J.push(we)}return J},this.getExtParam=function(O){var J=y(O,0).length;if(J!=2&&J!=3)throw new Error("wrong number elements in Extension: "+J+" "+O);var Z=ve(P(O,0,[0],"06")),ee=!1;J==3&&V(O,0,[1])=="0101ff"&&(ee=!0);var me=V(O,0,[J-1,0]),we=void 0;if(Z=="2.5.29.14"?we=this.getExtSubjectKeyIdentifier(me,ee):Z=="2.5.29.15"?we=this.getExtKeyUsage(me,ee):Z=="2.5.29.17"?we=this.getExtSubjectAltName(me,ee):Z=="2.5.29.18"?we=this.getExtIssuerAltName(me,ee):Z=="2.5.29.19"?we=this.getExtBasicConstraints(me,ee):Z=="2.5.29.31"?we=this.getExtCRLDistributionPoints(me,ee):Z=="2.5.29.32"?we=this.getExtCertificatePolicies(me,ee):Z=="2.5.29.35"?we=this.getExtAuthorityKeyIdentifier(me,ee):Z=="2.5.29.37"?we=this.getExtExtKeyUsage(me,ee):Z=="1.3.6.1.5.5.7.1.1"?we=this.getExtAuthorityInfoAccess(me,ee):Z=="2.5.29.20"?we=this.getExtCRLNumber(me,ee):Z=="2.5.29.21"?we=this.getExtCRLReason(me,ee):Z=="1.3.6.1.5.5.7.48.1.2"?we=this.getExtOcspNonce(me,ee):Z=="1.3.6.1.5.5.7.48.1.5"?we=this.getExtOcspNoCheck(me,ee):Z=="1.2.840.113583.1.1.9.1"&&(we=this.getExtAdobeTimeStamp(me,ee)),we!=null)return we;var rt={extname:Z,extn:me};return ee&&(rt.critical=!0),rt},this.findExt=function(O,J){for(var Z=0;Z<O.length;Z++)if(O[Z].extname==J)return O[Z];return null},this.updateExtCDPFullURI=function(O,J){var Z=this.findExt(O,"cRLDistributionPoints");if(Z!=null&&Z.array!=null){for(var ee=Z.array,me=0;me<ee.length;me++)if(ee[me].dpname!=null&&ee[me].dpname.full!=null)for(var we=ee[me].dpname.full,rt=0;rt<we.length;rt++){var Ve=we[me];Ve.uri!=null&&(Ve.uri=J)}}},this.updateExtAIAOCSP=function(O,J){var Z=this.findExt(O,"authorityInfoAccess");if(Z!=null&&Z.array!=null)for(var ee=Z.array,me=0;me<ee.length;me++)ee[me].ocsp!=null&&(ee[me].ocsp=J)},this.updateExtAIACAIssuer=function(O,J){var Z=this.findExt(O,"authorityInfoAccess");if(Z!=null&&Z.array!=null)for(var ee=Z.array,me=0;me<ee.length;me++)ee[me].caissuer!=null&&(ee[me].caissuer=J)},this.dnarraytostr=function(O){return"/"+O.map(function(J){return function(ee){return ee.map(function(me){return function(rt){return rt.type+"="+rt.value}(me).replace(/\+/,"\\+")}).join("+")}(J).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var O,J,Z,ee=function(Bi){return JSON.stringify(Bi.array).replace(/[\[\]\{\}\"]/g,"")},me=function(Bi){for(var Di="",ji=Bi.array,Ar=0;Ar<ji.length;Ar++){var zr=ji[Ar];if(Di+="    policy oid: "+zr.policyoid+`
`,zr.array!==void 0)for(var ci=0;ci<zr.array.length;ci++){var Ii=zr.array[ci];Ii.cps!==void 0&&(Di+="    cps: "+Ii.cps+`
`)}}return Di},we=function(Bi){for(var Di="",ji=Bi.array,Ar=0;Ar<ji.length;Ar++){var zr=ji[Ar];try{zr.dpname.full[0].uri!==void 0&&(Di+="    "+zr.dpname.full[0].uri+`
`)}catch{}try{zr.dname.full[0].dn.hex!==void 0&&(Di+="    "+Vr.hex2dn(zr.dpname.full[0].dn.hex)+`
`)}catch{}}return Di},rt=function(Bi){for(var Di="",ji=Bi.array,Ar=0;Ar<ji.length;Ar++){var zr=ji[Ar];zr.caissuer!==void 0&&(Di+="    caissuer: "+zr.caissuer+`
`),zr.ocsp!==void 0&&(Di+="    ocsp: "+zr.ocsp+`
`)}return Di};if(O=`Basic Fields
`,O+="  serial number: "+this.getSerialNumberHex()+`
`,O+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,O+="  issuer: "+this.getIssuerString()+`
`,O+="  notBefore: "+this.getNotBefore()+`
`,O+="  notAfter: "+this.getNotAfter()+`
`,O+="  subject: "+this.getSubjectString()+`
`,O+=`  subject public key info: 
`,O+="    key algorithm: "+(J=this.getPublicKey()).type+`
`,J.type==="RSA"&&(O+="    n="+_h(J.n.toString(16)).substr(0,16)+`...
`,O+="    e="+_h(J.e.toString(16))+`
`),(Z=this.aExtInfo)!=null){O+=`X509v3 Extensions:
`;for(var Ve=0;Ve<Z.length;Ve++){var cn=Z[Ve],lt=U.asn1.x509.OID.oid2name(cn.oid);lt===""&&(lt=cn.oid);var It="";if(cn.critical===!0&&(It="CRITICAL"),O+="  "+lt+" "+It+`:
`,lt==="basicConstraints"){var Jn=this.getExtBasicConstraints();Jn.cA===void 0?O+=`    {}
`:(O+="    cA=true",Jn.pathLen!==void 0&&(O+=", pathLen="+Jn.pathLen),O+=`
`)}else if(lt==="keyUsage")O+="    "+this.getExtKeyUsageString()+`
`;else if(lt==="subjectKeyIdentifier")O+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(lt==="authorityKeyIdentifier"){var yr=this.getExtAuthorityKeyIdentifier();yr.kid!==void 0&&(O+="    kid="+yr.kid.hex+`
`)}else lt==="extKeyUsage"?O+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:lt==="subjectAltName"?O+="    "+ee(this.getExtSubjectAltName())+`
`:lt==="cRLDistributionPoints"?O+=we(this.getExtCRLDistributionPoints()):lt==="authorityInfoAccess"?O+=rt(this.getExtAuthorityInfoAccess()):lt==="certificatePolicies"&&(O+=me(this.getExtCertificatePolicies()))}}return O+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,O+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof f=="string"&&(f.indexOf("-----BEGIN")!=-1?this.readCertPEM(f):U.lang.String.isHex(f)&&this.readCertHex(f))}Dt.prototype.sign=function(f,d){var p=function(S){return U.crypto.Util.hashString(S,d)}(f);return this.signWithMessageHash(p,d)},Dt.prototype.signWithMessageHash=function(f,d){var p=Zi(U.crypto.Util.getPaddedDigestInfoHex(f,d,this.n.bitLength()),16);return J_(this.doPrivate(p).toString(16),this.n.bitLength())},Dt.prototype.signPSS=function(f,d,p){var y=function(I){return U.crypto.Util.hashHex(I,d)}(as(f));return p===void 0&&(p=-1),this.signWithMessageHashPSS(y,d,p)},Dt.prototype.signWithMessageHashPSS=function(f,d,p){var y,S=ko(f),I=S.length,P=this.n.bitLength()-1,H=Math.ceil(P/8),V=function(O){return U.crypto.Util.hashHex(O,d)};if(p===-1||p===void 0)p=I;else if(p===-2)p=H-I-2;else if(p<-2)throw new Error("invalid salt length");if(H<I+p+2)throw new Error("data too long");var q="";p>0&&(q=new Array(p),new Gn().nextBytes(q),q=String.fromCharCode.apply(String,q));var K=ko(V(as("\0\0\0\0\0\0\0\0"+S+q))),Y=[];for(y=0;y<H-p-I-2;y+=1)Y[y]=0;var te=String.fromCharCode.apply(String,Y)+""+q,se=X_(K,te.length,V),he=[];for(y=0;y<te.length;y+=1)he[y]=te.charCodeAt(y)^se.charCodeAt(y);var ve=65280>>8*H-P&255;for(he[0]&=~ve,y=0;y<I;y++)he.push(K.charCodeAt(y));return he.push(188),J_(this.doPrivate(new k(he)).toString(16),this.n.bitLength())},Dt.prototype.verify=function(f,d){if((d=d.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var p=Zi(d,16),y=this.n.bitLength();if(p.bitLength()>y)return!1;var S=this.doPublic(p).toString(16);if(S.length+3!=y/4)return!1;var I=Xm(S.replace(/^1f+00/,""));if(I.length==0)return!1;var P=I[0];return I[1]==function(V){return U.crypto.Util.hashString(V,P)}(f)},Dt.prototype.verifyWithMessageHash=function(f,d){if(d.length!=Math.ceil(this.n.bitLength()/4))return!1;var p=Zi(d,16);if(p.bitLength()>this.n.bitLength())return 0;var y=Xm(this.doPublic(p).toString(16).replace(/^1f+00/,""));return y.length==0?!1:(y[0],y[1]==f)},Dt.prototype.verifyPSS=function(f,d,p,y){var S=function(P){return U.crypto.Util.hashHex(P,p)}(as(f));return y===void 0&&(y=-1),this.verifyWithMessageHashPSS(S,d,p,y)},Dt.prototype.verifyWithMessageHashPSS=function(f,d,p,y){if(d.length!=Math.ceil(this.n.bitLength()/4))return!1;var S,I=new k(d,16),P=function(Z){return U.crypto.Util.hashHex(Z,p)},H=ko(f),V=H.length,q=this.n.bitLength()-1,K=Math.ceil(q/8);if(y===-1||y===void 0)y=V;else if(y===-2)y=K-V-2;else if(y<-2)throw new Error("invalid salt length");if(K<V+y+2)throw new Error("data too long");var Y=this.doPublic(I).toByteArray();for(S=0;S<Y.length;S+=1)Y[S]&=255;for(;Y.length<K;)Y.unshift(0);if(Y[K-1]!==188)throw new Error("encoded message does not end in 0xbc");var te=(Y=String.fromCharCode.apply(String,Y)).substr(0,K-V-1),se=Y.substr(te.length,V),he=65280>>8*K-q&255;if((te.charCodeAt(0)&he)!=0)throw new Error("bits beyond keysize not zero");var ve=X_(se,te.length,P),Ee=[];for(S=0;S<te.length;S+=1)Ee[S]=te.charCodeAt(S)^ve.charCodeAt(S);Ee[0]&=~he;var O=K-V-y-2;for(S=0;S<O;S+=1)if(Ee[S]!==0)throw new Error("leftmost octets not zero");if(Ee[O]!==1)throw new Error("0x01 marker not found");return se===ko(P(as("\0\0\0\0\0\0\0\0"+H+String.fromCharCode.apply(String,Ee.slice(-y)))))},Dt.SALT_LEN_HLEN=-1,Dt.SALT_LEN_MAX=-2,Dt.SALT_LEN_RECOVER=-2,Vr.hex2dn=function(f,d){d===void 0&&(d=0);var p=new Vr;return nt.getTLV(f,d),p.getX500Name(f).str},Vr.hex2rdn=function(f,d){if(d===void 0&&(d=0),f.substr(d,2)!=="31")throw new Error("malformed RDN");for(var p=new Array,y=nt.getChildIdx(f,d),S=0;S<y.length;S++)p.push(Vr.hex2attrTypeValue(f,y[S]));return(p=p.map(function(I){return I.replace("+","\\+")})).join("+")},Vr.hex2attrTypeValue=function(f,d){var p=nt,y=p.getV;if(d===void 0&&(d=0),f.substr(d,2)!=="30")throw new Error("malformed attribute type and value");var S=p.getChildIdx(f,d);S.length!==2||f.substr(S[0],2);var I=y(f,S[0]),P=U.asn1.ASN1Util.oidHexToInt(I);return U.asn1.x509.OID.oid2atype(P)+"="+ko(y(f,S[1]))},Vr.getPublicKeyFromCertHex=function(f){var d=new Vr;return d.readCertHex(f),d.getPublicKey()},Vr.getPublicKeyFromCertPEM=function(f){var d=new Vr;return d.readCertPEM(f),d.getPublicKey()},Vr.getPublicKeyInfoPropOfCertPEM=function(f){var d,p,y=nt.getVbyList,S={};return S.algparam=null,(d=new Vr).readCertPEM(f),p=d.getPublicKeyHex(),S.keyhex=y(p,0,[1],"03").substr(2),S.algoid=y(p,0,[0,0],"06"),S.algoid==="2a8648ce3d0201"&&(S.algparam=y(p,0,[0,1],"06")),S},Vr.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],U!==void 0&&U||(e.KJUR=U={}),U.jws!==void 0&&U.jws||(U.jws={}),U.jws.JWS=function(){var f=U.jws.JWS.isSafeJSONString;this.parseJWS=function(d,p){if(this.parsedJWS===void 0||!p&&this.parsedJWS.sigvalH===void 0){var y=d.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(y==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var S=y[1],I=y[2],P=y[3],H=S+"."+I;if(this.parsedJWS={},this.parsedJWS.headB64U=S,this.parsedJWS.payloadB64U=I,this.parsedJWS.sigvalB64U=P,this.parsedJWS.si=H,!p){var V=ur(P),q=Zi(V,16);this.parsedJWS.sigvalH=V,this.parsedJWS.sigvalBI=q}var K=Oo(S),Y=Oo(I);if(this.parsedJWS.headS=K,this.parsedJWS.payloadS=Y,!f(K,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+K}}},U.jws.JWS.sign=function(f,d,p,y,S){var I,P,H,V=U,q=V.jws.JWS,K=q.readSafeJSONString,Y=q.isSafeJSONString,te=V.crypto,se=(te.ECDSA,te.Mac),he=te.Signature,ve=JSON;if(typeof d!="string"&&(d===void 0?"undefined":v(d))!="object")throw"spHeader must be JSON string or object: "+d;if((d===void 0?"undefined":v(d))=="object"&&(P=d,I=ve.stringify(P)),typeof d=="string"){if(!Y(I=d))throw"JWS Head is not safe JSON string: "+I;P=K(I)}if(H=p,(p===void 0?"undefined":v(p))=="object"&&(H=ve.stringify(p)),f!=""&&f!=null||P.alg===void 0||(f=P.alg),f!=""&&f!=null&&P.alg===void 0&&(P.alg=f,I=ve.stringify(P)),f!==P.alg)throw"alg and sHeader.alg doesn't match: "+f+"!="+P.alg;var Ee=null;if(q.jwsalg2sigalg[f]===void 0)throw"unsupported alg name: "+f;Ee=q.jwsalg2sigalg[f];var O=qc(I)+"."+qc(H),J="";if(Ee.substr(0,4)=="Hmac"){if(y===void 0)throw"mac key shall be specified for HS* alg";var Z=new se({alg:Ee,prov:"cryptojs",pass:y});Z.updateString(O),J=Z.doFinal()}else if(Ee.indexOf("withECDSA")!=-1){(me=new he({alg:Ee})).init(y,S),me.updateString(O);var ee=me.sign();J=U.crypto.ECDSA.asn1SigToConcatSig(ee)}else{var me;Ee!="none"&&((me=new he({alg:Ee})).init(y,S),me.updateString(O),J=me.sign())}return O+"."+Hr(J)},U.jws.JWS.verify=function(f,d,p){var y,S=U,I=S.jws.JWS,P=I.readSafeJSONString,H=S.crypto,V=H.ECDSA,q=H.Mac,K=H.Signature;v(Dt)!==void 0&&(y=Dt);var Y=f.split(".");if(Y.length!==3)return!1;var te=Y[0]+"."+Y[1],se=ur(Y[2]),he=P(Oo(Y[0])),ve=null,Ee=null;if(he.alg===void 0)throw"algorithm not specified in header";if(Ee=(ve=he.alg).substr(0,2),p!=null&&Object.prototype.toString.call(p)==="[object Array]"&&p.length>0&&(":"+p.join(":")+":").indexOf(":"+ve+":")==-1)throw"algorithm '"+ve+"' not accepted in the list";if(ve!="none"&&d===null)throw"key shall be specified to verify.";if(typeof d=="string"&&d.indexOf("-----BEGIN ")!=-1&&(d=dn.getKey(d)),!(Ee!="RS"&&Ee!="PS"||d instanceof y))throw"key shall be a RSAKey obj for RS* and PS* algs";if(Ee=="ES"&&!(d instanceof V))throw"key shall be a ECDSA obj for ES* algs";var O=null;if(I.jwsalg2sigalg[he.alg]===void 0)throw"unsupported alg name: "+ve;if((O=I.jwsalg2sigalg[ve])=="none")throw"not supported";if(O.substr(0,4)=="Hmac"){if(d===void 0)throw"hexadecimal key shall be specified for HMAC";var J=new q({alg:O,pass:d});return J.updateString(te),se==J.doFinal()}if(O.indexOf("withECDSA")!=-1){var Z,ee=null;try{ee=V.concatSigToASN1Sig(se)}catch{return!1}return(Z=new K({alg:O})).init(d),Z.updateString(te),Z.verify(ee)}return(Z=new K({alg:O})).init(d),Z.updateString(te),Z.verify(se)},U.jws.JWS.parse=function(f){var d,p,y,S=f.split("."),I={};if(S.length!=2&&S.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return d=S[0],p=S[1],S.length==3&&(y=S[2]),I.headerObj=U.jws.JWS.readSafeJSONString(Oo(d)),I.payloadObj=U.jws.JWS.readSafeJSONString(Oo(p)),I.headerPP=JSON.stringify(I.headerObj,null,"  "),I.payloadObj==null?I.payloadPP=Oo(p):I.payloadPP=JSON.stringify(I.payloadObj,null,"  "),y!==void 0&&(I.sigHex=ur(y)),I},U.jws.JWS.verifyJWT=function(f,d,p){var y=U.jws,S=y.JWS,I=S.readSafeJSONString,P=S.inArray,H=S.includedArray,V=f.split("."),q=V[0],K=V[1],Y=(ur(V[2]),I(Oo(q))),te=I(Oo(K));if(Y.alg===void 0)return!1;if(p.alg===void 0)throw"acceptField.alg shall be specified";if(!P(Y.alg,p.alg)||te.iss!==void 0&&v(p.iss)==="object"&&!P(te.iss,p.iss)||te.sub!==void 0&&v(p.sub)==="object"&&!P(te.sub,p.sub))return!1;if(te.aud!==void 0&&v(p.aud)==="object"){if(typeof te.aud=="string"){if(!P(te.aud,p.aud))return!1}else if(v(te.aud)=="object"&&!H(te.aud,p.aud))return!1}var se=y.IntDate.getNow();return p.verifyAt!==void 0&&typeof p.verifyAt=="number"&&(se=p.verifyAt),p.gracePeriod!==void 0&&typeof p.gracePeriod=="number"||(p.gracePeriod=0),!(te.exp!==void 0&&typeof te.exp=="number"&&te.exp+p.gracePeriod<se)&&!(te.nbf!==void 0&&typeof te.nbf=="number"&&se<te.nbf-p.gracePeriod)&&!(te.iat!==void 0&&typeof te.iat=="number"&&se<te.iat-p.gracePeriod)&&(te.jti===void 0||p.jti===void 0||te.jti===p.jti)&&!!S.verify(f,d,p.alg)},U.jws.JWS.includedArray=function(f,d){var p=U.jws.JWS.inArray;if(f===null||(f===void 0?"undefined":v(f))!=="object"||typeof f.length!="number")return!1;for(var y=0;y<f.length;y++)if(!p(f[y],d))return!1;return!0},U.jws.JWS.inArray=function(f,d){if(d===null||(d===void 0?"undefined":v(d))!=="object"||typeof d.length!="number")return!1;for(var p=0;p<d.length;p++)if(d[p]==f)return!0;return!1},U.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},U.jws.JWS.isSafeJSONString=function(f,d,p){var y=null;try{return((y=Km(f))===void 0?"undefined":v(y))!="object"||y.constructor===Array?0:(d&&(d[p]=y),1)}catch{return 0}},U.jws.JWS.readSafeJSONString=function(f){var d=null;try{return((d=Km(f))===void 0?"undefined":v(d))!="object"||d.constructor===Array?null:d}catch{return null}},U.jws.JWS.getEncodedSignatureValueFromJWS=function(f){var d=f.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(d==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return d[1]},U.jws.JWS.getJWKthumbprint=function(f){if(f.kty!=="RSA"&&f.kty!=="EC"&&f.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var d="{";if(f.kty==="RSA"){if(typeof f.n!="string"||typeof f.e!="string")throw"wrong n and e value for RSA key";d+='"e":"'+f.e+'",',d+='"kty":"'+f.kty+'",',d+='"n":"'+f.n+'"}'}else if(f.kty==="EC"){if(typeof f.crv!="string"||typeof f.x!="string"||typeof f.y!="string")throw"wrong crv, x and y value for EC key";d+='"crv":"'+f.crv+'",',d+='"kty":"'+f.kty+'",',d+='"x":"'+f.x+'",',d+='"y":"'+f.y+'"}'}else if(f.kty==="oct"){if(typeof f.k!="string")throw"wrong k value for oct(symmetric) key";d+='"kty":"'+f.kty+'",',d+='"k":"'+f.k+'"}'}var p=as(d);return Hr(U.crypto.Util.hashHex(p,"sha256"))},U.jws.IntDate={},U.jws.IntDate.get=function(f){var d=U.jws.IntDate,p=d.getNow,y=d.getZulu;if(f=="now")return p();if(f=="now + 1hour")return p()+3600;if(f=="now + 1day")return p()+86400;if(f=="now + 1month")return p()+2592e3;if(f=="now + 1year")return p()+31536e3;if(f.match(/Z$/))return y(f);if(f.match(/^[0-9]+$/))return parseInt(f);throw"unsupported format: "+f},U.jws.IntDate.getZulu=function(f){return Jm(f)},U.jws.IntDate.getNow=function(){return~~(new Date/1e3)},U.jws.IntDate.intDate2UTCString=function(f){return new Date(1e3*f).toUTCString()},U.jws.IntDate.intDate2Zulu=function(f){var d=new Date(1e3*f);return("0000"+d.getUTCFullYear()).slice(-4)+("00"+(d.getUTCMonth()+1)).slice(-2)+("00"+d.getUTCDate()).slice(-2)+("00"+d.getUTCHours()).slice(-2)+("00"+d.getUTCMinutes()).slice(-2)+("00"+d.getUTCSeconds()).slice(-2)+"Z"},e.SecureRandom=Gn,e.rng_seed_time=pe,e.BigInteger=k,e.RSAKey=Dt;var Ym=U.crypto.EDSA;e.EDSA=Ym;var Qm=U.crypto.DSA;e.DSA=Qm;var bh=U.crypto.Signature;e.Signature=bh;var wh=U.crypto.MessageDigest;e.MessageDigest=wh;var Y_=U.crypto.Mac;e.Mac=Y_;var gD=U.crypto.Cipher;e.Cipher=gD,e.KEYUTIL=dn,e.ASN1HEX=nt,e.X509=Vr,e.CryptoJS=R,e.b64tohex=$,e.b64toBA=Q,e.stoBA=U_,e.BAtos=V_,e.BAtohex=fh,e.stohex=da,e.stob64=function(d){return D(da(d))},e.stob64u=function(d){return hh(D(da(d)))},e.b64utos=function(d){return V_(Q(zc(d)))},e.b64tob64u=hh,e.b64utob64=zc,e.hex2b64=D,e.hextob64u=Hr,e.b64utohex=ur,e.utf8tob64u=qc,e.b64utoutf8=Oo,e.utf8tob64=function(d){return D(gh(vh(d)))},e.b64toutf8=function(d){return decodeURIComponent(yh($(d)))},e.utf8tohex=ph,e.hextoutf8=qr,e.hextorstr=ko,e.rstrtohex=as,e.hextob64=$_,e.hextob64nl=H_,e.b64nltohex=q_,e.hextopem=eo,e.pemtohex=ks,e.hextoArrayBuffer=function(d){if(d.length%2!=0)throw"input is not even length";if(d.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var p=new ArrayBuffer(d.length/2),y=new DataView(p),S=0;S<d.length/2;S++)y.setUint8(S,parseInt(d.substr(2*S,2),16));return p},e.ArrayBuffertohex=function(d){for(var p="",y=new DataView(d),S=0;S<d.byteLength;S++)p+=("00"+y.getUint8(S).toString(16)).slice(-2);return p},e.zulutomsec=mh,e.zulutosec=Jm,e.zulutodate=function(d){return new Date(mh(d))},e.datetozulu=function(d,p,y){var S,I=d.getUTCFullYear();if(p){if(I<1950||2049<I)throw"not proper year for UTCTime: "+I;S=(""+I).slice(-2)}else S=("000"+I).slice(-4);if(S+=("0"+(d.getUTCMonth()+1)).slice(-2),S+=("0"+d.getUTCDate()).slice(-2),S+=("0"+d.getUTCHours()).slice(-2),S+=("0"+d.getUTCMinutes()).slice(-2),S+=("0"+d.getUTCSeconds()).slice(-2),y){var P=d.getUTCMilliseconds();P!==0&&(S+="."+(P=(P=("00"+P).slice(-3)).replace(/0+$/g,"")))}return S+="Z"},e.uricmptohex=gh,e.hextouricmp=yh,e.ipv6tohex=z_,e.hextoipv6=Ps,e.hextoip=ls,e.iptohex=function(d){var p="malformed IP address";if(!(d=d.toLowerCase(d)).match(/^[0-9.]+$/)){if(d.match(/^[0-9a-f:]+$/)&&d.indexOf(":")!==-1)return z_(d);throw p}var y=d.split(".");if(y.length!==4)throw p;var S="";try{for(var I=0;I<4;I++)S+=("0"+parseInt(y[I]).toString(16)).slice(-2);return S}catch{throw p}},e.encodeURIComponentAll=vh,e.newline_toUnix=function(d){return d=d.replace(/\r\n/gm,`
`)},e.newline_toDos=function(d){return d=(d=d.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},e.hextoposhex=_h,e.intarystrtohex=function(d){d=(d=(d=d.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return d.split(/,/).map(function(p,y,S){var I=parseInt(p);if(I<0||255<I)throw"integer not in range 0-255";return("00"+I.toString(16)).slice(-2)}).join("")}catch(p){throw"malformed integer array string: "+p}},e.strdiffidx=function(d,p){var y=d.length;d.length>p.length&&(y=p.length);for(var S=0;S<y;S++)if(d.charCodeAt(S)!=p.charCodeAt(S))return S;return d.length!=p.length?y:-1},e.KJUR=U;var Eh=U.crypto;e.crypto=Eh;var Sh=U.asn1;e.asn1=Sh;var yD=U.jws;e.jws=yD;var vD=U.lang;e.lang=vD}).call(this,t(28).Buffer)},function(n,e,t){"use strict";(function(r){var i=t(30),o=t(31),s=t(32);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(ie,A){if(a()<A)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(ie=new Uint8Array(A)).__proto__=c.prototype:(ie===null&&(ie=new c(A)),ie.length=A),ie}function c(ie,A,T){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(ie,A,T);if(typeof ie=="number"){if(typeof A=="string")throw new Error("If encoding is specified then the first argument must be a string");return m(this,ie)}return u(this,ie,A,T)}function u(ie,A,T,X){if(typeof A=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&A instanceof ArrayBuffer?function(pe,xe,gt,Fe){if(xe.byteLength,gt<0||xe.byteLength<gt)throw new RangeError("'offset' is out of bounds");if(xe.byteLength<gt+(Fe||0))throw new RangeError("'length' is out of bounds");return xe=gt===void 0&&Fe===void 0?new Uint8Array(xe):Fe===void 0?new Uint8Array(xe,gt):new Uint8Array(xe,gt,Fe),c.TYPED_ARRAY_SUPPORT?(pe=xe).__proto__=c.prototype:pe=g(pe,xe),pe}(ie,A,T,X):typeof A=="string"?function(pe,xe,gt){if(typeof gt=="string"&&gt!==""||(gt="utf8"),!c.isEncoding(gt))throw new TypeError('"encoding" must be a valid string encoding');var Fe=0|v(xe,gt),wt=(pe=l(pe,Fe)).write(xe,gt);return wt!==Fe&&(pe=pe.slice(0,wt)),pe}(ie,A,T):function(pe,xe){if(c.isBuffer(xe)){var gt=0|b(xe.length);return(pe=l(pe,gt)).length===0||xe.copy(pe,0,0,gt),pe}if(xe){if(typeof ArrayBuffer<"u"&&xe.buffer instanceof ArrayBuffer||"length"in xe)return typeof xe.length!="number"||function(wt){return wt!=wt}(xe.length)?l(pe,0):g(pe,xe);if(xe.type==="Buffer"&&s(xe.data))return g(pe,xe.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ie,A)}function h(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be a number');if(ie<0)throw new RangeError('"size" argument must not be negative')}function m(ie,A){if(h(A),ie=l(ie,A<0?0:0|b(A)),!c.TYPED_ARRAY_SUPPORT)for(var T=0;T<A;++T)ie[T]=0;return ie}function g(ie,A){var T=A.length<0?0:0|b(A.length);ie=l(ie,T);for(var X=0;X<T;X+=1)ie[X]=255&A[X];return ie}function b(ie){if(ie>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|ie}function v(ie,A){if(c.isBuffer(ie))return ie.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ie)||ie instanceof ArrayBuffer))return ie.byteLength;typeof ie!="string"&&(ie=""+ie);var T=ie.length;if(T===0)return 0;for(var X=!1;;)switch(A){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":case void 0:return an(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*T;case"hex":return T>>>1;case"base64":return Nn(ie).length;default:if(X)return an(ie).length;A=(""+A).toLowerCase(),X=!0}}function E(ie,A,T){var X=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0)<=(A>>>=0))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return _e(this,A,T);case"utf8":case"utf-8":return z(this,A,T);case"ascii":return Te(this,A,T);case"latin1":case"binary":return Oe(this,A,T);case"base64":return Ce(this,A,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De(this,A,T);default:if(X)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),X=!0}}function C(ie,A,T){var X=ie[A];ie[A]=ie[T],ie[T]=X}function R(ie,A,T,X,re){if(ie.length===0)return-1;if(typeof T=="string"?(X=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,isNaN(T)&&(T=re?0:ie.length-1),T<0&&(T=ie.length+T),T>=ie.length){if(re)return-1;T=ie.length-1}else if(T<0){if(!re)return-1;T=0}if(typeof A=="string"&&(A=c.from(A,X)),c.isBuffer(A))return A.length===0?-1:F(ie,A,T,X,re);if(typeof A=="number")return A&=255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(ie,A,T):Uint8Array.prototype.lastIndexOf.call(ie,A,T):F(ie,[A],T,X,re);throw new TypeError("val must be string, number or Buffer")}function F(ie,A,T,X,re){var pe,xe=1,gt=ie.length,Fe=A.length;if(X!==void 0&&((X=String(X).toLowerCase())==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(ie.length<2||A.length<2)return-1;xe=2,gt/=2,Fe/=2,T/=2}function wt(ss,Dt){return xe===1?ss[Dt]:ss.readUInt16BE(Dt*xe)}if(re){var ln=-1;for(pe=T;pe<gt;pe++)if(wt(ie,pe)===wt(A,ln===-1?0:pe-ln)){if(ln===-1&&(ln=pe),pe-ln+1===Fe)return ln*xe}else ln!==-1&&(pe-=pe-ln),ln=-1}else for(T+Fe>gt&&(T=gt-Fe),pe=T;pe>=0;pe--){for(var Gn=!0,Zi=0;Zi<Fe;Zi++)if(wt(ie,pe+Zi)!==wt(A,Zi)){Gn=!1;break}if(Gn)return pe}return-1}function M(ie,A,T,X){T=Number(T)||0;var re=ie.length-T;X?(X=Number(X))>re&&(X=re):X=re;var pe=A.length;if(pe%2!=0)throw new TypeError("Invalid hex string");X>pe/2&&(X=pe/2);for(var xe=0;xe<X;++xe){var gt=parseInt(A.substr(2*xe,2),16);if(isNaN(gt))return xe;ie[T+xe]=gt}return xe}function D(ie,A,T,X){return qt(an(A,ie.length-T),ie,T,X)}function $(ie,A,T,X){return qt(function(pe){for(var xe=[],gt=0;gt<pe.length;++gt)xe.push(255&pe.charCodeAt(gt));return xe}(A),ie,T,X)}function Q(ie,A,T,X){return $(ie,A,T,X)}function k(ie,A,T,X){return qt(Nn(A),ie,T,X)}function oe(ie,A,T,X){return qt(function(pe,xe){for(var gt,Fe,wt,ln=[],Gn=0;Gn<pe.length&&!((xe-=2)<0);++Gn)Fe=(gt=pe.charCodeAt(Gn))>>8,wt=gt%256,ln.push(wt),ln.push(Fe);return ln}(A,ie.length-T),ie,T,X)}function Ce(ie,A,T){return A===0&&T===ie.length?i.fromByteArray(ie):i.fromByteArray(ie.slice(A,T))}function z(ie,A,T){T=Math.min(ie.length,T);for(var X=[],re=A;re<T;){var pe,xe,gt,Fe,wt=ie[re],ln=null,Gn=wt>239?4:wt>223?3:wt>191?2:1;if(re+Gn<=T)switch(Gn){case 1:wt<128&&(ln=wt);break;case 2:(192&(pe=ie[re+1]))==128&&(Fe=(31&wt)<<6|63&pe)>127&&(ln=Fe);break;case 3:pe=ie[re+1],xe=ie[re+2],(192&pe)==128&&(192&xe)==128&&(Fe=(15&wt)<<12|(63&pe)<<6|63&xe)>2047&&(Fe<55296||Fe>57343)&&(ln=Fe);break;case 4:pe=ie[re+1],xe=ie[re+2],gt=ie[re+3],(192&pe)==128&&(192&xe)==128&&(192&gt)==128&&(Fe=(15&wt)<<18|(63&pe)<<12|(63&xe)<<6|63&gt)>65535&&Fe<1114112&&(ln=Fe)}ln===null?(ln=65533,Gn=1):ln>65535&&(ln-=65536,X.push(ln>>>10&1023|55296),ln=56320|1023&ln),X.push(ln),re+=Gn}return function(ss){var Dt=ss.length;if(Dt<=ae)return String.fromCharCode.apply(String,ss);for(var Er="",gn=0;gn<Dt;)Er+=String.fromCharCode.apply(String,ss.slice(gn,gn+=ae));return Er}(X)}e.Buffer=c,e.SlowBuffer=function(A){return+A!=A&&(A=0),c.alloc(+A)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=r.TYPED_ARRAY_SUPPORT!==void 0?r.TYPED_ARRAY_SUPPORT:function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},A.foo()===42&&typeof A.subarray=="function"&&A.subarray(1,1).byteLength===0}catch{return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(ie){return ie.__proto__=c.prototype,ie},c.from=function(ie,A,T){return u(null,ie,A,T)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(ie,A,T){return function(re,pe,xe,gt){return h(pe),pe<=0?l(re,pe):xe!==void 0?typeof gt=="string"?l(re,pe).fill(xe,gt):l(re,pe).fill(xe):l(re,pe)}(null,ie,A,T)},c.allocUnsafe=function(ie){return m(null,ie)},c.allocUnsafeSlow=function(ie){return m(null,ie)},c.isBuffer=function(A){return!(A==null||!A._isBuffer)},c.compare=function(A,T){if(!c.isBuffer(A)||!c.isBuffer(T))throw new TypeError("Arguments must be Buffers");if(A===T)return 0;for(var X=A.length,re=T.length,pe=0,xe=Math.min(X,re);pe<xe;++pe)if(A[pe]!==T[pe]){X=A[pe],re=T[pe];break}return X<re?-1:re<X?1:0},c.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(A,T){if(!s(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return c.alloc(0);var X;if(T===void 0)for(T=0,X=0;X<A.length;++X)T+=A[X].length;var re=c.allocUnsafe(T),pe=0;for(X=0;X<A.length;++X){var xe=A[X];if(!c.isBuffer(xe))throw new TypeError('"list" argument must be an Array of Buffers');xe.copy(re,pe),pe+=xe.length}return re},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<A;T+=2)C(this,T,T+1);return this},c.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<A;T+=4)C(this,T,T+3),C(this,T+1,T+2);return this},c.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<A;T+=8)C(this,T,T+7),C(this,T+1,T+6),C(this,T+2,T+5),C(this,T+3,T+4);return this},c.prototype.toString=function(){var A=0|this.length;return A===0?"":arguments.length===0?z(this,0,A):E.apply(this,arguments)},c.prototype.equals=function(A){if(!c.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||c.compare(this,A)===0},c.prototype.inspect=function(){var A="",T=e.INSPECT_MAX_BYTES;return this.length>0&&(A=this.toString("hex",0,T).match(/.{2}/g).join(" "),this.length>T&&(A+=" ... ")),"<Buffer "+A+">"},c.prototype.compare=function(A,T,X,re,pe){if(!c.isBuffer(A))throw new TypeError("Argument must be a Buffer");if(T===void 0&&(T=0),X===void 0&&(X=A?A.length:0),re===void 0&&(re=0),pe===void 0&&(pe=this.length),T<0||X>A.length||re<0||pe>this.length)throw new RangeError("out of range index");if(re>=pe&&T>=X)return 0;if(re>=pe)return-1;if(T>=X)return 1;if(this===A)return 0;for(var xe=(pe>>>=0)-(re>>>=0),gt=(X>>>=0)-(T>>>=0),Fe=Math.min(xe,gt),wt=this.slice(re,pe),ln=A.slice(T,X),Gn=0;Gn<Fe;++Gn)if(wt[Gn]!==ln[Gn]){xe=wt[Gn],gt=ln[Gn];break}return xe<gt?-1:gt<xe?1:0},c.prototype.includes=function(A,T,X){return this.indexOf(A,T,X)!==-1},c.prototype.indexOf=function(A,T,X){return R(this,A,T,X,!0)},c.prototype.lastIndexOf=function(A,T,X){return R(this,A,T,X,!1)},c.prototype.write=function(A,T,X,re){if(T===void 0)re="utf8",X=this.length,T=0;else if(X===void 0&&typeof T=="string")re=T,X=this.length,T=0;else{if(!isFinite(T))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");T|=0,isFinite(X)?(X|=0,re===void 0&&(re="utf8")):(re=X,X=void 0)}var pe=this.length-T;if((X===void 0||X>pe)&&(X=pe),A.length>0&&(X<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var xe=!1;;)switch(re){case"hex":return M(this,A,T,X);case"utf8":case"utf-8":return D(this,A,T,X);case"ascii":return $(this,A,T,X);case"latin1":case"binary":return Q(this,A,T,X);case"base64":return k(this,A,T,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,A,T,X);default:if(xe)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),xe=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ae=4096;function Te(ie,A,T){var X="";T=Math.min(ie.length,T);for(var re=A;re<T;++re)X+=String.fromCharCode(127&ie[re]);return X}function Oe(ie,A,T){var X="";T=Math.min(ie.length,T);for(var re=A;re<T;++re)X+=String.fromCharCode(ie[re]);return X}function _e(ie,A,T){var X=ie.length;(!A||A<0)&&(A=0),(!T||T<0||T>X)&&(T=X);for(var re="",pe=A;pe<T;++pe)re+=mn(ie[pe]);return re}function De(ie,A,T){for(var X=ie.slice(A,T),re="",pe=0;pe<X.length;pe+=2)re+=String.fromCharCode(X[pe]+256*X[pe+1]);return re}function Be(ie,A,T){if(ie%1!=0||ie<0)throw new RangeError("offset is not uint");if(ie+A>T)throw new RangeError("Trying to access beyond buffer length")}function pt(ie,A,T,X,re,pe){if(!c.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>re||A<pe)throw new RangeError('"value" argument is out of bounds');if(T+X>ie.length)throw new RangeError("Index out of range")}function Tt(ie,A,T,X){A<0&&(A=65535+A+1);for(var re=0,pe=Math.min(ie.length-T,2);re<pe;++re)ie[T+re]=(A&255<<8*(X?re:1-re))>>>8*(X?re:1-re)}function bt(ie,A,T,X){A<0&&(A=4294967295+A+1);for(var re=0,pe=Math.min(ie.length-T,4);re<pe;++re)ie[T+re]=A>>>8*(X?re:3-re)&255}function At(ie,A,T,X,re,pe){if(T+X>ie.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function sn(ie,A,T,X,re){return re||At(ie,0,T,4),o.write(ie,A,T,X,23,4),T+4}function Dn(ie,A,T,X,re){return re||At(ie,0,T,8),o.write(ie,A,T,X,52,8),T+8}c.prototype.slice=function(A,T){var X,re=this.length;if((A=~~A)<0?(A+=re)<0&&(A=0):A>re&&(A=re),(T=T===void 0?re:~~T)<0?(T+=re)<0&&(T=0):T>re&&(T=re),T<A&&(T=A),c.TYPED_ARRAY_SUPPORT)(X=this.subarray(A,T)).__proto__=c.prototype;else{var pe=T-A;X=new c(pe,void 0);for(var xe=0;xe<pe;++xe)X[xe]=this[xe+A]}return X},c.prototype.readUIntLE=function(A,T,X){A|=0,T|=0,X||Be(A,T,this.length);for(var re=this[A],pe=1,xe=0;++xe<T&&(pe*=256);)re+=this[A+xe]*pe;return re},c.prototype.readUIntBE=function(A,T,X){A|=0,T|=0,X||Be(A,T,this.length);for(var re=this[A+--T],pe=1;T>0&&(pe*=256);)re+=this[A+--T]*pe;return re},c.prototype.readUInt8=function(A,T){return T||Be(A,1,this.length),this[A]},c.prototype.readUInt16LE=function(A,T){return T||Be(A,2,this.length),this[A]|this[A+1]<<8},c.prototype.readUInt16BE=function(A,T){return T||Be(A,2,this.length),this[A]<<8|this[A+1]},c.prototype.readUInt32LE=function(A,T){return T||Be(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},c.prototype.readUInt32BE=function(A,T){return T||Be(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},c.prototype.readIntLE=function(A,T,X){A|=0,T|=0,X||Be(A,T,this.length);for(var re=this[A],pe=1,xe=0;++xe<T&&(pe*=256);)re+=this[A+xe]*pe;return re>=(pe*=128)&&(re-=Math.pow(2,8*T)),re},c.prototype.readIntBE=function(A,T,X){A|=0,T|=0,X||Be(A,T,this.length);for(var re=T,pe=1,xe=this[A+--re];re>0&&(pe*=256);)xe+=this[A+--re]*pe;return xe>=(pe*=128)&&(xe-=Math.pow(2,8*T)),xe},c.prototype.readInt8=function(A,T){return T||Be(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},c.prototype.readInt16LE=function(A,T){T||Be(A,2,this.length);var X=this[A]|this[A+1]<<8;return 32768&X?4294901760|X:X},c.prototype.readInt16BE=function(A,T){T||Be(A,2,this.length);var X=this[A+1]|this[A]<<8;return 32768&X?4294901760|X:X},c.prototype.readInt32LE=function(A,T){return T||Be(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},c.prototype.readInt32BE=function(A,T){return T||Be(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},c.prototype.readFloatLE=function(A,T){return T||Be(A,4,this.length),o.read(this,A,!0,23,4)},c.prototype.readFloatBE=function(A,T){return T||Be(A,4,this.length),o.read(this,A,!1,23,4)},c.prototype.readDoubleLE=function(A,T){return T||Be(A,8,this.length),o.read(this,A,!0,52,8)},c.prototype.readDoubleBE=function(A,T){return T||Be(A,8,this.length),o.read(this,A,!1,52,8)},c.prototype.writeUIntLE=function(A,T,X,re){A=+A,T|=0,X|=0,re||pt(this,A,T,X,Math.pow(2,8*X)-1,0);var pe=1,xe=0;for(this[T]=255&A;++xe<X&&(pe*=256);)this[T+xe]=A/pe&255;return T+X},c.prototype.writeUIntBE=function(A,T,X,re){A=+A,T|=0,X|=0,re||pt(this,A,T,X,Math.pow(2,8*X)-1,0);var pe=X-1,xe=1;for(this[T+pe]=255&A;--pe>=0&&(xe*=256);)this[T+pe]=A/xe&255;return T+X},c.prototype.writeUInt8=function(A,T,X){return A=+A,T|=0,X||pt(this,A,T,1,255,0),c.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),this[T]=255&A,T+1},c.prototype.writeUInt16LE=function(A,T,X){return A=+A,T|=0,X||pt(this,A,T,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[T]=255&A,this[T+1]=A>>>8):Tt(this,A,T,!0),T+2},c.prototype.writeUInt16BE=function(A,T,X){return A=+A,T|=0,X||pt(this,A,T,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[T]=A>>>8,this[T+1]=255&A):Tt(this,A,T,!1),T+2},c.prototype.writeUInt32LE=function(A,T,X){return A=+A,T|=0,X||pt(this,A,T,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[T+3]=A>>>24,this[T+2]=A>>>16,this[T+1]=A>>>8,this[T]=255&A):bt(this,A,T,!0),T+4},c.prototype.writeUInt32BE=function(A,T,X){return A=+A,T|=0,X||pt(this,A,T,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=255&A):bt(this,A,T,!1),T+4},c.prototype.writeIntLE=function(A,T,X,re){if(A=+A,T|=0,!re){var pe=Math.pow(2,8*X-1);pt(this,A,T,X,pe-1,-pe)}var xe=0,gt=1,Fe=0;for(this[T]=255&A;++xe<X&&(gt*=256);)A<0&&Fe===0&&this[T+xe-1]!==0&&(Fe=1),this[T+xe]=(A/gt>>0)-Fe&255;return T+X},c.prototype.writeIntBE=function(A,T,X,re){if(A=+A,T|=0,!re){var pe=Math.pow(2,8*X-1);pt(this,A,T,X,pe-1,-pe)}var xe=X-1,gt=1,Fe=0;for(this[T+xe]=255&A;--xe>=0&&(gt*=256);)A<0&&Fe===0&&this[T+xe+1]!==0&&(Fe=1),this[T+xe]=(A/gt>>0)-Fe&255;return T+X},c.prototype.writeInt8=function(A,T,X){return A=+A,T|=0,X||pt(this,A,T,1,127,-128),c.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),A<0&&(A=255+A+1),this[T]=255&A,T+1},c.prototype.writeInt16LE=function(A,T,X){return A=+A,T|=0,X||pt(this,A,T,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[T]=255&A,this[T+1]=A>>>8):Tt(this,A,T,!0),T+2},c.prototype.writeInt16BE=function(A,T,X){return A=+A,T|=0,X||pt(this,A,T,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[T]=A>>>8,this[T+1]=255&A):Tt(this,A,T,!1),T+2},c.prototype.writeInt32LE=function(A,T,X){return A=+A,T|=0,X||pt(this,A,T,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[T]=255&A,this[T+1]=A>>>8,this[T+2]=A>>>16,this[T+3]=A>>>24):bt(this,A,T,!0),T+4},c.prototype.writeInt32BE=function(A,T,X){return A=+A,T|=0,X||pt(this,A,T,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),c.TYPED_ARRAY_SUPPORT?(this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=255&A):bt(this,A,T,!1),T+4},c.prototype.writeFloatLE=function(A,T,X){return sn(this,A,T,!0,X)},c.prototype.writeFloatBE=function(A,T,X){return sn(this,A,T,!1,X)},c.prototype.writeDoubleLE=function(A,T,X){return Dn(this,A,T,!0,X)},c.prototype.writeDoubleBE=function(A,T,X){return Dn(this,A,T,!1,X)},c.prototype.copy=function(A,T,X,re){if(X||(X=0),re||re===0||(re=this.length),T>=A.length&&(T=A.length),T||(T=0),re>0&&re<X&&(re=X),re===X||A.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("sourceStart out of bounds");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),A.length-T<re-X&&(re=A.length-T+X);var pe,xe=re-X;if(this===A&&X<T&&T<re)for(pe=xe-1;pe>=0;--pe)A[pe+T]=this[pe+X];else if(xe<1e3||!c.TYPED_ARRAY_SUPPORT)for(pe=0;pe<xe;++pe)A[pe+T]=this[pe+X];else Uint8Array.prototype.set.call(A,this.subarray(X,X+xe),T);return xe},c.prototype.fill=function(A,T,X,re){if(typeof A=="string"){if(typeof T=="string"?(re=T,T=0,X=this.length):typeof X=="string"&&(re=X,X=this.length),A.length===1){var pe=A.charCodeAt(0);pe<256&&(A=pe)}if(re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!c.isEncoding(re))throw new TypeError("Unknown encoding: "+re)}else typeof A=="number"&&(A&=255);if(T<0||this.length<T||this.length<X)throw new RangeError("Out of range index");if(X<=T)return this;var xe;if(T>>>=0,X=X===void 0?this.length:X>>>0,A||(A=0),typeof A=="number")for(xe=T;xe<X;++xe)this[xe]=A;else{var gt=c.isBuffer(A)?A:an(new c(A,re).toString()),Fe=gt.length;for(xe=0;xe<X-T;++xe)this[xe+T]=gt[xe%Fe]}return this};var Rn=/[^+\/0-9A-Za-z-_]/g;function mn(ie){return ie<16?"0"+ie.toString(16):ie.toString(16)}function an(ie,A){var T;A=A||1/0;for(var X=ie.length,re=null,pe=[],xe=0;xe<X;++xe){if((T=ie.charCodeAt(xe))>55295&&T<57344){if(!re){if(T>56319){(A-=3)>-1&&pe.push(239,191,189);continue}if(xe+1===X){(A-=3)>-1&&pe.push(239,191,189);continue}re=T;continue}if(T<56320){(A-=3)>-1&&pe.push(239,191,189),re=T;continue}T=65536+(re-55296<<10|T-56320)}else re&&(A-=3)>-1&&pe.push(239,191,189);if(re=null,T<128){if((A-=1)<0)break;pe.push(T)}else if(T<2048){if((A-=2)<0)break;pe.push(T>>6|192,63&T|128)}else if(T<65536){if((A-=3)<0)break;pe.push(T>>12|224,T>>6&63|128,63&T|128)}else{if(!(T<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;pe.push(T>>18|240,T>>12&63|128,T>>6&63|128,63&T|128)}}return pe}function Nn(ie){return i.toByteArray(function(T){if((T=function(re){return re.trim?re.trim():re.replace(/^\s+|\s+$/g,"")}(T).replace(Rn,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(ie))}function qt(ie,A,T,X){for(var re=0;re<X&&!(re+T>=A.length||re>=ie.length);++re)A[re+T]=ie[re];return re}}).call(this,t(29))},function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}n.exports=t},function(n,e,t){"use strict";e.byteLength=function(m){var g=c(m),b=g[0],v=g[1];return 3*(b+v)/4-v},e.toByteArray=function(m){var g,b,v=c(m),E=v[0],C=v[1],R=new o(function($,Q,k){return 3*(Q+k)/4-k}(0,E,C)),F=0,M=C>0?E-4:E;for(b=0;b<M;b+=4)g=i[m.charCodeAt(b)]<<18|i[m.charCodeAt(b+1)]<<12|i[m.charCodeAt(b+2)]<<6|i[m.charCodeAt(b+3)],R[F++]=g>>16&255,R[F++]=g>>8&255,R[F++]=255&g;return C===2&&(g=i[m.charCodeAt(b)]<<2|i[m.charCodeAt(b+1)]>>4,R[F++]=255&g),C===1&&(g=i[m.charCodeAt(b)]<<10|i[m.charCodeAt(b+1)]<<4|i[m.charCodeAt(b+2)]>>2,R[F++]=g>>8&255,R[F++]=255&g),R},e.fromByteArray=function(m){for(var g,b=m.length,v=b%3,E=[],C=16383,R=0,F=b-v;R<F;R+=C)E.push(u(m,R,R+C>F?F:R+C));return v===1?(g=m[b-1],E.push(r[g>>2]+r[g<<4&63]+"==")):v===2&&(g=(m[b-2]<<8)+m[b-1],E.push(r[g>>10]+r[g>>4&63]+r[g<<2&63]+"=")),E.join("")};for(var r=[],i=[],o=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(h){var m=h.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");return g===-1&&(g=m),[g,g===m?0:4-g%4]}function u(h,m,g){for(var b,v,E=[],C=m;C<g;C+=3)b=(h[C]<<16&16711680)+(h[C+1]<<8&65280)+(255&h[C+2]),E.push(r[(v=b)>>18&63]+r[v>>12&63]+r[v>>6&63]+r[63&v]);return E.join("")}i[45]=62,i[95]=63},function(n,e){e.read=function(t,r,i,o,s){var a,l,c=8*s-o-1,u=(1<<c)-1,h=u>>1,m=-7,g=i?s-1:0,b=i?-1:1,v=t[r+g];for(g+=b,a=v&(1<<-m)-1,v>>=-m,m+=c;m>0;a=256*a+t[r+g],g+=b,m-=8);for(l=a&(1<<-m)-1,a>>=-m,m+=o;m>0;l=256*l+t[r+g],g+=b,m-=8);if(a===0)a=1-h;else{if(a===u)return l?NaN:1/0*(v?-1:1);l+=Math.pow(2,o),a-=h}return(v?-1:1)*l*Math.pow(2,a-o)},e.write=function(t,r,i,o,s,a){var l,c,u,h=8*a-s-1,m=(1<<h)-1,g=m>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=o?0:a-1,E=o?1:-1,C=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,l=m):(l=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-l))<1&&(l--,u*=2),(r+=l+g>=1?b/u:b*Math.pow(2,1-g))*u>=2&&(l++,u/=2),l+g>=m?(c=0,l=m):l+g>=1?(c=(r*u-1)*Math.pow(2,s),l+=g):(c=r*Math.pow(2,g-1)*Math.pow(2,s),l=0));s>=8;t[i+v]=255&c,v+=E,c/=256,s-=8);for(l=l<<s|c,h+=s;h>0;t[i+v]=255&l,v+=E,l/=256,h-=8);t[i+v-E]|=128*C}},function(n,e){var t={}.toString;n.exports=Array.isArray||function(r){return t.call(r)=="[object Array]"}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o){var s=o.jws,a=o.KeyUtil,l=o.X509,c=o.crypto,u=o.hextob64u,h=o.b64tohex,m=o.AllowedSigningAlgs;return function(){function g(){(function(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")})(this,g)}return g.parseJwt=function(v){r.Log.debug("JoseUtil.parseJwt");try{var E=s.JWS.parse(v);return{header:E.headerObj,payload:E.payloadObj}}catch(C){r.Log.error(C)}},g.validateJwt=function(v,E,C,R,F,M,D){r.Log.debug("JoseUtil.validateJwt");try{if(E.kty==="RSA")if(E.e&&E.n)E=a.getKey(E);else{if(!E.x5c||!E.x5c.length)return r.Log.error("JoseUtil.validateJwt: RSA key missing key material",E),Promise.reject(new Error("RSA key missing key material"));var $=h(E.x5c[0]);E=l.getPublicKeyFromCertHex($)}else{if(E.kty!=="EC")return r.Log.error("JoseUtil.validateJwt: Unsupported key type",E&&E.kty),Promise.reject(new Error(E.kty));if(!(E.crv&&E.x&&E.y))return r.Log.error("JoseUtil.validateJwt: EC key missing key material",E),Promise.reject(new Error("EC key missing key material"));E=a.getKey(E)}return g._validateJwt(v,E,C,R,F,M,D)}catch(Q){return r.Log.error(Q&&Q.message||Q),Promise.reject("JWT validation failed")}},g.validateJwtAttributes=function(v,E,C,R,F,M){R||(R=0),F||(F=parseInt(Date.now()/1e3));var D=g.parseJwt(v).payload;if(!D.iss)return r.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(D.iss!==E)return r.Log.error("JoseUtil._validateJwt: Invalid issuer in token",D.iss),Promise.reject(new Error("Invalid issuer in token: "+D.iss));if(!D.aud)return r.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(D.aud===C||Array.isArray(D.aud)&&D.aud.indexOf(C)>=0))return r.Log.error("JoseUtil._validateJwt: Invalid audience in token",D.aud),Promise.reject(new Error("Invalid audience in token: "+D.aud));if(D.azp&&D.azp!==C)return r.Log.error("JoseUtil._validateJwt: Invalid azp in token",D.azp),Promise.reject(new Error("Invalid azp in token: "+D.azp));if(!M){var $=F+R,Q=F-R;if(!D.iat)return r.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if($<D.iat)return r.Log.error("JoseUtil._validateJwt: iat is in the future",D.iat),Promise.reject(new Error("iat is in the future: "+D.iat));if(D.nbf&&$<D.nbf)return r.Log.error("JoseUtil._validateJwt: nbf is in the future",D.nbf),Promise.reject(new Error("nbf is in the future: "+D.nbf));if(!D.exp)return r.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(D.exp<Q)return r.Log.error("JoseUtil._validateJwt: exp is in the past",D.exp),Promise.reject(new Error("exp is in the past:"+D.exp))}return Promise.resolve(D)},g._validateJwt=function(v,E,C,R,F,M,D){return g.validateJwtAttributes(v,C,R,F,M,D).then(function($){try{return s.JWS.verify(v,E,m)?$:(r.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Q){return r.Log.error(Q&&Q.message||Q),Promise.reject(new Error("signature validation failed"))}})},g.hashString=function(v,E){try{return c.Util.hashString(v,E)}catch(C){r.Log.error(C)}},g.hexToBase64Url=function(v){try{return u(v)}catch(E){r.Log.error(E)}},g}()};var r=t(0);n.exports=e.default},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SigninResponse=void 0;var r=function(){function s(a,l){for(var c=0;c<l.length;c++){var u=l[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,l,c){return l&&s(a.prototype,l),c&&s(a,c),a}}(),i=t(3);function o(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}e.SigninResponse=function(){function s(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";o(this,s);var c=i.UrlUtility.parseUrlFragment(a,l);this.error=c.error,this.error_description=c.error_description,this.error_uri=c.error_uri,this.code=c.code,this.state=c.state,this.id_token=c.id_token,this.session_state=c.session_state,this.access_token=c.access_token,this.token_type=c.token_type,this.scope=c.scope,this.profile=void 0,this.expires_in=c.expires_in}return r(s,[{key:"expires_in",get:function(){if(this.expires_at){var l=parseInt(Date.now()/1e3);return this.expires_at-l}},set:function(l){var c=parseInt(l);if(typeof c=="number"&&c>0){var u=parseInt(Date.now()/1e3);this.expires_at=u+c}}},{key:"expired",get:function(){var l=this.expires_in;if(l!==void 0)return l<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),s}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignoutRequest=void 0;var r=t(0),i=t(3),o=t(9);e.SignoutRequest=function s(a){var l=a.url,c=a.id_token_hint,u=a.post_logout_redirect_uri,h=a.data,m=a.extraQueryParams,g=a.request_type;if(function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,s),!l)throw r.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var b in c&&(l=i.UrlUtility.addQueryParam(l,"id_token_hint",c)),u&&(l=i.UrlUtility.addQueryParam(l,"post_logout_redirect_uri",u),h&&(this.state=new o.State({data:h,request_type:g}),l=i.UrlUtility.addQueryParam(l,"state",this.state.id))),m)l=i.UrlUtility.addQueryParam(l,b,m[b]);this.url=l}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignoutResponse=void 0;var r=t(3);e.SignoutResponse=function i(o){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,i);var s=r.UrlUtility.parseUrlFragment(o,"?");this.error=s.error,this.error_description=s.error_description,this.error_uri=s.error_uri,this.state=s.state}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryWebStorage=void 0;var r=function(){function o(s,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,a,l){return a&&o(s.prototype,a),l&&o(s,l),s}}(),i=t(0);e.InMemoryWebStorage=function(){function o(){(function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this._data={}}return o.prototype.getItem=function(a){return i.Log.debug("InMemoryWebStorage.getItem",a),this._data[a]},o.prototype.setItem=function(a,l){i.Log.debug("InMemoryWebStorage.setItem",a),this._data[a]=l},o.prototype.removeItem=function(a){i.Log.debug("InMemoryWebStorage.removeItem",a),delete this._data[a]},o.prototype.key=function(a){return Object.getOwnPropertyNames(this._data)[a]},r(o,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),o}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserManager=void 0;var r=function(){function C(R,F){for(var M=0;M<F.length;M++){var D=F[M];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(R,D.key,D)}}return function(R,F,M){return F&&C(R.prototype,F),M&&C(R,M),R}}(),i=t(0),o=t(10),s=t(39),a=t(15),l=t(45),c=t(47),u=t(18),h=t(8),m=t(20),g=t(11),b=t(4);function v(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function E(C,R){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||typeof R!="object"&&typeof R!="function"?C:R}e.UserManager=function(C){function R(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.SilentRenewService,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.SessionMonitor,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m.TokenRevocationClient,Q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:g.TokenClient,k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:b.JoseUtil;v(this,R),F instanceof s.UserManagerSettings||(F=new s.UserManagerSettings(F));var oe=E(this,C.call(this,F));return oe._events=new l.UserManagerEvents(F),oe._silentRenewService=new M(oe),oe.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),oe.startSilentRenew()),oe.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),oe._sessionMonitor=new D(oe)),oe._tokenRevocationClient=new $(oe._settings),oe._tokenClient=new Q(oe._settings),oe._joseUtil=k,oe}return function(M,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);M.prototype=Object.create(D&&D.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(M,D):M.__proto__=D)}(R,C),R.prototype.getUser=function(){var M=this;return this._loadUser().then(function(D){return D?(i.Log.info("UserManager.getUser: user loaded"),M._events.load(D,!1),D):(i.Log.info("UserManager.getUser: user not found in storage"),null)})},R.prototype.removeUser=function(){var M=this;return this.storeUser(null).then(function(){i.Log.info("UserManager.removeUser: user removed from storage"),M._events.unload()})},R.prototype.signinRedirect=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(M=Object.assign({},M)).request_type="si:r";var D={useReplaceToNavigate:M.useReplaceToNavigate};return this._signinStart(M,this._redirectNavigator,D).then(function(){i.Log.info("UserManager.signinRedirect: successful")})},R.prototype.signinRedirectCallback=function(M){return this._signinEnd(M||this._redirectNavigator.url).then(function(D){return D.profile&&D.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",D.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),D})},R.prototype.signinPopup=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(M=Object.assign({},M)).request_type="si:p";var D=M.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return D?(M.redirect_uri=D,M.display="popup",this._signin(M,this._popupNavigator,{startUrl:D,popupWindowFeatures:M.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:M.popupWindowTarget||this.settings.popupWindowTarget}).then(function($){return $&&($.profile&&$.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",$.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),$})):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},R.prototype.signinPopupCallback=function(M){return this._signinCallback(M,this._popupNavigator).then(function(D){return D&&(D.profile&&D.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",D.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),D}).catch(function(D){i.Log.error(D.message)})},R.prototype.signinSilent=function(){var M=this,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return D=Object.assign({},D),this._loadUser().then(function($){return $&&$.refresh_token?(D.refresh_token=$.refresh_token,M._useRefreshToken(D)):(D.request_type="si:s",D.id_token_hint=D.id_token_hint||M.settings.includeIdTokenInSilentRenew&&$&&$.id_token,$&&M._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",$.profile.sub),D.current_sub=$.profile.sub),M._signinSilentIframe(D))})},R.prototype._useRefreshToken=function(){var M=this,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(D).then(function($){return $?$.access_token?M._loadUser().then(function(Q){if(Q){var k=Promise.resolve();return $.id_token&&(k=M._validateIdTokenFromTokenRefreshToken(Q.profile,$.id_token)),k.then(function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),Q.id_token=$.id_token||Q.id_token,Q.access_token=$.access_token,Q.refresh_token=$.refresh_token||Q.refresh_token,Q.expires_in=$.expires_in,M.storeUser(Q).then(function(){return M._events.load(Q),Q})})}return null}):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},R.prototype._validateIdTokenFromTokenRefreshToken=function(M,D){var $=this;return this._metadataService.getIssuer().then(function(Q){return $.settings.getEpochTime().then(function(k){return $._joseUtil.validateJwtAttributes(D,Q,$._settings.client_id,$._settings.clockSkew,k).then(function(oe){return oe?oe.sub!==M.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):oe.auth_time&&oe.auth_time!==M.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):oe.azp&&oe.azp!==M.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!oe.azp&&M.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},R.prototype._signinSilentIframe=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=M.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return D?(M.redirect_uri=D,M.prompt=M.prompt||"none",this._signin(M,this._iframeNavigator,{startUrl:D,silentRequestTimeout:M.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function($){return $&&($.profile&&$.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",$.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),$})):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},R.prototype.signinSilentCallback=function(M){return this._signinCallback(M,this._iframeNavigator).then(function(D){return D&&(D.profile&&D.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",D.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),D})},R.prototype.signinCallback=function(M){var D=this;return this.readSigninResponseState(M).then(function($){var Q=$.state;return $.response,Q.request_type==="si:r"?D.signinRedirectCallback(M):Q.request_type==="si:p"?D.signinPopupCallback(M):Q.request_type==="si:s"?D.signinSilentCallback(M):Promise.reject(new Error("invalid response_type in state"))})},R.prototype.signoutCallback=function(M,D){var $=this;return this.readSignoutResponseState(M).then(function(Q){var k=Q.state,oe=Q.response;return k?k.request_type==="so:r"?$.signoutRedirectCallback(M):k.request_type==="so:p"?$.signoutPopupCallback(M,D):Promise.reject(new Error("invalid response_type in state")):oe})},R.prototype.querySessionStatus=function(){var M=this,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:s";var $=D.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return $?(D.redirect_uri=$,D.prompt="none",D.response_type=D.response_type||this.settings.query_status_response_type,D.scope=D.scope||"openid",D.skipUserInfo=!0,this._signinStart(D,this._iframeNavigator,{startUrl:$,silentRequestTimeout:D.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Q){return M.processSigninResponse(Q.url).then(function(k){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),k.session_state&&k.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",k.profile.sub),{session_state:k.session_state,sub:k.profile.sub,sid:k.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(k){if(k.session_state&&M.settings.monitorAnonymousSession&&(k.message=="login_required"||k.message=="consent_required"||k.message=="interaction_required"||k.message=="account_selection_required"))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:k.session_state};throw k})})):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},R.prototype._signin=function(M,D){var $=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(M,D,Q).then(function(k){return $._signinEnd(k.url,M)})},R.prototype._signinStart=function(M,D){var $=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return D.prepare(Q).then(function(k){return i.Log.debug("UserManager._signinStart: got navigator window handle"),$.createSigninRequest(M).then(function(oe){return i.Log.debug("UserManager._signinStart: got signin request"),Q.url=oe.url,Q.id=oe.state.id,k.navigate(Q)}).catch(function(oe){throw k.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),k.close()),oe})})},R.prototype._signinEnd=function(M){var D=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(M).then(function(Q){i.Log.debug("UserManager._signinEnd: got signin response");var k=new a.User(Q);if($.current_sub){if($.current_sub!==k.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",k.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return D.storeUser(k).then(function(){return i.Log.debug("UserManager._signinEnd: user stored"),D._events.load(k),k})})},R.prototype._signinCallback=function(M,D){i.Log.debug("UserManager._signinCallback");var $=this._settings.response_mode==="query"||!this._settings.response_mode&&h.SigninRequest.isCode(this._settings.response_type)?"?":"#";return D.callback(M,void 0,$)},R.prototype.signoutRedirect=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(M=Object.assign({},M)).request_type="so:r";var D=M.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;D&&(M.post_logout_redirect_uri=D);var $={useReplaceToNavigate:M.useReplaceToNavigate};return this._signoutStart(M,this._redirectNavigator,$).then(function(){i.Log.info("UserManager.signoutRedirect: successful")})},R.prototype.signoutRedirectCallback=function(M){return this._signoutEnd(M||this._redirectNavigator.url).then(function(D){return i.Log.info("UserManager.signoutRedirectCallback: successful"),D})},R.prototype.signoutPopup=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(M=Object.assign({},M)).request_type="so:p";var D=M.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return M.post_logout_redirect_uri=D,M.display="popup",M.post_logout_redirect_uri&&(M.state=M.state||{}),this._signout(M,this._popupNavigator,{startUrl:D,popupWindowFeatures:M.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:M.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){i.Log.info("UserManager.signoutPopup: successful")})},R.prototype.signoutPopupCallback=function(M,D){return D===void 0&&typeof M=="boolean"&&(D=M,M=null),this._popupNavigator.callback(M,D,"?").then(function(){i.Log.info("UserManager.signoutPopupCallback: successful")})},R.prototype._signout=function(M,D){var $=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(M,D,Q).then(function(k){return $._signoutEnd(k.url)})},R.prototype._signoutStart=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=this,$=arguments[1],Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.prepare(Q).then(function(k){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),D._loadUser().then(function(oe){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(D._settings.revokeAccessTokenOnSignout?D._revokeInternal(oe):Promise.resolve()).then(function(){var Ce=M.id_token_hint||oe&&oe.id_token;return Ce&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),M.id_token_hint=Ce),D.removeUser().then(function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),D.createSignoutRequest(M).then(function(z){return i.Log.debug("UserManager._signoutStart: got signout request"),Q.url=z.url,z.state&&(Q.id=z.state.id),k.navigate(Q)})})})}).catch(function(oe){throw k.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),k.close()),oe})})},R.prototype._signoutEnd=function(M){return this.processSignoutResponse(M).then(function(D){return i.Log.debug("UserManager._signoutEnd: got signout response"),D})},R.prototype.revokeAccessToken=function(){var M=this;return this._loadUser().then(function(D){return M._revokeInternal(D,!0).then(function($){if($)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),D.access_token=null,D.refresh_token=null,D.expires_at=null,D.token_type=null,M.storeUser(D).then(function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),M._events.load(D)})})}).then(function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},R.prototype._revokeInternal=function(M,D){var $=this;if(M){var Q=M.access_token,k=M.refresh_token;return this._revokeAccessTokenInternal(Q,D).then(function(oe){return $._revokeRefreshTokenInternal(k,D).then(function(Ce){return oe||Ce||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),oe||Ce})})}return Promise.resolve(!1)},R.prototype._revokeAccessTokenInternal=function(M,D){return!M||M.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(M,D).then(function(){return!0})},R.prototype._revokeRefreshTokenInternal=function(M,D){return M?this._tokenRevocationClient.revoke(M,D,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},R.prototype.startSilentRenew=function(){this._silentRenewService.start()},R.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},R.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(M){return M?(i.Log.debug("UserManager._loadUser: user storageString loaded"),a.User.fromStorageString(M)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)})},R.prototype.storeUser=function(M){if(M){i.Log.debug("UserManager.storeUser: storing user");var D=M.toStorageString();return this._userStore.set(this._userStoreKey,D)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},r(R,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),R}(o.OidcClient)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserManagerSettings=void 0;var r=function(){function g(b,v){for(var E=0;E<v.length;E++){var C=v[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,v,E){return v&&g(b.prototype,v),E&&g(b,E),b}}(),i=(t(0),t(5)),o=t(40),s=t(41),a=t(43),l=t(6),c=t(1),u=t(8);function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function m(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?g:b}e.UserManagerSettings=function(g){function b(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=v.popup_redirect_uri,C=v.popup_post_logout_redirect_uri,R=v.popupWindowFeatures,F=v.popupWindowTarget,M=v.silent_redirect_uri,D=v.silentRequestTimeout,$=v.automaticSilentRenew,Q=$!==void 0&&$,k=v.validateSubOnSilentRenew,oe=k!==void 0&&k,Ce=v.includeIdTokenInSilentRenew,z=Ce===void 0||Ce,ae=v.monitorSession,Te=ae===void 0||ae,Oe=v.monitorAnonymousSession,_e=Oe!==void 0&&Oe,De=v.checkSessionInterval,Be=De===void 0?2e3:De,pt=v.stopCheckSessionOnError,Tt=pt===void 0||pt,bt=v.query_status_response_type,At=v.revokeAccessTokenOnSignout,sn=At!==void 0&&At,Dn=v.accessTokenExpiringNotificationTime,Rn=Dn===void 0?60:Dn,mn=v.redirectNavigator,an=mn===void 0?new o.RedirectNavigator:mn,Nn=v.popupNavigator,qt=Nn===void 0?new s.PopupNavigator:Nn,ie=v.iframeNavigator,A=ie===void 0?new a.IFrameNavigator:ie,T=v.userStore,X=T===void 0?new l.WebStorageStateStore({store:c.Global.sessionStorage}):T;h(this,b);var re=m(this,g.call(this,arguments[0]));return re._popup_redirect_uri=E,re._popup_post_logout_redirect_uri=C,re._popupWindowFeatures=R,re._popupWindowTarget=F,re._silent_redirect_uri=M,re._silentRequestTimeout=D,re._automaticSilentRenew=Q,re._validateSubOnSilentRenew=oe,re._includeIdTokenInSilentRenew=z,re._accessTokenExpiringNotificationTime=Rn,re._monitorSession=Te,re._monitorAnonymousSession=_e,re._checkSessionInterval=Be,re._stopCheckSessionOnError=Tt,bt?re._query_status_response_type=bt:arguments[0]&&arguments[0].response_type?re._query_status_response_type=u.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":re._query_status_response_type="id_token",re._revokeAccessTokenOnSignout=sn,re._redirectNavigator=an,re._popupNavigator=qt,re._iframeNavigator=A,re._userStore=X,re}return function(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}(b,g),r(b,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),b}(i.OidcClientSettings)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectNavigator=void 0;var r=function(){function o(s,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,a,l){return a&&o(s.prototype,a),l&&o(s,l),s}}(),i=t(0);e.RedirectNavigator=function(){function o(){(function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(){return Promise.resolve(this)},o.prototype.navigate=function(a){return a&&a.url?(a.useReplaceToNavigate?window.location.replace(a.url):window.location=a.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},r(o,[{key:"url",get:function(){return window.location.href}}]),o}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopupNavigator=void 0;var r=t(0),i=t(42);e.PopupNavigator=function(){function o(){(function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(a){var l=new i.PopupWindow(a);return Promise.resolve(l)},o.prototype.callback=function(a,l,c){r.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(a,l,c),Promise.resolve()}catch(u){return Promise.reject(u)}},o}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopupWindow=void 0;var r=function(){function s(a,l){for(var c=0;c<l.length;c++){var u=l[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,l,c){return l&&s(a.prototype,l),c&&s(a,c),a}}(),i=t(0),o=t(3);e.PopupWindow=function(){function s(a){var l=this;(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(h,m){l._resolve=h,l._reject=m});var c=a.popupWindowTarget||"_blank",u=a.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",c,u),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return s.prototype.navigate=function(l){return this._popup?l&&l.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=l.id,this._id&&(window["popupCallback_"+l.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=l.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},s.prototype._success=function(l){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(l)},s.prototype._error=function(l){i.Log.error("PopupWindow.error: ",l),this._cleanup(),this._reject(new Error(l))},s.prototype.close=function(){this._cleanup(!1)},s.prototype._cleanup=function(l){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!l&&this._popup.close(),this._popup=null},s.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},s.prototype._callback=function(l,c){this._cleanup(c),l?(i.Log.debug("PopupWindow.callback success"),this._success({url:l})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},s.notifyOpener=function(l,c,u){if(window.opener){if(l=l||window.location.href){var h=o.UrlUtility.parseUrlFragment(l,u);if(h.state){var m="popupCallback_"+h.state,g=window.opener[m];g?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),g(l,c)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},r(s,[{key:"promise",get:function(){return this._promise}}]),s}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IFrameNavigator=void 0;var r=t(0),i=t(44);e.IFrameNavigator=function(){function o(){(function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(a){var l=new i.IFrameWindow(a);return Promise.resolve(l)},o.prototype.callback=function(a){r.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(a),Promise.resolve()}catch(l){return Promise.reject(l)}},o}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IFrameWindow=void 0;var r=function(){function o(s,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,a,l){return a&&o(s.prototype,a),l&&o(s,l),s}}(),i=t(0);e.IFrameWindow=function(){function o(s){var a=this;(function(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")})(this,o),this._promise=new Promise(function(l,c){a._resolve=l,a._reject=c}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return o.prototype.navigate=function(a){if(a&&a.url){var l=a.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",l),this._timer=window.setTimeout(this._timeout.bind(this),l),this._frame.src=a.url}else this._error("No url provided");return this.promise},o.prototype._success=function(a){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(a)},o.prototype._error=function(a){this._cleanup(),i.Log.error(a),this._reject(new Error(a))},o.prototype.close=function(){this._cleanup()},o.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},o.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},o.prototype._message=function(a){if(i.Log.debug("IFrameWindow.message"),this._timer&&a.origin===this._origin&&a.source===this._frame.contentWindow&&typeof a.data=="string"&&(a.data.startsWith("http://")||a.data.startsWith("https://"))){var l=a.data;l?this._success({url:l}):this._error("Invalid response from frame")}},o.notifyParent=function(a){i.Log.debug("IFrameWindow.notifyParent"),(a=a||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(a,location.protocol+"//"+location.host))},r(o,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),o}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserManagerEvents=void 0;var r=t(0),i=t(16),o=t(17);e.UserManagerEvents=function(s){function a(l){(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,a);var c=function(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?h:m}(this,s.call(this,l));return c._userLoaded=new o.Event("User loaded"),c._userUnloaded=new o.Event("User unloaded"),c._silentRenewError=new o.Event("Silent renew error"),c._userSignedIn=new o.Event("User signed in"),c._userSignedOut=new o.Event("User signed out"),c._userSessionChanged=new o.Event("User session changed"),c}return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}(a,s),a.prototype.load=function(c){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];r.Log.debug("UserManagerEvents.load"),s.prototype.load.call(this,c),u&&this._userLoaded.raise(c)},a.prototype.unload=function(){r.Log.debug("UserManagerEvents.unload"),s.prototype.unload.call(this),this._userUnloaded.raise()},a.prototype.addUserLoaded=function(c){this._userLoaded.addHandler(c)},a.prototype.removeUserLoaded=function(c){this._userLoaded.removeHandler(c)},a.prototype.addUserUnloaded=function(c){this._userUnloaded.addHandler(c)},a.prototype.removeUserUnloaded=function(c){this._userUnloaded.removeHandler(c)},a.prototype.addSilentRenewError=function(c){this._silentRenewError.addHandler(c)},a.prototype.removeSilentRenewError=function(c){this._silentRenewError.removeHandler(c)},a.prototype._raiseSilentRenewError=function(c){r.Log.debug("UserManagerEvents._raiseSilentRenewError",c.message),this._silentRenewError.raise(c)},a.prototype.addUserSignedIn=function(c){this._userSignedIn.addHandler(c)},a.prototype.removeUserSignedIn=function(c){this._userSignedIn.removeHandler(c)},a.prototype._raiseUserSignedIn=function(){r.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},a.prototype.addUserSignedOut=function(c){this._userSignedOut.addHandler(c)},a.prototype.removeUserSignedOut=function(c){this._userSignedOut.removeHandler(c)},a.prototype._raiseUserSignedOut=function(){r.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},a.prototype.addUserSessionChanged=function(c){this._userSessionChanged.addHandler(c)},a.prototype.removeUserSessionChanged=function(c){this._userSessionChanged.removeHandler(c)},a.prototype._raiseUserSessionChanged=function(){r.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},a}(i.AccessTokenEvents)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timer=void 0;var r=function(){function c(u,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return function(u,h,m){return h&&c(u.prototype,h),m&&c(u,m),u}}(),i=t(0),o=t(1),s=t(17);function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function l(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?c:u}e.Timer=function(c){function u(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.timer,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;a(this,u);var b=l(this,c.call(this,h));return b._timer=m,b._nowFunc=g||function(){return Date.now()/1e3},b}return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}(u,c),u.prototype.init=function(m){m<=0&&(m=1),m=parseInt(m);var g=this.now+m;if(this.expiration===g&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",m),this._expiration=g;var b=5;m<b&&(b=m),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*b)}},u.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},u.prototype._callback=function(){var m=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",m),this._expiration<=this.now&&(this.cancel(),c.prototype.raise.call(this))},r(u,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),u}(s.Event)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SilentRenewService=void 0;var r=t(0);e.SilentRenewService=function(){function i(o){(function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i),this._userManager=o}return i.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(s){}).catch(function(s){r.Log.error("SilentRenewService.start: Error from getUser:",s.message)}))},i.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},i.prototype._tokenExpiring=function(){var s=this;this._userManager.signinSilent().then(function(a){r.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(a){r.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",a.message),s._userManager.events._raiseSilentRenewError(a)})},i}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaPopupNavigator=void 0;var r=t(21);e.CordovaPopupNavigator=function(){function i(){(function(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,i)}return i.prototype.prepare=function(s){var a=new r.CordovaPopupWindow(s);return Promise.resolve(a)},i}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaIFrameNavigator=void 0;var r=t(21);e.CordovaIFrameNavigator=function(){function i(){(function(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,i)}return i.prototype.prepare=function(s){s.popupWindowFeatures="hidden=yes";var a=new r.CordovaPopupWindow(s);return Promise.resolve(a)},i}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Version="1.11.6"}])})});var w4=Le((w9e,b4)=>{"use strict";b4.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Ou=Le(_f=>{"use strict";var l2,Hae=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];_f.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};_f.getSymbolTotalCodewords=function(e){return Hae[e]};_f.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};_f.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');l2=e};_f.isKanjiModeEnabled=function(){return typeof l2<"u"};_f.toSJIS=function(e){return l2(e)}});var CS=Le(Zs=>{"use strict";Zs.L={bit:1};Zs.M={bit:0};Zs.Q={bit:3};Zs.H={bit:2};function qae(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return Zs.L;case"m":case"medium":return Zs.M;case"q":case"quartile":return Zs.Q;case"h":case"high":return Zs.H;default:throw new Error("Unknown EC Level: "+n)}}Zs.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};Zs.from=function(e,t){if(Zs.isValid(e))return e;try{return qae(e)}catch{return t}}});var C4=Le((C9e,S4)=>{"use strict";function E4(){this.buffer=[],this.length=0}E4.prototype={get:function(n){let e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};S4.exports=E4});var D4=Le((x9e,x4)=>{"use strict";function Ev(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}Ev.prototype.set=function(n,e,t,r){let i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};Ev.prototype.get=function(n,e){return this.data[n*this.size+e]};Ev.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};Ev.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};x4.exports=Ev});var I4=Le(xS=>{"use strict";var zae=Ou().getSymbolSize;xS.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,r=zae(e),i=r===145?26:Math.ceil((r-13)/(2*t-2))*2,o=[r-7];for(let s=1;s<t-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()};xS.getPositions=function(e){let t=[],r=xS.getRowColCoords(e),i=r.length;for(let o=0;o<i;o++)for(let s=0;s<i;s++)o===0&&s===0||o===0&&s===i-1||o===i-1&&s===0||t.push([r[o],r[s]]);return t}});var R4=Le(T4=>{"use strict";var Gae=Ou().getSymbolSize,A4=7;T4.getPositions=function(e){let t=Gae(e);return[[0,0],[t-A4,0],[0,t-A4]]}});var N4=Le(br=>{"use strict";br.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var bf={N1:3,N2:3,N3:40,N4:10};br.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};br.from=function(e){return br.isValid(e)?parseInt(e,10):void 0};br.getPenaltyN1=function(e){let t=e.size,r=0,i=0,o=0,s=null,a=null;for(let l=0;l<t;l++){i=o=0,s=a=null;for(let c=0;c<t;c++){let u=e.get(l,c);u===s?i++:(i>=5&&(r+=bf.N1+(i-5)),s=u,i=1),u=e.get(c,l),u===a?o++:(o>=5&&(r+=bf.N1+(o-5)),a=u,o=1)}i>=5&&(r+=bf.N1+(i-5)),o>=5&&(r+=bf.N1+(o-5))}return r};br.getPenaltyN2=function(e){let t=e.size,r=0;for(let i=0;i<t-1;i++)for(let o=0;o<t-1;o++){let s=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);(s===4||s===0)&&r++}return r*bf.N2};br.getPenaltyN3=function(e){let t=e.size,r=0,i=0,o=0;for(let s=0;s<t;s++){i=o=0;for(let a=0;a<t;a++)i=i<<1&2047|e.get(s,a),a>=10&&(i===1488||i===93)&&r++,o=o<<1&2047|e.get(a,s),a>=10&&(o===1488||o===93)&&r++}return r*bf.N3};br.getPenaltyN4=function(e){let t=0,r=e.data.length;for(let o=0;o<r;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/r/5)-10)*bf.N4};function Wae(n,e,t){switch(n){case br.Patterns.PATTERN000:return(e+t)%2===0;case br.Patterns.PATTERN001:return e%2===0;case br.Patterns.PATTERN010:return t%3===0;case br.Patterns.PATTERN011:return(e+t)%3===0;case br.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case br.Patterns.PATTERN101:return e*t%2+e*t%3===0;case br.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case br.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}br.applyMask=function(e,t){let r=t.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)t.isReserved(o,i)||t.xor(o,i,Wae(e,o,i))};br.getBestMask=function(e,t){let r=Object.keys(br.Patterns).length,i=0,o=1/0;for(let s=0;s<r;s++){t(s),br.applyMask(s,e);let a=br.getPenaltyN1(e)+br.getPenaltyN2(e)+br.getPenaltyN3(e)+br.getPenaltyN4(e);br.applyMask(s,e),a<o&&(o=a,i=s)}return i}});var u2=Le(c2=>{"use strict";var ku=CS(),DS=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],IS=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];c2.getBlocksCount=function(e,t){switch(t){case ku.L:return DS[(e-1)*4+0];case ku.M:return DS[(e-1)*4+1];case ku.Q:return DS[(e-1)*4+2];case ku.H:return DS[(e-1)*4+3];default:return}};c2.getTotalCodewordsCount=function(e,t){switch(t){case ku.L:return IS[(e-1)*4+0];case ku.M:return IS[(e-1)*4+1];case ku.Q:return IS[(e-1)*4+2];case ku.H:return IS[(e-1)*4+3];default:return}}});var F4=Le(TS=>{"use strict";var Sv=new Uint8Array(512),AS=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Sv[t]=e,AS[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Sv[t]=Sv[t-255]})();TS.log=function(e){if(e<1)throw new Error("log("+e+")");return AS[e]};TS.exp=function(e){return Sv[e]};TS.mul=function(e,t){return e===0||t===0?0:Sv[AS[e]+AS[t]]}});var M4=Le(Cv=>{"use strict";var d2=F4();Cv.mul=function(e,t){let r=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)r[i+o]^=d2.mul(e[i],t[o]);return r};Cv.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){let i=r[0];for(let s=0;s<t.length;s++)r[s]^=d2.mul(t[s],i);let o=0;for(;o<r.length&&r[o]===0;)o++;r=r.slice(o)}return r};Cv.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let r=0;r<e;r++)t=Cv.mul(t,new Uint8Array([1,d2.exp(r)]));return t}});var P4=Le((F9e,k4)=>{"use strict";var O4=M4();function f2(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}f2.prototype.initialize=function(e){this.degree=e,this.genPoly=O4.generateECPolynomial(this.degree)};f2.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let r=O4.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(r,i),o}return r};k4.exports=f2});var h2=Le(L4=>{"use strict";L4.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var p2=Le(Cc=>{"use strict";var B4="[0-9]+",Kae="[A-Z $%*+\\-./:]+",xv="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";xv=xv.replace(/u/g,"\\u");var Jae="(?:(?![A-Z0-9 $%*+\\-./:]|"+xv+`)(?:.|[\r
]))+`;Cc.KANJI=new RegExp(xv,"g");Cc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Cc.BYTE=new RegExp(Jae,"g");Cc.NUMERIC=new RegExp(B4,"g");Cc.ALPHANUMERIC=new RegExp(Kae,"g");var Xae=new RegExp("^"+xv+"$"),Yae=new RegExp("^"+B4+"$"),Qae=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Cc.testKanji=function(e){return Xae.test(e)};Cc.testNumeric=function(e){return Yae.test(e)};Cc.testAlphanumeric=function(e){return Qae.test(e)}});var Pu=Le(ai=>{"use strict";var Zae=h2(),m2=p2();ai.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};ai.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};ai.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};ai.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};ai.MIXED={bit:-1};ai.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Zae.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};ai.getBestModeForData=function(e){return m2.testNumeric(e)?ai.NUMERIC:m2.testAlphanumeric(e)?ai.ALPHANUMERIC:m2.testKanji(e)?ai.KANJI:ai.BYTE};ai.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};ai.isValid=function(e){return e&&e.bit&&e.ccBits};function ele(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return ai.NUMERIC;case"alphanumeric":return ai.ALPHANUMERIC;case"kanji":return ai.KANJI;case"byte":return ai.BYTE;default:throw new Error("Unknown mode: "+n)}}ai.from=function(e,t){if(ai.isValid(e))return e;try{return ele(e)}catch{return t}}});var H4=Le(wf=>{"use strict";var RS=Ou(),tle=u2(),j4=CS(),Lu=Pu(),g2=h2(),V4=7973,U4=RS.getBCHDigit(V4);function nle(n,e,t){for(let r=1;r<=40;r++)if(e<=wf.getCapacity(r,t,n))return r}function $4(n,e){return Lu.getCharCountIndicator(n,e)+4}function rle(n,e){let t=0;return n.forEach(function(r){let i=$4(r.mode,e);t+=i+r.getBitsLength()}),t}function ile(n,e){for(let t=1;t<=40;t++)if(rle(n,t)<=wf.getCapacity(t,e,Lu.MIXED))return t}wf.from=function(e,t){return g2.isValid(e)?parseInt(e,10):t};wf.getCapacity=function(e,t,r){if(!g2.isValid(e))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=Lu.BYTE);let i=RS.getSymbolTotalCodewords(e),o=tle.getTotalCodewordsCount(e,t),s=(i-o)*8;if(r===Lu.MIXED)return s;let a=s-$4(r,e);switch(r){case Lu.NUMERIC:return Math.floor(a/10*3);case Lu.ALPHANUMERIC:return Math.floor(a/11*2);case Lu.KANJI:return Math.floor(a/13);case Lu.BYTE:default:return Math.floor(a/8)}};wf.getBestVersionForData=function(e,t){let r,i=j4.from(t,j4.M);if(Array.isArray(e)){if(e.length>1)return ile(e,i);if(e.length===0)return 1;r=e[0]}else r=e;return nle(r.mode,r.getLength(),i)};wf.getEncodedBits=function(e){if(!g2.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;RS.getBCHDigit(t)-U4>=0;)t^=V4<<RS.getBCHDigit(t)-U4;return e<<12|t}});var W4=Le(G4=>{"use strict";var y2=Ou(),z4=1335,ole=21522,q4=y2.getBCHDigit(z4);G4.getEncodedBits=function(e,t){let r=e.bit<<3|t,i=r<<10;for(;y2.getBCHDigit(i)-q4>=0;)i^=z4<<y2.getBCHDigit(i)-q4;return(r<<10|i)^ole}});var J4=Le((B9e,K4)=>{"use strict";var sle=Pu();function zp(n){this.mode=sle.NUMERIC,this.data=n.toString()}zp.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};zp.prototype.getLength=function(){return this.data.length};zp.prototype.getBitsLength=function(){return zp.getBitsLength(this.data.length)};zp.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),e.put(i,10);let o=this.data.length-t;o>0&&(r=this.data.substr(t),i=parseInt(r,10),e.put(i,o*3+1))};K4.exports=zp});var Y4=Le((j9e,X4)=>{"use strict";var ale=Pu(),v2=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Gp(n){this.mode=ale.ALPHANUMERIC,this.data=n}Gp.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Gp.prototype.getLength=function(){return this.data.length};Gp.prototype.getBitsLength=function(){return Gp.getBitsLength(this.data.length)};Gp.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=v2.indexOf(this.data[t])*45;r+=v2.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(v2.indexOf(this.data[t]),6)};X4.exports=Gp});var Z4=Le((U9e,Q4)=>{"use strict";var lle=Pu();function Wp(n){this.mode=lle.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Wp.getBitsLength=function(e){return e*8};Wp.prototype.getLength=function(){return this.data.length};Wp.prototype.getBitsLength=function(){return Wp.getBitsLength(this.data.length)};Wp.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};Q4.exports=Wp});var t5=Le((V9e,e5)=>{"use strict";var cle=Pu(),ule=Ou();function Kp(n){this.mode=cle.KANJI,this.data=n}Kp.getBitsLength=function(e){return e*13};Kp.prototype.getLength=function(){return this.data.length};Kp.prototype.getBitsLength=function(){return Kp.getBitsLength(this.data.length)};Kp.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=ule.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};e5.exports=Kp});var n5=Le(($9e,_2)=>{"use strict";var Dv={single_source_shortest_paths:function(n,e,t){var r={},i={};i[e]=0;var o=Dv.PriorityQueue.make();o.push(e,0);for(var s,a,l,c,u,h,m,g,b;!o.empty();){s=o.pop(),a=s.value,c=s.cost,u=n[a]||{};for(l in u)u.hasOwnProperty(l)&&(h=u[l],m=c+h,g=i[l],b=typeof i[l]>"u",(b||g>m)&&(i[l]=m,o.push(l,m),r[l]=a))}if(typeof t<"u"&&typeof i[t]>"u"){var v=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(v)}return r},extract_shortest_path_from_predecessor_list:function(n,e){for(var t=[],r=e,i;r;)t.push(r),i=n[r],r=n[r];return t.reverse(),t},find_path:function(n,e,t){var r=Dv.single_source_shortest_paths(n,e,t);return Dv.extract_shortest_path_from_predecessor_list(r,t)},PriorityQueue:{make:function(n){var e=Dv.PriorityQueue,t={},r;n=n||{};for(r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t.queue=[],t.sorter=n.sorter||e.default_sorter,t},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var t={value:n,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof _2<"u"&&(_2.exports=Dv)});var u5=Le(Jp=>{"use strict";var Kn=Pu(),o5=J4(),s5=Y4(),a5=Z4(),l5=t5(),Iv=p2(),NS=Ou(),dle=n5();function r5(n){return unescape(encodeURIComponent(n)).length}function Av(n,e,t){let r=[],i;for(;(i=n.exec(t))!==null;)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function c5(n){let e=Av(Iv.NUMERIC,Kn.NUMERIC,n),t=Av(Iv.ALPHANUMERIC,Kn.ALPHANUMERIC,n),r,i;return NS.isKanjiModeEnabled()?(r=Av(Iv.BYTE,Kn.BYTE,n),i=Av(Iv.KANJI,Kn.KANJI,n)):(r=Av(Iv.BYTE_KANJI,Kn.BYTE,n),i=[]),e.concat(t,r,i).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function b2(n,e){switch(e){case Kn.NUMERIC:return o5.getBitsLength(n);case Kn.ALPHANUMERIC:return s5.getBitsLength(n);case Kn.KANJI:return l5.getBitsLength(n);case Kn.BYTE:return a5.getBitsLength(n)}}function fle(n){return n.reduce(function(e,t){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function hle(n){let e=[];for(let t=0;t<n.length;t++){let r=n[t];switch(r.mode){case Kn.NUMERIC:e.push([r,{data:r.data,mode:Kn.ALPHANUMERIC,length:r.length},{data:r.data,mode:Kn.BYTE,length:r.length}]);break;case Kn.ALPHANUMERIC:e.push([r,{data:r.data,mode:Kn.BYTE,length:r.length}]);break;case Kn.KANJI:e.push([r,{data:r.data,mode:Kn.BYTE,length:r5(r.data)}]);break;case Kn.BYTE:e.push([{data:r.data,mode:Kn.BYTE,length:r5(r.data)}])}}return e}function ple(n,e){let t={},r={start:{}},i=["start"];for(let o=0;o<n.length;o++){let s=n[o],a=[];for(let l=0;l<s.length;l++){let c=s[l],u=""+o+l;a.push(u),t[u]={node:c,lastCount:0},r[u]={};for(let h=0;h<i.length;h++){let m=i[h];t[m]&&t[m].node.mode===c.mode?(r[m][u]=b2(t[m].lastCount+c.length,c.mode)-b2(t[m].lastCount,c.mode),t[m].lastCount+=c.length):(t[m]&&(t[m].lastCount=c.length),r[m][u]=b2(c.length,c.mode)+4+Kn.getCharCountIndicator(c.mode,e))}}i=a}for(let o=0;o<i.length;o++)r[i[o]].end=0;return{map:r,table:t}}function i5(n,e){let t,r=Kn.getBestModeForData(n);if(t=Kn.from(e,r),t!==Kn.BYTE&&t.bit<r.bit)throw new Error('"'+n+'" cannot be encoded with mode '+Kn.toString(t)+`.
 Suggested mode is: `+Kn.toString(r));switch(t===Kn.KANJI&&!NS.isKanjiModeEnabled()&&(t=Kn.BYTE),t){case Kn.NUMERIC:return new o5(n);case Kn.ALPHANUMERIC:return new s5(n);case Kn.KANJI:return new l5(n);case Kn.BYTE:return new a5(n)}}Jp.fromArray=function(e){return e.reduce(function(t,r){return typeof r=="string"?t.push(i5(r,null)):r.data&&t.push(i5(r.data,r.mode)),t},[])};Jp.fromString=function(e,t){let r=c5(e,NS.isKanjiModeEnabled()),i=hle(r),o=ple(i,t),s=dle.find_path(o.map,"start","end"),a=[];for(let l=1;l<s.length-1;l++)a.push(o.table[s[l]].node);return Jp.fromArray(fle(a))};Jp.rawSplit=function(e){return Jp.fromArray(c5(e,NS.isKanjiModeEnabled()))}});var f5=Le(d5=>{"use strict";var MS=Ou(),w2=CS(),mle=C4(),gle=D4(),yle=I4(),vle=R4(),C2=N4(),x2=u2(),_le=P4(),FS=H4(),ble=W4(),wle=Pu(),E2=u5();function Ele(n,e){let t=n.size,r=vle.getPositions(e);for(let i=0;i<r.length;i++){let o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||t<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||t<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(o+a,s+l,!0,!0):n.set(o+a,s+l,!1,!0))}}function Sle(n){let e=n.size;for(let t=8;t<e-8;t++){let r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function Cle(n,e){let t=yle.getPositions(e);for(let r=0;r<t.length;r++){let i=t[r][0],o=t[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?n.set(i+s,o+a,!0,!0):n.set(i+s,o+a,!1,!0)}}function xle(n,e){let t=n.size,r=FS.getEncodedBits(e),i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+t-8-3,s=(r>>a&1)===1,n.set(i,o,s,!0),n.set(o,i,s,!0)}function S2(n,e,t){let r=n.size,i=ble.getEncodedBits(e,t),o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(r-15+o,8,s,!0),o<8?n.set(8,r-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(r-8,8,1,!0)}function Dle(n,e){let t=n.size,r=-1,i=t-1,o=7,s=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(i,a-l)){let c=!1;s<e.length&&(c=(e[s]>>>o&1)===1),n.set(i,a-l,c),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function Ile(n,e,t){let r=new mle;t.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),wle.getCharCountIndicator(l.mode,n)),l.write(r)});let i=MS.getSymbolTotalCodewords(n),o=x2.getTotalCodewordsCount(n,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return Ale(r,n,e)}function Ale(n,e,t){let r=MS.getSymbolTotalCodewords(e),i=x2.getTotalCodewordsCount(e,t),o=r-i,s=x2.getBlocksCount(e,t),a=r%s,l=s-a,c=Math.floor(r/s),u=Math.floor(o/s),h=u+1,m=c-u,g=new _le(m),b=0,v=new Array(s),E=new Array(s),C=0,R=new Uint8Array(n.buffer);for(let Q=0;Q<s;Q++){let k=Q<l?u:h;v[Q]=R.slice(b,b+k),E[Q]=g.encode(v[Q]),b+=k,C=Math.max(C,k)}let F=new Uint8Array(r),M=0,D,$;for(D=0;D<C;D++)for($=0;$<s;$++)D<v[$].length&&(F[M++]=v[$][D]);for(D=0;D<m;D++)for($=0;$<s;$++)F[M++]=E[$][D];return F}function Tle(n,e,t,r){let i;if(Array.isArray(n))i=E2.fromArray(n);else if(typeof n=="string"){let c=e;if(!c){let u=E2.rawSplit(n);c=FS.getBestVersionForData(u,t)}i=E2.fromString(n,c||40)}else throw new Error("Invalid data");let o=FS.getBestVersionForData(i,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=Ile(e,t,i),a=MS.getSymbolSize(e),l=new gle(a);return Ele(l,e),Sle(l),Cle(l,e),S2(l,t,0),e>=7&&xle(l,e),Dle(l,s),isNaN(r)&&(r=C2.getBestMask(l,S2.bind(null,l,t))),C2.applyMask(r,l),S2(l,t,r),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}d5.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=w2.M,i,o;return typeof t<"u"&&(r=w2.from(t.errorCorrectionLevel,w2.M),i=FS.from(t.version),o=C2.from(t.maskPattern),t.toSJISFunc&&MS.setToSJISFunction(t.toSJISFunc)),Tle(e,i,r,o)}});var D2=Le(Ef=>{"use strict";function h5(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}Ef.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:h5(e.color.dark||"#000000ff"),light:h5(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Ef.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};Ef.getImageWidth=function(e,t){let r=Ef.getScale(e,t);return Math.floor((e+t.margin*2)*r)};Ef.qrToImageData=function(e,t,r){let i=t.modules.size,o=t.modules.data,s=Ef.getScale(i,r),a=Math.floor((i+r.margin*2)*s),l=r.margin*s,c=[r.color.light,r.color.dark];for(let u=0;u<a;u++)for(let h=0;h<a;h++){let m=(u*a+h)*4,g=r.color.light;if(u>=l&&h>=l&&u<a-l&&h<a-l){let b=Math.floor((u-l)/s),v=Math.floor((h-l)/s);g=c[o[b*i+v]?1:0]}e[m++]=g.r,e[m++]=g.g,e[m++]=g.b,e[m]=g.a}}});var p5=Le(OS=>{"use strict";var I2=D2();function Rle(n,e,t){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function Nle(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}OS.render=function(e,t,r){let i=r,o=t;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),t||(o=Nle()),i=I2.getOptions(i);let s=I2.getImageWidth(e.modules.size,i),a=o.getContext("2d"),l=a.createImageData(s,s);return I2.qrToImageData(l.data,e,i),Rle(a,o,s),a.putImageData(l,0,0),o};OS.renderToDataURL=function(e,t,r){let i=r;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),i||(i={});let o=OS.render(e,t,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}});var y5=Le(g5=>{"use strict";var Fle=D2();function m5(n,e){let t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function A2(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function Mle(n,e,t){let r="",i=0,o=!1,s=0;for(let a=0;a<n.length;a++){let l=Math.floor(a%e),c=Math.floor(a/e);!l&&!o&&(o=!0),n[a]?(s++,a>0&&l>0&&n[a-1]||(r+=o?A2("M",l+t,.5+c+t):A2("m",i,0),i=0,o=!1),l+1<e&&n[a+1]||(r+=A2("h",s),s=0)):i++}return r}g5.render=function(e,t,r){let i=Fle.getOptions(t),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+m5(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+m5(i.color.dark,"stroke")+' d="'+Mle(s,o,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,m),m}});var _5=Le(Tv=>{"use strict";var Ole=w4(),T2=f5(),v5=p5(),kle=y5();function R2(n,e,t,r,i){let o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!Ole())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=t,t=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=e,e=r=void 0):s===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(l,c){try{let u=T2.create(t,r);l(n(u,e,r))}catch(u){c(u)}})}try{let l=T2.create(t,r);i(null,n(l,e,r))}catch(l){i(l)}}Tv.create=T2.create;Tv.toCanvas=R2.bind(null,v5.render);Tv.toDataURL=R2.bind(null,v5.renderToDataURL);Tv.toString=R2.bind(null,function(n,e,t){return kle.render(n,t)})});var I5=Le(kS=>{"use strict";kS.byteLength=tce;kS.toByteArray=rce;kS.fromByteArray=sce;var Al=[],ta=[],ece=typeof Uint8Array<"u"?Uint8Array:Array,N2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Sf=0,x5=N2.length;Sf<x5;++Sf)Al[Sf]=N2[Sf],ta[N2.charCodeAt(Sf)]=Sf;var Sf,x5;ta[45]=62;ta[95]=63;function D5(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function tce(n){var e=D5(n),t=e[0],r=e[1];return(t+r)*3/4-r}function nce(n,e,t){return(e+t)*3/4-t}function rce(n){var e,t=D5(n),r=t[0],i=t[1],o=new ece(nce(n,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=ta[n.charCodeAt(l)]<<18|ta[n.charCodeAt(l+1)]<<12|ta[n.charCodeAt(l+2)]<<6|ta[n.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=ta[n.charCodeAt(l)]<<2|ta[n.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=ta[n.charCodeAt(l)]<<10|ta[n.charCodeAt(l+1)]<<4|ta[n.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function ice(n){return Al[n>>18&63]+Al[n>>12&63]+Al[n>>6&63]+Al[n&63]}function oce(n,e,t){for(var r,i=[],o=e;o<t;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(ice(r));return i.join("")}function sce(n){for(var e,t=n.length,r=t%3,i=[],o=16383,s=0,a=t-r;s<a;s+=o)i.push(oce(n,s,s+o>a?a:s+o));return r===1?(e=n[t-1],i.push(Al[e>>2]+Al[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(Al[e>>10]+Al[e>>4&63]+Al[e<<2&63]+"=")),i.join("")}});var A5=Le(F2=>{"use strict";F2.read=function(n,e,t,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=t?i-1:0,m=t?-1:1,g=n[e+h];for(h+=m,o=g&(1<<-u)-1,g>>=-u,u+=a;u>0;o=o*256+n[e+h],h+=m,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+n[e+h],h+=m,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(g?-1:1)*s*Math.pow(2,o-r)};F2.write=function(n,e,t,r,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,h=u>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:o-1,b=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?e+=m/l:e+=m*Math.pow(2,1-h),e*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*l-1)*Math.pow(2,i),s=s+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;n[t+g]=a&255,g+=b,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;n[t+g]=s&255,g+=b,s/=256,c-=8);n[t+g-b]|=v*128}});var Ua=Le(em=>{"use strict";var M2=I5(),Qp=A5(),T5=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;em.Buffer=Ne;em.SlowBuffer=fce;em.INSPECT_MAX_BYTES=50;var PS=2147483647;em.kMaxLength=PS;Ne.TYPED_ARRAY_SUPPORT=ace();!Ne.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ace(){try{let n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),n.foo()===42}catch{return!1}}Object.defineProperty(Ne.prototype,"parent",{enumerable:!0,get:function(){if(Ne.isBuffer(this))return this.buffer}});Object.defineProperty(Ne.prototype,"offset",{enumerable:!0,get:function(){if(Ne.isBuffer(this))return this.byteOffset}});function xc(n){if(n>PS)throw new RangeError('The value "'+n+'" is invalid for option "size"');let e=new Uint8Array(n);return Object.setPrototypeOf(e,Ne.prototype),e}function Ne(n,e,t){if(typeof n=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return L2(n)}return M5(n,e,t)}Ne.poolSize=8192;function M5(n,e,t){if(typeof n=="string")return cce(n,e);if(ArrayBuffer.isView(n))return uce(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Tl(n,ArrayBuffer)||n&&Tl(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Tl(n,SharedArrayBuffer)||n&&Tl(n.buffer,SharedArrayBuffer)))return k2(n,e,t);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=n.valueOf&&n.valueOf();if(r!=null&&r!==n)return Ne.from(r,e,t);let i=dce(n);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return Ne.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}Ne.from=function(n,e,t){return M5(n,e,t)};Object.setPrototypeOf(Ne.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ne,Uint8Array);function O5(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function lce(n,e,t){return O5(n),n<=0?xc(n):e!==void 0?typeof t=="string"?xc(n).fill(e,t):xc(n).fill(e):xc(n)}Ne.alloc=function(n,e,t){return lce(n,e,t)};function L2(n){return O5(n),xc(n<0?0:B2(n)|0)}Ne.allocUnsafe=function(n){return L2(n)};Ne.allocUnsafeSlow=function(n){return L2(n)};function cce(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Ne.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=k5(n,e)|0,r=xc(t),i=r.write(n,e);return i!==t&&(r=r.slice(0,i)),r}function O2(n){let e=n.length<0?0:B2(n.length)|0,t=xc(e);for(let r=0;r<e;r+=1)t[r]=n[r]&255;return t}function uce(n){if(Tl(n,Uint8Array)){let e=new Uint8Array(n);return k2(e.buffer,e.byteOffset,e.byteLength)}return O2(n)}function k2(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let r;return e===void 0&&t===void 0?r=new Uint8Array(n):t===void 0?r=new Uint8Array(n,e):r=new Uint8Array(n,e,t),Object.setPrototypeOf(r,Ne.prototype),r}function dce(n){if(Ne.isBuffer(n)){let e=B2(n.length)|0,t=xc(e);return t.length===0||n.copy(t,0,0,e),t}if(n.length!==void 0)return typeof n.length!="number"||U2(n.length)?xc(0):O2(n);if(n.type==="Buffer"&&Array.isArray(n.data))return O2(n.data)}function B2(n){if(n>=PS)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+PS.toString(16)+" bytes");return n|0}function fce(n){return+n!=n&&(n=0),Ne.alloc(+n)}Ne.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Ne.prototype};Ne.compare=function(e,t){if(Tl(e,Uint8Array)&&(e=Ne.from(e,e.offset,e.byteLength)),Tl(t,Uint8Array)&&(t=Ne.from(t,t.offset,t.byteLength)),!Ne.isBuffer(e)||!Ne.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let o=0,s=Math.min(r,i);o<s;++o)if(e[o]!==t[o]){r=e[o],i=t[o];break}return r<i?-1:i<r?1:0};Ne.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Ne.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ne.alloc(0);let r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let i=Ne.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){let s=e[r];if(Tl(s,Uint8Array))o+s.length>i.length?(Ne.isBuffer(s)||(s=Ne.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(Ne.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function k5(n,e){if(Ne.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Tl(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);let t=n.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return P2(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return q5(n).length;default:if(i)return r?-1:P2(n).length;e=(""+e).toLowerCase(),i=!0}}Ne.byteLength=k5;function hce(n,e,t){let r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return Sce(this,e,t);case"utf8":case"utf-8":return L5(this,e,t);case"ascii":return wce(this,e,t);case"latin1":case"binary":return Ece(this,e,t);case"base64":return _ce(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Cce(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}Ne.prototype._isBuffer=!0;function Cf(n,e,t){let r=n[e];n[e]=n[t],n[t]=r}Ne.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Cf(this,t,t+1);return this};Ne.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Cf(this,t,t+3),Cf(this,t+1,t+2);return this};Ne.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Cf(this,t,t+7),Cf(this,t+1,t+6),Cf(this,t+2,t+5),Cf(this,t+3,t+4);return this};Ne.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?L5(this,0,e):hce.apply(this,arguments)};Ne.prototype.toLocaleString=Ne.prototype.toString;Ne.prototype.equals=function(e){if(!Ne.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Ne.compare(this,e)===0};Ne.prototype.inspect=function(){let e="",t=em.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};T5&&(Ne.prototype[T5]=Ne.prototype.inspect);Ne.prototype.compare=function(e,t,r,i,o){if(Tl(e,Uint8Array)&&(e=Ne.from(e,e.offset,e.byteLength)),!Ne.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=r)return 0;if(i>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=r-t,l=Math.min(s,a),c=this.slice(i,o),u=e.slice(t,r);for(let h=0;h<l;++h)if(c[h]!==u[h]){s=c[h],a=u[h];break}return s<a?-1:a<s?1:0};function P5(n,e,t,r,i){if(n.length===0)return-1;if(typeof t=="string"?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,U2(t)&&(t=i?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(i)return-1;t=n.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=Ne.from(e,r)),Ne.isBuffer(e))return e.length===0?-1:R5(n,e,t,r,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):R5(n,[e],t,r,i);throw new TypeError("val must be string, number or Buffer")}function R5(n,e,t,r,i){let o=1,s=n.length,a=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||e.length<2)return-1;o=2,s/=2,a/=2,t/=2}function l(u,h){return o===1?u[h]:u.readUInt16BE(h*o)}let c;if(i){let u=-1;for(c=t;c<s;c++)if(l(n,c)===l(e,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===a)return u*o}else u!==-1&&(c-=c-u),u=-1}else for(t+a>s&&(t=s-a),c=t;c>=0;c--){let u=!0;for(let h=0;h<a;h++)if(l(n,c+h)!==l(e,h)){u=!1;break}if(u)return c}return-1}Ne.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1};Ne.prototype.indexOf=function(e,t,r){return P5(this,e,t,r,!0)};Ne.prototype.lastIndexOf=function(e,t,r){return P5(this,e,t,r,!1)};function pce(n,e,t,r){t=Number(t)||0;let i=n.length-t;r?(r=Number(r),r>i&&(r=i)):r=i;let o=e.length;r>o/2&&(r=o/2);let s;for(s=0;s<r;++s){let a=parseInt(e.substr(s*2,2),16);if(U2(a))return s;n[t+s]=a}return s}function mce(n,e,t,r){return LS(P2(e,n.length-t),n,t,r)}function gce(n,e,t,r){return LS(Ace(e),n,t,r)}function yce(n,e,t,r){return LS(q5(e),n,t,r)}function vce(n,e,t,r){return LS(Tce(e,n.length-t),n,t,r)}Ne.prototype.write=function(e,t,r,i){if(t===void 0)i="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")i=t,r=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((r===void 0||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return pce(this,e,t,r);case"utf8":case"utf-8":return mce(this,e,t,r);case"ascii":case"latin1":case"binary":return gce(this,e,t,r);case"base64":return yce(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vce(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};Ne.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _ce(n,e,t){return e===0&&t===n.length?M2.fromByteArray(n):M2.fromByteArray(n.slice(e,t))}function L5(n,e,t){t=Math.min(n.length,t);let r=[],i=e;for(;i<t;){let o=n[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=t){let l,c,u,h;switch(a){case 1:o<128&&(s=o);break;case 2:l=n[i+1],(l&192)===128&&(h=(o&31)<<6|l&63,h>127&&(s=h));break;case 3:l=n[i+1],c=n[i+2],(l&192)===128&&(c&192)===128&&(h=(o&15)<<12|(l&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:l=n[i+1],c=n[i+2],u=n[i+3],(l&192)===128&&(c&192)===128&&(u&192)===128&&(h=(o&15)<<18|(l&63)<<12|(c&63)<<6|u&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),i+=a}return bce(r)}var N5=4096;function bce(n){let e=n.length;if(e<=N5)return String.fromCharCode.apply(String,n);let t="",r=0;for(;r<e;)t+=String.fromCharCode.apply(String,n.slice(r,r+=N5));return t}function wce(n,e,t){let r="";t=Math.min(n.length,t);for(let i=e;i<t;++i)r+=String.fromCharCode(n[i]&127);return r}function Ece(n,e,t){let r="";t=Math.min(n.length,t);for(let i=e;i<t;++i)r+=String.fromCharCode(n[i]);return r}function Sce(n,e,t){let r=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);let i="";for(let o=e;o<t;++o)i+=Rce[n[o]];return i}function Cce(n,e,t){let r=n.slice(e,t),i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+r[o+1]*256);return i}Ne.prototype.slice=function(e,t){let r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,Ne.prototype),i};function Oi(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}Ne.prototype.readUintLE=Ne.prototype.readUIntLE=function(e,t,r){e=e>>>0,t=t>>>0,r||Oi(e,t,this.length);let i=this[e],o=1,s=0;for(;++s<t&&(o*=256);)i+=this[e+s]*o;return i};Ne.prototype.readUintBE=Ne.prototype.readUIntBE=function(e,t,r){e=e>>>0,t=t>>>0,r||Oi(e,t,this.length);let i=this[e+--t],o=1;for(;t>0&&(o*=256);)i+=this[e+--t]*o;return i};Ne.prototype.readUint8=Ne.prototype.readUInt8=function(e,t){return e=e>>>0,t||Oi(e,1,this.length),this[e]};Ne.prototype.readUint16LE=Ne.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Oi(e,2,this.length),this[e]|this[e+1]<<8};Ne.prototype.readUint16BE=Ne.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Oi(e,2,this.length),this[e]<<8|this[e+1]};Ne.prototype.readUint32LE=Ne.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Oi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Ne.prototype.readUint32BE=Ne.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Oi(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Ne.prototype.readBigUInt64LE=Bu(function(e){e=e>>>0,Zp(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Rv(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+r*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});Ne.prototype.readBigUInt64BE=Bu(function(e){e=e>>>0,Zp(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Rv(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r;return(BigInt(i)<<BigInt(32))+BigInt(o)});Ne.prototype.readIntLE=function(e,t,r){e=e>>>0,t=t>>>0,r||Oi(e,t,this.length);let i=this[e],o=1,s=0;for(;++s<t&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};Ne.prototype.readIntBE=function(e,t,r){e=e>>>0,t=t>>>0,r||Oi(e,t,this.length);let i=t,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s};Ne.prototype.readInt8=function(e,t){return e=e>>>0,t||Oi(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Ne.prototype.readInt16LE=function(e,t){e=e>>>0,t||Oi(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};Ne.prototype.readInt16BE=function(e,t){e=e>>>0,t||Oi(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};Ne.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Oi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Ne.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Oi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Ne.prototype.readBigInt64LE=Bu(function(e){e=e>>>0,Zp(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Rv(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});Ne.prototype.readBigInt64BE=Bu(function(e){e=e>>>0,Zp(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&Rv(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r)});Ne.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Oi(e,4,this.length),Qp.read(this,e,!0,23,4)};Ne.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Oi(e,4,this.length),Qp.read(this,e,!1,23,4)};Ne.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Oi(e,8,this.length),Qp.read(this,e,!0,52,8)};Ne.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Oi(e,8,this.length),Qp.read(this,e,!1,52,8)};function es(n,e,t,r,i,o){if(!Ne.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+r>n.length)throw new RangeError("Index out of range")}Ne.prototype.writeUintLE=Ne.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t=t>>>0,r=r>>>0,!i){let a=Math.pow(2,8*r)-1;es(this,e,t,r,a,0)}let o=1,s=0;for(this[t]=e&255;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r};Ne.prototype.writeUintBE=Ne.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t=t>>>0,r=r>>>0,!i){let a=Math.pow(2,8*r)-1;es(this,e,t,r,a,0)}let o=r-1,s=1;for(this[t+o]=e&255;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r};Ne.prototype.writeUint8=Ne.prototype.writeUInt8=function(e,t,r){return e=+e,t=t>>>0,r||es(this,e,t,1,255,0),this[t]=e&255,t+1};Ne.prototype.writeUint16LE=Ne.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t>>>0,r||es(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Ne.prototype.writeUint16BE=Ne.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t>>>0,r||es(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Ne.prototype.writeUint32LE=Ne.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t>>>0,r||es(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Ne.prototype.writeUint32BE=Ne.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t>>>0,r||es(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function B5(n,e,t,r,i){H5(e,r,i,n,t,7);let o=Number(e&BigInt(4294967295));n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,t}function j5(n,e,t,r,i){H5(e,r,i,n,t,7);let o=Number(e&BigInt(4294967295));n[t+7]=o,o=o>>8,n[t+6]=o,o=o>>8,n[t+5]=o,o=o>>8,n[t+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t+3]=s,s=s>>8,n[t+2]=s,s=s>>8,n[t+1]=s,s=s>>8,n[t]=s,t+8}Ne.prototype.writeBigUInt64LE=Bu(function(e,t=0){return B5(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Ne.prototype.writeBigUInt64BE=Bu(function(e,t=0){return j5(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Ne.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t=t>>>0,!i){let l=Math.pow(2,8*r-1);es(this,e,t,r,l-1,-l)}let o=0,s=1,a=0;for(this[t]=e&255;++o<r&&(s*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r};Ne.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t=t>>>0,!i){let l=Math.pow(2,8*r-1);es(this,e,t,r,l-1,-l)}let o=r-1,s=1,a=0;for(this[t+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r};Ne.prototype.writeInt8=function(e,t,r){return e=+e,t=t>>>0,r||es(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Ne.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t>>>0,r||es(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Ne.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t>>>0,r||es(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Ne.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t>>>0,r||es(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Ne.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t>>>0,r||es(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Ne.prototype.writeBigInt64LE=Bu(function(e,t=0){return B5(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Ne.prototype.writeBigInt64BE=Bu(function(e,t=0){return j5(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function U5(n,e,t,r,i,o){if(t+r>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function V5(n,e,t,r,i){return e=+e,t=t>>>0,i||U5(n,e,t,4,34028234663852886e22,-34028234663852886e22),Qp.write(n,e,t,r,23,4),t+4}Ne.prototype.writeFloatLE=function(e,t,r){return V5(this,e,t,!0,r)};Ne.prototype.writeFloatBE=function(e,t,r){return V5(this,e,t,!1,r)};function $5(n,e,t,r,i){return e=+e,t=t>>>0,i||U5(n,e,t,8,17976931348623157e292,-17976931348623157e292),Qp.write(n,e,t,r,52,8),t+8}Ne.prototype.writeDoubleLE=function(e,t,r){return $5(this,e,t,!0,r)};Ne.prototype.writeDoubleBE=function(e,t,r){return $5(this,e,t,!1,r)};Ne.prototype.copy=function(e,t,r,i){if(!Ne.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let o=i-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),o};Ne.prototype.fill=function(e,t,r,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Ne.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);let o;if(typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{let s=Ne.isBuffer(e)?e:Ne.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var Yp={};function j2(n,e,t){Yp[n]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}j2("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);j2("ERR_INVALID_ARG_TYPE",function(n,e){return`The "${n}" argument must be of type number. Received type ${typeof e}`},TypeError);j2("ERR_OUT_OF_RANGE",function(n,e,t){let r=`The value of "${n}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=F5(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=F5(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r},RangeError);function F5(n){let e="",t=n.length,r=n[0]==="-"?1:0;for(;t>=r+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function xce(n,e,t){Zp(e,"offset"),(n[e]===void 0||n[e+t]===void 0)&&Rv(e,n.length-(t+1))}function H5(n,e,t,r,i,o){if(n>t||n<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${t}${s}`,new Yp.ERR_OUT_OF_RANGE("value",a,n)}xce(r,i,o)}function Zp(n,e){if(typeof n!="number")throw new Yp.ERR_INVALID_ARG_TYPE(e,"number",n)}function Rv(n,e,t){throw Math.floor(n)!==n?(Zp(n,t),new Yp.ERR_OUT_OF_RANGE(t||"offset","an integer",n)):e<0?new Yp.ERR_BUFFER_OUT_OF_BOUNDS:new Yp.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,n)}var Dce=/[^+/0-9A-Za-z-_]/g;function Ice(n){if(n=n.split("=")[0],n=n.trim().replace(Dce,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function P2(n,e){e=e||1/0;let t,r=n.length,i=null,o=[];for(let s=0;s<r;++s){if(t=n.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function Ace(n){let e=[];for(let t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function Tce(n,e){let t,r,i,o=[];for(let s=0;s<n.length&&!((e-=2)<0);++s)t=n.charCodeAt(s),r=t>>8,i=t%256,o.push(i),o.push(r);return o}function q5(n){return M2.toByteArray(Ice(n))}function LS(n,e,t,r){let i;for(i=0;i<r&&!(i+t>=e.length||i>=n.length);++i)e[i+t]=n[i];return i}function Tl(n,e){return n instanceof e||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===e.name}function U2(n){return n!==n}var Rce=function(){let n="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let r=t*16;for(let i=0;i<16;++i)e[r+i]=n[t]+n[i]}return e}();function Bu(n){return typeof BigInt>"u"?Nce:n}function Nce(){throw new Error("BigInt not supported")}});var hH=Le((cze,fH)=>{"use strict";var{Buffer:ju}=Ua(),En={},oH=En.LEFT_BRACE=1,VS=En.RIGHT_BRACE=2,sH=En.LEFT_BRACKET=3,H2=En.RIGHT_BRACKET=4,$S=En.COLON=5,HS=En.COMMA=6,aH=En.TRUE=7,lH=En.FALSE=8,cH=En.NULL=9,qS=En.STRING=10,uH=En.NUMBER=11,xf=En.START=17,dH=En.STOP=18,z5=En.TRUE1=33,G5=En.TRUE2=34,W5=En.TRUE3=35,K5=En.FALSE1=49,J5=En.FALSE2=50,X5=En.FALSE3=51,Y5=En.FALSE4=52,Q5=En.NULL1=65,Z5=En.NULL2=66,eH=En.NULL3=67,tH=En.NUMBER1=81,V2=En.NUMBER3=83,Va=En.STRING1=97,nH=En.STRING2=98,rH=En.STRING3=99,Fce=En.STRING4=100,Mce=En.STRING5=101,iH=En.STRING6=102,tm=En.VALUE=113,$2=En.KEY=114,BS=En.OBJECT=129,jS=En.ARRAY=130,Oce=92,kce=47,Pce=8,Lce=12,Bce=10,jce=13,Uce=9,q2=64*1024;function US(n){return ju.alloc?ju.alloc(n):new ju(n)}function Uu(){this.tState=xf,this.value=void 0,this.string=void 0,this.stringBuffer=US(q2),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=tm,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:US(2),3:US(3),4:US(4)},this.offset=-1}Uu.toknam=function(n){for(var e=Object.keys(En),t=0,r=e.length;t<r;t++){var i=e[t];if(En[i]===n)return i}return n&&"0x"+n.toString(16)};var Cs=Uu.prototype;Cs.onError=function(n){throw n};Cs.charError=function(n,e){this.tState=dH,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(n[e]))+" at position "+e+" in state "+Uu.toknam(this.tState)))};Cs.appendStringChar=function(n){this.stringBufferOffset>=q2&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=n};Cs.appendStringBuf=function(n,e,t){var r=n.length;typeof e=="number"&&(typeof t=="number"?t<0?r=n.length-e+t:r=t-e:r=n.length-e),r<0&&(r=0),this.stringBufferOffset+r>q2&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),n.copy(this.stringBuffer,this.stringBufferOffset,e,t),this.stringBufferOffset+=r};Cs.write=function(n){typeof n=="string"&&(n=new ju(n));for(var e,t=0,r=n.length;t<r;t++)if(this.tState===xf){if(e=n[t],this.offset++,e===123)this.onToken(oH,"{");else if(e===125)this.onToken(VS,"}");else if(e===91)this.onToken(sH,"[");else if(e===93)this.onToken(H2,"]");else if(e===58)this.onToken($S,":");else if(e===44)this.onToken(HS,",");else if(e===116)this.tState=z5;else if(e===102)this.tState=K5;else if(e===110)this.tState=Q5;else if(e===34)this.string="",this.stringBufferOffset=0,this.tState=Va;else if(e===45)this.string="-",this.tState=tH;else if(e>=48&&e<64)this.string=String.fromCharCode(e),this.tState=V2;else if(!(e===32||e===9||e===10||e===13))return this.charError(n,t)}else if(this.tState===Va)if(e=n[t],this.bytes_remaining>0){for(var i=0;i<this.bytes_remaining;i++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+i]=n[i];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,t=t+i-1}else if(this.bytes_remaining===0&&e>=128){if(e<=193||e>244)return this.onError(new Error("Invalid UTF-8 character at position "+t+" in state "+Uu.toknam(this.tState)));if(e>=194&&e<=223&&(this.bytes_in_sequence=2),e>=224&&e<=239&&(this.bytes_in_sequence=3),e>=240&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+t>n.length){for(var o=0;o<=n.length-1-t;o++)this.temp_buffs[this.bytes_in_sequence][o]=n[t+o];this.bytes_remaining=t+this.bytes_in_sequence-n.length,t=n.length-1}else this.appendStringBuf(n,t,t+this.bytes_in_sequence),t=t+this.bytes_in_sequence-1}else if(e===34)this.tState=xf,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(qS,this.string),this.offset+=ju.byteLength(this.string,"utf8")+1,this.string=void 0;else if(e===92)this.tState=nH;else if(e>=32)this.appendStringChar(e);else return this.charError(n,t);else if(this.tState===nH)if(e=n[t],e===34)this.appendStringChar(e),this.tState=Va;else if(e===92)this.appendStringChar(Oce),this.tState=Va;else if(e===47)this.appendStringChar(kce),this.tState=Va;else if(e===98)this.appendStringChar(Pce),this.tState=Va;else if(e===102)this.appendStringChar(Lce),this.tState=Va;else if(e===110)this.appendStringChar(Bce),this.tState=Va;else if(e===114)this.appendStringChar(jce),this.tState=Va;else if(e===116)this.appendStringChar(Uce),this.tState=Va;else if(e===117)this.unicode="",this.tState=rH;else return this.charError(n,t);else if(this.tState===rH||this.tState===Fce||this.tState===Mce||this.tState===iH)if(e=n[t],e>=48&&e<64||e>64&&e<=70||e>96&&e<=102){if(this.unicode+=String.fromCharCode(e),this.tState++===iH){var s=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&s>=56320&&s<57344?(this.appendStringBuf(new ju(String.fromCharCode(this.highSurrogate,s))),this.highSurrogate=void 0):this.highSurrogate===void 0&&s>=55296&&s<56320?this.highSurrogate=s:(this.highSurrogate!==void 0&&(this.appendStringBuf(new ju(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new ju(String.fromCharCode(s)))),this.tState=Va}}else return this.charError(n,t);else if(this.tState===tH||this.tState===V2)switch(e=n[t],e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=V2;break;default:this.tState=xf;var a=this.numberReviver(this.string,n,t);if(a)return a;this.offset+=this.string.length-1,this.string=void 0,t--;break}else if(this.tState===z5)if(n[t]===114)this.tState=G5;else return this.charError(n,t);else if(this.tState===G5)if(n[t]===117)this.tState=W5;else return this.charError(n,t);else if(this.tState===W5)if(n[t]===101)this.tState=xf,this.onToken(aH,!0),this.offset+=3;else return this.charError(n,t);else if(this.tState===K5)if(n[t]===97)this.tState=J5;else return this.charError(n,t);else if(this.tState===J5)if(n[t]===108)this.tState=X5;else return this.charError(n,t);else if(this.tState===X5)if(n[t]===115)this.tState=Y5;else return this.charError(n,t);else if(this.tState===Y5)if(n[t]===101)this.tState=xf,this.onToken(lH,!1),this.offset+=4;else return this.charError(n,t);else if(this.tState===Q5)if(n[t]===117)this.tState=Z5;else return this.charError(n,t);else if(this.tState===Z5)if(n[t]===108)this.tState=eH;else return this.charError(n,t);else if(this.tState===eH)if(n[t]===108)this.tState=xf,this.onToken(cH,null),this.offset+=3;else return this.charError(n,t)};Cs.onToken=function(n,e){};Cs.parseError=function(n,e){this.tState=dH,this.onError(new Error("Unexpected "+Uu.toknam(n)+(e?"("+JSON.stringify(e)+")":"")+" in state "+Uu.toknam(this.state)))};Cs.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})};Cs.pop=function(){var n=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(n),this.mode||(this.state=tm)};Cs.emit=function(n){this.mode&&(this.state=HS),this.onValue(n)};Cs.onValue=function(n){};Cs.onToken=function(n,e){if(this.state===tm)if(n===qS||n===uH||n===aH||n===lH||n===cH)this.value&&(this.value[this.key]=e),this.emit(e);else if(n===oH)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=$2,this.mode=BS;else if(n===sH)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=jS,this.state=tm;else if(n===VS)if(this.mode===BS)this.pop();else return this.parseError(n,e);else if(n===H2)if(this.mode===jS)this.pop();else return this.parseError(n,e);else return this.parseError(n,e);else if(this.state===$2)if(n===qS)this.key=e,this.state=$S;else if(n===VS)this.pop();else return this.parseError(n,e);else if(this.state===$S)if(n===$S)this.state=tm;else return this.parseError(n,e);else if(this.state===HS)if(n===HS)this.mode===jS?(this.key++,this.state=tm):this.mode===BS&&(this.state=$2);else if(n===H2&&this.mode===jS||n===VS&&this.mode===BS)this.pop();else return this.parseError(n,e);else return this.parseError(n,e)};Cs.numberReviver=function(n,e,t){var r=Number(n);if(isNaN(r))return this.charError(e,t);n.match(/[0-9]+/)==n&&r.toString()!=n?this.onToken(qS,n):this.onToken(uH,r)};Uu.C=En;fH.exports=Uu});var mH=Le(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.removeDotSegmentsOfPath=Vu.removeDotSegments=Vu.resolve=void 0;function Vce(n,e){e=e||"";let t=e.indexOf("#");if(t>0&&(e=e.substr(0,t)),!n.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${n}'`);return e}if(n.startsWith("?")){let c=e.indexOf("?");return c>0&&(e=e.substr(0,c)),e+n}if(n.startsWith("#"))return e+n;if(!e.length){let c=n.indexOf(":");if(c<0)throw new Error(`Found invalid relative IRI '${n}' for a missing baseIRI`);return Df(n,c)}let r=n.indexOf(":");if(r>=0)return Df(n,r);let i=e.indexOf(":");if(i<0)throw new Error(`Found invalid baseIRI '${e}' for value '${n}'`);let o=e.substr(0,i+1);if(n.indexOf("//")===0)return o+Df(n,r);let s;if(e.indexOf("//",i)===i+1){if(s=e.indexOf("/",i+3),s<0)return e.length>i+3?e+"/"+Df(n,r):o+Df(n,r)}else if(s=e.indexOf("/",i+1),s<0)return o+Df(n,r);if(n.indexOf("/")===0)return e.substr(0,s)+zS(n);let a=e.substr(s),l=a.lastIndexOf("/");return l>=0&&l<a.length-1&&(a=a.substr(0,l+1),n[0]==="."&&n[1]!=="."&&n[1]!=="/"&&n[2]&&(n=n.substr(1))),n=a+n,n=zS(n),e.substr(0,s)+n}Vu.resolve=Vce;function zS(n){let e=[],t=0;for(;t<n.length;)switch(n[t]){case"/":if(n[t+1]===".")if(n[t+2]==="."){if(!pH(n[t+3])){e.push([]),t++;break}e.pop(),n[t+3]||e.push([]),t+=3}else{if(!pH(n[t+2])){e.push([]),t++;break}n[t+2]||e.push([]),t+=2}else e.push([]),t++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(n.substr(t)),t=n.length;break;default:e.length||e.push([]),e[e.length-1].push(n[t]),t++;break}return"/"+e.map(r=>r.join("")).join("/")}Vu.removeDotSegments=zS;function Df(n,e){let t=e+1;e>=0?n[e+1]==="/"&&n[e+2]==="/"&&(t=e+3):n[0]==="/"&&n[1]==="/"&&(t=2);let r=n.indexOf("/",t);if(r<0)return n;let i=n.substr(0,r),o=n.substr(r);return i+zS(o)}Vu.removeDotSegmentsOfPath=Df;function pH(n){return!n||n==="#"||n==="?"||n==="/"}});var GS=Le(If=>{"use strict";var $ce=If&&If.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Hce=If&&If.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$ce(e,n,t)};Object.defineProperty(If,"__esModule",{value:!0});Hce(mH(),If)});var nm=Le(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.ERROR_CODES=Af.ErrorCoded=void 0;var z2=class extends Error{constructor(e,t){super(e),this.code=t}};Af.ErrorCoded=z2;var qce;(function(n){n.COLLIDING_KEYWORDS="colliding keywords",n.CONFLICTING_INDEXES="conflicting indexes",n.CYCLIC_IRI_MAPPING="cyclic IRI mapping",n.INVALID_ID_VALUE="invalid @id value",n.INVALID_INDEX_VALUE="invalid @index value",n.INVALID_NEST_VALUE="invalid @nest value",n.INVALID_PREFIX_VALUE="invalid @prefix value",n.INVALID_PROPAGATE_VALUE="invalid @propagate value",n.INVALID_REVERSE_VALUE="invalid @reverse value",n.INVALID_IMPORT_VALUE="invalid @import value",n.INVALID_VERSION_VALUE="invalid @version value",n.INVALID_BASE_IRI="invalid base IRI",n.INVALID_CONTAINER_MAPPING="invalid container mapping",n.INVALID_CONTEXT_ENTRY="invalid context entry",n.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",n.INVALID_DEFAULT_LANGUAGE="invalid default language",n.INVALID_INCLUDED_VALUE="invalid @included value",n.INVALID_IRI_MAPPING="invalid IRI mapping",n.INVALID_JSON_LITERAL="invalid JSON literal",n.INVALID_KEYWORD_ALIAS="invalid keyword alias",n.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",n.INVALID_LANGUAGE_MAPPING="invalid language mapping",n.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",n.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",n.INVALID_LOCAL_CONTEXT="invalid local context",n.INVALID_REMOTE_CONTEXT="invalid remote context",n.INVALID_REVERSE_PROPERTY="invalid reverse property",n.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",n.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",n.INVALID_SCOPED_CONTEXT="invalid scoped context",n.INVALID_SCRIPT_ELEMENT="invalid script element",n.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",n.INVALID_TERM_DEFINITION="invalid term definition",n.INVALID_TYPE_MAPPING="invalid type mapping",n.INVALID_TYPE_VALUE="invalid type value",n.INVALID_TYPED_VALUE="invalid typed value",n.INVALID_VALUE_OBJECT="invalid value object",n.INVALID_VALUE_OBJECT_VALUE="invalid value object value",n.INVALID_VOCAB_MAPPING="invalid vocab mapping",n.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",n.KEYWORD_REDEFINITION="keyword redefinition",n.LOADING_DOCUMENT_FAILED="loading document failed",n.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",n.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",n.PROCESSING_MODE_CONFLICT="processing mode conflict",n.PROTECTED_TERM_REDEFINITION="protected term redefinition",n.CONTEXT_OVERFLOW="context overflow",n.INVALID_BASE_DIRECTION="invalid base direction",n.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",n.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",n.INVALID_EMBEDDED_NODE="invalid embedded node",n.INVALID_ANNOTATION="invalid annotation"})(qce=Af.ERROR_CODES||(Af.ERROR_CODES={}))});var KS=Le((hze,vH)=>{"use strict";var zce=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,Gce=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Wce=/\s|\uFEFF|\xA0/,Kce=/\r?\n[\x20\x09]+/g,Jce=/[;,"]/,Xce=/[;,"]|\s/,Yce=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,Dc={IDLE:1,URI:2,ATTR:4};function gH(n){return n.replace(Gce,"")}function WS(n){return Wce.test(n)}function Qce(n,e){for(;WS(n[e]);)e++;return e}function yH(n){return Xce.test(n)||!Yce.test(n)}function Zce(n,e){return Object.keys(n).length===Object.keys(e).length&&Object.keys(n).every(t=>t in e&&n[t]===e[t])}var eue=(()=>{class n{constructor(t){this.refs=[],t&&this.parse(t)}rel(t){for(var r=[],i=t.toLowerCase(),o=0;o<this.refs.length;o++)typeof this.refs[o].rel=="string"&&this.refs[o].rel.toLowerCase()===i&&r.push(this.refs[o]);return r}get(t,r){t=t.toLowerCase(),r=r.toLowerCase();for(var i=[],o=0;o<this.refs.length;o++)typeof this.refs[o][t]=="string"&&this.refs[o][t].toLowerCase()===r&&i.push(this.refs[o]);return i}set(t){return this.refs.push(t),this}setUnique(t){return this.refs.some(r=>Zce(r,t))||this.refs.push(t),this}has(t,r){t=t.toLowerCase(),r=r.toLowerCase();for(var i=0;i<this.refs.length;i++)if(typeof this.refs[i][t]=="string"&&this.refs[i][t].toLowerCase()===r)return!0;return!1}parse(t,s){s=s||0,t=s?t.slice(s):t,t=gH(t).replace(Kce,"");for(var i=Dc.IDLE,o=t.length,s=0,a=null;s<o;)if(i===Dc.IDLE){if(WS(t[s])){s++;continue}else if(t[s]==="<"){a!=null&&(a.rel!=null?this.refs.push(...n.expandRelations(a)):this.refs.push(a));var l=t.indexOf(">",s);if(l===-1)throw new Error("Expected end of URI delimiter at offset "+s);a={uri:t.slice(s+1,l)},s=l,i=Dc.URI}else throw new Error('Unexpected character "'+t[s]+'" at offset '+s);s++}else if(i===Dc.URI)if(WS(t[s])){s++;continue}else if(t[s]===";")i=Dc.ATTR,s++;else if(t[s]===",")i=Dc.IDLE,s++;else throw new Error('Unexpected character "'+t[s]+'" at offset '+s);else if(i===Dc.ATTR){if(t[s]===";"||WS(t[s])){s++;continue}var l=t.indexOf("=",s);l===-1&&(l=t.indexOf(";",s)),l===-1&&(l=t.length);var c=gH(t.slice(s,l)).toLowerCase(),u="";if(s=l+1,s=Qce(t,s),t[s]==='"')for(s++;s<o;){if(t[s]==='"'){s++;break}t[s]==="\\"&&s++,u+=t[s],s++}else{for(var l=s+1;!Jce.test(t[l])&&l<o;)l++;u=t.slice(s,l),s=l}switch(a[c]&&n.isSingleOccurenceAttr(c)||(c[c.length-1]==="*"?a[c]=n.parseExtendedValue(u):(u=c==="type"?u.toLowerCase():u,a[c]!=null?Array.isArray(a[c])?a[c].push(u):a[c]=[a[c],u]:a[c]=u)),t[s]){case",":i=Dc.IDLE;break;case";":i=Dc.ATTR;break}s++}else throw new Error('Unknown parser state "'+i+'"');return a!=null&&(a.rel!=null?this.refs.push(...n.expandRelations(a)):this.refs.push(a)),a=null,this}toString(){for(var t=[],r="",i=null,o=0;o<this.refs.length;o++)i=this.refs[o],r=Object.keys(this.refs[o]).reduce(function(s,a){return a==="uri"?s:s+"; "+n.formatAttribute(a,i[a])},"<"+i.uri+">"),t.push(r);return t.join(", ")}}return n.isCompatibleEncoding=function(e){return zce.test(e)},n.parse=function(e,t){return new n().parse(e,t)},n.isSingleOccurenceAttr=function(e){return e==="rel"||e==="type"||e==="media"||e==="title"||e==="title*"},n.isTokenAttr=function(e){return e==="rel"||e==="type"||e==="anchor"},n.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},n.expandRelations=function(e){var t=e.rel.split(" ");return t.map(function(r){var i=Object.assign({},e);return i.rel=r,i})},n.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']*)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:n.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:n.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},n.formatExtendedAttribute=function(e,t){var r=(t.encoding||"utf-8").toUpperCase(),i=t.language||"en",o="";return Buffer.isBuffer(t.value)&&n.isCompatibleEncoding(r)?o=t.value.toString(r):Buffer.isBuffer(t.value)?o=t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):o=encodeURIComponent(t.value),e+"="+r+"'"+i+"'"+o},n.formatAttribute=function(e,t){return Array.isArray(t)?t.map(r=>n.formatAttribute(e,r)).join("; "):e[e.length-1]==="*"||typeof t!="string"?n.formatExtendedAttribute(e,t):(n.isTokenAttr(e)?t=yH(t)?'"'+n.escapeQuotes(t)+'"':n.escapeQuotes(t):yH(t)&&(t=encodeURIComponent(t),t=t.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),t='"'+t+'"'),e+"="+t)},n})();vH.exports=eue});var W2=Le(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});JS.FetchDocumentLoader=void 0;var _H=nm(),tue=KS(),nue=GS(),G2=class{constructor(e){this.fetcher=e}load(e){return L(this,null,function*(){let t=yield(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let r=t.headers.get("Content-Type");if(r){let i=r.indexOf(";");i>0&&(r=r.substr(0,i))}if(r==="application/ld+json")return yield t.json();if(t.headers.has("Link")){let i;if(t.headers.forEach((o,s)=>{if(s==="link"){let a=(0,tue.parse)(o);for(let l of a.get("type","application/ld+json"))if(l.rel==="alternate"){if(i)throw new Error("Multiple JSON-LD alternate links were found on "+e);i=(0,nue.resolve)(l.uri,e)}}}),i)return this.load(i)}throw new _H.ErrorCoded(`Unsupported JSON-LD media type ${r}`,_H.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(t.statusText||`Status code: ${t.status}`)})}};JS.FetchDocumentLoader=G2});var YS=Le(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});XS.Util=void 0;var rue=(()=>{class n{static isCompactIri(t){return t.indexOf(":")>0&&!(t&&t[0]==="#")}static getPrefix(t,r){if(t&&t[0]==="#")return null;let i=t.indexOf(":");if(i>=0){if(t.length>i+1&&t.charAt(i+1)==="/"&&t.charAt(i+2)==="/")return null;let o=t.substr(0,i);if(o==="_")return null;if(r[o])return o}return null}static getContextValueId(t){if(t===null||typeof t=="string")return t;let r=t["@id"];return r||null}static isSimpleTermDefinitionPrefix(t,r){return!n.isPotentialKeyword(t)&&(r.allowPrefixNonGenDelims||typeof t=="string"&&(t[0]==="_"||n.isPrefixIriEndingWithGenDelim(t)))}static isPotentialKeyword(t){return typeof t=="string"&&n.KEYWORD_REGEX.test(t)}static isPrefixIriEndingWithGenDelim(t){return n.ENDS_WITH_GEN_DELIM.test(t)}static isPrefixValue(t){return t&&(typeof t=="string"||t&&typeof t=="object")}static isValidIri(t){return!!(t&&n.IRI_REGEX.test(t))}static isValidIriWeak(t){return!!t&&t[0]!==":"&&n.IRI_REGEX_WEAK.test(t)}static isValidKeyword(t){return n.VALID_KEYWORDS[t]}static isTermProtected(t,r){let i=t[r];return typeof i!="string"&&i&&i["@protected"]}static hasProtectedTerms(t){for(let r of Object.keys(t))if(n.isTermProtected(t,r))return!0;return!1}static isReservedInternalKeyword(t){return t.startsWith("@__")}static deepEqual(t,r){let i=Object.keys(t),o=Object.keys(r);return i.length!==o.length?!1:i.every(s=>{let a=t[s],l=r[s];return a===l||a!==null&&l!==null&&typeof a=="object"&&typeof l=="object"&&this.deepEqual(a,l)})}}return n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"],n})();XS.Util=rue});var J2=Le(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.defaultExpandOptions=Tf.JsonLdContextNormalized=void 0;var bH=GS(),QS=nm(),na=YS(),K2=class{constructor(e){this.contextRaw=e}getContextRaw(){return this.contextRaw}expandTerm(e,t,r=Tf.defaultExpandOptions){let i=this.contextRaw[e];if(i===null||i&&i["@id"]===null)return null;let o=!0;if(i&&t){let h=na.Util.getContextValueId(i);if(h&&h!==e)if(typeof h!="string"||!na.Util.isValidIri(h)&&!na.Util.isValidKeyword(h))na.Util.isPotentialKeyword(h)||(o=!1);else return h}let s=na.Util.getPrefix(e,this.contextRaw),a=this.contextRaw["@vocab"],l=(!!a||a==="")&&a.indexOf(":")<0,c=this.contextRaw["@base"],u=na.Util.isPotentialKeyword(e);if(s){let h=this.contextRaw[s],m=na.Util.getContextValueId(h);if(m){if(typeof h=="string"||!r.allowPrefixForcing){if(!na.Util.isSimpleTermDefinitionPrefix(m,r))return e}else if(m[0]!=="_"&&!u&&!h["@prefix"]&&!(e in this.contextRaw))return e;return m+e.substr(s.length+1)}}else if(t&&(a||a===""||r.allowVocabRelativeToBase&&c&&l)&&!u&&!na.Util.isCompactIri(e))if(l){if(r.allowVocabRelativeToBase)return(a||c?(0,bH.resolve)(a,c):"")+e;throw new QS.ErrorCoded(`Relative vocab expansion for term '${e}' with vocab '${a}' is not allowed.`,QS.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return a+e;else if(!t&&c&&!u&&!na.Util.isCompactIri(e))return(0,bH.resolve)(e,c);if(o)return e;throw new QS.ErrorCoded(`Invalid IRI mapping found for context entry '${e}': '${JSON.stringify(i)}'`,QS.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(e,t){if(t&&this.contextRaw["@vocab"]&&e.startsWith(this.contextRaw["@vocab"]))return e.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&e.startsWith(this.contextRaw["@base"]))return e.substr(this.contextRaw["@base"].length);let r={prefix:"",suffix:e};for(let i in this.contextRaw){let o=this.contextRaw[i];if(o&&!na.Util.isPotentialKeyword(i)){let s=na.Util.getContextValueId(o);if(e.startsWith(s)){let a=e.substr(s.length);if(a)a.length<r.suffix.length&&(r.prefix=i,r.suffix=a);else if(t)return i}}}return r.prefix?r.prefix+":"+r.suffix:e}};Tf.JsonLdContextNormalized=K2;Tf.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}});var EH=Le(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});ZS.ContextParser=void 0;var wH=GS(),He=nm(),iue=W2(),$a=J2(),$t=YS(),oue=(()=>{class n{constructor(t){t=t||{},this.documentLoader=t.documentLoader||new iue.FetchDocumentLoader,this.documentCache={},this.validateContext=!t.skipValidation,this.expandContentTypeToBase=!!t.expandContentTypeToBase,this.remoteContextsDepthLimit=t.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in t?!!t.redirectSchemaOrgHttps:!0}static validateLanguage(t,r,i){if(typeof t!="string")throw new He.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(t)}'`,i);if(!$t.Util.REGEX_LANGUAGE_TAG.test(t)){if(r)throw new He.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(t)}'`,i);return!1}return!0}static validateDirection(t,r){if(typeof t!="string")throw new He.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(t)}'`,He.ERROR_CODES.INVALID_BASE_DIRECTION);if(!$t.Util.REGEX_DIRECTION_TAG.test(t)){if(r)throw new He.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(t)}'`,He.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(t){for(let r of Object.keys(t)){let i=t[r];if(i&&typeof i=="object"&&i["@reverse"]&&!i["@id"]){if(typeof i["@reverse"]!="string"||$t.Util.isValidKeyword(i["@reverse"]))throw new He.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${i["@reverse"]}'`,He.ERROR_CODES.INVALID_IRI_MAPPING);i=t[r]=Object.assign(Object.assign({},i),{"@id":i["@reverse"]}),i["@id"]=i["@reverse"],$t.Util.isPotentialKeyword(i["@reverse"])?delete i["@reverse"]:i["@reverse"]=!0}}return t}expandPrefixedTerms(t,r,i){let o=t.getContextRaw();for(let s of i||Object.keys(o))if($t.Util.EXPAND_KEYS_BLACKLIST.indexOf(s)<0&&!$t.Util.isReservedInternalKeyword(s)){let a=o[s];if($t.Util.isPotentialKeyword(s)&&$t.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(s)>=0&&(s!=="@type"||typeof o[s]=="object"&&!(o[s]["@protected"]||o[s]["@container"]==="@set")))throw new He.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${s} to ${JSON.stringify(a)}`,He.ERROR_CODES.KEYWORD_REDEFINITION);if($t.Util.ALIAS_RANGE_BLACKLIST.indexOf($t.Util.getContextValueId(a))>=0)throw new He.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${s} to ${JSON.stringify(a)}`,He.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(a&&$t.Util.isPotentialKeyword($t.Util.getContextValueId(a))&&a["@prefix"]===!0)throw new He.ErrorCoded(`Tried to use keyword aliases as prefix: '${s}': '${JSON.stringify(a)}'`,He.ERROR_CODES.INVALID_TERM_DEFINITION);for(;$t.Util.isPrefixValue(o[s]);){let l=o[s],c=!1;if(typeof l=="string")o[s]=t.expandTerm(l,!0),c=c||l!==o[s];else{let u=l["@id"],h=l["@type"],m=!("@prefix"in l)||$t.Util.isValidIri(s);if("@id"in l)u!=null&&typeof u=="string"&&(o[s]=Object.assign(Object.assign({},o[s]),{"@id":t.expandTerm(u,!0)}),c=c||u!==o[s]["@id"]);else if(!$t.Util.isPotentialKeyword(s)&&m){let g=t.expandTerm(s,!0);g!==s&&(o[s]=Object.assign(Object.assign({},o[s]),{"@id":g}),c=!0)}if(h&&typeof h=="string"&&h!=="@vocab"&&(!l["@container"]||!l["@container"]["@type"])&&m){let g=t.expandTerm(h,!0);r&&h===g&&(g=t.expandTerm(h,!1)),g!==h&&(c=!0,o[s]=Object.assign(Object.assign({},o[s]),{"@type":g}))}}if(!c)break}}}normalize(t,{processingMode:r,normalizeLanguageTags:i}){if(i||r===1)for(let o of Object.keys(t))if(o==="@language"&&typeof t[o]=="string")t[o]=t[o].toLowerCase();else{let s=t[o];if(s&&typeof s=="object"&&typeof s["@language"]=="string"){let a=s["@language"].toLowerCase();a!==s["@language"]&&(t[o]=Object.assign(Object.assign({},s),{"@language":a}))}}}containersToHash(t){for(let r of Object.keys(t)){let i=t[r];if(i&&typeof i=="object"){if(typeof i["@container"]=="string")t[r]=Object.assign(Object.assign({},i),{"@container":{[i["@container"]]:!0}});else if(Array.isArray(i["@container"])){let o={};for(let s of i["@container"])o[s]=!0;t[r]=Object.assign(Object.assign({},i),{"@container":o})}}}}applyScopedProtected(t,{processingMode:r},i){if(r&&r>=1.1&&t["@protected"]){for(let o of Object.keys(t))if(!$t.Util.isReservedInternalKeyword(o)&&!$t.Util.isPotentialKeyword(o)&&!$t.Util.isTermProtected(t,o)){let s=t[o];s&&typeof s=="object"?"@protected"in t[o]||(t[o]=Object.assign(Object.assign({},t[o]),{"@protected":!0})):(t[o]={"@id":s,"@protected":!0},$t.Util.isSimpleTermDefinitionPrefix(s,i)&&(t[o]=Object.assign(Object.assign({},t[o]),{"@prefix":!0})))}delete t["@protected"]}}validateKeywordRedefinitions(t,r,i,o){for(let s of o??Object.keys(r))if($t.Util.isTermProtected(t,s)&&(typeof r[s]=="string"?r[s]={"@id":r[s],"@protected":!0}:r[s]=Object.assign(Object.assign({},r[s]),{"@protected":!0}),!$t.Util.deepEqual(t[s],r[s])))throw new He.ErrorCoded(`Attempted to override the protected keyword ${s} from ${JSON.stringify($t.Util.getContextValueId(t[s]))} to ${JSON.stringify($t.Util.getContextValueId(r[s]))}`,He.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(t,{processingMode:r}){for(let i of Object.keys(t)){if($t.Util.isReservedInternalKeyword(i))continue;if(i==="")throw new He.ErrorCoded(`The empty term is not allowed, got: '${i}': '${JSON.stringify(t[i])}'`,He.ERROR_CODES.INVALID_TERM_DEFINITION);let o=t[i],s=typeof o;if($t.Util.isPotentialKeyword(i)){switch(i.substr(1)){case"vocab":if(o!==null&&s!=="string")throw new He.ErrorCoded(`Found an invalid @vocab IRI: ${o}`,He.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(o!==null&&s!=="string")throw new He.ErrorCoded(`Found an invalid @base IRI: ${t[i]}`,He.ERROR_CODES.INVALID_BASE_IRI);break;case"language":o!==null&&n.validateLanguage(o,!0,He.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(o!==null&&s!=="number")throw new He.ErrorCoded(`Found an invalid @version number: ${o}`,He.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":o!==null&&n.validateDirection(o,!0);break;case"propagate":if(r===1)throw new He.ErrorCoded(`Found an illegal @propagate keyword: ${o}`,He.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(o!==null&&s!=="boolean")throw new He.ErrorCoded(`Found an invalid @propagate value: ${o}`,He.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if($t.Util.isValidKeyword(i)&&$t.Util.isValidKeyword($t.Util.getContextValueId(o)))throw new He.ErrorCoded(`Illegal keyword alias in term value, found: '${i}': '${$t.Util.getContextValueId(o)}'`,He.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(o!==null)switch(s){case"string":if($t.Util.getPrefix(o,t)===i)throw new He.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${i}': '${JSON.stringify(o)}'`,He.ERROR_CODES.CYCLIC_IRI_MAPPING);if($t.Util.isValidIriWeak(i)){if(o==="@type")throw new He.ErrorCoded(`IRIs can not be mapped to @type, found: '${i}': '${o}'`,He.ERROR_CODES.INVALID_IRI_MAPPING);if($t.Util.isValidIri(o)&&o!==new $a.JsonLdContextNormalized(t).expandTerm(i))throw new He.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${i}': '${o}'`,He.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!$t.Util.isCompactIri(i)&&!("@id"in o)&&(o["@type"]==="@id"?!t["@base"]:!t["@vocab"]))throw new He.ErrorCoded(`Missing @id in context entry: '${i}': '${JSON.stringify(o)}'`,He.ERROR_CODES.INVALID_IRI_MAPPING);for(let a of Object.keys(o)){let l=o[a];if(l)switch(a){case"@id":if($t.Util.isValidKeyword(l)&&l!=="@type"&&l!=="@id"&&l!=="@graph"&&l!=="@nest")throw new He.ErrorCoded(`Illegal keyword alias in term value, found: '${i}': '${JSON.stringify(o)}'`,He.ERROR_CODES.INVALID_IRI_MAPPING);if($t.Util.isValidIriWeak(i)){if(l==="@type")throw new He.ErrorCoded(`IRIs can not be mapped to @type, found: '${i}': '${JSON.stringify(o)}'`,He.ERROR_CODES.INVALID_IRI_MAPPING);if($t.Util.isValidIri(l)&&l!==new $a.JsonLdContextNormalized(t).expandTerm(i))throw new He.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${i}': '${JSON.stringify(o)}'`,He.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof l!="string")throw new He.ErrorCoded(`Detected non-string @id in context entry: '${i}': '${JSON.stringify(o)}'`,He.ERROR_CODES.INVALID_IRI_MAPPING);if($t.Util.getPrefix(l,t)===i)throw new He.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${i}': '${JSON.stringify(o)}'`,He.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(o["@container"]==="@type"&&l!=="@id"&&l!=="@vocab")throw new He.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${i}': '${l}'`,He.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof l!="string")throw new He.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(s)}'`,He.ERROR_CODES.INVALID_TYPE_MAPPING);if(l!=="@id"&&l!=="@vocab"&&(r===1||l!=="@json")&&(r===1||l!=="@none")&&(l[0]==="_"||!$t.Util.isValidIri(l)))throw new He.ErrorCoded(`A context @type must be an absolute IRI, found: '${i}': '${l}'`,He.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof l=="string"&&o["@id"]&&o["@id"]!==l)throw new He.ErrorCoded(`Found non-matching @id and @reverse term values in '${i}':'${l}' and '${o["@id"]}'`,He.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in o)throw new He.ErrorCoded(`@nest is not allowed in the reverse property '${i}'`,He.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(r===1&&(Object.keys(l).length>1||$t.Util.CONTAINERS_1_0.indexOf(Object.keys(l)[0])<0))throw new He.ErrorCoded(`Invalid term @container for '${i}' ('${Object.keys(l)}') in 1.0, must be only one of ${$t.Util.CONTAINERS_1_0.join(", ")}`,He.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(let c of Object.keys(l)){if(c==="@list"&&o["@reverse"])throw new He.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${i}'`,He.ERROR_CODES.INVALID_REVERSE_PROPERTY);if($t.Util.CONTAINERS.indexOf(c)<0)throw new He.ErrorCoded(`Invalid term @container for '${i}' ('${c}'), must be one of ${$t.Util.CONTAINERS.join(", ")}`,He.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":n.validateLanguage(l,!0,He.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":n.validateDirection(l,!0);break;case"@prefix":if(l!==null&&typeof l!="boolean")throw new He.ErrorCoded(`Found an invalid term @prefix boolean in: '${i}': '${JSON.stringify(o)}'`,He.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in o)&&!$t.Util.isValidIri(i))throw new He.ErrorCoded(`Invalid @prefix definition for '${i}' ('${JSON.stringify(o)}'`,He.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(r===1||!o["@container"]||!o["@container"]["@index"])throw new He.ErrorCoded(`Attempt to add illegal key to value object: '${i}': '${JSON.stringify(o)}'`,He.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if($t.Util.isPotentialKeyword(l)&&l!=="@nest")throw new He.ErrorCoded(`Found an invalid term @nest value in: '${i}': '${JSON.stringify(o)}'`,He.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new He.ErrorCoded(`Found an invalid term value: '${i}': '${o}'`,He.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(t,r,i){return typeof t=="string"||(i&&!("@base"in t)&&r.parentContext&&typeof r.parentContext=="object"&&"@base"in r.parentContext&&(t["@base"]=r.parentContext["@base"],r.parentContext["@__baseDocument"]&&(t["@__baseDocument"]=!0)),r.baseIRI&&!r.external&&("@base"in t?t["@base"]!==null&&typeof t["@base"]=="string"&&!$t.Util.isValidIri(t["@base"])&&(t["@base"]=(0,wH.resolve)(t["@base"],r.parentContext&&r.parentContext["@base"]||r.baseIRI)):(t["@base"]=r.baseIRI,t["@__baseDocument"]=!0))),t}normalizeContextIri(t,r){if(!$t.Util.isValidIri(t))try{t=(0,wH.resolve)(t,r)}catch{throw new Error(`Invalid context IRI: ${t}`)}return this.redirectSchemaOrgHttps&&t.startsWith("http://schema.org")&&(t="https://schema.org/"),t}parseInnerContexts(t,r,i){return L(this,null,function*(){for(let o of i??Object.keys(t)){let s=t[o];if(s&&typeof s=="object"&&"@context"in s&&s["@context"]!==null&&!r.ignoreScopedContexts){if(this.validateContext)try{let a=Object.assign(Object.assign({},t),{[o]:Object.assign({},t[o])});delete a[o]["@context"],yield this.parse(s["@context"],Object.assign(Object.assign({},r),{external:!1,parentContext:a,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(a){throw new He.ErrorCoded(a.message,He.ERROR_CODES.INVALID_SCOPED_CONTEXT)}t[o]=Object.assign(Object.assign({},s),{"@context":(yield this.parse(s["@context"],Object.assign(Object.assign({},r),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:t}))).getContextRaw()})}}return t})}parse(o){return L(this,arguments,function*(t,r={},i={}){let{baseIRI:s,parentContext:a,external:l,processingMode:c=n.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:u,ignoreProtection:h,minimalProcessing:m}=r,g=r.remoteContexts||{};if(Object.keys(g).length>=this.remoteContextsDepthLimit)throw new He.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(g),He.ERROR_CODES.CONTEXT_OVERFLOW);if(t==null){if(!h&&a&&$t.Util.hasProtectedTerms(a))throw new He.ErrorCoded("Illegal context nullification when terms are protected",He.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new $a.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}else if(typeof t=="string"){let b=this.normalizeContextIri(t,s),v=this.getOverriddenLoad(b,r);if(v)return new $a.JsonLdContextNormalized(v);let E=yield this.parse(yield this.load(b),Object.assign(Object.assign({},r),{baseIRI:b,external:!0,remoteContexts:Object.assign(Object.assign({},g),{[b]:!0})}));return this.applyBaseEntry(E.getContextRaw(),r,!0),E}else if(Array.isArray(t)){let b=[],v=yield Promise.all(t.map((C,R)=>{if(typeof C=="string"){let F=this.normalizeContextIri(C,s);b[R]=F;let M=this.getOverriddenLoad(F,r);return M||this.load(F)}else return C}));if(m)return new $a.JsonLdContextNormalized(v);let E=yield v.reduce((C,R,F)=>C.then(M=>this.parse(R,Object.assign(Object.assign({},r),{baseIRI:b[F]||r.baseIRI,external:!!b[F]||r.external,parentContext:M.getContextRaw(),remoteContexts:b[F]?Object.assign(Object.assign({},g),{[b[F]]:!0}):g}),{skipValidation:F<v.length-1})),Promise.resolve(new $a.JsonLdContextNormalized(a||{})));return this.applyBaseEntry(E.getContextRaw(),r,!0),E}else if(typeof t=="object"){if("@context"in t)return yield this.parse(t["@context"],r);if(t=Object.assign({},t),l&&delete t["@base"],this.applyBaseEntry(t,r,!0),this.containersToHash(t),m)return new $a.JsonLdContextNormalized(t);let b={};if("@import"in t)if(c>=1.1){if(typeof t["@import"]!="string")throw new He.ErrorCoded("An @import value must be a string, but got "+typeof t["@import"],He.ERROR_CODES.INVALID_IMPORT_VALUE);b=yield this.loadImportContext(this.normalizeContextIri(t["@import"],s)),delete t["@import"]}else throw new He.ErrorCoded("Context importing is not supported in JSON-LD 1.0",He.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(b,{processingMode:c},$a.defaultExpandOptions);let v=Object.assign(b,t);this.idifyReverseTerms(v),this.normalize(v,{processingMode:c,normalizeLanguageTags:u}),this.applyScopedProtected(v,{processingMode:c},$a.defaultExpandOptions);let E=Object.keys(v),C=[];if(typeof a=="object")for(let F in a)F in v?C.push(F):v[F]=a[F];yield this.parseInnerContexts(v,r,E);let R=new $a.JsonLdContextNormalized(v);return(v&&v["@version"]||n.DEFAULT_PROCESSING_MODE)>=1.1&&(t["@vocab"]&&typeof t["@vocab"]=="string"||t["@vocab"]==="")&&(a&&"@vocab"in a&&t["@vocab"].indexOf(":")<0?v["@vocab"]=a["@vocab"]+t["@vocab"]:($t.Util.isCompactIri(t["@vocab"])||t["@vocab"]in v)&&(v["@vocab"]=R.expandTerm(t["@vocab"],!0))),this.expandPrefixedTerms(R,this.expandContentTypeToBase,E),!h&&a&&c>=1.1&&this.validateKeywordRedefinitions(a,v,$a.defaultExpandOptions,C),this.validateContext&&!i.skipValidation&&this.validate(v,{processingMode:c}),R}else throw new He.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${t}`,He.ERROR_CODES.INVALID_LOCAL_CONTEXT)})}load(t){return L(this,null,function*(){let r=this.documentCache[t];if(r)return r;let i;try{i=yield this.documentLoader.load(t)}catch(o){throw new He.ErrorCoded(`Failed to load remote context ${t}: ${o.message}`,He.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in i))throw new He.ErrorCoded(`Missing @context in remote context at ${t}`,He.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[t]=i["@context"]})}getOverriddenLoad(t,r){if(t in(r.remoteContexts||{})){if(r.ignoreRemoteScopedContexts)return t;throw new He.ErrorCoded("Detected a cyclic context inclusion of "+t,He.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}loadImportContext(t){return L(this,null,function*(){let r=yield this.load(t);if(typeof r!="object"||Array.isArray(r))throw new He.ErrorCoded("An imported context must be a single object: "+t,He.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in r)throw new He.ErrorCoded("An imported context can not import another context: "+t,He.ERROR_CODES.INVALID_CONTEXT_ENTRY);return r=Object.assign({},r),this.containersToHash(r),r})}}return n.DEFAULT_PROCESSING_MODE=1.1,n})();ZS.ContextParser=oue});var CH=Le(SH=>{"use strict";Object.defineProperty(SH,"__esModule",{value:!0})});var DH=Le(xH=>{"use strict";Object.defineProperty(xH,"__esModule",{value:!0})});var ao=Le(xs=>{"use strict";var sue=xs&&xs.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Rf=xs&&xs.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sue(e,n,t)};Object.defineProperty(xs,"__esModule",{value:!0});Rf(EH(),xs);Rf(nm(),xs);Rf(W2(),xs);Rf(CH(),xs);Rf(DH(),xs);Rf(J2(),xs);Rf(YS(),xs)});var Or=Le((Sze,IH)=>{"use strict";var X2=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}
`;super(t),this.name="AggregateError",this.errors=e}};IH.exports={AggregateError:X2,ArrayIsArray(n){return Array.isArray(n)},ArrayPrototypeIncludes(n,e){return n.includes(e)},ArrayPrototypeIndexOf(n,e){return n.indexOf(e)},ArrayPrototypeJoin(n,e){return n.join(e)},ArrayPrototypeMap(n,e){return n.map(e)},ArrayPrototypePop(n,e){return n.pop(e)},ArrayPrototypePush(n,e){return n.push(e)},ArrayPrototypeSlice(n,e,t){return n.slice(e,t)},Error,FunctionPrototypeCall(n,e,...t){return n.call(e,...t)},FunctionPrototypeSymbolHasInstance(n,e){return Function.prototype[Symbol.hasInstance].call(n,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(n,e){return Object.defineProperties(n,e)},ObjectDefineProperty(n,e,t){return Object.defineProperty(n,e,t)},ObjectGetOwnPropertyDescriptor(n,e){return Object.getOwnPropertyDescriptor(n,e)},ObjectKeys(n){return Object.keys(n)},ObjectSetPrototypeOf(n,e){return Object.setPrototypeOf(n,e)},Promise,PromisePrototypeCatch(n,e){return n.catch(e)},PromisePrototypeThen(n,e,t){return n.then(e,t)},PromiseReject(n){return Promise.reject(n)},PromiseResolve(n){return Promise.resolve(n)},ReflectApply:Reflect.apply,RegExpPrototypeTest(n,e){return n.test(e)},SafeSet:Set,String,StringPrototypeSlice(n,e,t){return n.slice(e,t)},StringPrototypeToLowerCase(n){return n.toLowerCase()},StringPrototypeToUpperCase(n){return n.toUpperCase()},StringPrototypeTrim(n){return n.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(n,e,t){return n.set(e,t)},Boolean,Uint8Array}});var Y2=Le((Cze,AH)=>{"use strict";AH.exports={format(n,...e){return n.replace(/%([sdifj])/g,function(...[t,r]){let i=e.shift();return r==="f"?i.toFixed(6):r==="j"?JSON.stringify(i):r==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(n){switch(typeof n){case"string":if(n.includes("'"))if(n.includes('"')){if(!n.includes("`")&&!n.includes("${"))return`\`${n}\``}else return`"${n}"`;return`'${n}'`;case"number":return isNaN(n)?"NaN":Object.is(n,-0)?String(n):n;case"bigint":return`${String(n)}n`;case"boolean":case"undefined":return String(n);case"object":return"{}"}}}});var lo=Le((xze,NH)=>{"use strict";var{format:aue,inspect:eC}=Y2(),{AggregateError:lue}=Or(),cue=globalThis.AggregateError||lue,uue=Symbol("kIsNodeError"),due=["string","function","number","object","Function","Object","boolean","bigint","symbol"],fue=/^([A-Z][a-z0-9]*)+$/,hue="__node_internal_",tC={};function Nf(n,e){if(!n)throw new tC.ERR_INTERNAL_ASSERTION(e)}function TH(n){let e="",t=n.length,r=n[0]==="-"?1:0;for(;t>=r+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function pue(n,e,t){if(typeof e=="function")return Nf(e.length<=t.length,`Code: ${n}; The provided arguments length (${t.length}) does not match the required ones (${e.length}).`),e(...t);let r=(e.match(/%[dfijoOs]/g)||[]).length;return Nf(r===t.length,`Code: ${n}; The provided arguments length (${t.length}) does not match the required ones (${r}).`),t.length===0?e:aue(e,...t)}function Ji(n,e,t){t||(t=Error);class r extends t{constructor(...o){super(pue(n,e,o))}toString(){return`${this.name} [${n}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:t.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${n}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=n,r.prototype[uue]=!0,tC[n]=r}function RH(n){let e=hue+n.name;return Object.defineProperty(n,"name",{value:e}),n}function mue(n,e){if(n&&e&&n!==e){if(Array.isArray(e.errors))return e.errors.push(n),e;let t=new cue([e,n],e.message);return t.code=e.code,t}return n||e}var Q2=class extends Error{constructor(e="The operation was aborted",t=void 0){if(t!==void 0&&typeof t!="object")throw new tC.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}};Ji("ERR_ASSERTION","%s",Error);Ji("ERR_INVALID_ARG_TYPE",(n,e,t)=>{Nf(typeof n=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";n.endsWith(" argument")?r+=`${n} `:r+=`"${n}" ${n.includes(".")?"property":"argument"} `,r+="must be ";let i=[],o=[],s=[];for(let l of e)Nf(typeof l=="string","All expected entries have to be of type string"),due.includes(l)?i.push(l.toLowerCase()):fue.test(l)?o.push(l):(Nf(l!=="object",'The value "object" should be written as "Object"'),s.push(l));if(o.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:r+=`of type ${i[0]}`;break;case 2:r+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();r+=`one of type ${i.join(", ")}, or ${l}`}}(o.length>0||s.length>0)&&(r+=" or ")}if(o.length>0){switch(o.length){case 1:r+=`an instance of ${o[0]}`;break;case 2:r+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();r+=`an instance of ${o.join(", ")}, or ${l}`}}s.length>0&&(r+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(r+="an "),r+=`${s[0]}`;break;case 2:r+=`one of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();r+=`one of ${s.join(", ")}, or ${l}`}}if(t==null)r+=`. Received ${t}`;else if(typeof t=="function"&&t.name)r+=`. Received function ${t.name}`;else if(typeof t=="object"){var a;if((a=t.constructor)!==null&&a!==void 0&&a.name)r+=`. Received an instance of ${t.constructor.name}`;else{let l=eC(t,{depth:-1});r+=`. Received ${l}`}}else{let l=eC(t,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),r+=`. Received type ${typeof t} (${l})`}return r},TypeError);Ji("ERR_INVALID_ARG_VALUE",(n,e,t="is invalid")=>{let r=eC(e);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${n.includes(".")?"property":"argument"} '${n}' ${t}. Received ${r}`},TypeError);Ji("ERR_INVALID_RETURN_VALUE",(n,e,t)=>{var r;let i=t!=null&&(r=t.constructor)!==null&&r!==void 0&&r.name?`instance of ${t.constructor.name}`:`type ${typeof t}`;return`Expected ${n} to be returned from the "${e}" function but got ${i}.`},TypeError);Ji("ERR_MISSING_ARGS",(...n)=>{Nf(n.length>0,"At least one arg needs to be specified");let e,t=n.length;switch(n=(Array.isArray(n)?n:[n]).map(r=>`"${r}"`).join(" or "),t){case 1:e+=`The ${n[0]} argument`;break;case 2:e+=`The ${n[0]} and ${n[1]} arguments`;break;default:{let r=n.pop();e+=`The ${n.join(", ")}, and ${r} arguments`}break}return`${e} must be specified`},TypeError);Ji("ERR_OUT_OF_RANGE",(n,e,t)=>{Nf(e,'Missing "range" argument');let r;if(Number.isInteger(t)&&Math.abs(t)>2**32)r=TH(String(t));else if(typeof t=="bigint"){r=String(t);let i=BigInt(2)**BigInt(32);(t>i||t<-i)&&(r=TH(r)),r+="n"}else r=eC(t);return`The value of "${n}" is out of range. It must be ${e}. Received ${r}`},RangeError);Ji("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Ji("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Ji("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Ji("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Ji("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Ji("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ji("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Ji("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Ji("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Ji("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Ji("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);NH.exports={AbortError:Q2,aggregateTwoErrors:RH(mue),hideStackFrames:RH,codes:tC}});var rm=Le((Dze,nC)=>{"use strict";var{AbortController:FH,AbortSignal:gue}=typeof self<"u"?self:typeof window<"u"?window:void 0;nC.exports=FH;nC.exports.AbortSignal=gue;nC.exports.default=FH});var Io=Le((Ize,eF)=>{"use strict";var yue=Ua(),{format:vue,inspect:_ue}=Y2(),{codes:{ERR_INVALID_ARG_TYPE:Z2}}=lo(),{kResistStopPropagation:bue,AggregateError:wue,SymbolDispose:Eue}=Or(),Sue=globalThis.AbortSignal||rm().AbortSignal,Cue=globalThis.AbortController||rm().AbortController,xue=Object.getPrototypeOf(function(){return L(this,null,function*(){})}).constructor,MH=globalThis.Blob||yue.Blob,Due=typeof MH<"u"?function(e){return e instanceof MH}:function(e){return!1},OH=(n,e)=>{if(n!==void 0&&(n===null||typeof n!="object"||!("aborted"in n)))throw new Z2(e,"AbortSignal",n)},Iue=(n,e)=>{if(typeof n!="function")throw new Z2(e,"Function",n)};eF.exports={AggregateError:wue,kEmptyObject:Object.freeze({}),once(n){let e=!1;return function(...t){e||(e=!0,n.apply(this,t))}},createDeferredPromise:function(){let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}},promisify(n){return new Promise((e,t)=>{n((r,...i)=>r?t(r):e(...i))})},debuglog(){return function(){}},format:vue,inspect:_ue,types:{isAsyncFunction(n){return n instanceof xue},isArrayBufferView(n){return ArrayBuffer.isView(n)}},isBlob:Due,deprecate(n,e){return n},addAbortListener:tf().addAbortListener||function(e,t){if(e===void 0)throw new Z2("signal","AbortSignal",e);OH(e,"signal"),Iue(t,"listener");let r;return e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[bue]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[Eue](){var i;(i=r)===null||i===void 0||i()}}},AbortSignalAny:Sue.any||function(e){if(e.length===1)return e[0];let t=new Cue,r=()=>t.abort();return e.forEach(i=>{OH(i,"signals"),i.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",r))},{once:!0}),t.signal}};eF.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var om=Le((Tze,qH)=>{"use strict";var{ArrayIsArray:nF,ArrayPrototypeIncludes:BH,ArrayPrototypeJoin:jH,ArrayPrototypeMap:Aue,NumberIsInteger:rF,NumberIsNaN:Tue,NumberMAX_SAFE_INTEGER:Rue,NumberMIN_SAFE_INTEGER:Nue,NumberParseInt:Fue,ObjectPrototypeHasOwnProperty:Mue,RegExpPrototypeExec:UH,String:Oue,StringPrototypeToUpperCase:kue,StringPrototypeTrim:Pue}=Or(),{hideStackFrames:ra,codes:{ERR_SOCKET_BAD_PORT:Lue,ERR_INVALID_ARG_TYPE:co,ERR_INVALID_ARG_VALUE:im,ERR_OUT_OF_RANGE:Ff,ERR_UNKNOWN_SIGNAL:kH}}=lo(),{normalizeEncoding:Bue}=Io(),{isAsyncFunction:jue,isArrayBufferView:Uue}=Io().types,PH={};function Vue(n){return n===(n|0)}function $ue(n){return n===n>>>0}var Hue=/^[0-7]+$/,que="must be a 32-bit unsigned integer or an octal string";function zue(n,e,t){if(typeof n>"u"&&(n=t),typeof n=="string"){if(UH(Hue,n)===null)throw new im(e,n,que);n=Fue(n,8)}return VH(n,e),n}var Gue=ra((n,e,t=Nue,r=Rue)=>{if(typeof n!="number")throw new co(e,"number",n);if(!rF(n))throw new Ff(e,"an integer",n);if(n<t||n>r)throw new Ff(e,`>= ${t} && <= ${r}`,n)}),Wue=ra((n,e,t=-2147483648,r=2147483647)=>{if(typeof n!="number")throw new co(e,"number",n);if(!rF(n))throw new Ff(e,"an integer",n);if(n<t||n>r)throw new Ff(e,`>= ${t} && <= ${r}`,n)}),VH=ra((n,e,t=!1)=>{if(typeof n!="number")throw new co(e,"number",n);if(!rF(n))throw new Ff(e,"an integer",n);let r=t?1:0,i=4294967295;if(n<r||n>i)throw new Ff(e,`>= ${r} && <= ${i}`,n)});function iF(n,e){if(typeof n!="string")throw new co(e,"string",n)}function Kue(n,e,t=void 0,r){if(typeof n!="number")throw new co(e,"number",n);if(t!=null&&n<t||r!=null&&n>r||(t!=null||r!=null)&&Tue(n))throw new Ff(e,`${t!=null?`>= ${t}`:""}${t!=null&&r!=null?" && ":""}${r!=null?`<= ${r}`:""}`,n)}var Jue=ra((n,e,t)=>{if(!BH(t,n)){let i="must be one of: "+jH(Aue(t,o=>typeof o=="string"?`'${o}'`:Oue(o)),", ");throw new im(e,n,i)}});function $H(n,e){if(typeof n!="boolean")throw new co(e,"boolean",n)}function tF(n,e,t){return n==null||!Mue(n,e)?t:n[e]}var Xue=ra((n,e,t=null)=>{let r=tF(t,"allowArray",!1),i=tF(t,"allowFunction",!1);if(!tF(t,"nullable",!1)&&n===null||!r&&nF(n)||typeof n!="object"&&(!i||typeof n!="function"))throw new co(e,"Object",n)}),Yue=ra((n,e)=>{if(n!=null&&typeof n!="object"&&typeof n!="function")throw new co(e,"a dictionary",n)}),rC=ra((n,e,t=0)=>{if(!nF(n))throw new co(e,"Array",n);if(n.length<t){let r=`must be longer than ${t}`;throw new im(e,n,r)}});function Que(n,e){rC(n,e);for(let t=0;t<n.length;t++)iF(n[t],`${e}[${t}]`)}function Zue(n,e){rC(n,e);for(let t=0;t<n.length;t++)$H(n[t],`${e}[${t}]`)}function ede(n,e){rC(n,e);for(let t=0;t<n.length;t++){let r=n[t],i=`${e}[${t}]`;if(r==null)throw new co(i,"AbortSignal",r);HH(r,i)}}function tde(n,e="signal"){if(iF(n,e),PH[n]===void 0)throw PH[kue(n)]!==void 0?new kH(n+" (signals must use all capital letters)"):new kH(n)}var nde=ra((n,e="buffer")=>{if(!Uue(n))throw new co(e,["Buffer","TypedArray","DataView"],n)});function rde(n,e){let t=Bue(e),r=n.length;if(t==="hex"&&r%2!==0)throw new im("encoding",e,`is invalid for data of length ${r}`)}function ide(n,e="Port",t=!0){if(typeof n!="number"&&typeof n!="string"||typeof n=="string"&&Pue(n).length===0||+n!==+n>>>0||n>65535||n===0&&!t)throw new Lue(e,n,t);return n|0}var HH=ra((n,e)=>{if(n!==void 0&&(n===null||typeof n!="object"||!("aborted"in n)))throw new co(e,"AbortSignal",n)}),ode=ra((n,e)=>{if(typeof n!="function")throw new co(e,"Function",n)}),sde=ra((n,e)=>{if(typeof n!="function"||jue(n))throw new co(e,"Function",n)}),ade=ra((n,e)=>{if(n!==void 0)throw new co(e,"undefined",n)});function lde(n,e,t){if(!BH(t,n))throw new co(e,`('${jH(t,"|")}')`,n)}var cde=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function LH(n,e){if(typeof n>"u"||!UH(cde,n))throw new im(e,n,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ude(n){if(typeof n=="string")return LH(n,"hints"),n;if(nF(n)){let e=n.length,t="";if(e===0)return t;for(let r=0;r<e;r++){let i=n[r];LH(i,"hints"),t+=i,r!==e-1&&(t+=", ")}return t}throw new im("hints",n,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}qH.exports={isInt32:Vue,isUint32:$ue,parseFileMode:zue,validateArray:rC,validateStringArray:Que,validateBooleanArray:Zue,validateAbortSignalArray:ede,validateBoolean:$H,validateBuffer:nde,validateDictionary:Yue,validateEncoding:rde,validateFunction:ode,validateInt32:Wue,validateInteger:Gue,validateNumber:Kue,validateObject:Xue,validateOneOf:Jue,validatePlainFunction:sde,validatePort:ide,validateSignalName:tde,validateString:iF,validateUint32:VH,validateUndefined:ade,validateUnion:lde,validateAbortSignal:HH,validateLinkHeaderValue:ude}});var $u=Le((Rze,KH)=>{"use strict";var Xr=KH.exports={},Rl,Nl;function oF(){throw new Error("setTimeout has not been defined")}function sF(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Rl=setTimeout:Rl=oF}catch{Rl=oF}try{typeof clearTimeout=="function"?Nl=clearTimeout:Nl=sF}catch{Nl=sF}})();function zH(n){if(Rl===setTimeout)return setTimeout(n,0);if((Rl===oF||!Rl)&&setTimeout)return Rl=setTimeout,setTimeout(n,0);try{return Rl(n,0)}catch{try{return Rl.call(null,n,0)}catch{return Rl.call(this,n,0)}}}function dde(n){if(Nl===clearTimeout)return clearTimeout(n);if((Nl===sF||!Nl)&&clearTimeout)return Nl=clearTimeout,clearTimeout(n);try{return Nl(n)}catch{try{return Nl.call(null,n)}catch{return Nl.call(this,n)}}}var Ic=[],sm=!1,Mf,iC=-1;function fde(){!sm||!Mf||(sm=!1,Mf.length?Ic=Mf.concat(Ic):iC=-1,Ic.length&&GH())}function GH(){if(!sm){var n=zH(fde);sm=!0;for(var e=Ic.length;e;){for(Mf=Ic,Ic=[];++iC<e;)Mf&&Mf[iC].run();iC=-1,e=Ic.length}Mf=null,sm=!1,dde(n)}}Xr.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Ic.push(new WH(n,e)),Ic.length===1&&!sm&&zH(GH)};function WH(n,e){this.fun=n,this.array=e}WH.prototype.run=function(){this.fun.apply(null,this.array)};Xr.title="browser";Xr.browser=!0;Xr.env={};Xr.argv=[];Xr.version="";Xr.versions={};function Ac(){}Xr.on=Ac;Xr.addListener=Ac;Xr.once=Ac;Xr.off=Ac;Xr.removeListener=Ac;Xr.removeAllListeners=Ac;Xr.emit=Ac;Xr.prependListener=Ac;Xr.prependOnceListener=Ac;Xr.listeners=function(n){return[]};Xr.binding=function(n){throw new Error("process.binding is not supported")};Xr.cwd=function(){return"/"};Xr.chdir=function(n){throw new Error("process.chdir is not supported")};Xr.umask=function(){return 0}});var Ml=Le((Nze,c6)=>{"use strict";var{SymbolAsyncIterator:JH,SymbolIterator:XH,SymbolFor:Of}=Or(),YH=Of("nodejs.stream.destroyed"),QH=Of("nodejs.stream.errored"),aF=Of("nodejs.stream.readable"),lF=Of("nodejs.stream.writable"),ZH=Of("nodejs.stream.disturbed"),hde=Of("nodejs.webstream.isClosedPromise"),pde=Of("nodejs.webstream.controllerErrorFunction");function oC(n,e=!1){var t;return!!(n&&typeof n.pipe=="function"&&typeof n.on=="function"&&(!e||typeof n.pause=="function"&&typeof n.resume=="function")&&(!n._writableState||((t=n._readableState)===null||t===void 0?void 0:t.readable)!==!1)&&(!n._writableState||n._readableState))}function sC(n){var e;return!!(n&&typeof n.write=="function"&&typeof n.on=="function"&&(!n._readableState||((e=n._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function mde(n){return!!(n&&typeof n.pipe=="function"&&n._readableState&&typeof n.on=="function"&&typeof n.write=="function")}function Fl(n){return n&&(n._readableState||n._writableState||typeof n.write=="function"&&typeof n.on=="function"||typeof n.pipe=="function"&&typeof n.on=="function")}function e6(n){return!!(n&&!Fl(n)&&typeof n.pipeThrough=="function"&&typeof n.getReader=="function"&&typeof n.cancel=="function")}function t6(n){return!!(n&&!Fl(n)&&typeof n.getWriter=="function"&&typeof n.abort=="function")}function n6(n){return!!(n&&!Fl(n)&&typeof n.readable=="object"&&typeof n.writable=="object")}function gde(n){return e6(n)||t6(n)||n6(n)}function yde(n,e){return n==null?!1:e===!0?typeof n[JH]=="function":e===!1?typeof n[XH]=="function":typeof n[JH]=="function"||typeof n[XH]=="function"}function aC(n){if(!Fl(n))return null;let e=n._writableState,t=n._readableState,r=e||t;return!!(n.destroyed||n[YH]||r!=null&&r.destroyed)}function r6(n){if(!sC(n))return null;if(n.writableEnded===!0)return!0;let e=n._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function vde(n,e){if(!sC(n))return null;if(n.writableFinished===!0)return!0;let t=n._writableState;return t!=null&&t.errored?!1:typeof t?.finished!="boolean"?null:!!(t.finished||e===!1&&t.ended===!0&&t.length===0)}function _de(n){if(!oC(n))return null;if(n.readableEnded===!0)return!0;let e=n._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function i6(n,e){if(!oC(n))return null;let t=n._readableState;return t!=null&&t.errored?!1:typeof t?.endEmitted!="boolean"?null:!!(t.endEmitted||e===!1&&t.ended===!0&&t.length===0)}function o6(n){return n&&n[aF]!=null?n[aF]:typeof n?.readable!="boolean"?null:aC(n)?!1:oC(n)&&n.readable&&!i6(n)}function s6(n){return n&&n[lF]!=null?n[lF]:typeof n?.writable!="boolean"?null:aC(n)?!1:sC(n)&&n.writable&&!r6(n)}function bde(n,e){return Fl(n)?aC(n)?!0:!(e?.readable!==!1&&o6(n)||e?.writable!==!1&&s6(n)):null}function wde(n){var e,t;return Fl(n)?n.writableErrored?n.writableErrored:(e=(t=n._writableState)===null||t===void 0?void 0:t.errored)!==null&&e!==void 0?e:null:null}function Ede(n){var e,t;return Fl(n)?n.readableErrored?n.readableErrored:(e=(t=n._readableState)===null||t===void 0?void 0:t.errored)!==null&&e!==void 0?e:null:null}function Sde(n){if(!Fl(n))return null;if(typeof n.closed=="boolean")return n.closed;let e=n._writableState,t=n._readableState;return typeof e?.closed=="boolean"||typeof t?.closed=="boolean"?e?.closed||t?.closed:typeof n._closed=="boolean"&&a6(n)?n._closed:null}function a6(n){return typeof n._closed=="boolean"&&typeof n._defaultKeepAlive=="boolean"&&typeof n._removedConnection=="boolean"&&typeof n._removedContLen=="boolean"}function l6(n){return typeof n._sent100=="boolean"&&a6(n)}function Cde(n){var e;return typeof n._consuming=="boolean"&&typeof n._dumped=="boolean"&&((e=n.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function xde(n){if(!Fl(n))return null;let e=n._writableState,t=n._readableState,r=e||t;return!r&&l6(n)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}function Dde(n){var e;return!!(n&&((e=n[ZH])!==null&&e!==void 0?e:n.readableDidRead||n.readableAborted))}function Ide(n){var e,t,r,i,o,s,a,l,c,u;return!!(n&&((e=(t=(r=(i=(o=(s=n[QH])!==null&&s!==void 0?s:n.readableErrored)!==null&&o!==void 0?o:n.writableErrored)!==null&&i!==void 0?i:(a=n._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&r!==void 0?r:(l=n._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&t!==void 0?t:(c=n._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((u=n._writableState)===null||u===void 0)&&u.errored))}c6.exports={isDestroyed:aC,kIsDestroyed:YH,isDisturbed:Dde,kIsDisturbed:ZH,isErrored:Ide,kIsErrored:QH,isReadable:o6,kIsReadable:aF,kIsClosedPromise:hde,kControllerErrorFunction:pde,kIsWritable:lF,isClosed:Sde,isDuplexNodeStream:mde,isFinished:bde,isIterable:yde,isReadableNodeStream:oC,isReadableStream:e6,isReadableEnded:_de,isReadableFinished:i6,isReadableErrored:Ede,isNodeStream:Fl,isWebStream:gde,isWritable:s6,isWritableNodeStream:sC,isWritableStream:t6,isWritableEnded:r6,isWritableFinished:vde,isWritableErrored:wde,isServerRequest:Cde,isServerResponse:l6,willEmitClose:xde,isTransformStream:n6}});var Tc=Le((Fze,hF)=>{"use strict";var Hu=$u(),{AbortError:v6,codes:Ade}=lo(),{ERR_INVALID_ARG_TYPE:Tde,ERR_STREAM_PREMATURE_CLOSE:u6}=Ade,{kEmptyObject:uF,once:dF}=Io(),{validateAbortSignal:Rde,validateFunction:Nde,validateObject:Fde,validateBoolean:Mde}=om(),{Promise:Ode,PromisePrototypeThen:kde,SymbolDispose:_6}=Or(),{isClosed:Pde,isReadable:d6,isReadableNodeStream:cF,isReadableStream:Lde,isReadableFinished:f6,isReadableErrored:h6,isWritable:p6,isWritableNodeStream:m6,isWritableStream:Bde,isWritableFinished:g6,isWritableErrored:y6,isNodeStream:jde,willEmitClose:Ude,kIsClosedPromise:Vde}=Ml(),am;function $de(n){return n.setHeader&&typeof n.abort=="function"}var fF=()=>{};function b6(n,e,t){var r,i;if(arguments.length===2?(t=e,e=uF):e==null?e=uF:Fde(e,"options"),Nde(t,"callback"),Rde(e.signal,"options.signal"),t=dF(t),Lde(n)||Bde(n))return Hde(n,e,t);if(!jde(n))throw new Tde("stream",["ReadableStream","WritableStream","Stream"],n);let o=(r=e.readable)!==null&&r!==void 0?r:cF(n),s=(i=e.writable)!==null&&i!==void 0?i:m6(n),a=n._writableState,l=n._readableState,c=()=>{n.writable||m()},u=Ude(n)&&cF(n)===o&&m6(n)===s,h=g6(n,!1),m=()=>{h=!0,n.destroyed&&(u=!1),!(u&&(!n.readable||o))&&(!o||g)&&t.call(n)},g=f6(n,!1),b=()=>{g=!0,n.destroyed&&(u=!1),!(u&&(!n.writable||s))&&(!s||h)&&t.call(n)},v=D=>{t.call(n,D)},E=Pde(n),C=()=>{E=!0;let D=y6(n)||h6(n);if(D&&typeof D!="boolean")return t.call(n,D);if(o&&!g&&cF(n,!0)&&!f6(n,!1))return t.call(n,new u6);if(s&&!h&&!g6(n,!1))return t.call(n,new u6);t.call(n)},R=()=>{E=!0;let D=y6(n)||h6(n);if(D&&typeof D!="boolean")return t.call(n,D);t.call(n)},F=()=>{n.req.on("finish",m)};$de(n)?(n.on("complete",m),u||n.on("abort",C),n.req?F():n.on("request",F)):s&&!a&&(n.on("end",c),n.on("close",c)),!u&&typeof n.aborted=="boolean"&&n.on("aborted",C),n.on("end",b),n.on("finish",m),e.error!==!1&&n.on("error",v),n.on("close",C),E?Hu.nextTick(C):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Hu.nextTick(R):(!o&&(!u||d6(n))&&(h||p6(n)===!1)||!s&&(!u||p6(n))&&(g||d6(n)===!1)||l&&n.req&&n.aborted)&&Hu.nextTick(R);let M=()=>{t=fF,n.removeListener("aborted",C),n.removeListener("complete",m),n.removeListener("abort",C),n.removeListener("request",F),n.req&&n.req.removeListener("finish",m),n.removeListener("end",c),n.removeListener("close",c),n.removeListener("finish",m),n.removeListener("end",b),n.removeListener("error",v),n.removeListener("close",C)};if(e.signal&&!E){let D=()=>{let $=t;M(),$.call(n,new v6(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Hu.nextTick(D);else{am=am||Io().addAbortListener;let $=am(e.signal,D),Q=t;t=dF((...k)=>{$[_6](),Q.apply(n,k)})}}return M}function Hde(n,e,t){let r=!1,i=fF;if(e.signal)if(i=()=>{r=!0,t.call(n,new v6(void 0,{cause:e.signal.reason}))},e.signal.aborted)Hu.nextTick(i);else{am=am||Io().addAbortListener;let s=am(e.signal,i),a=t;t=dF((...l)=>{s[_6](),a.apply(n,l)})}let o=(...s)=>{r||Hu.nextTick(()=>t.apply(n,s))};return kde(n[Vde].promise,o,o),fF}function qde(n,e){var t;let r=!1;return e===null&&(e=uF),(t=e)!==null&&t!==void 0&&t.cleanup&&(Mde(e.cleanup,"cleanup"),r=e.cleanup),new Ode((i,o)=>{let s=b6(n,e,a=>{r&&s(),a?o(a):i()})})}hF.exports=b6;hF.exports.finished=qde});var kf=Le((Mze,A6)=>{"use strict";var Ol=$u(),{aggregateTwoErrors:zde,codes:{ERR_MULTIPLE_CALLBACK:Gde},AbortError:Wde}=lo(),{Symbol:S6}=Or(),{kIsDestroyed:Kde,isDestroyed:Jde,isFinished:Xde,isServerRequest:Yde}=Ml(),C6=S6("kDestroy"),pF=S6("kConstruct");function x6(n,e,t){n&&(n.stack,e&&!e.errored&&(e.errored=n),t&&!t.errored&&(t.errored=n))}function Qde(n,e){let t=this._readableState,r=this._writableState,i=r||t;return r!=null&&r.destroyed||t!=null&&t.destroyed?(typeof e=="function"&&e(),this):(x6(n,r,t),r&&(r.destroyed=!0),t&&(t.destroyed=!0),i.constructed?w6(this,n,e):this.once(C6,function(o){w6(this,zde(o,n),e)}),this)}function w6(n,e,t){let r=!1;function i(o){if(r)return;r=!0;let s=n._readableState,a=n._writableState;x6(o,a,s),a&&(a.closed=!0),s&&(s.closed=!0),typeof t=="function"&&t(o),o?Ol.nextTick(Zde,n,o):Ol.nextTick(D6,n)}try{n._destroy(e||null,i)}catch(o){i(o)}}function Zde(n,e){mF(n,e),D6(n)}function D6(n){let e=n._readableState,t=n._writableState;t&&(t.closeEmitted=!0),e&&(e.closeEmitted=!0),(t!=null&&t.emitClose||e!=null&&e.emitClose)&&n.emit("close")}function mF(n,e){let t=n._readableState,r=n._writableState;r!=null&&r.errorEmitted||t!=null&&t.errorEmitted||(r&&(r.errorEmitted=!0),t&&(t.errorEmitted=!0),n.emit("error",e))}function efe(){let n=this._readableState,e=this._writableState;n&&(n.constructed=!0,n.closed=!1,n.closeEmitted=!1,n.destroyed=!1,n.errored=null,n.errorEmitted=!1,n.reading=!1,n.ended=n.readable===!1,n.endEmitted=n.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function gF(n,e,t){let r=n._readableState,i=n._writableState;if(i!=null&&i.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||i!=null&&i.autoDestroy?n.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),r&&!r.errored&&(r.errored=e),t?Ol.nextTick(mF,n,e):mF(n,e))}function tfe(n,e){if(typeof n._construct!="function")return;let t=n._readableState,r=n._writableState;t&&(t.constructed=!1),r&&(r.constructed=!1),n.once(pF,e),!(n.listenerCount(pF)>1)&&Ol.nextTick(nfe,n)}function nfe(n){let e=!1;function t(r){if(e){gF(n,r??new Gde);return}e=!0;let i=n._readableState,o=n._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?n.emit(C6,r):r?gF(n,r,!0):Ol.nextTick(rfe,n)}try{n._construct(r=>{Ol.nextTick(t,r)})}catch(r){Ol.nextTick(t,r)}}function rfe(n){n.emit(pF)}function E6(n){return n?.setHeader&&typeof n.abort=="function"}function I6(n){n.emit("close")}function ife(n,e){n.emit("error",e),Ol.nextTick(I6,n)}function ofe(n,e){!n||Jde(n)||(!e&&!Xde(n)&&(e=new Wde),Yde(n)?(n.socket=null,n.destroy(e)):E6(n)?n.abort():E6(n.req)?n.req.abort():typeof n.destroy=="function"?n.destroy(e):typeof n.close=="function"?n.close():e?Ol.nextTick(ife,n,e):Ol.nextTick(I6,n),n.destroyed||(n[Kde]=!0))}A6.exports={construct:tfe,destroyer:ofe,destroy:Qde,undestroy:efe,errorOrDestroy:gF}});var uC=Le((Oze,R6)=>{"use strict";var{ArrayIsArray:sfe,ObjectSetPrototypeOf:T6}=Or(),{EventEmitter:lC}=tf();function cC(n){lC.call(this,n)}T6(cC.prototype,lC.prototype);T6(cC,lC);cC.prototype.pipe=function(n,e){let t=this;function r(u){n.writable&&n.write(u)===!1&&t.pause&&t.pause()}t.on("data",r);function i(){t.readable&&t.resume&&t.resume()}n.on("drain",i),!n._isStdio&&(!e||e.end!==!1)&&(t.on("end",s),t.on("close",a));let o=!1;function s(){o||(o=!0,n.end())}function a(){o||(o=!0,typeof n.destroy=="function"&&n.destroy())}function l(u){c(),lC.listenerCount(this,"error")===0&&this.emit("error",u)}yF(t,"error",l),yF(n,"error",l);function c(){t.removeListener("data",r),n.removeListener("drain",i),t.removeListener("end",s),t.removeListener("close",a),t.removeListener("error",l),n.removeListener("error",l),t.removeListener("end",c),t.removeListener("close",c),n.removeListener("close",c)}return t.on("end",c),t.on("close",c),n.on("close",c),n.emit("pipe",t),n};function yF(n,e,t){if(typeof n.prependListener=="function")return n.prependListener(e,t);!n._events||!n._events[e]?n.on(e,t):sfe(n._events[e])?n._events[e].unshift(t):n._events[e]=[t,n._events[e]]}R6.exports={Stream:cC,prependListener:yF}});var Nv=Le((kze,dC)=>{"use strict";var{SymbolDispose:afe}=Or(),{AbortError:N6,codes:lfe}=lo(),{isNodeStream:F6,isWebStream:cfe,kControllerErrorFunction:ufe}=Ml(),dfe=Tc(),{ERR_INVALID_ARG_TYPE:M6}=lfe,vF,ffe=(n,e)=>{if(typeof n!="object"||!("aborted"in n))throw new M6(e,"AbortSignal",n)};dC.exports.addAbortSignal=function(e,t){if(ffe(e,"signal"),!F6(t)&&!cfe(t))throw new M6("stream",["ReadableStream","WritableStream","Stream"],t);return dC.exports.addAbortSignalNoValidate(e,t)};dC.exports.addAbortSignalNoValidate=function(n,e){if(typeof n!="object"||!("aborted"in n))return e;let t=F6(e)?()=>{e.destroy(new N6(void 0,{cause:n.reason}))}:()=>{e[ufe](new N6(void 0,{cause:n.reason}))};if(n.aborted)t();else{vF=vF||Io().addAbortListener;let r=vF(n,t);dfe(e,r[afe])}return e}});var P6=Le((Lze,k6)=>{"use strict";var{StringPrototypeSlice:O6,SymbolIterator:hfe,TypedArrayPrototypeSet:fC,Uint8Array:pfe}=Or(),{Buffer:_F}=Ua(),{inspect:mfe}=Io();k6.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let t=this.head,r=""+t.data;for(;(t=t.next)!==null;)r+=e+t.data;return r}concat(e){if(this.length===0)return _F.alloc(0);let t=_F.allocUnsafe(e>>>0),r=this.head,i=0;for(;r;)fC(t,r.data,i),i+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let i=r.slice(0,e);return this.head.data=r.slice(e),i}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[hfe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{let o=r.data;if(e>o.length)t+=o,e-=o.length;else{e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=O6(o,0,e),this.head=r,r.data=O6(o,e));break}++i}while((r=r.next)!==null);return this.length-=i,t}_getBuffer(e){let t=_F.allocUnsafe(e),r=e,i=this.head,o=0;do{let s=i.data;if(e>s.length)fC(t,s,r-e),e-=s.length;else{e===s.length?(fC(t,s,r-e),++o,i.next?this.head=i.next:this.head=this.tail=null):(fC(t,new pfe(s.buffer,s.byteOffset,e),r-e),this.head=i,i.data=s.slice(e));break}++o}while((i=i.next)!==null);return this.length-=o,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return mfe(this,Re(ne({},t),{depth:0,customInspect:!1}))}}});var Fv=Le((jze,U6)=>{"use strict";var{MathFloor:gfe,NumberIsInteger:yfe}=Or(),{validateInteger:vfe}=om(),{ERR_INVALID_ARG_VALUE:_fe}=lo().codes,L6=16*1024,B6=16;function bfe(n,e,t){return n.highWaterMark!=null?n.highWaterMark:e?n[t]:null}function j6(n){return n?B6:L6}function wfe(n,e){vfe(e,"value",0),n?B6=e:L6=e}function Efe(n,e,t,r){let i=bfe(e,r,t);if(i!=null){if(!yfe(i)||i<0){let o=r?`options.${t}`:"options.highWaterMark";throw new _fe(o,i)}return gfe(i)}return j6(n.objectMode)}U6.exports={getHighWaterMark:Efe,getDefaultHighWaterMark:j6,setDefaultHighWaterMark:wfe}});var H6=Le((bF,$6)=>{"use strict";var hC=Ua(),kl=hC.Buffer;function V6(n,e){for(var t in n)e[t]=n[t]}kl.from&&kl.alloc&&kl.allocUnsafe&&kl.allocUnsafeSlow?$6.exports=hC:(V6(hC,bF),bF.Buffer=Pf);function Pf(n,e,t){return kl(n,e,t)}Pf.prototype=Object.create(kl.prototype);V6(kl,Pf);Pf.from=function(n,e,t){if(typeof n=="number")throw new TypeError("Argument must not be a number");return kl(n,e,t)};Pf.alloc=function(n,e,t){if(typeof n!="number")throw new TypeError("Argument must be a number");var r=kl(n);return e!==void 0?typeof t=="string"?r.fill(e,t):r.fill(e):r.fill(0),r};Pf.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return kl(n)};Pf.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return hC.SlowBuffer(n)}});var G6=Le(z6=>{"use strict";var EF=H6().Buffer,q6=EF.isEncoding||function(n){switch(n=""+n,n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Sfe(n){if(!n)return"utf8";for(var e;;)switch(n){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return n;default:if(e)return;n=(""+n).toLowerCase(),e=!0}}function Cfe(n){var e=Sfe(n);if(typeof e!="string"&&(EF.isEncoding===q6||!q6(n)))throw new Error("Unknown encoding: "+n);return e||n}z6.StringDecoder=Mv;function Mv(n){this.encoding=Cfe(n);var e;switch(this.encoding){case"utf16le":this.text=Rfe,this.end=Nfe,e=4;break;case"utf8":this.fillLast=Ife,e=4;break;case"base64":this.text=Ffe,this.end=Mfe,e=3;break;default:this.write=Ofe,this.end=kfe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=EF.allocUnsafe(e)}Mv.prototype.write=function(n){if(n.length===0)return"";var e,t;if(this.lastNeed){if(e=this.fillLast(n),e===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<n.length?e?e+this.text(n,t):this.text(n,t):e||""};Mv.prototype.end=Tfe;Mv.prototype.text=Afe;Mv.prototype.fillLast=function(n){if(this.lastNeed<=n.length)return n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,n.length),this.lastNeed-=n.length};function wF(n){return n<=127?0:n>>5===6?2:n>>4===14?3:n>>3===30?4:n>>6===2?-1:-2}function xfe(n,e,t){var r=e.length-1;if(r<t)return 0;var i=wF(e[r]);return i>=0?(i>0&&(n.lastNeed=i-1),i):--r<t||i===-2?0:(i=wF(e[r]),i>=0?(i>0&&(n.lastNeed=i-2),i):--r<t||i===-2?0:(i=wF(e[r]),i>=0?(i>0&&(i===2?i=0:n.lastNeed=i-3),i):0))}function Dfe(n,e,t){if((e[0]&192)!==128)return n.lastNeed=0,"\uFFFD";if(n.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return n.lastNeed=1,"\uFFFD";if(n.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return n.lastNeed=2,"\uFFFD"}}function Ife(n){var e=this.lastTotal-this.lastNeed,t=Dfe(this,n,e);if(t!==void 0)return t;if(this.lastNeed<=n.length)return n.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,e,0,n.length),this.lastNeed-=n.length}function Afe(n,e){var t=xfe(this,n,e);if(!this.lastNeed)return n.toString("utf8",e);this.lastTotal=t;var r=n.length-(t-this.lastNeed);return n.copy(this.lastChar,0,r),n.toString("utf8",e,r)}function Tfe(n){var e=n&&n.length?this.write(n):"";return this.lastNeed?e+"\uFFFD":e}function Rfe(n,e){if((n.length-e)%2===0){var t=n.toString("utf16le",e);if(t){var r=t.charCodeAt(t.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=n[n.length-1],n.toString("utf16le",e,n.length-1)}function Nfe(n){var e=n&&n.length?this.write(n):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function Ffe(n,e){var t=(n.length-e)%3;return t===0?n.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=n[n.length-1]:(this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1]),n.toString("base64",e,n.length-t))}function Mfe(n){var e=n&&n.length?this.write(n):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Ofe(n){return n.toString(this.encoding)}function kfe(n){return n&&n.length?this.write(n):""}});var SF=Le((Vze,X6)=>{"use strict";var W6=$u(),{PromisePrototypeThen:Pfe,SymbolAsyncIterator:K6,SymbolIterator:J6}=Or(),{Buffer:Lfe}=Ua(),{ERR_INVALID_ARG_TYPE:Bfe,ERR_STREAM_NULL_VALUES:jfe}=lo().codes;function Ufe(n,e,t){let r;if(typeof e=="string"||e instanceof Lfe)return new n(Re(ne({objectMode:!0},t),{read(){this.push(e),this.push(null)}}));let i;if(e&&e[K6])i=!0,r=e[K6]();else if(e&&e[J6])i=!1,r=e[J6]();else throw new Bfe("iterable",["Iterable"],e);let o=new n(ne({objectMode:!0,highWaterMark:1},t)),s=!1;o._read=function(){s||(s=!0,l())},o._destroy=function(c,u){Pfe(a(c),()=>W6.nextTick(u,c),h=>W6.nextTick(u,h||c))};function a(c){return L(this,null,function*(){let u=c!=null,h=typeof r.throw=="function";if(u&&h){let{value:m,done:g}=yield r.throw(c);if(yield m,g)return}if(typeof r.return=="function"){let{value:m}=yield r.return();yield m}})}function l(){return L(this,null,function*(){for(;;){try{let{value:c,done:u}=i?yield r.next():r.next();if(u)o.push(null);else{let h=c&&typeof c.then=="function"?yield c:c;if(h===null)throw s=!1,new jfe;if(o.push(h))continue;s=!1}}catch(c){o.destroy(c)}break}})}return o}X6.exports=Ufe});var kv=Le((Hze,p9)=>{"use strict";var Ha=$u(),{ArrayPrototypeIndexOf:Vfe,NumberIsInteger:$fe,NumberIsNaN:Hfe,NumberParseInt:qfe,ObjectDefineProperties:NF,ObjectKeys:zfe,ObjectSetPrototypeOf:Z6,Promise:e9,SafeSet:Gfe,SymbolAsyncDispose:Wfe,SymbolAsyncIterator:Kfe,Symbol:Jfe}=Or();p9.exports=hn;hn.ReadableState=yC;var{EventEmitter:Xfe}=tf(),{Stream:qu,prependListener:Yfe}=uC(),{Buffer:CF}=Ua(),{addAbortSignal:Qfe}=Nv(),t9=Tc(),Tn=Io().debuglog("stream",n=>{Tn=n}),Zfe=P6(),um=kf(),{getHighWaterMark:ehe,getDefaultHighWaterMark:the}=Fv(),{aggregateTwoErrors:Y6,codes:{ERR_INVALID_ARG_TYPE:nhe,ERR_METHOD_NOT_IMPLEMENTED:rhe,ERR_OUT_OF_RANGE:ihe,ERR_STREAM_PUSH_AFTER_EOF:ohe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:she},AbortError:ahe}=lo(),{validateObject:lhe}=om(),Lf=Jfe("kPaused"),{StringDecoder:n9}=G6(),che=SF();Z6(hn.prototype,qu.prototype);Z6(hn,qu);var xF=()=>{},{errorOrDestroy:lm}=um,cm=1,uhe=2,r9=4,Ov=8,i9=16,pC=32,mC=64,o9=128,dhe=256,fhe=512,hhe=1024,TF=2048,RF=4096,phe=8192,mhe=16384,ghe=32768,s9=65536,yhe=1<<17,vhe=1<<18;function bi(n){return{enumerable:!1,get(){return(this.state&n)!==0},set(e){e?this.state|=n:this.state&=~n}}}NF(yC.prototype,{objectMode:bi(cm),ended:bi(uhe),endEmitted:bi(r9),reading:bi(Ov),constructed:bi(i9),sync:bi(pC),needReadable:bi(mC),emittedReadable:bi(o9),readableListening:bi(dhe),resumeScheduled:bi(fhe),errorEmitted:bi(hhe),emitClose:bi(TF),autoDestroy:bi(RF),destroyed:bi(phe),closed:bi(mhe),closeEmitted:bi(ghe),multiAwaitDrain:bi(s9),readingMore:bi(yhe),dataEmitted:bi(vhe)});function yC(n,e,t){typeof t!="boolean"&&(t=e instanceof Pl()),this.state=TF|RF|i9|pC,n&&n.objectMode&&(this.state|=cm),t&&n&&n.readableObjectMode&&(this.state|=cm),this.highWaterMark=n?ehe(this,n,"readableHighWaterMark",t):the(!1),this.buffer=new Zfe,this.length=0,this.pipes=[],this.flowing=null,this[Lf]=null,n&&n.emitClose===!1&&(this.state&=~TF),n&&n.autoDestroy===!1&&(this.state&=~RF),this.errored=null,this.defaultEncoding=n&&n.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,n&&n.encoding&&(this.decoder=new n9(n.encoding),this.encoding=n.encoding)}function hn(n){if(!(this instanceof hn))return new hn(n);let e=this instanceof Pl();this._readableState=new yC(n,this,e),n&&(typeof n.read=="function"&&(this._read=n.read),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.construct=="function"&&(this._construct=n.construct),n.signal&&!e&&Qfe(n.signal,this)),qu.call(this,n),um.construct(this,()=>{this._readableState.needReadable&&gC(this,this._readableState)})}hn.prototype.destroy=um.destroy;hn.prototype._undestroy=um.undestroy;hn.prototype._destroy=function(n,e){e(n)};hn.prototype[Xfe.captureRejectionSymbol]=function(n){this.destroy(n)};hn.prototype[Wfe]=function(){let n;return this.destroyed||(n=this.readableEnded?null:new ahe,this.destroy(n)),new e9((e,t)=>t9(this,r=>r&&r!==n?t(r):e(null)))};hn.prototype.push=function(n,e){return a9(this,n,e,!1)};hn.prototype.unshift=function(n,e){return a9(this,n,e,!0)};function a9(n,e,t,r){Tn("readableAddChunk",e);let i=n._readableState,o;if((i.state&cm)===0&&(typeof e=="string"?(t=t||i.defaultEncoding,i.encoding!==t&&(r&&i.encoding?e=CF.from(e,t).toString(i.encoding):(e=CF.from(e,t),t=""))):e instanceof CF?t="":qu._isUint8Array(e)?(e=qu._uint8ArrayToBuffer(e),t=""):e!=null&&(o=new nhe("chunk",["string","Buffer","Uint8Array"],e))),o)lm(n,o);else if(e===null)i.state&=~Ov,whe(n,i);else if((i.state&cm)!==0||e&&e.length>0)if(r)if((i.state&r9)!==0)lm(n,new she);else{if(i.destroyed||i.errored)return!1;DF(n,i,e,!0)}else if(i.ended)lm(n,new ohe);else{if(i.destroyed||i.errored)return!1;i.state&=~Ov,i.decoder&&!t?(e=i.decoder.write(e),i.objectMode||e.length!==0?DF(n,i,e,!1):gC(n,i)):DF(n,i,e,!1)}else r||(i.state&=~Ov,gC(n,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function DF(n,e,t,r){e.flowing&&e.length===0&&!e.sync&&n.listenerCount("data")>0?((e.state&s9)!==0?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,n.emit("data",t)):(e.length+=e.objectMode?1:t.length,r?e.buffer.unshift(t):e.buffer.push(t),(e.state&mC)!==0&&vC(n)),gC(n,e)}hn.prototype.isPaused=function(){let n=this._readableState;return n[Lf]===!0||n.flowing===!1};hn.prototype.setEncoding=function(n){let e=new n9(n);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let t=this._readableState.buffer,r="";for(let i of t)r+=e.write(i);return t.clear(),r!==""&&t.push(r),this._readableState.length=r.length,this};var _he=1073741824;function bhe(n){if(n>_he)throw new ihe("size","<= 1GiB",n);return n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++,n}function Q6(n,e){return n<=0||e.length===0&&e.ended?0:(e.state&cm)!==0?1:Hfe(n)?e.flowing&&e.length?e.buffer.first().length:e.length:n<=e.length?n:e.ended?e.length:0}hn.prototype.read=function(n){Tn("read",n),n===void 0?n=NaN:$fe(n)||(n=qfe(n,10));let e=this._readableState,t=n;if(n>e.highWaterMark&&(e.highWaterMark=bhe(n)),n!==0&&(e.state&=~o9),n===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Tn("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?IF(this):vC(this),null;if(n=Q6(n,e),n===0&&e.ended)return e.length===0&&IF(this),null;let r=(e.state&mC)!==0;if(Tn("need readable",r),(e.length===0||e.length-n<e.highWaterMark)&&(r=!0,Tn("length less than watermark",r)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)r=!1,Tn("reading, ended or constructing",r);else if(r){Tn("do read"),e.state|=Ov|pC,e.length===0&&(e.state|=mC);try{this._read(e.highWaterMark)}catch(o){lm(this,o)}e.state&=~pC,e.reading||(n=Q6(t,e))}let i;return n>0?i=f9(n,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,n=0):(e.length-=n,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),t!==n&&e.ended&&IF(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function whe(n,e){if(Tn("onEofChunk"),!e.ended){if(e.decoder){let t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?vC(n):(e.needReadable=!1,e.emittedReadable=!0,l9(n))}}function vC(n){let e=n._readableState;Tn("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Tn("emitReadable",e.flowing),e.emittedReadable=!0,Ha.nextTick(l9,n))}function l9(n){let e=n._readableState;Tn("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(n.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,u9(n)}function gC(n,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,Ha.nextTick(Ehe,n,e))}function Ehe(n,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let t=e.length;if(Tn("maybeReadMore read 0"),n.read(0),t===e.length)break}e.readingMore=!1}hn.prototype._read=function(n){throw new rhe("_read()")};hn.prototype.pipe=function(n,e){let t=this,r=this._readableState;r.pipes.length===1&&(r.multiAwaitDrain||(r.multiAwaitDrain=!0,r.awaitDrainWriters=new Gfe(r.awaitDrainWriters?[r.awaitDrainWriters]:[]))),r.pipes.push(n),Tn("pipe count=%d opts=%j",r.pipes.length,e);let o=(!e||e.end!==!1)&&n!==Ha.stdout&&n!==Ha.stderr?a:E;r.endEmitted?Ha.nextTick(o):t.once("end",o),n.on("unpipe",s);function s(C,R){Tn("onunpipe"),C===t&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,u())}function a(){Tn("onend"),n.end()}let l,c=!1;function u(){Tn("cleanup"),n.removeListener("close",b),n.removeListener("finish",v),l&&n.removeListener("drain",l),n.removeListener("error",g),n.removeListener("unpipe",s),t.removeListener("end",a),t.removeListener("end",E),t.removeListener("data",m),c=!0,l&&r.awaitDrainWriters&&(!n._writableState||n._writableState.needDrain)&&l()}function h(){c||(r.pipes.length===1&&r.pipes[0]===n?(Tn("false write response, pause",0),r.awaitDrainWriters=n,r.multiAwaitDrain=!1):r.pipes.length>1&&r.pipes.includes(n)&&(Tn("false write response, pause",r.awaitDrainWriters.size),r.awaitDrainWriters.add(n)),t.pause()),l||(l=She(t,n),n.on("drain",l))}t.on("data",m);function m(C){Tn("ondata");let R=n.write(C);Tn("dest.write",R),R===!1&&h()}function g(C){if(Tn("onerror",C),E(),n.removeListener("error",g),n.listenerCount("error")===0){let R=n._writableState||n._readableState;R&&!R.errorEmitted?lm(n,C):n.emit("error",C)}}Yfe(n,"error",g);function b(){n.removeListener("finish",v),E()}n.once("close",b);function v(){Tn("onfinish"),n.removeListener("close",b),E()}n.once("finish",v);function E(){Tn("unpipe"),t.unpipe(n)}return n.emit("pipe",t),n.writableNeedDrain===!0?h():r.flowing||(Tn("pipe resume"),t.resume()),n};function She(n,e){return function(){let r=n._readableState;r.awaitDrainWriters===e?(Tn("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(Tn("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(e)),(!r.awaitDrainWriters||r.awaitDrainWriters.size===0)&&n.listenerCount("data")&&n.resume()}}hn.prototype.unpipe=function(n){let e=this._readableState,t={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!n){let i=e.pipes;e.pipes=[],this.pause();for(let o=0;o<i.length;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}let r=Vfe(e.pipes,n);return r===-1?this:(e.pipes.splice(r,1),e.pipes.length===0&&this.pause(),n.emit("unpipe",this,t),this)};hn.prototype.on=function(n,e){let t=qu.prototype.on.call(this,n,e),r=this._readableState;return n==="data"?(r.readableListening=this.listenerCount("readable")>0,r.flowing!==!1&&this.resume()):n==="readable"&&!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,Tn("on readable",r.length,r.reading),r.length?vC(this):r.reading||Ha.nextTick(Che,this)),t};hn.prototype.addListener=hn.prototype.on;hn.prototype.removeListener=function(n,e){let t=qu.prototype.removeListener.call(this,n,e);return n==="readable"&&Ha.nextTick(c9,this),t};hn.prototype.off=hn.prototype.removeListener;hn.prototype.removeAllListeners=function(n){let e=qu.prototype.removeAllListeners.apply(this,arguments);return(n==="readable"||n===void 0)&&Ha.nextTick(c9,this),e};function c9(n){let e=n._readableState;e.readableListening=n.listenerCount("readable")>0,e.resumeScheduled&&e[Lf]===!1?e.flowing=!0:n.listenerCount("data")>0?n.resume():e.readableListening||(e.flowing=null)}function Che(n){Tn("readable nexttick read 0"),n.read(0)}hn.prototype.resume=function(){let n=this._readableState;return n.flowing||(Tn("resume"),n.flowing=!n.readableListening,xhe(this,n)),n[Lf]=!1,this};function xhe(n,e){e.resumeScheduled||(e.resumeScheduled=!0,Ha.nextTick(Dhe,n,e))}function Dhe(n,e){Tn("resume",e.reading),e.reading||n.read(0),e.resumeScheduled=!1,n.emit("resume"),u9(n),e.flowing&&!e.reading&&n.read(0)}hn.prototype.pause=function(){return Tn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Tn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Lf]=!0,this};function u9(n){let e=n._readableState;for(Tn("flow",e.flowing);e.flowing&&n.read()!==null;);}hn.prototype.wrap=function(n){let e=!1;n.on("data",r=>{!this.push(r)&&n.pause&&(e=!0,n.pause())}),n.on("end",()=>{this.push(null)}),n.on("error",r=>{lm(this,r)}),n.on("close",()=>{this.destroy()}),n.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&n.resume&&(e=!1,n.resume())};let t=zfe(n);for(let r=1;r<t.length;r++){let i=t[r];this[i]===void 0&&typeof n[i]=="function"&&(this[i]=n[i].bind(n))}return this};hn.prototype[Kfe]=function(){return d9(this)};hn.prototype.iterator=function(n){return n!==void 0&&lhe(n,"options"),d9(this,n)};function d9(n,e){typeof n.read!="function"&&(n=hn.wrap(n,{objectMode:!0}));let t=Ihe(n,e);return t.stream=n,t}function Ihe(n,e){return jo(this,null,function*(){let t=xF;function r(s){this===n?(t(),t=xF):t=s}n.on("readable",r);let i,o=t9(n,{writable:!1},s=>{i=s?Y6(i,s):null,t(),t=xF});try{for(;;){let s=n.destroyed?null:n.read();if(s!==null)yield s;else{if(i)throw i;if(i===null)return;yield new Ui(new e9(r))}}}catch(s){throw i=Y6(i,s),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||n._readableState.autoDestroy)?um.destroyer(n,null):(n.off("readable",r),o())}})}NF(hn.prototype,{readable:{__proto__:null,get(){let n=this._readableState;return!!n&&n.readable!==!1&&!n.destroyed&&!n.errorEmitted&&!n.endEmitted},set(n){this._readableState&&(this._readableState.readable=!!n)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(n){this._readableState&&(this._readableState.flowing=n)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(n){this._readableState&&(this._readableState.destroyed=n)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});NF(yC.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Lf]!==!1},set(n){this[Lf]=!!n}}});hn._fromList=f9;function f9(n,e){if(e.length===0)return null;let t;return e.objectMode?t=e.buffer.shift():!n||n>=e.length?(e.decoder?t=e.buffer.join(""):e.buffer.length===1?t=e.buffer.first():t=e.buffer.concat(e.length),e.buffer.clear()):t=e.buffer.consume(n,e.decoder),t}function IF(n){let e=n._readableState;Tn("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,Ha.nextTick(Ahe,e,n))}function Ahe(n,e){if(Tn("endReadableNT",n.endEmitted,n.length),!n.errored&&!n.closeEmitted&&!n.endEmitted&&n.length===0){if(n.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)Ha.nextTick(The,e);else if(n.autoDestroy){let t=e._writableState;(!t||t.autoDestroy&&(t.finished||t.writable===!1))&&e.destroy()}}}function The(n){n.writable&&!n.writableEnded&&!n.destroyed&&n.end()}hn.from=function(n,e){return che(hn,n,e)};var AF;function h9(){return AF===void 0&&(AF={}),AF}hn.fromWeb=function(n,e){return h9().newStreamReadableFromReadableStream(n,e)};hn.toWeb=function(n,e){return h9().newReadableStreamFromStreamReadable(n,e)};hn.wrap=function(n,e){var t,r;return new hn(Re(ne({objectMode:(t=(r=n.readableObjectMode)!==null&&r!==void 0?r:n.objectMode)!==null&&t!==void 0?t:!0},e),{destroy(i,o){um.destroyer(n,i),o(i)}})).wrap(n)}});var SC=Le((zze,D9)=>{"use strict";var Bf=$u(),{ArrayPrototypeSlice:y9,Error:Rhe,FunctionPrototypeSymbolHasInstance:v9,ObjectDefineProperty:_9,ObjectDefineProperties:Nhe,ObjectSetPrototypeOf:b9,StringPrototypeToLowerCase:Fhe,Symbol:Mhe,SymbolHasInstance:Ohe}=Or();D9.exports=Br;Br.WritableState=Bv;var{EventEmitter:khe}=tf(),Pv=uC().Stream,{Buffer:_C}=Ua(),EC=kf(),{addAbortSignal:Phe}=Nv(),{getHighWaterMark:Lhe,getDefaultHighWaterMark:Bhe}=Fv(),{ERR_INVALID_ARG_TYPE:jhe,ERR_METHOD_NOT_IMPLEMENTED:Uhe,ERR_MULTIPLE_CALLBACK:w9,ERR_STREAM_CANNOT_PIPE:Vhe,ERR_STREAM_DESTROYED:Lv,ERR_STREAM_ALREADY_FINISHED:$he,ERR_STREAM_NULL_VALUES:Hhe,ERR_STREAM_WRITE_AFTER_END:qhe,ERR_UNKNOWN_ENCODING:E9}=lo().codes,{errorOrDestroy:dm}=EC;b9(Br.prototype,Pv.prototype);b9(Br,Pv);function OF(){}var fm=Mhe("kOnFinished");function Bv(n,e,t){typeof t!="boolean"&&(t=e instanceof Pl()),this.objectMode=!!(n&&n.objectMode),t&&(this.objectMode=this.objectMode||!!(n&&n.writableObjectMode)),this.highWaterMark=n?Lhe(this,n,"writableHighWaterMark",t):Bhe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let r=!!(n&&n.decodeStrings===!1);this.decodeStrings=!r,this.defaultEncoding=n&&n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Ghe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,wC(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!n||n.emitClose!==!1,this.autoDestroy=!n||n.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[fm]=[]}function wC(n){n.buffered=[],n.bufferedIndex=0,n.allBuffers=!0,n.allNoop=!0}Bv.prototype.getBuffer=function(){return y9(this.buffered,this.bufferedIndex)};_9(Bv.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Br(n){let e=this instanceof Pl();if(!e&&!v9(Br,this))return new Br(n);this._writableState=new Bv(n,this,e),n&&(typeof n.write=="function"&&(this._write=n.write),typeof n.writev=="function"&&(this._writev=n.writev),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.final=="function"&&(this._final=n.final),typeof n.construct=="function"&&(this._construct=n.construct),n.signal&&Phe(n.signal,this)),Pv.call(this,n),EC.construct(this,()=>{let t=this._writableState;t.writing||PF(this,t),LF(this,t)})}_9(Br,Ohe,{__proto__:null,value:function(n){return v9(this,n)?!0:this!==Br?!1:n&&n._writableState instanceof Bv}});Br.prototype.pipe=function(){dm(this,new Vhe)};function S9(n,e,t,r){let i=n._writableState;if(typeof t=="function")r=t,t=i.defaultEncoding;else{if(!t)t=i.defaultEncoding;else if(t!=="buffer"&&!_C.isEncoding(t))throw new E9(t);typeof r!="function"&&(r=OF)}if(e===null)throw new Hhe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=_C.from(e,t),t="buffer");else if(e instanceof _C)t="buffer";else if(Pv._isUint8Array(e))e=Pv._uint8ArrayToBuffer(e),t="buffer";else throw new jhe("chunk",["string","Buffer","Uint8Array"],e);let o;return i.ending?o=new qhe:i.destroyed&&(o=new Lv("write")),o?(Bf.nextTick(r,o),dm(n,o,!0),o):(i.pendingcb++,zhe(n,i,e,t,r))}Br.prototype.write=function(n,e,t){return S9(this,n,e,t)===!0};Br.prototype.cork=function(){this._writableState.corked++};Br.prototype.uncork=function(){let n=this._writableState;n.corked&&(n.corked--,n.writing||PF(this,n))};Br.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Fhe(e)),!_C.isEncoding(e))throw new E9(e);return this._writableState.defaultEncoding=e,this};function zhe(n,e,t,r,i){let o=e.objectMode?1:t.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:t,encoding:r,callback:i}),e.allBuffers&&r!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==OF&&(e.allNoop=!1)):(e.writelen=o,e.writecb=i,e.writing=!0,e.sync=!0,n._write(t,r,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function m9(n,e,t,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Lv("write")):t?n._writev(i,e.onwrite):n._write(i,o,e.onwrite),e.sync=!1}function g9(n,e,t,r){--e.pendingcb,r(t),kF(e),dm(n,t)}function Ghe(n,e){let t=n._writableState,r=t.sync,i=t.writecb;if(typeof i!="function"){dm(n,new w9);return}t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0,e?(e.stack,t.errored||(t.errored=e),n._readableState&&!n._readableState.errored&&(n._readableState.errored=e),r?Bf.nextTick(g9,n,t,e,i):g9(n,t,e,i)):(t.buffered.length>t.bufferedIndex&&PF(n,t),r?t.afterWriteTickInfo!==null&&t.afterWriteTickInfo.cb===i?t.afterWriteTickInfo.count++:(t.afterWriteTickInfo={count:1,cb:i,stream:n,state:t},Bf.nextTick(Whe,t.afterWriteTickInfo)):C9(n,t,1,i))}function Whe({stream:n,state:e,count:t,cb:r}){return e.afterWriteTickInfo=null,C9(n,e,t,r)}function C9(n,e,t,r){for(!e.ending&&!n.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,n.emit("drain"));t-- >0;)e.pendingcb--,r();e.destroyed&&kF(e),LF(n,e)}function kF(n){if(n.writing)return;for(let i=n.bufferedIndex;i<n.buffered.length;++i){var e;let{chunk:o,callback:s}=n.buffered[i],a=n.objectMode?1:o.length;n.length-=a,s((e=n.errored)!==null&&e!==void 0?e:new Lv("write"))}let t=n[fm].splice(0);for(let i=0;i<t.length;i++){var r;t[i]((r=n.errored)!==null&&r!==void 0?r:new Lv("end"))}wC(n)}function PF(n,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:t,bufferedIndex:r,objectMode:i}=e,o=t.length-r;if(!o)return;let s=r;if(e.bufferProcessing=!0,o>1&&n._writev){e.pendingcb-=o-1;let a=e.allNoop?OF:c=>{for(let u=s;u<t.length;++u)t[u].callback(c)},l=e.allNoop&&s===0?t:y9(t,s);l.allBuffers=e.allBuffers,m9(n,e,!0,e.length,l,"",a),wC(e)}else{do{let{chunk:a,encoding:l,callback:c}=t[s];t[s++]=null;let u=i?1:a.length;m9(n,e,!1,u,a,l,c)}while(s<t.length&&!e.writing);s===t.length?wC(e):s>256?(t.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}Br.prototype._write=function(n,e,t){if(this._writev)this._writev([{chunk:n,encoding:e}],t);else throw new Uhe("_write()")};Br.prototype._writev=null;Br.prototype.end=function(n,e,t){let r=this._writableState;typeof n=="function"?(t=n,n=null,e=null):typeof e=="function"&&(t=e,e=null);let i;if(n!=null){let o=S9(this,n,e);o instanceof Rhe&&(i=o)}return r.corked&&(r.corked=1,this.uncork()),i||(!r.errored&&!r.ending?(r.ending=!0,LF(this,r,!0),r.ended=!0):r.finished?i=new $he("end"):r.destroyed&&(i=new Lv("end"))),typeof t=="function"&&(i||r.finished?Bf.nextTick(t,i):r[fm].push(t)),this};function bC(n){return n.ending&&!n.destroyed&&n.constructed&&n.length===0&&!n.errored&&n.buffered.length===0&&!n.finished&&!n.writing&&!n.errorEmitted&&!n.closeEmitted}function Khe(n,e){let t=!1;function r(i){if(t){dm(n,i??w9());return}if(t=!0,e.pendingcb--,i){let o=e[fm].splice(0);for(let s=0;s<o.length;s++)o[s](i);dm(n,i,e.sync)}else bC(e)&&(e.prefinished=!0,n.emit("prefinish"),e.pendingcb++,Bf.nextTick(MF,n,e))}e.sync=!0,e.pendingcb++;try{n._final(r)}catch(i){r(i)}e.sync=!1}function Jhe(n,e){!e.prefinished&&!e.finalCalled&&(typeof n._final=="function"&&!e.destroyed?(e.finalCalled=!0,Khe(n,e)):(e.prefinished=!0,n.emit("prefinish")))}function LF(n,e,t){bC(e)&&(Jhe(n,e),e.pendingcb===0&&(t?(e.pendingcb++,Bf.nextTick((r,i)=>{bC(i)?MF(r,i):i.pendingcb--},n,e)):bC(e)&&(e.pendingcb++,MF(n,e))))}function MF(n,e){e.pendingcb--,e.finished=!0;let t=e[fm].splice(0);for(let r=0;r<t.length;r++)t[r]();if(n.emit("finish"),e.autoDestroy){let r=n._readableState;(!r||r.autoDestroy&&(r.endEmitted||r.readable===!1))&&n.destroy()}}Nhe(Br.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(n){this._writableState&&(this._writableState.destroyed=n)}},writable:{__proto__:null,get(){let n=this._writableState;return!!n&&n.writable!==!1&&!n.destroyed&&!n.errored&&!n.ending&&!n.ended},set(n){this._writableState&&(this._writableState.writable=!!n)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let n=this._writableState;return n?!n.destroyed&&!n.ending&&n.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Xhe=EC.destroy;Br.prototype.destroy=function(n,e){let t=this._writableState;return!t.destroyed&&(t.bufferedIndex<t.buffered.length||t[fm].length)&&Bf.nextTick(kF,t),Xhe.call(this,n,e),this};Br.prototype._undestroy=EC.undestroy;Br.prototype._destroy=function(n,e){e(n)};Br.prototype[khe.captureRejectionSymbol]=function(n){this.destroy(n)};var FF;function x9(){return FF===void 0&&(FF={}),FF}Br.fromWeb=function(n,e){return x9().newStreamWritableFromWritableStream(n,e)};Br.toWeb=function(n){return x9().newWritableStreamFromStreamWritable(n)}});var V9=Le((Gze,U9)=>{"use strict";var BF=$u(),Yhe=Ua(),{isReadable:Qhe,isWritable:Zhe,isIterable:I9,isNodeStream:epe,isReadableNodeStream:A9,isWritableNodeStream:T9,isDuplexNodeStream:tpe,isReadableStream:R9,isWritableStream:N9}=Ml(),F9=Tc(),{AbortError:B9,codes:{ERR_INVALID_ARG_TYPE:npe,ERR_INVALID_RETURN_VALUE:M9}}=lo(),{destroyer:pm}=kf(),rpe=Pl(),j9=kv(),ipe=SC(),{createDeferredPromise:O9}=Io(),k9=SF(),P9=globalThis.Blob||Yhe.Blob,ope=typeof P9<"u"?function(e){return e instanceof P9}:function(e){return!1},spe=globalThis.AbortController||rm().AbortController,{FunctionPrototypeCall:L9}=Or(),zu=class extends rpe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};U9.exports=function n(e,t){if(tpe(e))return e;if(A9(e))return hm({readable:e});if(T9(e))return hm({writable:e});if(epe(e))return hm({writable:!1,readable:!1});if(R9(e))return hm({readable:j9.fromWeb(e)});if(N9(e))return hm({writable:ipe.fromWeb(e)});if(typeof e=="function"){let{value:i,write:o,final:s,destroy:a}=ape(e);if(I9(i))return k9(zu,i,{objectMode:!0,write:o,final:s,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=L9(l,i,h=>{if(h!=null)throw new M9("nully","body",h)},h=>{pm(c,h)});return c=new zu({objectMode:!0,readable:!1,write:o,final(h){s(()=>L(null,null,function*(){try{yield u,BF.nextTick(h,null)}catch(m){BF.nextTick(h,m)}}))},destroy:a})}throw new M9("Iterable, AsyncIterable or AsyncFunction",t,i)}if(ope(e))return n(e.arrayBuffer());if(I9(e))return k9(zu,e,{objectMode:!0,writable:!1});if(R9(e?.readable)&&N9(e?.writable))return zu.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?A9(e?.readable)?e?.readable:n(e.readable):void 0,o=e!=null&&e.writable?T9(e?.writable)?e?.writable:n(e.writable):void 0;return hm({readable:i,writable:o})}let r=e?.then;if(typeof r=="function"){let i;return L9(r,e,o=>{o!=null&&i.push(o),i.push(null)},o=>{pm(i,o)}),i=new zu({objectMode:!0,writable:!1,read(){}})}throw new npe(t,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function ape(n){let{promise:e,resolve:t}=O9(),r=new spe,i=r.signal;return{value:n(function(){return jo(this,null,function*(){for(;;){let s=e;e=null;let{chunk:a,done:l,cb:c}=yield new Ui(s);if(BF.nextTick(c),l)return;if(i.aborted)throw new B9(void 0,{cause:i.reason});({promise:e,resolve:t}=O9()),yield a}})}(),{signal:i}),write(s,a,l){let c=t;t=null,c({chunk:s,done:!1,cb:l})},final(s){let a=t;t=null,a({done:!0,cb:s})},destroy(s,a){r.abort(),a(s)}}}function hm(n){let e=n.readable&&typeof n.readable.read!="function"?j9.wrap(n.readable):n.readable,t=n.writable,r=!!Qhe(e),i=!!Zhe(t),o,s,a,l,c;function u(h){let m=l;l=null,m?m(h):h&&c.destroy(h)}return c=new zu({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(t!=null&&t.writableObjectMode),readable:r,writable:i}),i&&(F9(t,h=>{i=!1,h&&pm(e,h),u(h)}),c._write=function(h,m,g){t.write(h,m)?g():o=g},c._final=function(h){t.end(),s=h},t.on("drain",function(){if(o){let h=o;o=null,h()}}),t.on("finish",function(){if(s){let h=s;s=null,h()}})),r&&(F9(e,h=>{r=!1,h&&pm(e,h),u(h)}),e.on("readable",function(){if(a){let h=a;a=null,h()}}),e.on("end",function(){c.push(null)}),c._read=function(){for(;;){let h=e.read();if(h===null){a=c._read;return}if(!c.push(h))return}}),c._destroy=function(h,m){!h&&l!==null&&(h=new B9),a=null,o=null,s=null,l===null?m(h):(l=m,pm(t,h),pm(e,h))},c}});var Pl=Le((Kze,q9)=>{"use strict";var{ObjectDefineProperties:lpe,ObjectGetOwnPropertyDescriptor:Rc,ObjectKeys:cpe,ObjectSetPrototypeOf:$9}=Or();q9.exports=qa;var VF=kv(),ia=SC();$9(qa.prototype,VF.prototype);$9(qa,VF);{let n=cpe(ia.prototype);for(let e=0;e<n.length;e++){let t=n[e];qa.prototype[t]||(qa.prototype[t]=ia.prototype[t])}}function qa(n){if(!(this instanceof qa))return new qa(n);VF.call(this,n),ia.call(this,n),n?(this.allowHalfOpen=n.allowHalfOpen!==!1,n.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),n.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}lpe(qa.prototype,{writable:ne({__proto__:null},Rc(ia.prototype,"writable")),writableHighWaterMark:ne({__proto__:null},Rc(ia.prototype,"writableHighWaterMark")),writableObjectMode:ne({__proto__:null},Rc(ia.prototype,"writableObjectMode")),writableBuffer:ne({__proto__:null},Rc(ia.prototype,"writableBuffer")),writableLength:ne({__proto__:null},Rc(ia.prototype,"writableLength")),writableFinished:ne({__proto__:null},Rc(ia.prototype,"writableFinished")),writableCorked:ne({__proto__:null},Rc(ia.prototype,"writableCorked")),writableEnded:ne({__proto__:null},Rc(ia.prototype,"writableEnded")),writableNeedDrain:ne({__proto__:null},Rc(ia.prototype,"writableNeedDrain")),destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(n){this._readableState&&this._writableState&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}}});var jF;function H9(){return jF===void 0&&(jF={}),jF}qa.fromWeb=function(n,e){return H9().newStreamDuplexFromReadableWritablePair(n,e)};qa.toWeb=function(n){return H9().newReadableWritablePairFromDuplex(n)};var UF;qa.from=function(n){return UF||(UF=V9()),UF(n,"body")}});var qF=Le((Xze,G9)=>{"use strict";var{ObjectSetPrototypeOf:z9,Symbol:upe}=Or();G9.exports=Nc;var{ERR_METHOD_NOT_IMPLEMENTED:dpe}=lo().codes,HF=Pl(),{getHighWaterMark:fpe}=Fv();z9(Nc.prototype,HF.prototype);z9(Nc,HF);var jv=upe("kCallback");function Nc(n){if(!(this instanceof Nc))return new Nc(n);let e=n?fpe(this,n,"readableHighWaterMark",!0):null;e===0&&(n=Re(ne({},n),{highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:n.writableHighWaterMark||0})),HF.call(this,n),this._readableState.sync=!1,this[jv]=null,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",hpe)}function $F(n){typeof this._flush=="function"&&!this.destroyed?this._flush((e,t)=>{if(e){n?n(e):this.destroy(e);return}t!=null&&this.push(t),this.push(null),n&&n()}):(this.push(null),n&&n())}function hpe(){this._final!==$F&&$F.call(this)}Nc.prototype._final=$F;Nc.prototype._transform=function(n,e,t){throw new dpe("_transform()")};Nc.prototype._write=function(n,e,t){let r=this._readableState,i=this._writableState,o=r.length;this._transform(n,e,(s,a)=>{if(s){t(s);return}a!=null&&this.push(a),i.ended||o===r.length||r.length<r.highWaterMark?t():this[jv]=t})};Nc.prototype._read=function(){if(this[jv]){let n=this[jv];this[jv]=null,n()}}});var GF=Le((Qze,K9)=>{"use strict";var{ObjectSetPrototypeOf:W9}=Or();K9.exports=mm;var zF=qF();W9(mm.prototype,zF.prototype);W9(mm,zF);function mm(n){if(!(this instanceof mm))return new mm(n);zF.call(this,n)}mm.prototype._transform=function(n,e,t){t(null,n)}});var IC=Le((Zze,Z9)=>{"use strict";var Uv=$u(),{ArrayIsArray:ppe,Promise:mpe,SymbolAsyncIterator:gpe,SymbolDispose:ype}=Or(),DC=Tc(),{once:vpe}=Io(),_pe=kf(),J9=Pl(),{aggregateTwoErrors:bpe,codes:{ERR_INVALID_ARG_TYPE:tM,ERR_INVALID_RETURN_VALUE:WF,ERR_MISSING_ARGS:wpe,ERR_STREAM_DESTROYED:Epe,ERR_STREAM_PREMATURE_CLOSE:Spe},AbortError:Cpe}=lo(),{validateFunction:xpe,validateAbortSignal:Dpe}=om(),{isIterable:jf,isReadable:KF,isReadableNodeStream:xC,isNodeStream:X9,isTransformStream:gm,isWebStream:Ipe,isReadableStream:JF,isReadableFinished:Ape}=Ml(),Tpe=globalThis.AbortController||rm().AbortController,XF,YF,QF;function Y9(n,e,t){let r=!1;n.on("close",()=>{r=!0});let i=DC(n,{readable:e,writable:t},o=>{r=!o});return{destroy:o=>{r||(r=!0,_pe.destroyer(n,o||new Epe("pipe")))},cleanup:i}}function Rpe(n){return xpe(n[n.length-1],"streams[stream.length - 1]"),n.pop()}function ZF(n){if(jf(n))return n;if(xC(n))return Npe(n);throw new tM("val",["Readable","Iterable","AsyncIterable"],n)}function Npe(n){return jo(this,null,function*(){YF||(YF=kv()),yield*Ls(YF.prototype[gpe].call(n))})}function CC(i,o,s,a){return L(this,arguments,function*(n,e,t,{end:r}){let l,c=null,u=C=>{if(C&&(l=C),c){let R=c;c=null,R()}},h=()=>new mpe((C,R)=>{l?R(l):c=()=>{l?R(l):C()}});e.on("drain",u);let m=DC(e,{readable:!1},u);try{e.writableNeedDrain&&(yield h());try{for(var g=Uo(n),b,v,E;b=!(v=yield g.next()).done;b=!1){let C=v.value;e.write(C)||(yield h())}}catch{E=[v]}finally{try{b&&(v=g.return)&&(yield v.call(g))}finally{if(E)throw E[0]}}r&&(e.end(),yield h()),t()}catch(C){t(l!==C?bpe(l,C):C)}finally{m(),e.off("drain",u)}})}function eM(i,o,s,a){return L(this,arguments,function*(n,e,t,{end:r}){gm(e)&&(e=e.writable);let l=e.getWriter();try{try{for(var c=Uo(n),u,h,m;u=!(h=yield c.next()).done;u=!1){let g=h.value;yield l.ready,l.write(g).catch(()=>{})}}catch{m=[h]}finally{try{u&&(h=c.return)&&(yield h.call(c))}finally{if(m)throw m[0]}}yield l.ready,r&&(yield l.close()),t()}catch(g){try{yield l.abort(g),t(g)}catch(b){t(b)}}})}function Fpe(...n){return Q9(n,vpe(Rpe(n)))}function Q9(n,e,t){if(n.length===1&&ppe(n[0])&&(n=n[0]),n.length<2)throw new wpe("streams");let r=new Tpe,i=r.signal,o=t?.signal,s=[];Dpe(o,"options.signal");function a(){b(new Cpe)}QF=QF||Io().addAbortListener;let l;o&&(l=QF(o,a));let c,u,h=[],m=0;function g(F){b(F,--m===0)}function b(F,M){var D;if(F&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=F),!(!c&&!M)){for(;h.length;)h.shift()(c);(D=l)===null||D===void 0||D[ype](),r.abort(),M&&(c||s.forEach($=>$()),Uv.nextTick(e,c,u))}}let v;for(let F=0;F<n.length;F++){let M=n[F],D=F<n.length-1,$=F>0,Q=D||t?.end!==!1,k=F===n.length-1;if(X9(M)){let oe=function(Ce){Ce&&Ce.name!=="AbortError"&&Ce.code!=="ERR_STREAM_PREMATURE_CLOSE"&&g(Ce)};var R=oe;if(Q){let{destroy:Ce,cleanup:z}=Y9(M,D,$);h.push(Ce),KF(M)&&k&&s.push(z)}M.on("error",oe),KF(M)&&k&&s.push(()=>{M.removeListener("error",oe)})}if(F===0)if(typeof M=="function"){if(v=M({signal:i}),!jf(v))throw new WF("Iterable, AsyncIterable or Stream","source",v)}else jf(M)||xC(M)||gm(M)?v=M:v=J9.from(M);else if(typeof M=="function"){if(gm(v)){var E;v=ZF((E=v)===null||E===void 0?void 0:E.readable)}else v=ZF(v);if(v=M(v,{signal:i}),D){if(!jf(v,!0))throw new WF("AsyncIterable",`transform[${F-1}]`,v)}else{var C;XF||(XF=GF());let oe=new XF({objectMode:!0}),Ce=(C=v)===null||C===void 0?void 0:C.then;if(typeof Ce=="function")m++,Ce.call(v,Te=>{u=Te,Te!=null&&oe.write(Te),Q&&oe.end(),Uv.nextTick(g)},Te=>{oe.destroy(Te),Uv.nextTick(g,Te)});else if(jf(v,!0))m++,CC(v,oe,g,{end:Q});else if(JF(v)||gm(v)){let Te=v.readable||v;m++,CC(Te,oe,g,{end:Q})}else throw new WF("AsyncIterable or Promise","destination",v);v=oe;let{destroy:z,cleanup:ae}=Y9(v,!1,!0);h.push(z),k&&s.push(ae)}}else if(X9(M)){if(xC(v)){m+=2;let oe=Mpe(v,M,g,{end:Q});KF(M)&&k&&s.push(oe)}else if(gm(v)||JF(v)){let oe=v.readable||v;m++,CC(oe,M,g,{end:Q})}else if(jf(v))m++,CC(v,M,g,{end:Q});else throw new tM("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v);v=M}else if(Ipe(M)){if(xC(v))m++,eM(ZF(v),M,g,{end:Q});else if(JF(v)||jf(v))m++,eM(v,M,g,{end:Q});else if(gm(v))m++,eM(v.readable,M,g,{end:Q});else throw new tM("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v);v=M}else v=J9.from(M)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&Uv.nextTick(a),v}function Mpe(n,e,t,{end:r}){let i=!1;if(e.on("close",()=>{i||t(new Spe)}),n.pipe(e,{end:!1}),r){let s=function(){i=!0,e.end()};var o=s;Ape(n)?Uv.nextTick(s):n.once("end",s)}else t();return DC(n,{readable:!0,writable:!1},s=>{let a=n._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?n.once("end",t).once("error",t):t(s)}),DC(e,{readable:!1,writable:!0},t)}Z9.exports={pipelineImpl:Q9,pipeline:Fpe}});var rM=Le((tGe,oq)=>{"use strict";var{pipeline:Ope}=IC(),AC=Pl(),{destroyer:kpe}=kf(),{isNodeStream:TC,isReadable:eq,isWritable:tq,isWebStream:nM,isTransformStream:Uf,isWritableStream:nq,isReadableStream:rq}=Ml(),{AbortError:Ppe,codes:{ERR_INVALID_ARG_VALUE:iq,ERR_MISSING_ARGS:Lpe}}=lo(),Bpe=Tc();oq.exports=function(...e){if(e.length===0)throw new Lpe("streams");if(e.length===1)return AC.from(e[0]);let t=[...e];if(typeof e[0]=="function"&&(e[0]=AC.from(e[0])),typeof e[e.length-1]=="function"){let g=e.length-1;e[g]=AC.from(e[g])}for(let g=0;g<e.length;++g)if(!(!TC(e[g])&&!nM(e[g]))){if(g<e.length-1&&!(eq(e[g])||rq(e[g])||Uf(e[g])))throw new iq(`streams[${g}]`,t[g],"must be readable");if(g>0&&!(tq(e[g])||nq(e[g])||Uf(e[g])))throw new iq(`streams[${g}]`,t[g],"must be writable")}let r,i,o,s,a;function l(g){let b=s;s=null,b?b(g):g?a.destroy(g):!m&&!h&&a.destroy()}let c=e[0],u=Ope(e,l),h=!!(tq(c)||nq(c)||Uf(c)),m=!!(eq(u)||rq(u)||Uf(u));if(a=new AC({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.readableObjectMode),writable:h,readable:m}),h){if(TC(c))a._write=function(b,v,E){c.write(b,v)?E():r=E},a._final=function(b){c.end(),i=b},c.on("drain",function(){if(r){let b=r;r=null,b()}});else if(nM(c)){let v=(Uf(c)?c.writable:c).getWriter();a._write=function(E,C,R){return L(this,null,function*(){try{yield v.ready,v.write(E).catch(()=>{}),R()}catch(F){R(F)}})},a._final=function(E){return L(this,null,function*(){try{yield v.ready,v.close().catch(()=>{}),i=E}catch(C){E(C)}})}}let g=Uf(u)?u.readable:u;Bpe(g,()=>{if(i){let b=i;i=null,b()}})}if(m){if(TC(u))u.on("readable",function(){if(o){let g=o;o=null,g()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let g=u.read();if(g===null){o=a._read;return}if(!a.push(g))return}};else if(nM(u)){let b=(Uf(u)?u.readable:u).getReader();a._read=function(){return L(this,null,function*(){for(;;)try{let{value:v,done:E}=yield b.read();if(!a.push(v))return;if(E){a.push(null);return}}catch{return}})}}}return a._destroy=function(g,b){!g&&s!==null&&(g=new Ppe),o=null,r=null,i=null,s===null?b(g):(s=b,TC(u)&&kpe(u,g))},a}});var mq=Le((rGe,sM)=>{"use strict";var jpe=globalThis.AbortController||rm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Upe,ERR_INVALID_ARG_TYPE:Vv,ERR_MISSING_ARGS:Vpe,ERR_OUT_OF_RANGE:$pe},AbortError:Ll}=lo(),{validateAbortSignal:Vf,validateInteger:sq,validateObject:$f}=om(),Hpe=Or().Symbol("kWeak"),qpe=Or().Symbol("kResistStopPropagation"),{finished:zpe}=Tc(),Gpe=rM(),{addAbortSignalNoValidate:Wpe}=Nv(),{isWritable:Kpe,isNodeStream:Jpe}=Ml(),{deprecate:Xpe}=Io(),{ArrayPrototypePush:Ype,Boolean:Qpe,MathFloor:aq,Number:Zpe,NumberIsNaN:eme,Promise:lq,PromiseReject:cq,PromiseResolve:tme,PromisePrototypeThen:uq,Symbol:fq}=Or(),RC=fq("kEmpty"),dq=fq("kEof");function nme(n,e){if(e!=null&&$f(e,"options"),e?.signal!=null&&Vf(e.signal,"options.signal"),Jpe(n)&&!Kpe(n))throw new Upe("stream",n,"must be writable");let t=Gpe(this,n);return e!=null&&e.signal&&Wpe(e.signal,t),t}function NC(n,e){if(typeof n!="function")throw new Vv("fn",["Function","AsyncFunction"],n);e!=null&&$f(e,"options"),e?.signal!=null&&Vf(e.signal,"options.signal");let t=1;e?.concurrency!=null&&(t=aq(e.concurrency));let r=t-1;return e?.highWaterMark!=null&&(r=aq(e.highWaterMark)),sq(t,"options.concurrency",1),sq(r,"options.highWaterMark",0),r+=t,(function(){return jo(this,null,function*(){let o=Io().AbortSignalAny([e?.signal].filter(Qpe)),s=this,a=[],l={signal:o},c,u,h=!1,m=0;function g(){h=!0,b()}function b(){m-=1,v()}function v(){u&&!h&&m<t&&a.length<r&&(u(),u=null)}function E(){return L(this,null,function*(){try{try{for(var C=Uo(s),R,F,M;R=!(F=yield C.next()).done;R=!1){let D=F.value;if(h)return;if(o.aborted)throw new Ll;try{if(D=n(D,l),D===RC)continue;D=tme(D)}catch($){D=cq($)}m+=1,uq(D,b,g),a.push(D),c&&(c(),c=null),!h&&(a.length>=r||m>=t)&&(yield new lq($=>{u=$}))}}catch{M=[F]}finally{try{R&&(F=C.return)&&(yield F.call(C))}finally{if(M)throw M[0]}}a.push(dq)}catch(D){let $=cq(D);uq($,b,g),a.push($)}finally{h=!0,c&&(c(),c=null)}})}E();try{for(;;){for(;a.length>0;){let C=yield new Ui(a[0]);if(C===dq)return;if(o.aborted)throw new Ll;C!==RC&&(yield C),a.shift(),v()}yield new Ui(new lq(C=>{c=C}))}}finally{h=!0,u&&(u(),u=null)}})}).call(this)}function rme(n=void 0){return n!=null&&$f(n,"options"),n?.signal!=null&&Vf(n.signal,"options.signal"),(function(){return jo(this,null,function*(){let t=0;try{for(var i=Uo(this),o,s,a;o=!(s=yield new Ui(i.next())).done;o=!1){let l=s.value;var r;if(n!=null&&(r=n.signal)!==null&&r!==void 0&&r.aborted)throw new Ll({cause:n.signal.reason});yield[t++,l]}}catch{a=[s]}finally{try{o&&(s=i.return)&&(yield new Ui(s.call(i)))}finally{if(a)throw a[0]}}})}).call(this)}function hq(n,e=void 0){return L(this,null,function*(){try{for(var t=Uo(oM.call(this,n,e)),r,i,o;r=!(i=yield t.next()).done;r=!1){let s=i.value;return!0}}catch{o=[i]}finally{try{r&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o[0]}}return!1})}function ime(n,e=void 0){return L(this,null,function*(){if(typeof n!="function")throw new Vv("fn",["Function","AsyncFunction"],n);return!(yield hq.call(this,(...t)=>L(this,null,function*(){return!(yield n(...t))}),e))})}function ome(n,e){return L(this,null,function*(){try{for(var t=Uo(oM.call(this,n,e)),r,i,o;r=!(i=yield t.next()).done;r=!1){let s=i.value;return s}}catch{o=[i]}finally{try{r&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o[0]}}})}function sme(n,e){return L(this,null,function*(){if(typeof n!="function")throw new Vv("fn",["Function","AsyncFunction"],n);function t(a,l){return L(this,null,function*(){return yield n(a,l),RC})}try{for(var r=Uo(NC.call(this,t,e)),i,o,s;i=!(o=yield r.next()).done;i=!1){let a=o.value;;}}catch{s=[o]}finally{try{i&&(o=r.return)&&(yield o.call(r))}finally{if(s)throw s[0]}}})}function oM(n,e){if(typeof n!="function")throw new Vv("fn",["Function","AsyncFunction"],n);function t(r,i){return L(this,null,function*(){return(yield n(r,i))?r:RC})}return NC.call(this,t,e)}var iM=class extends Vpe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};function ame(r,i,o){return L(this,arguments,function*(n,e,t){var s;if(typeof n!="function")throw new Vv("reducer",["Function","AsyncFunction"],n);t!=null&&$f(t,"options"),t?.signal!=null&&Vf(t.signal,"options.signal");let a=arguments.length>1;if(t!=null&&(s=t.signal)!==null&&s!==void 0&&s.aborted){let E=new Ll(void 0,{cause:t.signal.reason});throw this.once("error",()=>{}),yield zpe(this.destroy(E)),E}let l=new jpe,c=l.signal;if(t!=null&&t.signal){let E={once:!0,[Hpe]:this,[qpe]:!0};t.signal.addEventListener("abort",()=>l.abort(),E)}let u=!1;try{try{for(var m=Uo(this),g,b,v;g=!(b=yield m.next()).done;g=!1){let E=b.value;var h;if(u=!0,t!=null&&(h=t.signal)!==null&&h!==void 0&&h.aborted)throw new Ll;a?e=yield n(e,E,{signal:c}):(e=E,a=!0)}}catch{v=[b]}finally{try{g&&(b=m.return)&&(yield b.call(m))}finally{if(v)throw v[0]}}if(!u&&!a)throw new iM}finally{l.abort()}return e})}function lme(n){return L(this,null,function*(){n!=null&&$f(n,"options"),n?.signal!=null&&Vf(n.signal,"options.signal");let e=[];try{for(var r=Uo(this),i,o,s;i=!(o=yield r.next()).done;i=!1){let a=o.value;var t;if(n!=null&&(t=n.signal)!==null&&t!==void 0&&t.aborted)throw new Ll(void 0,{cause:n.signal.reason});Ype(e,a)}}catch{s=[o]}finally{try{i&&(o=r.return)&&(yield o.call(r))}finally{if(s)throw s[0]}}return e})}function cme(n,e){let t=NC.call(this,n,e);return(function(){return jo(this,null,function*(){try{for(var i=Uo(t),o,s,a;o=!(s=yield new Ui(i.next())).done;o=!1){let l=s.value;yield*Ls(l)}}catch{a=[s]}finally{try{o&&(s=i.return)&&(yield new Ui(s.call(i)))}finally{if(a)throw a[0]}}})}).call(this)}function pq(n){if(n=Zpe(n),eme(n))return 0;if(n<0)throw new $pe("number",">= 0",n);return n}function ume(n,e=void 0){return e!=null&&$f(e,"options"),e?.signal!=null&&Vf(e.signal,"options.signal"),n=pq(n),(function(){return jo(this,null,function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Ll;try{for(var o=Uo(this),s,a,l;s=!(a=yield new Ui(o.next())).done;s=!1){let c=a.value;var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ll;n--<=0&&(yield c)}}catch{l=[a]}finally{try{s&&(a=o.return)&&(yield new Ui(a.call(o)))}finally{if(l)throw l[0]}}})}).call(this)}function dme(n,e=void 0){return e!=null&&$f(e,"options"),e?.signal!=null&&Vf(e.signal,"options.signal"),n=pq(n),(function(){return jo(this,null,function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Ll;try{for(var o=Uo(this),s,a,l;s=!(a=yield new Ui(o.next())).done;s=!1){let c=a.value;var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Ll;if(n-- >0&&(yield c),n<=0)return}}catch{l=[a]}finally{try{s&&(a=o.return)&&(yield new Ui(a.call(o)))}finally{if(l)throw l[0]}}})}).call(this)}sM.exports.streamReturningOperators={asIndexedPairs:Xpe(rme,"readable.asIndexedPairs will be removed in a future version."),drop:ume,filter:oM,flatMap:cme,map:NC,take:dme,compose:nme};sM.exports.promiseReturningOperators={every:ime,forEach:sme,reduce:ame,toArray:lme,some:hq,find:ome}});var aM=Le((oGe,gq)=>{"use strict";var{ArrayPrototypePop:fme,Promise:hme}=Or(),{isIterable:pme,isNodeStream:mme,isWebStream:gme}=Ml(),{pipelineImpl:yme}=IC(),{finished:vme}=Tc();lM();function _me(...n){return new hme((e,t)=>{let r,i,o=n[n.length-1];if(o&&typeof o=="object"&&!mme(o)&&!pme(o)&&!gme(o)){let s=fme(n);r=s.signal,i=s.end}yme(n,(s,a)=>{s?t(s):e(a)},{signal:r,end:i})})}gq.exports={finished:vme,pipeline:_me}});var lM=Le((sGe,xq)=>{"use strict";var{Buffer:bme}=Ua(),{ObjectDefineProperty:Fc,ObjectKeys:_q,ReflectApply:bq}=Or(),{promisify:{custom:wq}}=Io(),{streamReturningOperators:yq,promiseReturningOperators:vq}=mq(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Eq}}=lo(),wme=rM(),{setDefaultHighWaterMark:Eme,getDefaultHighWaterMark:Sme}=Fv(),{pipeline:Sq}=IC(),{destroyer:Cme}=kf(),Cq=Tc(),cM=aM(),$v=Ml(),Dr=xq.exports=uC().Stream;Dr.isDestroyed=$v.isDestroyed;Dr.isDisturbed=$v.isDisturbed;Dr.isErrored=$v.isErrored;Dr.isReadable=$v.isReadable;Dr.isWritable=$v.isWritable;Dr.Readable=kv();for(let n of _q(yq)){let t=function(...r){if(new.target)throw Eq();return Dr.Readable.from(bq(e,this,r))},e=yq[n];Fc(t,"name",{__proto__:null,value:e.name}),Fc(t,"length",{__proto__:null,value:e.length}),Fc(Dr.Readable.prototype,n,{__proto__:null,value:t,enumerable:!1,configurable:!0,writable:!0})}for(let n of _q(vq)){let t=function(...r){if(new.target)throw Eq();return bq(e,this,r)},e=vq[n];Fc(t,"name",{__proto__:null,value:e.name}),Fc(t,"length",{__proto__:null,value:e.length}),Fc(Dr.Readable.prototype,n,{__proto__:null,value:t,enumerable:!1,configurable:!0,writable:!0})}Dr.Writable=SC();Dr.Duplex=Pl();Dr.Transform=qF();Dr.PassThrough=GF();Dr.pipeline=Sq;var{addAbortSignal:xme}=Nv();Dr.addAbortSignal=xme;Dr.finished=Cq;Dr.destroy=Cme;Dr.compose=wme;Dr.setDefaultHighWaterMark=Eme;Dr.getDefaultHighWaterMark=Sme;Fc(Dr,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return cM}});Fc(Sq,wq,{__proto__:null,enumerable:!0,get(){return cM.pipeline}});Fc(Cq,wq,{__proto__:null,enumerable:!0,get(){return cM.finished}});Dr.Stream=Dr;Dr._isUint8Array=function(e){return e instanceof Uint8Array};Dr._uint8ArrayToBuffer=function(e){return bme.from(e.buffer,e.byteOffset,e.byteLength)}});var uM=Le((aGe,Yr)=>{"use strict";var wi=lM(),Dme=aM(),Ime=wi.Readable.destroy;Yr.exports=wi.Readable;Yr.exports._uint8ArrayToBuffer=wi._uint8ArrayToBuffer;Yr.exports._isUint8Array=wi._isUint8Array;Yr.exports.isDisturbed=wi.isDisturbed;Yr.exports.isErrored=wi.isErrored;Yr.exports.isReadable=wi.isReadable;Yr.exports.Readable=wi.Readable;Yr.exports.Writable=wi.Writable;Yr.exports.Duplex=wi.Duplex;Yr.exports.Transform=wi.Transform;Yr.exports.PassThrough=wi.PassThrough;Yr.exports.addAbortSignal=wi.addAbortSignal;Yr.exports.finished=wi.finished;Yr.exports.destroy=wi.destroy;Yr.exports.destroy=Ime;Yr.exports.pipeline=wi.pipeline;Yr.exports.compose=wi.compose;Object.defineProperty(wi,"promises",{configurable:!0,enumerable:!0,get(){return Dme}});Yr.exports.Stream=wi.Stream;Yr.exports.default=Yr.exports});var fM=Le(FC=>{"use strict";Object.defineProperty(FC,"__esModule",{value:!0});FC.BlankNode=void 0;var dM=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}};FC.BlankNode=dM});var hM=Le(MC=>{"use strict";Object.defineProperty(MC,"__esModule",{value:!0});MC.DefaultGraph=void 0;var Hv=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&e.termType==="DefaultGraph"}};MC.DefaultGraph=Hv;Hv.INSTANCE=new Hv});var kC=Le(OC=>{"use strict";Object.defineProperty(OC,"__esModule",{value:!0});OC.NamedNode=void 0;var pM=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&e.termType==="NamedNode"&&e.value===this.value}};OC.NamedNode=pM});var mM=Le(PC=>{"use strict";Object.defineProperty(PC,"__esModule",{value:!0});PC.Literal=void 0;var Dq=kC(),qv=class n{constructor(e,t){this.termType="Literal",this.value=e,typeof t=="string"?(this.language=t,this.datatype=n.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=n.XSD_STRING)}equals(e){return!!e&&e.termType==="Literal"&&e.value===this.value&&e.language===this.language&&this.datatype.equals(e.datatype)}};PC.Literal=qv;qv.RDF_LANGUAGE_STRING=new Dq.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");qv.XSD_STRING=new Dq.NamedNode("http://www.w3.org/2001/XMLSchema#string")});var yM=Le(LC=>{"use strict";Object.defineProperty(LC,"__esModule",{value:!0});LC.Quad=void 0;var gM=class{constructor(e,t,r,i){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=i}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}};LC.Quad=gM});var _M=Le(BC=>{"use strict";Object.defineProperty(BC,"__esModule",{value:!0});BC.Variable=void 0;var vM=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&e.termType==="Variable"&&e.value===this.value}};BC.Variable=vM});var Aq=Le(jC=>{"use strict";Object.defineProperty(jC,"__esModule",{value:!0});jC.DataFactory=void 0;var Ame=fM(),Tme=hM(),Iq=mM(),Rme=kC(),Nme=yM(),Fme=_M(),Mme=0,bM=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${Mme++}_`}namedNode(e){return new Rme.NamedNode(e)}blankNode(e){return new Ame.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,t){return new Iq.Literal(e,t)}variable(e){return new Fme.Variable(e)}defaultGraph(){return Tme.DefaultGraph.INSTANCE}quad(e,t,r,i){return new Nme.Quad(e,t,r,i||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(Iq.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}};jC.DataFactory=bM});var Tq=Le(Ds=>{"use strict";var Ome=Ds&&Ds.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Hf=Ds&&Ds.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ome(e,n,t)};Object.defineProperty(Ds,"__esModule",{value:!0});Hf(fM(),Ds);Hf(Aq(),Ds);Hf(hM(),Ds);Hf(mM(),Ds);Hf(kC(),Ds);Hf(yM(),Ds);Hf(_M(),Ds)});var Rq=Le(UC=>{"use strict";Object.defineProperty(UC,"__esModule",{value:!0});UC.ContainerHandlerIdentifier=void 0;var wM=class{canCombineWithGraph(){return!0}handle(e,t,r,i,o,s){return L(this,null,function*(){let a;if(t.emittedStack[s+1]&&t.idStack[s+1])a=t.idStack[s+1][0];else{let u=(yield r.getContainerKey(i[s],i,s))!==null?yield r.resourceToTerm(yield t.getContext(i),i[s]):r.dataFactory.blankNode();if(!u){t.emittedStack[s]=!1;return}a=u,t.idStack[s+1]=[a]}let l=t.idStack[s];l||(l=t.idStack[s]=[]),l.some(c=>c.equals(a))||l.push(a),(yield t.handlePendingContainerFlushBuffers())||(t.emittedStack[s]=!1)})}};UC.ContainerHandlerIdentifier=wM});var Gv=Le(VC=>{"use strict";Object.defineProperty(VC,"__esModule",{value:!0});VC.EntryHandlerPredicate=void 0;var ym=ao(),zv=Gu(),EM=class n{static handlePredicateObject(e,t,r,i,o,s,a,l,c){return L(this,null,function*(){let u=yield t.getPropertiesDepth(r,i),h=yield t.getDepthOffsetGraph(i,r),m=i-h,g=e.idStack[u];if(g&&!c)for(let b of g)if(h>=0){let E=e.idStack[m-1];if(E)for(let C of E)t.emitQuadChecked(i,b,o,s,C,a,l);else a?(t.validateReverseSubject(s),e.getUnidentifiedGraphBufferSafe(m-1).push({subject:s,predicate:o,object:b,isEmbedded:l})):e.getUnidentifiedGraphBufferSafe(m-1).push({subject:b,predicate:o,object:s,isEmbedded:l})}else{let E=yield t.getGraphContainerValue(r,u);t.emitQuadChecked(i,b,o,s,E,a,l)}else if(a&&t.validateReverseSubject(s),c){if(e.rdfstar){e.idStack[i]&&e.emitError(new ym.ErrorCoded(`Found an illegal @id inside an annotation: ${e.idStack[i][0].value}`,ym.ERROR_CODES.INVALID_ANNOTATION));for(let E=0;E<i;E++)(yield t.unaliasKeyword(r[E],r,E))==="@id"&&e.emitError(new ym.ErrorCoded("Found an illegal annotation inside an embedded node",ym.ERROR_CODES.INVALID_ANNOTATION));let b=e.getAnnotationsBufferSafe(u),v={predicate:o,object:s,reverse:a,nestedAnnotations:[],depth:u};b.push(v);for(let E=b.length-2;E>=0;E--){let C=b[E];C.depth>u&&(v.nestedAnnotations.push(C),b.splice(E,1))}}}else e.getUnidentifiedValueBufferSafe(u).push({predicate:o,object:s,reverse:a,isEmbedded:l})})}isPropertyHandler(){return!0}isStackProcessor(){return!0}validate(e,t,r,i,o){return L(this,null,function*(){let s=r[i];if(s){let a=yield e.getContext(r);if(!e.jsonLiteralStack[i]&&(yield t.predicateToTerm(a,r[i])))return zv.Util.getContextValueType(a,s)==="@json"&&(e.jsonLiteralStack[i+1]=!0),!0}return!1})}test(e,t,r,i,o){return L(this,null,function*(){return i[o]})}handle(e,t,r,i,o,s,a){return L(this,null,function*(){let l=i[s],c=yield e.getContext(i),u=yield t.predicateToTerm(c,r);if(u){let h=yield t.valueToTerm(c,r,o,s,i);if(h.length)for(let m of h){let g=yield t.unaliasKeywordParent(i,s),b=zv.Util.isPropertyReverse(c,l,g),v=0;for(;g==="@reverse"||typeof g=="number";)typeof g=="number"?v++:s--,g=yield t.unaliasKeywordParent(i,s-v);let E=zv.Util.isPropertyInEmbeddedNode(g);t.validateReverseInEmbeddedNode(r,b,E);let C=zv.Util.isPropertyInAnnotationObject(g);if(o){let R="@list"in zv.Util.getContextValueContainer(c,r);if(R||o["@list"]){if((R&&!Array.isArray(o)&&!o["@list"]||o["@list"]&&!Array.isArray(o["@list"]))&&m!==t.rdfNil){let F=t.dataFactory.blankNode();e.emitQuad(s,t.dataFactory.quad(F,t.rdfRest,t.rdfNil,t.getDefaultGraph())),e.emitQuad(s,t.dataFactory.quad(F,t.rdfFirst,m,t.getDefaultGraph())),m=F}if(b&&!e.allowSubjectList)throw new ym.ErrorCoded(`Found illegal list value in subject position at ${r}`,ym.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}yield n.handlePredicateObject(e,t,i,s,u,m,b,E,C)}}})}};VC.EntryHandlerPredicate=EM});var Fq=Le($C=>{"use strict";Object.defineProperty($C,"__esModule",{value:!0});$C.ContainerHandlerIndex=void 0;var qf=ao(),kme=Gv(),Nq=Gu(),SM=class{canCombineWithGraph(){return!0}handle(e,t,r,i,o,s){return L(this,null,function*(){if(!Array.isArray(o)){let a="@graph"in e,l=yield t.getContext(i),c=i[s-1],u=Nq.Util.getContextValueIndex(l,c);if(u){if(qf.Util.isPotentialKeyword(u))throw new qf.ErrorCoded(`Keywords can not be used as @index value, got: ${u}`,qf.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof u!="string")throw new qf.ErrorCoded(`@index values must be strings, got: ${u}`,qf.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof o!="object"){if(Nq.Util.getContextValueType(l,c)!=="@id")throw new qf.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${o}`,qf.ERROR_CODES.INVALID_VALUE_OBJECT);let g=r.resourceToTerm(l,o);g&&(t.idStack[s+1]=[g])}let m=r.createVocabOrBaseTerm(l,u);if(m){let g=yield r.valueToTerm(l,u,yield r.getContainerKey(i[s],i,s),s,i);if(a){let b=yield r.getGraphContainerValue(i,s+1);for(let v of g)t.emitQuad(s,r.dataFactory.quad(b,m,v,r.getDefaultGraph()))}else for(let b of g)yield kme.EntryHandlerPredicate.handlePredicateObject(t,r,i,s+1,m,b,!1,!1,!1)}}let h=a?2:1;yield t.newOnValueJob(i.slice(0,i.length-h),o,s-h,!0),yield t.handlePendingContainerFlushBuffers()}t.emittedStack[s]=!1})}};$C.ContainerHandlerIndex=SM});var Oq=Le(HC=>{"use strict";Object.defineProperty(HC,"__esModule",{value:!0});HC.ContainerHandlerLanguage=void 0;var Mq=ao(),CM=class{canCombineWithGraph(){return!1}handle(e,t,r,i,o,s){return L(this,null,function*(){let a=yield r.getContainerKey(i[s],i,s);if(Array.isArray(o))o=o.map(l=>({"@value":l,"@language":a}));else{if(typeof o!="string")throw new Mq.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(o)}', but expected string`,Mq.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);o={"@value":o,"@language":a}}yield t.newOnValueJob(i.slice(0,i.length-1),o,s-1,!0),t.emittedStack[s]=!1})}};HC.ContainerHandlerLanguage=CM});var kq=Le(qC=>{"use strict";Object.defineProperty(qC,"__esModule",{value:!0});qC.ContainerHandlerType=void 0;var Pme=Gv(),Lme=Gu(),xM=class{canCombineWithGraph(){return!1}handle(e,t,r,i,o,s){return L(this,null,function*(){if(!Array.isArray(o)){if(typeof o=="string"){let c=yield t.getContext(i),h=Lme.Util.getContextValueType(c,i[s-1])==="@vocab"?yield r.createVocabOrBaseTerm(c,o):yield r.resourceToTerm(c,o);if(h){let m={"@id":h.termType==="NamedNode"?h.value:o};yield t.newOnValueJob(i.slice(0,i.length-1),m,s-1,!0),t.idStack[s+1]=[h]}}else{let c=!!t.idStack[s+1];c||delete t.idStack[s],yield t.newOnValueJob(i.slice(0,i.length-1),o,s-1,!0),c||(t.idStack[s+1]=t.idStack[s])}let a=yield r.getContainerKey(i[s],i,s),l=a!==null?r.createVocabOrBaseTerm(yield t.getContext(i),a):null;l&&(yield Pme.EntryHandlerPredicate.handlePredicateObject(t,r,i,s+1,r.rdfType,l,!1,!1,!1)),yield t.handlePendingContainerFlushBuffers()}t.emittedStack[s]=!1})}};qC.ContainerHandlerType=xM});var IM=Le(GC=>{"use strict";Object.defineProperty(GC,"__esModule",{value:!0});GC.EntryHandlerContainer=void 0;var Bme=Rq(),jme=Fq(),Ume=Oq(),Vme=kq(),DM=Gu(),zC=class n{static isSimpleGraphContainer(e){return"@graph"in e&&("@set"in e&&Object.keys(e).length===2||Object.keys(e).length===1)}static isComplexGraphContainer(e){return"@graph"in e&&("@set"in e&&Object.keys(e).length>2||!("@set"in e)&&Object.keys(e).length>1)}static getContainerGraphIndex(e,t,r){let i=n.isSimpleGraphContainer(e),o="";for(let s=t;s<r.length;s++)(!i||typeof r[s]=="number")&&(o+=":"+r[s]),!i&&typeof r[s]!="number"&&(i=!0);return o}static getContainerHandler(e,t,r){return L(this,null,function*(){let i={containers:{"@set":!0},depth:r,fallback:!0},o=!1,s=yield e.getContext(t,2);for(let a=r-1;a>=0;a--)if(typeof t[a]!="number"){let l=DM.Util.getContextValue(s,"@container",t[a],!1);if(l&&n.isSimpleGraphContainer(l))return{containers:l,depth:a+1,fallback:!1};let c=DM.Util.getContextValue(s,"@container",t[a-1],!1);if(c){let u="@graph"in c;for(let h in n.CONTAINER_HANDLERS)if(c[h])return u?n.CONTAINER_HANDLERS[h].canCombineWithGraph()?{containers:c,depth:a,fallback:!1}:i:o?i:{containers:c,depth:a,fallback:!1};return i}else{if(o)return i;o=!0}}return i})}static isBufferableContainerHandler(e,t,r){return L(this,null,function*(){let i=yield n.getContainerHandler(e,t,r);return!i.fallback&&!("@graph"in i.containers)})}isPropertyHandler(){return!1}isStackProcessor(){return!0}validate(e,t,r,i,o){return L(this,null,function*(){return!!(yield this.test(e,t,null,r,i))})}test(e,t,r,i,o){return L(this,null,function*(){let s=DM.Util.getContextValueContainer(yield e.getContext(i,2),i[o-1]);for(let a in n.CONTAINER_HANDLERS)if(s[a])return{containers:s,handler:n.CONTAINER_HANDLERS[a]};return null})}handle(e,t,r,i,o,s,a){return L(this,null,function*(){return a.handler.handle(a.containers,e,t,i,o,s)})}};zC.CONTAINER_HANDLERS={"@id":new Bme.ContainerHandlerIdentifier,"@index":new jme.ContainerHandlerIndex,"@language":new Ume.ContainerHandlerLanguage,"@type":new Vme.ContainerHandlerType};GC.EntryHandlerContainer=zC});var Gu=Le(KC=>{"use strict";Object.defineProperty(KC,"__esModule",{value:!0});KC.Util=void 0;var Zt=ao(),$me=Tq(),WC=IM(),Hme=OK(),za=class n{constructor(e){this.parsingContext=e.parsingContext,this.dataFactory=e.dataFactory||new $me.DataFactory,this.rdfFirst=this.dataFactory.namedNode(n.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(n.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(n.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(n.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(n.RDF+"JSON")}static getContextValue(e,t,r,i){let o=e.getContextRaw()[r];if(!o)return i;let s=o[t];return s===void 0?i:s}static getContextValueContainer(e,t){return n.getContextValue(e,"@container",t,{"@set":!0})}static getContextValueType(e,t){let r=n.getContextValue(e,"@type",t,null);return r==="@none"?null:r}static getContextValueLanguage(e,t){return n.getContextValue(e,"@language",t,e.getContextRaw()["@language"]||null)}static getContextValueDirection(e,t){return n.getContextValue(e,"@direction",t,e.getContextRaw()["@direction"]||null)}static isContextValueReverse(e,t){return!!n.getContextValue(e,"@reverse",t,null)}static getContextValueIndex(e,t){return n.getContextValue(e,"@index",t,e.getContextRaw()["@index"]||null)}static isPropertyReverse(e,t,r){return r==="@reverse"!==n.isContextValueReverse(e,t)}static isPropertyInEmbeddedNode(e){return e==="@id"}static isPropertyInAnnotationObject(e){return e==="@annotation"}static isValidIri(e){return e!==null&&Zt.Util.isValidIri(e)}static isPrefixArray(e,t){if(e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}validateValueIndexes(e){return L(this,null,function*(){if(this.parsingContext.validateValueIndexes){let t={};for(let r of e)if(r&&typeof r=="object"){let i=r["@id"],o=r["@index"];if(i&&o){let s=t[i];if(s&&s!==o)throw new Zt.ErrorCoded(`Conflicting @index value for ${i}`,Zt.ERROR_CODES.CONFLICTING_INDEXES);t[i]=o}}}})}valueToTerm(e,t,r,i,o){return L(this,null,function*(){if(n.getContextValueType(e,t)==="@json")return[this.dataFactory.literal(this.valueToJsonString(r),this.rdfJson)];let s=typeof r;switch(s){case"object":if(r==null)return[];if(Array.isArray(r))return"@list"in n.getContextValueContainer(e,t)?r.length===0?[this.rdfNil]:this.parsingContext.idStack[i+1]||[]:(yield this.validateValueIndexes(r),[]);if(e=yield this.getContextSelfOrPropertyScoped(e,t),"@context"in r&&(e=yield this.parsingContext.parseContext(r["@context"],(yield this.parsingContext.getContext(o,0)).getContextRaw())),r=yield this.unaliasKeywords(r,o,i,e),"@value"in r){let a,l,c,u,h;for(t in r){let m=r[t];switch(t){case"@value":a=m;break;case"@language":l=m;break;case"@direction":c=m;break;case"@type":u=m;break;case"@index":h=m;break;case"@annotation":break;default:throw new Zt.ErrorCoded(`Unknown value entry '${t}' in @value: ${JSON.stringify(r)}`,Zt.ERROR_CODES.INVALID_VALUE_OBJECT)}}if((yield this.unaliasKeyword(u,o,i,!0,e))==="@json")return[this.dataFactory.literal(this.valueToJsonString(a),this.rdfJson)];if(a===null)return[];if(typeof a=="object")throw new Zt.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(a)}'`,Zt.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&h&&typeof h!="string")throw new Zt.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(h)}'`,Zt.ERROR_CODES.INVALID_INDEX_VALUE);if(l){if(typeof a!="string")throw new Zt.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(a)}'`,Zt.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!Zt.ContextParser.validateLanguage(l,this.parsingContext.strictValues,Zt.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(l=l.toLowerCase())}if(c){if(typeof a!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(a)}'`);if(!Zt.ContextParser.validateDirection(c,this.parsingContext.strictValues))return[]}if(l&&c&&this.parsingContext.rdfDirection){if(u)throw new Zt.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(r)}'`,Zt.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(i,a,l,c))}else if(l){if(u)throw new Zt.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(r)}'`,Zt.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(a,l)]}else if(c&&this.parsingContext.rdfDirection){if(u)throw new Zt.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(r)}'`,Zt.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(i,a,l,c))}else if(u){if(typeof u!="string")throw new Zt.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(u)}'`,Zt.ERROR_CODES.INVALID_TYPED_VALUE);let m=this.createVocabOrBaseTerm(e,u);if(!m)throw new Zt.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(u)}'`,Zt.ERROR_CODES.INVALID_TYPED_VALUE);if(m.termType!=="NamedNode")throw new Zt.ErrorCoded(`Illegal value type (${m.termType}): ${u}`,Zt.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(a,m)]}return yield this.valueToTerm(new Zt.JsonLdContextNormalized({}),t,a,i,o)}else if("@set"in r){if(Object.keys(r).length>1)throw new Zt.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${t}'`,Zt.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in r){if(Object.keys(r).length>1)throw new Zt.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${t}'`,Zt.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);let a=r["@list"];return Array.isArray(a)?a.length===0?[this.rdfNil]:this.parsingContext.idStack[i+1]||[]:yield this.valueToTerm(yield this.parsingContext.getContext(o),t,a,i-1,o.slice(0,-1))}else{if("@reverse"in r&&typeof r["@reverse"]=="boolean")return[];if("@graph"in n.getContextValueContainer(yield this.parsingContext.getContext(o),t)){let a=this.parsingContext.graphContainerTermStack[i+1];return a?Object.values(a):[this.dataFactory.blankNode()]}else if("@id"in r){if(Object.keys(r).length>1&&(e=yield this.parsingContext.getContext(o,0)),"@context"in r&&(e=yield this.parsingContext.parseContext(r["@context"],e.getContextRaw())),r["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(e,r["@id"]));{let a=r["@id"],l;if(typeof a=="object")if(this.parsingContext.rdfstar)l=this.parsingContext.idStack[i+1][0];else throw new Zt.ErrorCoded(`Found illegal @id '${r}'`,Zt.ERROR_CODES.INVALID_ID_VALUE);else l=this.resourceToTerm(e,a);return this.nullableTermToArray(l)}}else return this.parsingContext.emittedStack[i+1]||r&&typeof r=="object"&&Object.keys(r).length===0?this.parsingContext.idStack[i+1]||(this.parsingContext.idStack[i+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(i,yield this.getContextSelfOrPropertyScoped(e,t),t,r,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(i,yield this.getContextSelfOrPropertyScoped(e,t),t,(!!r).toString(),this.dataFactory.namedNode(n.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(i,yield this.getContextSelfOrPropertyScoped(e,t),t,r,this.dataFactory.namedNode(r%1===0&&r<1e21?n.XSD_INTEGER:n.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${s}`)),[]}})}getContextSelfOrPropertyScoped(e,t){return L(this,null,function*(){let r=e.getContextRaw()[t];return r&&typeof r=="object"&&"@context"in r&&(e=yield this.parsingContext.parseContext(r,e.getContextRaw(),!0)),e})}nullableTermToArray(e){return e?[e]:[]}predicateToTerm(e,t){let r=e.expandTerm(t,!0,this.parsingContext.getExpandOptions());if(!r)return null;if(r[0]==="_"&&r[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(r.substr(2)):null;if(n.isValidIri(r))return this.dataFactory.namedNode(r);if(r&&this.parsingContext.strictValues)this.parsingContext.emitError(new Zt.ErrorCoded(`Invalid predicate IRI: ${r}`,Zt.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(e,t){if(t.startsWith("_:"))return this.dataFactory.blankNode(t.substr(2));let r=e.expandTerm(t,!1,this.parsingContext.getExpandOptions());if(!n.isValidIri(r))if(r&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${r}`));else return null;return this.dataFactory.namedNode(r)}createVocabOrBaseTerm(e,t){if(t.startsWith("_:"))return this.dataFactory.blankNode(t.substr(2));let r=this.parsingContext.getExpandOptions(),i=e.expandTerm(t,!0,r);if(i===t&&(i=e.expandTerm(t,!1,r)),!n.isValidIri(i))if(i&&this.parsingContext.strictValues&&!i.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${i}`));else return null;return this.dataFactory.namedNode(i)}intToString(e,t){return typeof e=="number"?Number.isFinite(e)?e%1===0&&(!t||t.value!==n.XSD_DOUBLE)?Number(e).toString():e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):e>0?"INF":"-INF":e}stringValueToTerm(e,t,r,i,o){let s=n.getContextValueType(t,r);if(s)if(s==="@id"){if(!o)return this.resourceToTerm(t,this.intToString(i,o))}else if(s==="@vocab"){if(!o)return this.createVocabOrBaseTerm(t,this.intToString(i,o))}else o=this.dataFactory.namedNode(s);if(!o){let a=n.getContextValueLanguage(t,r),l=n.getContextValueDirection(t,r);return l&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(e,this.intToString(i,o),a,l):this.dataFactory.literal(this.intToString(i,o),a)}return this.dataFactory.literal(this.intToString(i,o),o)}createLanguageDirectionLiteral(e,t,r,i){if(this.parsingContext.rdfDirection==="i18n-datatype")return r||(r=""),this.dataFactory.literal(t,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${r}_${i}`));{let o=this.dataFactory.blankNode(),s=this.getDefaultGraph();return this.parsingContext.emitQuad(e,this.dataFactory.quad(o,this.dataFactory.namedNode(n.RDF+"value"),this.dataFactory.literal(t),s)),r&&this.parsingContext.emitQuad(e,this.dataFactory.quad(o,this.dataFactory.namedNode(n.RDF+"language"),this.dataFactory.literal(r),s)),this.parsingContext.emitQuad(e,this.dataFactory.quad(o,this.dataFactory.namedNode(n.RDF+"direction"),this.dataFactory.literal(i),s)),o}}valueToJsonString(e){return Hme(e)}unaliasKeyword(e,t,r,i,o){return L(this,null,function*(){if(Number.isInteger(e))return e;if(!i){let s=this.parsingContext.unaliasedKeywordCacheStack[r];if(s)return s}if(!Zt.Util.isPotentialKeyword(e)){o=o||(yield this.parsingContext.getContext(t));let s=o.getContextRaw()[e];s&&typeof s=="object"&&(s=s["@id"]),Zt.Util.isValidKeyword(s)&&(e=s)}return i?e:this.parsingContext.unaliasedKeywordCacheStack[r]=e})}unaliasKeywordParent(e,t){return L(this,null,function*(){return yield this.unaliasKeyword(t>0&&e[t-1],e,t-1)})}unaliasKeywords(e,t,r,i){return L(this,null,function*(){let o={};for(let s in e)o[yield this.unaliasKeyword(s,t,r+1,!0,i)]=e[s];return o})}isLiteral(e,t){return L(this,null,function*(){for(let r=t;r>=0;r--){if((yield this.unaliasKeyword(e[r],e,r))==="@annotation")return!1;if(this.parsingContext.literalStack[r]||this.parsingContext.jsonLiteralStack[r])return!0}return!1})}getDepthOffsetGraph(e,t){return L(this,null,function*(){for(let r=e-1;r>0;r--)if((yield this.unaliasKeyword(t[r],t,r))==="@graph"){let i=(yield WC.EntryHandlerContainer.getContainerHandler(this.parsingContext,t,r)).containers;return WC.EntryHandlerContainer.isComplexGraphContainer(i)?-1:e-r-1}return-1})}validateReverseSubject(e){if(e.termType==="Literal")throw new Zt.ErrorCoded(`Found illegal literal in subject position: ${e.value}`,Zt.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}getGraphContainerValue(e,t){return L(this,null,function*(){let r=this.getDefaultGraph(),{containers:i,depth:o}=yield WC.EntryHandlerContainer.getContainerHandler(this.parsingContext,e,t);if("@graph"in i){let s=WC.EntryHandlerContainer.getContainerGraphIndex(i,o,e),a=this.parsingContext.graphContainerTermStack[o];if(r=a?a[s]:null,!r){let l=null;if("@id"in i){let c=yield this.getContainerKey(e[o],e,o);c!==null&&(l=yield this.resourceToTerm(yield this.parsingContext.getContext(e),c))}l||(l=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[o]||(this.parsingContext.graphContainerTermStack[o]={}),r=this.parsingContext.graphContainerTermStack[o][s]=l}}return r})}getPropertiesDepth(e,t){return L(this,null,function*(){let r=t;for(let i=t-1;i>0;i--)if(typeof e[i]!="number"){let o=yield this.unaliasKeyword(e[i],e,i);if(o==="@reverse")return i;if(o==="@nest")r=i;else return r}return r})}getContainerKey(e,t,r){return L(this,null,function*(){let i=yield this.unaliasKeyword(e,t,r);return i==="@none"?null:i})}validateReverseInEmbeddedNode(e,t,r){if(r&&t&&!this.parsingContext.rdfstarReverseInEmbedded)throw new Zt.ErrorCoded(`Illegal reverse property in embedded node in ${e}`,Zt.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(e,t,r,i,o,s,a){let l;if(s?(this.validateReverseSubject(i),l=this.dataFactory.quad(i,r,t,o)):l=this.dataFactory.quad(t,r,i,o),a){if(l.graph.termType!=="DefaultGraph"&&(l=this.dataFactory.quad(l.subject,l.predicate,l.object)),this.parsingContext.idStack[e-1])throw new Zt.ErrorCoded("Illegal multiple properties in an embedded node",Zt.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[e-1]=[l]}else this.parsingContext.emitQuad(e,l);let c=this.parsingContext.annotationsBuffer[e];if(c){for(let u of c)this.emitAnnotation(e,l,u);delete this.parsingContext.annotationsBuffer[e]}}emitAnnotation(e,t,r){let i;r.reverse?(this.validateReverseSubject(r.object),i=this.dataFactory.quad(r.object,r.predicate,t)):i=this.dataFactory.quad(t,r.predicate,r.object),this.parsingContext.emitQuad(e,i);for(let o of r.nestedAnnotations)this.emitAnnotation(e,i,o)}};za.XSD="http://www.w3.org/2001/XMLSchema#";za.XSD_BOOLEAN=za.XSD+"boolean";za.XSD_INTEGER=za.XSD+"integer";za.XSD_DOUBLE=za.XSD+"double";za.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";KC.Util=za});var Lq=Le(JC=>{"use strict";Object.defineProperty(JC,"__esModule",{value:!0});JC.EntryHandlerArrayValue=void 0;var qme=Gu(),Pq=ao(),AM=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}validate(e,t,r,i,o){return L(this,null,function*(){return this.test(e,t,null,r,i)})}test(e,t,r,i,o){return L(this,null,function*(){return typeof i[o]=="number"})}handle(e,t,r,i,o,s){return L(this,null,function*(){let a=yield t.unaliasKeywordParent(i,s);if(a==="@list"){let l=null,c=0;for(let u=s-2;u>0;u--){let h=i[u];if(typeof h=="string"||typeof h=="number"){c=u,l=h;break}}if(l!==null){let u=yield t.valueToTerm(yield e.getContext(i),l,o,s,i);for(let h of u)yield this.handleListElement(e,t,h,o,s,i.slice(0,c),c);u.length===0&&(yield this.handleListElement(e,t,null,o,s,i.slice(0,c),c))}}else if(a==="@set")yield e.newOnValueJob(i.slice(0,-2),o,s-2,!1);else if(a!==void 0&&a!=="@type"){for(let c=s-1;c>0;c--)if(typeof i[c]!="number"){a=yield t.unaliasKeyword(i[c],i,c);break}let l=yield e.getContext(i.slice(0,-1));if("@list"in qme.Util.getContextValueContainer(l,a)){e.emittedStack[s+1]=!0;let c=yield t.valueToTerm(yield e.getContext(i),a,o,s,i);for(let u of c)yield this.handleListElement(e,t,u,o,s,i.slice(0,-1),s-1);c.length===0&&(yield this.handleListElement(e,t,null,o,s,i.slice(0,-1),s-1))}else e.shiftStack(s,1),yield e.newOnValueJob(i.slice(0,-1),o,s-1,!1),e.contextTree.removeContext(i.slice(0,-1))}})}handleListElement(e,t,r,i,o,s,a){return L(this,null,function*(){let l=e.listPointerStack[o];if(i!==null&&(yield t.unaliasKeywords(i,s,o))["@value"]!==null){if(!l||!l.value){let c=t.dataFactory.blankNode();l={value:c,listRootDepth:a,listId:c}}else{let c=t.dataFactory.blankNode();e.emitQuad(o,t.dataFactory.quad(l.value,t.rdfRest,c,t.getDefaultGraph())),l.value=c}r&&e.emitQuad(o,t.dataFactory.quad(l.value,t.rdfFirst,r,t.getDefaultGraph()))}else l||(l={listRootDepth:a,listId:t.rdfNil});e.listPointerStack[o]=l,e.rdfstar&&e.annotationsBuffer[o]&&e.emitError(new Pq.ErrorCoded("Found an illegal annotation inside a list",Pq.ERROR_CODES.INVALID_ANNOTATION))})}};JC.EntryHandlerArrayValue=AM});var Bq=Le(XC=>{"use strict";Object.defineProperty(XC,"__esModule",{value:!0});XC.EntryHandlerInvalidFallback=void 0;var TM=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}validate(e,t,r,i,o){return L(this,null,function*(){return!1})}test(e,t,r,i,o){return L(this,null,function*(){return!0})}handle(e,t,r,i,o,s){return L(this,null,function*(){e.emittedStack[s]=!1})}};XC.EntryHandlerInvalidFallback=TM});var Mc=Le(YC=>{"use strict";Object.defineProperty(YC,"__esModule",{value:!0});YC.EntryHandlerKeyword=void 0;var RM=class{constructor(e){this.keyword=e}isPropertyHandler(){return!1}isStackProcessor(){return!0}validate(e,t,r,i,o){return L(this,null,function*(){return!1})}test(e,t,r,i,o){return L(this,null,function*(){return r===this.keyword})}};YC.EntryHandlerKeyword=RM});var Uq=Le(QC=>{"use strict";Object.defineProperty(QC,"__esModule",{value:!0});QC.EntryHandlerKeywordContext=void 0;var jq=ao(),zme=Mc(),NM=class extends zme.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}handle(e,t,r,i,o,s){return L(this,null,function*(){e.streamingProfile&&(e.processingStack[s]||e.processingType[s]||e.idStack[s]!==void 0)&&e.emitError(new jq.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",jq.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));let a=e.getContext(i),l=e.parseContext(o,(yield a).getContextRaw());e.contextTree.setContext(i.slice(0,-1),l),e.emitContext(o),yield e.validateContext(yield l)})}};QC.EntryHandlerKeywordContext=NM});var Vq=Le(ZC=>{"use strict";Object.defineProperty(ZC,"__esModule",{value:!0});ZC.EntryHandlerKeywordGraph=void 0;var Gme=Mc(),FM=class extends Gme.EntryHandlerKeyword{constructor(){super("@graph")}handle(e,t,r,i,o,s){return L(this,null,function*(){e.graphStack[s+1]=!0})}};ZC.EntryHandlerKeywordGraph=FM});var $q=Le(ex=>{"use strict";Object.defineProperty(ex,"__esModule",{value:!0});ex.EntryHandlerKeywordId=void 0;var Bl=ao(),Wme=Mc(),MM=class extends Wme.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}handle(e,t,r,i,o,s){return L(this,null,function*(){if(typeof o!="string"){if(e.rdfstar&&typeof o=="object"){let l=Object.keys(o);l.length===1&&l[0]==="@id"&&e.emitError(new Bl.ErrorCoded(`Invalid embedded node without property with @id ${o["@id"]}`,Bl.ERROR_CODES.INVALID_EMBEDDED_NODE))}else e.emitError(new Bl.ErrorCoded(`Found illegal @id '${o}'`,Bl.ERROR_CODES.INVALID_ID_VALUE));return}let a=yield t.getPropertiesDepth(i,s);if(e.idStack[a]!==void 0&&(e.idStack[a][0].listHead?e.emitError(new Bl.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${i[s-1]}'`,Bl.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):e.emitError(new Bl.ErrorCoded(`Found duplicate @ids '${e.idStack[a][0].value}' and '${o}'`,Bl.ERROR_CODES.COLLIDING_KEYWORDS))),e.rdfstar&&e.annotationsBuffer[s])for(let l of e.annotationsBuffer[s])l.depth===s&&e.emitError(new Bl.ErrorCoded(`Found an illegal @id inside an annotation: ${o}`,Bl.ERROR_CODES.INVALID_ANNOTATION));e.idStack[a]=t.nullableTermToArray(yield t.resourceToTerm(yield e.getContext(i),o))})}};ex.EntryHandlerKeywordId=MM});var Hq=Le(tx=>{"use strict";Object.defineProperty(tx,"__esModule",{value:!0});tx.EntryHandlerKeywordIncluded=void 0;var vm=ao(),Kme=Mc(),OM=class extends Kme.EntryHandlerKeyword{constructor(){super("@included")}handle(e,t,r,i,o,s){return L(this,null,function*(){typeof o!="object"&&e.emitError(new vm.ErrorCoded(`Found illegal @included '${o}'`,vm.ERROR_CODES.INVALID_INCLUDED_VALUE));let a=yield t.unaliasKeywords(o,i,s,yield e.getContext(i));"@value"in a&&e.emitError(new vm.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(o)}'`,vm.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in a&&e.emitError(new vm.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(o)}'`,vm.ERROR_CODES.INVALID_INCLUDED_VALUE)),e.emittedStack[s]=!1})}};tx.EntryHandlerKeywordIncluded=OM});var qq=Le(rx=>{"use strict";Object.defineProperty(rx,"__esModule",{value:!0});rx.EntryHandlerKeywordNest=void 0;var nx=ao(),Jme=Mc(),kM=class extends Jme.EntryHandlerKeyword{constructor(){super("@nest")}handle(e,t,r,i,o,s){return L(this,null,function*(){typeof o!="object"&&e.emitError(new nx.ErrorCoded(`Found invalid @nest entry for '${r}': '${o}'`,nx.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in(yield t.unaliasKeywords(o,i,s,yield e.getContext(i)))&&e.emitError(new nx.ErrorCoded(`Found an invalid @value node for '${r}'`,nx.ERROR_CODES.INVALID_NEST_VALUE)),e.emittedStack[s]=!1})}};rx.EntryHandlerKeywordNest=kM});var zq=Le(ox=>{"use strict";Object.defineProperty(ox,"__esModule",{value:!0});ox.EntryHandlerKeywordType=void 0;var Wv=ao(),ix=Gu(),Xme=Gv(),Yme=Mc(),PM=class extends Yme.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}handle(e,t,r,i,o,s){return L(this,null,function*(){let a=i[s],l=yield e.getContext(i),c=t.rdfType,u=yield t.unaliasKeywordParent(i,s),h=ix.Util.isPropertyReverse(l,a,u),m=ix.Util.isPropertyInEmbeddedNode(u);t.validateReverseInEmbeddedNode(r,h,m);let g=ix.Util.isPropertyInAnnotationObject(u),b=Array.isArray(o)?o:[o];for(let C of b){typeof C!="string"&&e.emitError(new Wv.ErrorCoded(`Found illegal @type '${C}'`,Wv.ERROR_CODES.INVALID_TYPE_VALUE));let R=t.createVocabOrBaseTerm(l,C);R&&(yield Xme.EntryHandlerPredicate.handlePredicateObject(e,t,i,s,c,R,h,m,g))}let v=Promise.resolve(l),E=!1;for(let C of b.sort()){let R=ix.Util.getContextValue(l,"@context",C,null);R&&(E=!0,v=v.then(F=>e.parseContext(R,F.getContextRaw())))}e.streamingProfile&&(E||!e.streamingProfileAllowOutOfOrderPlainType)&&(e.processingStack[s]||e.idStack[s])&&e.emitError(new Wv.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",Wv.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),E&&(v=v.then(C=>C.getContextRaw()["@propagate"]!==!0?new Wv.JsonLdContextNormalized(Object.assign(Object.assign({},C.getContextRaw()),{"@propagate":!1,"@__propagateFallback":l.getContextRaw()})):C),e.contextTree.setContext(i.slice(0,i.length-1),v)),e.processingType[s]=!0})}};ox.EntryHandlerKeywordType=PM});var Gq=Le(ax=>{"use strict";Object.defineProperty(ax,"__esModule",{value:!0});ax.EntryHandlerKeywordUnknownFallback=void 0;var Kv=ao(),sx=class n{isPropertyHandler(){return!1}isStackProcessor(){return!0}validate(e,t,r,i,o){return L(this,null,function*(){let s=yield t.unaliasKeyword(r[i],r,i);return Kv.Util.isPotentialKeyword(s)?!(!o&&s==="@list"):!1})}test(e,t,r,i,o){return L(this,null,function*(){return Kv.Util.isPotentialKeyword(r)})}handle(e,t,r,i,o,s){return L(this,null,function*(){let a=n.VALID_KEYWORDS_TYPES[r];a!==void 0?a&&typeof o!==a.type&&e.emitError(new Kv.ErrorCoded(`Invalid value type for '${r}' with value '${o}'`,a.errorCode)):e.strictValues&&e.emitError(new Error(`Unknown keyword '${r}' with value '${o}'`)),e.emittedStack[s]=!1})}};sx.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:Kv.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:Kv.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null};ax.EntryHandlerKeywordUnknownFallback=sx});var Wq=Le(lx=>{"use strict";Object.defineProperty(lx,"__esModule",{value:!0});lx.EntryHandlerKeywordValue=void 0;var Qme=Mc(),LM=class n extends Qme.EntryHandlerKeyword{constructor(){super("@value")}validate(e,t,r,i,o){return L(this,null,function*(){let s=r[i];return s&&!e.literalStack[i]&&(yield this.test(e,t,s,r,i))&&(e.literalStack[i]=!0),bk(n.prototype,this,"validate").call(this,e,t,r,i,o)})}test(e,t,r,i,o){return L(this,null,function*(){return(yield t.unaliasKeyword(i[o],i.slice(0,i.length-1),o-1,!0))==="@value"})}handle(e,t,r,i,o,s){return L(this,null,function*(){e.literalStack[s]=!0,delete e.unidentifiedValuesBuffer[s],delete e.unidentifiedGraphsBuffer[s],e.emittedStack[s]=!1})}};lx.EntryHandlerKeywordValue=LM});var Kq=Le(cx=>{"use strict";Object.defineProperty(cx,"__esModule",{value:!0});cx.ContextTree=void 0;var BM=class n{constructor(){this.subTrees={}}getContext(e){if(e.length>0){let[t,...r]=e,i=this.subTrees[t];if(i){let o=i.getContext(r);if(o)return o.then(({context:s,depth:a})=>({context:s,depth:a+1}))}}return this.context?this.context.then(t=>({context:t,depth:0})):null}setContext(e,t){if(e.length===0)this.context=t;else{let[r,...i]=e,o=this.subTrees[r];o||(o=this.subTrees[r]=new n),o.setContext(i,t)}}removeContext(e){this.setContext(e,null)}};cx.ContextTree=BM});var Jq=Le(dx=>{"use strict";Object.defineProperty(dx,"__esModule",{value:!0});dx.ParsingContext=void 0;var _m=ao(),ux=nm(),Zme=Kq(),ege=jM(),tge=(()=>{class n{constructor(t){this.contextParser=new _m.ContextParser({documentLoader:t.documentLoader,skipValidation:t.skipContextValidation}),this.streamingProfile=!!t.streamingProfile,this.baseIRI=t.baseIRI,this.produceGeneralizedRdf=!!t.produceGeneralizedRdf,this.allowSubjectList=!!t.allowSubjectList,this.processingMode=t.processingMode||ege.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!t.strictValues,this.validateValueIndexes=!!t.validateValueIndexes,this.defaultGraph=t.defaultGraph,this.rdfDirection=t.rdfDirection,this.normalizeLanguageTags=t.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=t.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=t.rdfstar!==!1,this.rdfstarReverseInEmbedded=t.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new Zme.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=t.parser,t.context?(this.rootContext=this.parseContext(t.context),this.rootContext.then(r=>this.validateContext(r))):this.rootContext=Promise.resolve(new _m.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}parseContext(t,r,i){return L(this,null,function*(){return this.contextParser.parse(t,{baseIRI:this.baseIRI,ignoreProtection:i,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:r,processingMode:this.activeProcessingMode})})}validateContext(t){let r=t.getContextRaw()["@version"];if(r){if(this.activeProcessingMode&&r>this.activeProcessingMode)throw new ux.ErrorCoded(`Unsupported JSON-LD version '${r}' under active processing mode ${this.activeProcessingMode}.`,ux.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&r<this.activeProcessingMode)throw new ux.ErrorCoded(`Invalid JSON-LD version ${r} under active processing mode ${this.activeProcessingMode}.`,ux.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=r}}getContext(t,r=1){return L(this,null,function*(){let i=t;for(;typeof t[t.length-1]=="number";)t=t.slice(0,t.length-1);r&&(t=t.slice(0,-r));let o=yield this.getContextPropagationAware(t),a=o.context.getContextRaw();for(let l=o.depth;l<i.length-r;l++){let c=i[l],u=a[c];if(u&&typeof u=="object"&&"@context"in u){let h=(yield this.parseContext(u,a,!0)).getContextRaw(),m=!(c in h)||h[c]["@context"]["@propagate"];(m!==!1||l===i.length-1-r)&&(a=Object.assign({},h),delete a["@propagate"],a[c]=Object.assign({},a[c]),"@id"in u&&(a[c]["@id"]=u["@id"]),delete a[c]["@context"],m!==!1&&this.contextTree.setContext(i.slice(0,l+r),Promise.resolve(new _m.JsonLdContextNormalized(a))))}}return new _m.JsonLdContextNormalized(a)})}getContextPropagationAware(t){return L(this,null,function*(){let r=t.length,i=null,o;do{o=!1,i&&"@__propagateFallback"in i.context.getContextRaw()?i.context=new _m.JsonLdContextNormalized(i.context.getContextRaw()["@__propagateFallback"]):(i&&(t=t.slice(0,i.depth-1)),i=(yield this.contextTree.getContext(t))||{context:yield this.rootContext,depth:0});let s=t[t.length-1];if(s in i.context.getContextRaw()){let a=i.context.getContextRaw()[s];a&&typeof a=="object"&&"@context"in a&&(o=!0)}}while(i.depth>0&&i.context.getContextRaw()["@propagate"]===!1&&i.depth!==r&&!o);return i.depth===0&&i.context.getContextRaw()["@propagate"]===!1&&i.depth!==r&&(i.context=new _m.JsonLdContextNormalized({})),i})}newOnValueJob(t,r,i,o){return L(this,null,function*(){yield this.parser.newOnValueJob(t,r,i,o)})}handlePendingContainerFlushBuffers(){return L(this,null,function*(){if(this.pendingContainerFlushBuffers.length>0){for(let t of this.pendingContainerFlushBuffers)yield this.parser.flushBuffer(t.depth,t.keys),this.parser.flushStacks(t.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1})}emitQuad(t,r){t===1&&(this.topLevelProperties=!0),this.parser.push(r)}emitError(t){this.parser.emit("error",t)}emitContext(t){this.parser.emit("context",t)}getUnidentifiedValueBufferSafe(t){let r=this.unidentifiedValuesBuffer[t];return r||(r=[],this.unidentifiedValuesBuffer[t]=r),r}getUnidentifiedGraphBufferSafe(t){let r=this.unidentifiedGraphsBuffer[t];return r||(r=[],this.unidentifiedGraphsBuffer[t]=r),r}getAnnotationsBufferSafe(t){let r=this.annotationsBuffer[t];return r||(r=[],this.annotationsBuffer[t]=r),r}getExpandOptions(){return n.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(t,r){let i=this.idStack[t+r];if(i&&(this.idStack[t]=i,this.emittedStack[t]=!0,delete this.idStack[t+r]),this.pendingContainerFlushBuffers.length)for(let o of this.pendingContainerFlushBuffers)o.depth>=t+r&&(o.depth-=r,o.keys.splice(t,r));this.unidentifiedValuesBuffer[t+r]&&(this.unidentifiedValuesBuffer[t]=this.unidentifiedValuesBuffer[t+r],delete this.unidentifiedValuesBuffer[t+r]),this.annotationsBuffer[t+r-1]&&(this.annotationsBuffer[t-1]||(this.annotationsBuffer[t-1]=[]),this.annotationsBuffer[t-1]=[...this.annotationsBuffer[t-1],...this.annotationsBuffer[t+r-1]],delete this.annotationsBuffer[t+r-1])}}return n.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},n})();dx.ParsingContext=tge});var Yq=Le(fx=>{"use strict";Object.defineProperty(fx,"__esModule",{value:!0});fx.EntryHandlerKeywordAnnotation=void 0;var nge=Mc(),Xq=ao(),UM=class extends nge.EntryHandlerKeyword{constructor(){super("@annotation")}handle(e,t,r,i,o,s){return L(this,null,function*(){(typeof o=="string"||typeof o=="object"&&o["@value"])&&e.emitError(new Xq.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(o)}`,Xq.ERROR_CODES.INVALID_ANNOTATION))})}};fx.EntryHandlerKeywordAnnotation=UM});var jM=Le(hx=>{"use strict";Object.defineProperty(hx,"__esModule",{value:!0});hx.JsonLdParser=void 0;var rge=hH(),Ga=ao(),Qq=uM(),ige=Lq(),ez=IM(),oge=Bq(),sge=Gv(),age=Uq(),lge=Vq(),cge=$q(),uge=Hq(),dge=qq(),fge=zq(),hge=Gq(),pge=Wq(),mge=Jq(),Zq=Gu(),gge=KS(),yge=Yq(),Jv=class n extends Qq.Transform{constructor(e){super({readableObjectMode:!0}),e=e||{},this.options=e,this.parsingContext=new mge.ParsingContext(Object.assign({parser:this},e)),this.util=new Zq.Util({dataFactory:e.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new rge,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(e,t,r,i){let o,s=["application/activity+json"];if(i&&i.wellKnownMediaTypes&&(s=i.wellKnownMediaTypes),t!=="application/ld+json"&&!s.includes(t)){if(t!=="application/json"&&!t.endsWith("+json"))throw new Ga.ErrorCoded(`Unsupported JSON-LD media type ${t}`,Ga.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(r&&r.has("Link")&&r.forEach((l,c)=>{if(c==="link"){let u=(0,gge.parse)(l);for(let h of u.get("rel","http://www.w3.org/ns/json-ld#context")){if(o)throw new Ga.ErrorCoded("Multiple JSON-LD context link headers were found on "+e,Ga.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);o=h.uri}}}),!o&&!i?.ignoreMissingContextLinkHeader)throw new Ga.ErrorCoded(`Missing context link header for media type ${t} on ${e}`,Ga.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let a;if(r&&r.has("Content-Type")){let l=r.get("Content-Type"),c=/; *profile=([^"]*)/.exec(l);c&&c[1]==="http://www.w3.org/ns/json-ld#streaming"&&(a=!0)}return new n(Object.assign({baseIRI:e,context:o,streamingProfile:a},i||{}))}import(e){if("pipe"in e){e.on("error",r=>t.emit("error",r));let t=e.pipe(new n(this.options));return t}else{let t=new Qq.PassThrough({readableObjectMode:!0});e.on("error",i=>r.emit("error",i)),e.on("data",i=>t.push(i)),e.on("end",()=>t.push(null));let r=t.pipe(new n(this.options));return r}}_transform(e,t,r){this.jsonParser.write(e),this.lastOnValueJob.then(()=>r(),i=>r(i))}newOnValueJob(e,t,r,i){return L(this,null,function*(){let o=!0;if(i&&r<this.lastDepth){let u=this.parsingContext.listPointerStack[this.lastDepth];u&&(u.value&&this.push(this.util.dataFactory.quad(u.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),u.listId.listHead=!0,this.parsingContext.idStack[u.listRootDepth+1]=[u.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),(yield ez.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth))?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),o=!1):yield this.flushBuffer(this.lastDepth,this.lastKeys)}let s=yield this.util.unaliasKeyword(e[r],e,r),a=yield this.util.unaliasKeywordParent(e,r);this.parsingContext.emittedStack[r]=!0;let l=!0;Ga.Util.isValidKeyword(s)&&a==="@reverse"&&s!=="@context"&&this.emit("error",new Ga.ErrorCoded(`Found the @id '${t}' inside an @reverse property`,Ga.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let c=!1;this.parsingContext.validationStack.length>1&&(c=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let u=Math.max(1,this.parsingContext.validationStack.length-1);u<e.length-1;u++){let h=this.parsingContext.validationStack[u]||(this.parsingContext.validationStack[u]=yield this.validateKey(e.slice(0,u+1),u,c));if(h.valid)!c&&h.property&&(c=!0);else{this.parsingContext.emittedStack[r]=!1,l=!1;break}}if((yield this.util.isLiteral(e,r))&&(l=!1),l)for(let u of n.ENTRY_HANDLERS){let h=yield u.test(this.parsingContext,this.util,s,e,r);if(h){yield u.handle(this.parsingContext,this.util,s,e,t,r,h),u.isStackProcessor()&&(this.parsingContext.processingStack[r]=!0);break}}r===0&&Array.isArray(t)&&(yield this.util.validateValueIndexes(t)),o&&r<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=r,this.lastKeys=e,this.parsingContext.unaliasedKeywordCacheStack.splice(r-1)})}flushStacks(e){this.parsingContext.processingStack.splice(e,1),this.parsingContext.processingType.splice(e,1),this.parsingContext.emittedStack.splice(e,1),this.parsingContext.idStack.splice(e,1),this.parsingContext.graphStack.splice(e+1,1),this.parsingContext.graphContainerTermStack.splice(e,1),this.parsingContext.jsonLiteralStack.splice(e,1),this.parsingContext.validationStack.splice(e-1,2),this.parsingContext.literalStack.splice(e,this.parsingContext.literalStack.length-e),this.parsingContext.annotationsBuffer.splice(e,1)}flushBuffer(e,t){return L(this,null,function*(){let r=this.parsingContext.idStack[e];!!r||(r=this.parsingContext.idStack[e]=[this.util.dataFactory.blankNode()]);let o=this.parsingContext.unidentifiedValuesBuffer[e];if(o){for(let l of r){let c=yield this.util.getDepthOffsetGraph(e,t),u=this.parsingContext.graphStack[e]||c>=0?this.parsingContext.idStack[e-c-1]:[yield this.util.getGraphContainerValue(t,e)];if(u)for(let h of u){this.parsingContext.emittedStack[e]=!0;for(let m of o)this.util.emitQuadChecked(e,l,m.predicate,m.object,h,m.reverse,m.isEmbedded)}else{let h=this.parsingContext.getUnidentifiedGraphBufferSafe(e-(yield this.util.getDepthOffsetGraph(e,t))-1);for(let m of o)m.reverse?h.push({object:l,predicate:m.predicate,subject:m.object,isEmbedded:m.isEmbedded}):h.push({object:m.object,predicate:m.predicate,subject:l,isEmbedded:m.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(e,1),this.parsingContext.literalStack.splice(e,1),this.parsingContext.jsonLiteralStack.splice(e,1)}let s=this.parsingContext.unidentifiedGraphsBuffer[e];if(s){for(let l of r){let c=e===1&&l.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():l;this.parsingContext.emittedStack[e]=!0;for(let u of s)this.parsingContext.emitQuad(e,this.util.dataFactory.quad(u.subject,u.predicate,u.object,c))}this.parsingContext.unidentifiedGraphsBuffer.splice(e,1)}let a=this.parsingContext.annotationsBuffer[e];if(a){a.length>0&&e===1&&this.parsingContext.emitError(new Ga.ErrorCoded("Annotations can not be made on top-level nodes",Ga.ERROR_CODES.INVALID_ANNOTATION));let l=this.parsingContext.getAnnotationsBufferSafe(e-1);for(let c of a)l.push(c);delete this.parsingContext.annotationsBuffer[e]}})}validateKey(e,t,r){return L(this,null,function*(){for(let i of n.ENTRY_HANDLERS)if(yield i.validate(this.parsingContext,this.util,e,t,r))return{valid:!0,property:r||i.isPropertyHandler()};return{valid:!1,property:!1}})}attachJsonParserListeners(){this.jsonParser.onValue=e=>{let t=this.jsonParser.stack.length,r=new Array(t+1).fill(0).map((i,o)=>o===t?this.jsonParser.key:this.jsonParser.stack[o].key);if(!this.isParsingContextInner(t)){let i=()=>this.newOnValueJob(r,e,t,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(r.slice(0,-1)))if(r[t]==="@context"){let o=this.contextJobs[t];o||(o=this.contextJobs[t]=[]),o.push(i)}else this.contextAwaitingJobs.push({job:i,keys:r,depth:t});else this.lastOnValueJob=this.lastOnValueJob.then(i);!this.parsingContext.streamingProfile&&t===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=e=>{this.emit("error",e)}}isParsingContextInner(e){for(let t=e;t>0;t--)if(this.jsonParser.stack[t-1].key==="@context")return!0;return!1}executeBufferedJobs(){return L(this,null,function*(){for(let t of this.contextJobs)if(t)for(let r of t)yield r();this.parsingContext.unaliasedKeywordCacheStack.splice(0);let e=[];for(let t of this.contextAwaitingJobs)(yield this.util.unaliasKeyword(t.keys[t.depth],t.keys,t.depth,!0))==="@type"||typeof t.keys[t.depth]=="number"&&(yield this.util.unaliasKeyword(t.keys[t.depth-1],t.keys,t.depth-1,!0))==="@type"?this.typeJobs.push({job:t.job,keys:t.keys.slice(0,t.keys.length-1)}):e.push(t);for(let t of e){if(this.typeJobs.length>0){let r=[],i=[];for(let a=0;a<this.typeJobs.length;a++){let l=this.typeJobs[a];Zq.Util.isPrefixArray(l.keys,t.keys)&&(r.push(l),i.push(a))}let o=r.sort((a,l)=>a.keys.length-l.keys.length);for(let a of o)yield a.job();let s=i.sort().reverse();for(let a of s)this.typeJobs.splice(a,1)}yield t.job()}})}};Jv.DEFAULT_PROCESSING_MODE="1.1";Jv.ENTRY_HANDLERS=[new ige.EntryHandlerArrayValue,new age.EntryHandlerKeywordContext,new cge.EntryHandlerKeywordId,new uge.EntryHandlerKeywordIncluded,new lge.EntryHandlerKeywordGraph,new dge.EntryHandlerKeywordNest,new fge.EntryHandlerKeywordType,new pge.EntryHandlerKeywordValue,new yge.EntryHandlerKeywordAnnotation,new ez.EntryHandlerContainer,new hge.EntryHandlerKeywordUnknownFallback,new sge.EntryHandlerPredicate,new oge.EntryHandlerInvalidFallback];hx.JsonLdParser=Jv});var tz=Le(zf=>{"use strict";var vge=zf&&zf.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),_ge=zf&&zf.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vge(e,n,t)};Object.defineProperty(zf,"__esModule",{value:!0});_ge(jM(),zf)});var v_=Le(Fm=>{"use strict";function Fve(n,e,t){if(t===void 0&&(t=Array.prototype),n&&typeof t.find=="function")return t.find.call(n,e);for(var r=0;r<n.length;r++)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];if(e.call(void 0,i,r,n))return i}}function CO(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function Mve(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}var u7=CO({HTML:"text/html",isHTML:function(n){return n===u7.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),d7=CO({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===d7.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Fm.assign=Mve;Fm.find=Fve;Fm.freeze=CO;Fm.MIME_TYPE=u7;Fm.NAMESPACE=d7});var kO=Le(nd=>{"use strict";var _7=v_(),Gl=_7.find,__=_7.NAMESPACE;function Ove(n){return n!==""}function kve(n){return n?n.split(/[\t\n\f\r ]+/).filter(Ove):[]}function Pve(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function f7(n){if(!n)return[];var e=kve(n);return Object.keys(e.reduce(Pve,{}))}function Lve(n){return function(e){return n&&n.indexOf(e)!==-1}}function w_(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}function rs(n,e){var t=n.prototype;if(!(t instanceof e)){let i=function(){};var r=i;i.prototype=e.prototype,i=new i,w_(t,i),n.prototype=t=i}t.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),t.constructor=n)}var is={},el=is.ELEMENT_NODE=1,Om=is.ATTRIBUTE_NODE=2,Kx=is.TEXT_NODE=3,b7=is.CDATA_SECTION_NODE=4,w7=is.ENTITY_REFERENCE_NODE=5,Bve=is.ENTITY_NODE=6,E7=is.PROCESSING_INSTRUCTION_NODE=7,S7=is.COMMENT_NODE=8,C7=is.DOCUMENT_NODE=9,x7=is.DOCUMENT_TYPE_NODE=10,Uc=is.DOCUMENT_FRAGMENT_NODE=11,jve=is.NOTATION_NODE=12,mo={},Pi={},dZe=mo.INDEX_SIZE_ERR=(Pi[1]="Index size error",1),fZe=mo.DOMSTRING_SIZE_ERR=(Pi[2]="DOMString size error",2),ns=mo.HIERARCHY_REQUEST_ERR=(Pi[3]="Hierarchy request error",3),hZe=mo.WRONG_DOCUMENT_ERR=(Pi[4]="Wrong document",4),pZe=mo.INVALID_CHARACTER_ERR=(Pi[5]="Invalid character",5),mZe=mo.NO_DATA_ALLOWED_ERR=(Pi[6]="No data allowed",6),gZe=mo.NO_MODIFICATION_ALLOWED_ERR=(Pi[7]="No modification allowed",7),D7=mo.NOT_FOUND_ERR=(Pi[8]="Not found",8),yZe=mo.NOT_SUPPORTED_ERR=(Pi[9]="Not supported",9),h7=mo.INUSE_ATTRIBUTE_ERR=(Pi[10]="Attribute in use",10),vZe=mo.INVALID_STATE_ERR=(Pi[11]="Invalid state",11),_Ze=mo.SYNTAX_ERR=(Pi[12]="Syntax error",12),bZe=mo.INVALID_MODIFICATION_ERR=(Pi[13]="Invalid modification",13),wZe=mo.NAMESPACE_ERR=(Pi[14]="Invalid namespace",14),EZe=mo.INVALID_ACCESS_ERR=(Pi[15]="Invalid access",15);function ri(n,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,Pi[n]),this.message=Pi[n],Error.captureStackTrace&&Error.captureStackTrace(this,ri);return t.code=n,e&&(this.message=this.message+": "+e),t}ri.prototype=Error.prototype;w_(mo,ri);function jc(){}jc.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,e){for(var t=[],r=0;r<this.length;r++)Mm(this[r],t,n,e);return t.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function km(n,e){this._node=n,this._refresh=e,IO(this)}function IO(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==e){var t=n._refresh(n._node);if(B7(n,"length",t.length),!n.$$length||t.length<n.$$length)for(var r=t.length;r in n;r++)Object.prototype.hasOwnProperty.call(n,r)&&delete n[r];w_(t,n),n._inc=e}}km.prototype.item=function(n){return IO(this),this[n]||null};rs(km,jc);function Jx(){}function I7(n,e){for(var t=n.length;t--;)if(n[t]===e)return t}function p7(n,e,t,r){if(r?e[I7(e,r)]=t:e[e.length++]=t,n){t.ownerElement=n;var i=n.ownerDocument;i&&(r&&R7(i,n,r),Uve(i,n,t))}}function m7(n,e,t){var r=I7(e,t);if(r>=0){for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,n){var o=n.ownerDocument;o&&(R7(o,n,t),t.ownerElement=null)}}else throw new ri(D7,new Error(n.tagName+"@"+t))}Jx.prototype={length:0,item:jc.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==n)return t}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new ri(h7);var t=this.getNamedItem(n.nodeName);return p7(this._ownerElement,this,n,t),t},setNamedItemNS:function(n){var e=n.ownerElement,t;if(e&&e!=this._ownerElement)throw new ri(h7);return t=this.getNamedItemNS(n.namespaceURI,n.localName),p7(this._ownerElement,this,n,t),t},removeNamedItem:function(n){var e=this.getNamedItem(n);return m7(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var t=this.getNamedItemNS(n,e);return m7(this._ownerElement,this,t),t},getNamedItemNS:function(n,e){for(var t=this.length;t--;){var r=this[t];if(r.localName==e&&r.namespaceURI==n)return r}return null}};function A7(){}A7.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,t){var r=new E_;if(r.implementation=this,r.childNodes=new jc,r.doctype=t||null,t&&r.appendChild(t),e){var i=r.createElementNS(n,e);r.appendChild(i)}return r},createDocumentType:function(n,e,t){var r=new Qx;return r.name=n,r.nodeName=n,r.publicId=e||"",r.systemId=t||"",r}};function ir(){}ir.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return Xx(this,n,e)},replaceChild:function(n,e){Xx(this,n,e,F7),e&&this.removeChild(e)},removeChild:function(n){return N7(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return DO(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==Kx&&n.nodeType==Kx?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var t=e._nsMap;if(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&t[r]===n)return r}e=e.nodeType==Om?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var t=e._nsMap;if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n];e=e.nodeType==Om?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function T7(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}w_(is,ir);w_(is,ir.prototype);function b_(n,e){if(e(n))return!0;if(n=n.firstChild)do if(b_(n,e))return!0;while(n=n.nextSibling)}function E_(){this.ownerDocument=this}function Uve(n,e,t){n&&n._inc++;var r=t.namespaceURI;r===__.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function R7(n,e,t,r){n&&n._inc++;var i=t.namespaceURI;i===__.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function AO(n,e,t){if(n&&n._inc){n._inc++;var r=e.childNodes;if(t)r[r.length++]=t;else{for(var i=e.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o,delete r[r.length]}}}function N7(n,e){var t=e.previousSibling,r=e.nextSibling;return t?t.nextSibling=r:n.firstChild=r,r?r.previousSibling=t:n.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,AO(n.ownerDocument,n),e}function Vve(n){return n&&(n.nodeType===ir.DOCUMENT_NODE||n.nodeType===ir.DOCUMENT_FRAGMENT_NODE||n.nodeType===ir.ELEMENT_NODE)}function $ve(n){return n&&(Wl(n)||TO(n)||Vc(n)||n.nodeType===ir.DOCUMENT_FRAGMENT_NODE||n.nodeType===ir.COMMENT_NODE||n.nodeType===ir.PROCESSING_INSTRUCTION_NODE)}function Vc(n){return n&&n.nodeType===ir.DOCUMENT_TYPE_NODE}function Wl(n){return n&&n.nodeType===ir.ELEMENT_NODE}function TO(n){return n&&n.nodeType===ir.TEXT_NODE}function g7(n,e){var t=n.childNodes||[];if(Gl(t,Wl)||Vc(e))return!1;var r=Gl(t,Vc);return!(e&&r&&t.indexOf(r)>t.indexOf(e))}function y7(n,e){var t=n.childNodes||[];function r(o){return Wl(o)&&o!==e}if(Gl(t,r))return!1;var i=Gl(t,Vc);return!(e&&i&&t.indexOf(i)>t.indexOf(e))}function Hve(n,e,t){if(!Vve(n))throw new ri(ns,"Unexpected parent node type "+n.nodeType);if(t&&t.parentNode!==n)throw new ri(D7,"child not in parent");if(!$ve(e)||Vc(e)&&n.nodeType!==ir.DOCUMENT_NODE)throw new ri(ns,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function qve(n,e,t){var r=n.childNodes||[],i=e.childNodes||[];if(e.nodeType===ir.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Wl);if(o.length>1||Gl(i,TO))throw new ri(ns,"More than one element or text in fragment");if(o.length===1&&!g7(n,t))throw new ri(ns,"Element in fragment can not be inserted before doctype")}if(Wl(e)&&!g7(n,t))throw new ri(ns,"Only one element can be added and only after doctype");if(Vc(e)){if(Gl(r,Vc))throw new ri(ns,"Only one doctype is allowed");var s=Gl(r,Wl);if(t&&r.indexOf(s)<r.indexOf(t))throw new ri(ns,"Doctype can only be inserted before an element");if(!t&&s)throw new ri(ns,"Doctype can not be appended since element is present")}}function F7(n,e,t){var r=n.childNodes||[],i=e.childNodes||[];if(e.nodeType===ir.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Wl);if(o.length>1||Gl(i,TO))throw new ri(ns,"More than one element or text in fragment");if(o.length===1&&!y7(n,t))throw new ri(ns,"Element in fragment can not be inserted before doctype")}if(Wl(e)&&!y7(n,t))throw new ri(ns,"Only one element can be added and only after doctype");if(Vc(e)){let l=function(c){return Vc(c)&&c!==t};var a=l;if(Gl(r,l))throw new ri(ns,"Only one doctype is allowed");var s=Gl(r,Wl);if(t&&r.indexOf(s)<r.indexOf(t))throw new ri(ns,"Doctype can only be inserted before an element")}}function Xx(n,e,t,r){Hve(n,e,t),n.nodeType===ir.DOCUMENT_NODE&&(r||qve)(n,e,t);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Uc){var o=e.firstChild;if(o==null)return e;var s=e.lastChild}else o=s=e;var a=t?t.previousSibling:n.lastChild;o.previousSibling=a,s.nextSibling=t,a?a.nextSibling=o:n.firstChild=o,t==null?n.lastChild=s:t.previousSibling=s;do o.parentNode=n;while(o!==s&&(o=o.nextSibling));return AO(n.ownerDocument||n,n),e.nodeType==Uc&&(e.firstChild=e.lastChild=null),e}function zve(n,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,AO(n.ownerDocument,n,e),e}E_.prototype={nodeName:"#document",nodeType:C7,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==Uc){for(var t=n.firstChild;t;){var r=t.nextSibling;this.insertBefore(t,e),t=r}return n}return Xx(this,n,e),n.ownerDocument=this,this.documentElement===null&&n.nodeType===el&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),N7(this,n)},replaceChild:function(n,e){Xx(this,n,e,F7),n.ownerDocument=this,e&&this.removeChild(e),Wl(n)&&(this.documentElement=n)},importNode:function(n,e){return L7(this,n,e)},getElementById:function(n){var e=null;return b_(this.documentElement,function(t){if(t.nodeType==el&&t.getAttribute("id")==n)return e=t,!0}),e},getElementsByClassName:function(n){var e=f7(n);return new km(this,function(t){var r=[];return e.length>0&&b_(t.documentElement,function(i){if(i!==t&&i.nodeType===el){var o=i.getAttribute("class");if(o){var s=n===o;if(!s){var a=f7(o);s=e.every(Lve(a))}s&&r.push(i)}}}),r})},createElement:function(n){var e=new ah;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new jc;var t=e.attributes=new Jx;return t._ownerElement=e,e},createDocumentFragment:function(){var n=new Zx;return n.ownerDocument=this,n.childNodes=new jc,n},createTextNode:function(n){var e=new RO;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new NO;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new FO;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var t=new OO;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=n,t.nodeValue=t.data=e,t},createAttribute:function(n){var e=new Yx;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new MO;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var t=new ah,r=e.split(":"),i=t.attributes=new Jx;return t.childNodes=new jc,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=n,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,i._ownerElement=t,t},createAttributeNS:function(n,e){var t=new Yx,r=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=n,t.specified=!0,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,t}};rs(E_,ir);function ah(){this._nsMap={}}ah.prototype={nodeType:el,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var t=this.ownerDocument.createAttribute(n);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===Uc?this.insertBefore(n,null):zve(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var t=this.getAttributeNodeNS(n,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var t=this.getAttributeNodeNS(n,e);return t&&t.value||""},setAttributeNS:function(n,e,t){var r=this.ownerDocument.createAttributeNS(n,e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new km(this,function(e){var t=[];return b_(e,function(r){r!==e&&r.nodeType==el&&(n==="*"||r.tagName==n)&&t.push(r)}),t})},getElementsByTagNameNS:function(n,e){return new km(this,function(t){var r=[];return b_(t,function(i){i!==t&&i.nodeType===el&&(n==="*"||i.namespaceURI===n)&&(e==="*"||i.localName==e)&&r.push(i)}),r})}};E_.prototype.getElementsByTagName=ah.prototype.getElementsByTagName;E_.prototype.getElementsByTagNameNS=ah.prototype.getElementsByTagNameNS;rs(ah,ir);function Yx(){}Yx.prototype.nodeType=Om;rs(Yx,ir);function S_(){}S_.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(Pi[ns])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,t){var r=this.data.substring(0,n),i=this.data.substring(n+e);t=r+t+i,this.nodeValue=this.data=t,this.length=t.length}};rs(S_,ir);function RO(){}RO.prototype={nodeName:"#text",nodeType:Kx,splitText:function(n){var e=this.data,t=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};rs(RO,S_);function NO(){}NO.prototype={nodeName:"#comment",nodeType:S7};rs(NO,S_);function FO(){}FO.prototype={nodeName:"#cdata-section",nodeType:b7};rs(FO,S_);function Qx(){}Qx.prototype.nodeType=x7;rs(Qx,ir);function M7(){}M7.prototype.nodeType=jve;rs(M7,ir);function O7(){}O7.prototype.nodeType=Bve;rs(O7,ir);function MO(){}MO.prototype.nodeType=w7;rs(MO,ir);function Zx(){}Zx.prototype.nodeName="#document-fragment";Zx.prototype.nodeType=Uc;rs(Zx,ir);function OO(){}OO.prototype.nodeType=E7;rs(OO,ir);function k7(){}k7.prototype.serializeToString=function(n,e,t){return P7.call(n,e,t)};ir.prototype.toString=P7;function P7(n,e){var t=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,o=r.namespaceURI;if(o&&i==null){var i=r.lookupPrefix(o);if(i==null)var s=[{namespace:o,prefix:null}]}return Mm(this,t,n,e,s),t.join("")}function v7(n,e,t){var r=n.prefix||"",i=n.namespaceURI;if(!i||r==="xml"&&i===__.XML||i===__.XMLNS)return!1;for(var o=t.length;o--;){var s=t[o];if(s.prefix===r)return s.namespace!==i}return!0}function xO(n,e,t){n.push(" ",e,'="',t.replace(/[<>&"\t\n\r]/g,T7),'"')}function Mm(n,e,t,r,i){if(i||(i=[]),r)if(n=r(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case el:var o=n.attributes,s=o.length,C=n.firstChild,a=n.tagName;t=__.isHTML(n.namespaceURI)||t;var l=a;if(!t&&!n.prefix&&n.namespaceURI){for(var c,u=0;u<o.length;u++)if(o.item(u).name==="xmlns"){c=o.item(u).value;break}if(!c)for(var h=i.length-1;h>=0;h--){var m=i[h];if(m.prefix===""&&m.namespace===n.namespaceURI){c=m.namespace;break}}if(c!==n.namespaceURI)for(var h=i.length-1;h>=0;h--){var m=i[h];if(m.namespace===n.namespaceURI){m.prefix&&(l=m.prefix+":"+a);break}}}e.push("<",l);for(var g=0;g<s;g++){var b=o.item(g);b.prefix=="xmlns"?i.push({prefix:b.localName,namespace:b.value}):b.nodeName=="xmlns"&&i.push({prefix:"",namespace:b.value})}for(var g=0;g<s;g++){var b=o.item(g);if(v7(b,t,i)){var v=b.prefix||"",E=b.namespaceURI;xO(e,v?"xmlns:"+v:"xmlns",E),i.push({prefix:v,namespace:E})}Mm(b,e,t,r,i)}if(a===l&&v7(n,t,i)){var v=n.prefix||"",E=n.namespaceURI;xO(e,v?"xmlns:"+v:"xmlns",E),i.push({prefix:v,namespace:E})}if(C||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),t&&/^script$/i.test(a))for(;C;)C.data?e.push(C.data):Mm(C,e,t,r,i.slice()),C=C.nextSibling;else for(;C;)Mm(C,e,t,r,i.slice()),C=C.nextSibling;e.push("</",l,">")}else e.push("/>");return;case C7:case Uc:for(var C=n.firstChild;C;)Mm(C,e,t,r,i.slice()),C=C.nextSibling;return;case Om:return xO(e,n.name,n.value);case Kx:return e.push(n.data.replace(/[<&>]/g,T7));case b7:return e.push("<![CDATA[",n.data,"]]>");case S7:return e.push("<!--",n.data,"-->");case x7:var R=n.publicId,F=n.systemId;if(e.push("<!DOCTYPE ",n.name),R)e.push(" PUBLIC ",R),F&&F!="."&&e.push(" ",F),e.push(">");else if(F&&F!=".")e.push(" SYSTEM ",F,">");else{var M=n.internalSubset;M&&e.push(" [",M,"]"),e.push(">")}return;case E7:return e.push("<?",n.target," ",n.data,"?>");case w7:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function L7(n,e,t){var r;switch(e.nodeType){case el:r=e.cloneNode(!1),r.ownerDocument=n;case Uc:break;case Om:t=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=n,r.parentNode=null,t)for(var i=e.firstChild;i;)r.appendChild(L7(n,i,t)),i=i.nextSibling;return r}function DO(n,e,t){var r=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];typeof o!="object"&&o!=r[i]&&(r[i]=o)}switch(e.childNodes&&(r.childNodes=new jc),r.ownerDocument=n,r.nodeType){case el:var s=e.attributes,a=r.attributes=new Jx,l=s.length;a._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(DO(n,s.item(c),!0));break;case Om:t=!0}if(t)for(var u=e.firstChild;u;)r.appendChild(DO(n,u,t)),u=u.nextSibling;return r}function B7(n,e,t){n[e]=t}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case el:case Uc:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(n(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};Gve=n,Object.defineProperty(km.prototype,"length",{get:function(){return IO(this),this.$$length}}),Object.defineProperty(ir.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case el:case Uc:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),B7=function(e,t,r){e["$$"+t]=r}}}catch{}var Gve;nd.DocumentType=Qx;nd.DOMException=ri;nd.DOMImplementation=A7;nd.Element=ah;nd.Node=ir;nd.NodeList=jc;nd.XMLSerializer=k7});var U7=Le(C_=>{"use strict";var j7=v_().freeze;C_.XML_ENTITIES=j7({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});C_.HTML_ENTITIES=j7({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"});C_.entityMap=C_.HTML_ENTITIES});var K7=Le(LO=>{"use strict";var A_=v_().NAMESPACE,PO=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,V7=new RegExp("[\\-\\.0-9"+PO.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),$7=new RegExp("^"+PO.source+V7.source+"*(?::"+PO.source+V7.source+"*)?$"),x_=0,rd=1,Pm=2,D_=3,Lm=4,Bm=5,I_=6,eD=7;function jm(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,jm)}jm.prototype=new Error;jm.prototype.name=jm.name;function z7(){}z7.prototype={parse:function(n,e,t){var r=this.domBuilder;r.startDocument(),G7(e,e={}),Wve(n,e,t,r,this.errorHandler),r.endDocument()}};function Wve(n,e,t,r,i){function o(De){if(De>65535){De-=65536;var Be=55296+(De>>10),pt=56320+(De&1023);return String.fromCharCode(Be,pt)}else return String.fromCharCode(De)}function s(De){var Be=De.slice(1,-1);return Object.hasOwnProperty.call(t,Be)?t[Be]:Be.charAt(0)==="#"?o(parseInt(Be.substr(1).replace("x","0x"))):(i.error("entity not found:"+De),De)}function a(De){if(De>v){var Be=n.substring(v,De).replace(/&#?\w+;/g,s);m&&l(v),r.characters(Be,0,De-v),v=De}}function l(De,Be){for(;De>=u&&(Be=h.exec(n));)c=Be.index,u=c+Be[0].length,m.lineNumber++;m.columnNumber=De-c+1}for(var c=0,u=0,h=/.*(?:\r\n?|\n)|.*$/g,m=r.locator,g=[{currentNSMap:e}],b={},v=0;;){try{var E=n.indexOf("<",v);if(E<0){if(!n.substr(v).match(/^\s*$/)){var C=r.doc,R=C.createTextNode(n.substr(v));C.appendChild(R),r.currentElement=R}return}switch(E>v&&a(E),n.charAt(E+1)){case"/":var z=n.indexOf(">",E+3),F=n.substring(E+2,z).replace(/[ \t\n\r]+$/g,""),M=g.pop();z<0?(F=n.substring(E+2).replace(/[\s<].*/,""),i.error("end tag name: "+F+" is not complete:"+M.tagName),z=E+1+F.length):F.match(/\s</)&&(F=F.replace(/[\s<].*/,""),i.error("end tag name: "+F+" maybe not complete"),z=E+1+F.length);var D=M.localNSMap,$=M.tagName==F,Q=$||M.tagName&&M.tagName.toLowerCase()==F.toLowerCase();if(Q){if(r.endElement(M.uri,M.localName,F),D)for(var k in D)Object.prototype.hasOwnProperty.call(D,k)&&r.endPrefixMapping(k);$||i.fatalError("end tag name: "+F+" is not match the current start tagName:"+M.tagName)}else g.push(M);z++;break;case"?":m&&l(E),z=Qve(n,E,r);break;case"!":m&&l(E),z=Yve(n,E,r,i);break;default:m&&l(E);var oe=new W7,Ce=g[g.length-1].currentNSMap,z=Kve(n,E,oe,Ce,s,i),ae=oe.length;if(!oe.closed&&Xve(n,z,oe.tagName,b)&&(oe.closed=!0,t.nbsp||i.warning("unclosed xml attribute")),m&&ae){for(var Te=H7(m,{}),Oe=0;Oe<ae;Oe++){var _e=oe[Oe];l(_e.offset),_e.locator=H7(m,{})}r.locator=Te,q7(oe,r,Ce)&&g.push(oe),r.locator=m}else q7(oe,r,Ce)&&g.push(oe);A_.isHTML(oe.uri)&&!oe.closed?z=Jve(n,z,oe.tagName,s,r):z++}}catch(De){if(De instanceof jm)throw De;i.error("element parse error: "+De),z=-1}z>v?v=z:a(Math.max(E,v)+1)}}function H7(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function Kve(n,e,t,r,i,o){function s(g,b,v){t.attributeNames.hasOwnProperty(g)&&o.fatalError("Attribute "+g+" redefined"),t.addValue(g,b.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),v)}for(var a,l,c=++e,u=x_;;){var h=n.charAt(c);switch(h){case"=":if(u===rd)a=n.slice(e,c),u=D_;else if(u===Pm)u=D_;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(u===D_||u===rd)if(u===rd&&(o.warning('attribute value must after "="'),a=n.slice(e,c)),e=c+1,c=n.indexOf(h,e),c>0)l=n.slice(e,c),s(a,l,e-1),u=Bm;else throw new Error("attribute value no end '"+h+"' match");else if(u==Lm)l=n.slice(e,c),s(a,l,e),o.warning('attribute "'+a+'" missed start quot('+h+")!!"),e=c+1,u=Bm;else throw new Error('attribute value must after "="');break;case"/":switch(u){case x_:t.setTagName(n.slice(e,c));case Bm:case I_:case eD:u=eD,t.closed=!0;case Lm:case rd:break;case Pm:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),u==x_&&t.setTagName(n.slice(e,c)),c;case">":switch(u){case x_:t.setTagName(n.slice(e,c));case Bm:case I_:case eD:break;case Lm:case rd:l=n.slice(e,c),l.slice(-1)==="/"&&(t.closed=!0,l=l.slice(0,-1));case Pm:u===Pm&&(l=a),u==Lm?(o.warning('attribute "'+l+'" missed quot(")!'),s(a,l,e)):((!A_.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,e));break;case D_:throw new Error("attribute value missed!!")}return c;case"\x80":h=" ";default:if(h<=" ")switch(u){case x_:t.setTagName(n.slice(e,c)),u=I_;break;case rd:a=n.slice(e,c),u=Pm;break;case Lm:var l=n.slice(e,c);o.warning('attribute "'+l+'" missed quot(")!!'),s(a,l,e);case Bm:u=I_;break}else switch(u){case Pm:var m=t.tagName;(!A_.isHTML(r[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,e),e=c,u=rd;break;case Bm:o.warning('attribute space is required"'+a+'"!!');case I_:u=rd,e=c;break;case D_:u=Lm,e=c;break;case eD:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function q7(n,e,t){for(var r=n.tagName,i=null,h=n.length;h--;){var o=n[h],s=o.qName,a=o.value,m=s.indexOf(":");if(m>0)var l=o.prefix=s.slice(0,m),c=s.slice(m+1),u=l==="xmlns"&&c;else c=s,l=null,u=s==="xmlns"&&"";o.localName=c,u!==!1&&(i==null&&(i={},G7(t,t={})),t[u]=i[u]=a,o.uri=A_.XMLNS,e.startPrefixMapping(u,a))}for(var h=n.length;h--;){o=n[h];var l=o.prefix;l&&(l==="xml"&&(o.uri=A_.XML),l!=="xmlns"&&(o.uri=t[l||""]))}var m=r.indexOf(":");m>0?(l=n.prefix=r.slice(0,m),c=n.localName=r.slice(m+1)):(l=null,c=n.localName=r);var g=n.uri=t[l||""];if(e.startElement(g,c,r,n),n.closed){if(e.endElement(g,c,r),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return n.currentNSMap=t,n.localNSMap=i,!0}function Jve(n,e,t,r,i){if(/^(?:script|textarea)$/i.test(t)){var o=n.indexOf("</"+t+">",e),s=n.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(t)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),o)}return e+1}function Xve(n,e,t,r){var i=r[t];return i==null&&(i=n.lastIndexOf("</"+t+">"),i<e&&(i=n.lastIndexOf("</"+t)),r[t]=i),i<e}function G7(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}function Yve(n,e,t,r){var i=n.charAt(e+2);switch(i){case"-":if(n.charAt(e+3)==="-"){var o=n.indexOf("-->",e+4);return o>e?(t.comment(n,e+4,o-e-4),o+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var o=n.indexOf("]]>",e+9);return t.startCDATA(),t.characters(n,e+9,o-e-9),t.endCDATA(),o+3}var s=Zve(n,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],c=!1,u=!1;a>3&&(/^public$/i.test(s[2][0])?(c=s[3][0],u=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(u=s[3][0]));var h=s[a-1];return t.startDTD(l,c,u),t.endDTD(),h.index+h[0].length}}return-1}function Qve(n,e,t){var r=n.indexOf("?>",e);if(r){var i=n.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var o=i[0].length;return t.processingInstruction(i[1],i[2]),r+2}else return-1}return-1}function W7(){this.attributeNames={}}W7.prototype={setTagName:function(n){if(!$7.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,t){if(!$7.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:t}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function Zve(n,e){var t,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(n);t=i.exec(n);)if(r.push(t),t[1])return r}LO.XMLReader=z7;LO.ParseError=jm});var tW=Le(nD=>{"use strict";var e_e=v_(),t_e=kO(),J7=U7(),Q7=K7(),n_e=t_e.DOMImplementation,X7=e_e.NAMESPACE,r_e=Q7.ParseError,i_e=Q7.XMLReader;function Z7(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function eW(n){this.options=n||{locator:{}}}eW.prototype.parseFromString=function(n,e){var t=this.options,r=new i_e,i=t.domBuilder||new T_,o=t.errorHandler,s=t.locator,a=t.xmlns||{},l=/\/x?html?$/.test(e),c=l?J7.HTML_ENTITIES:J7.XML_ENTITIES;s&&i.setDocumentLocator(s),r.errorHandler=o_e(o,i,s),r.domBuilder=t.domBuilder||i,l&&(a[""]=X7.HTML),a.xml=a.xml||X7.XML;var u=t.normalizeLineEndings||Z7;return n&&typeof n=="string"?r.parse(u(n),a,c):r.errorHandler.error("invalid doc source"),i.doc};function o_e(n,e,t){if(!n){if(e instanceof T_)return e;n=e}var r={},i=n instanceof Function;t=t||{};function o(s){var a=n[s];!a&&i&&(a=n.length==2?function(l){n(s,l)}:n),r[s]=a&&function(l){a("[xmldom "+s+"]	"+l+BO(t))}||function(){}}return o("warning"),o("error"),o("fatalError"),r}function T_(){this.cdata=!1}function Um(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}T_.prototype={startDocument:function(){this.doc=new n_e().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,t,r){var i=this.doc,o=i.createElementNS(n,t||e),s=r.length;tD(this,o),this.currentElement=o,this.locator&&Um(this.locator,o);for(var a=0;a<s;a++){var n=r.getURI(a),l=r.getValue(a),t=r.getQName(a),c=i.createAttributeNS(n,t);this.locator&&Um(r.getLocator(a),c),c.value=c.nodeValue=l,o.setAttributeNode(c)}},endElement:function(n,e,t){var r=this.currentElement,i=r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var t=this.doc.createProcessingInstruction(n,e);this.locator&&Um(this.locator,t),tD(this,t)},ignorableWhitespace:function(n,e,t){},characters:function(n,e,t){if(n=Y7.apply(this,arguments),n){if(this.cdata)var r=this.doc.createCDATASection(n);else var r=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(n)&&this.doc.appendChild(r),this.locator&&Um(this.locator,r)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,t){n=Y7.apply(this,arguments);var r=this.doc.createComment(n);this.locator&&Um(this.locator,r),tD(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,t){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(n,e,t);this.locator&&Um(this.locator,i),tD(this,i),this.doc.doctype=i}},warning:function(n){console.warn("[xmldom warning]	"+n,BO(this.locator))},error:function(n){console.error("[xmldom error]	"+n,BO(this.locator))},fatalError:function(n){throw new r_e(n,this.locator)}};function BO(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function Y7(n,e,t){return typeof n=="string"?n.substr(e,t):n.length>=e+t||e?new java.lang.String(n,e,t)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){T_.prototype[n]=function(){return null}});function tD(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}nD.__DOMHandler=T_;nD.normalizeLineEndings=Z7;nD.DOMParser=eW});var rW=Le(rD=>{"use strict";var nW=kO();rD.DOMImplementation=nW.DOMImplementation;rD.XMLSerializer=nW.XMLSerializer;rD.DOMParser=tW().DOMParser});var fW=Le((FZe,dW)=>{"use strict";var uW={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",as:"https://www.w3.org/ns/activitystreams#",bookmark:"http://www.w3.org/2002/01/bookmark#",cal:"http://www.w3.org/2002/12/cal/ical#",cco:"http://www.ontologyrepository.com/CommonCoreOntologies/",cert:"http://www.w3.org/ns/auth/cert#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",gpx:"http://www.w3.org/ns/pim/gpx#",gr:"http://purl.org/goodrelations/v1#",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",prov:"http://www.w3.org/ns/prov#",pto:"http://www.productontology.org/id/",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"};function s_e(n={namedNode:e=>e}){let e={};for(let t in uW){let r=uW[t];e[t]=function(i=""){return n.namedNode(r+i)}}return e}dW.exports=s_e});var pW=Le((hW,iD)=>{"use strict";(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof iD=="object"&&iD.exports?iD.exports=e():n.ttl2jsonld=e()})(hW,function(){"use strict";function n(r,i){function o(){this.constructor=r}o.prototype=i.prototype,r.prototype=new o}function e(r,i,o,s){this.message=r,this.expected=i,this.found=o,this.location=s,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,e)}n(e,Error),e.buildMessage=function(r,i){var o={literal:function(m){return'"'+a(m.text)+'"'},class:function(m){var g="",b;for(b=0;b<m.parts.length;b++)g+=m.parts[b]instanceof Array?l(m.parts[b][0])+"-"+l(m.parts[b][1]):l(m.parts[b]);return"["+(m.inverted?"^":"")+g+"]"},any:function(m){return"any character"},end:function(m){return"end of input"},other:function(m){return m.description}};function s(m){return m.charCodeAt(0).toString(16).toUpperCase()}function a(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+s(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+s(g)})}function l(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+s(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+s(g)})}function c(m){return o[m.type](m)}function u(m){var g=new Array(m.length),b,v;for(b=0;b<m.length;b++)g[b]=c(m[b]);if(g.sort(),g.length>0){for(b=1,v=1;b<g.length;b++)g[b-1]!==g[b]&&(g[v]=g[b],v++);g.length=v}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function h(m){return m?'"'+a(m)+'"':"end of input"}return"Expected "+u(r)+" but "+h(i)+" found."};function t(r,i){i=i!==void 0?i:{};var o={},s={turtleDoc:lk},a=lk,l=function(_){var x=Wn.toJSON();return x["@graph"]=[],_.filter(N=>Array.isArray(N)).forEach(N=>{N.forEach(j=>{x["@graph"].push(j)})}),x["@graph"].length===1&&(Object.assign(x,x["@graph"][0]),delete x["@graph"]),x},c="\uFEFF",u=tn("\uFEFF",!1),h=".",m=tn(".",!1),g=function(_){return _},b="#",v=tn("#",!1),E=/^[^\n]/,C=or([`
`],!0,!1),R=`
`,F=tn(`
`,!1),M=function(_){return _.join("")},D="@prefix",$=tn("@prefix",!1),Q=function(_,x){return Wn.addPrefix(_===""?"0":_,x),{}},k="@base",oe=tn("@base",!1),Ce=function(_){return Wn.addBase(_),{}},z=/^[Bb]/,ae=or(["B","b"],!1,!1),Te=/^[Aa]/,Oe=or(["A","a"],!1,!1),_e=/^[Ss]/,De=or(["S","s"],!1,!1),Be=/^[Ee]/,pt=or(["E","e"],!1,!1),Tt=/^[Pp]/,bt=or(["P","p"],!1,!1),At=/^[Rr]/,sn=or(["R","r"],!1,!1),Dn=/^[Ff]/,Rn=or(["F","f"],!1,!1),mn=/^[Ii]/,an=or(["I","i"],!1,!1),Nn=/^[Xx]/,qt=or(["X","x"],!1,!1),ie=function(_,x){var N={};return typeof _=="string"&&_!=="[]"?N["@id"]=_:typeof _=="object"&&Object.assign(N,_),x&&Object.assign(N,x),[N]},A=function(_,x){var N={};return _&&Object.assign(N,_),x&&Object.assign(N,x),[N]},T=";",X=tn(";",!1),re=function(_,x,N,j){var G={};return G[N]=j,G},pe=function(_,x,N){return N},xe=function(_,x,N){var j={};return N.unshift(MK(_,x)),N.forEach(G=>{G&&Object.keys(G).forEach(le=>{G[le].forEach(ce=>{le==="@type"&&ce["@id"]!==void 0&&(ce=ce["@id"]),j[le]===void 0?j[le]=ce:Array.isArray(j[le])?j[le].push(ce):j[le]=[j[le],ce]})})}),j},gt=",",Fe=tn(",",!1),wt=function(_,x){return x},ln=function(_,x){return x.unshift(_),x},Gn="a",Zi=tn("a",!1),ss=function(){return"@type"},Dt=function(_){return TD(_,!0)},Er=function(_){return TD(_,!1)},gn=function(_){return _==="[]"?{}:{"@id":_}},Mo=function(_){return{"@id":_}},Km="[",U=tn("[",!1),qc="]",Oo=tn("]",!1),nt="(",U_=tn("(",!1),V_=")",fh=tn(")",!1),da=function(_){return{"@list":_}},hh=function(_,x){return{"@value":_,"@language":x}},zc="^^",Hr=tn("^^",!1),ur=function(_,x){if(x==="http://www.w3.org/2001/XMLSchema#boolean"&&_==="true")return!0;if(x==="http://www.w3.org/2001/XMLSchema#boolean"&&_==="false")return!1;if(x==="http://www.w3.org/2001/XMLSchema#integer")return parseInt(_);if(x==="http://www.w3.org/2001/XMLSchema#double")return parseFloat(_);let N=Wn.resolve(x,!0);if(N){let j=x.split(":")[0];if(N==="http://www.w3.org/2001/XMLSchema#boolean"&&_==="true")return Wn.decrement(j),!0;if(N==="http://www.w3.org/2001/XMLSchema#boolean"&&_==="false")return Wn.decrement(j),!1;if(N==="http://www.w3.org/2001/XMLSchema#integer")return Wn.decrement(j),parseInt(_);if(N==="http://www.w3.org/2001/XMLSchema#double")return Wn.decrement(j),parseFloat(_)}return{"@value":_,"@type":x}},ph="true",qr=tn("true",!1),ko=function(){return!0},as="false",$_=tn("false",!1),H_=function(){return!1},q_=function(_){return _+":"},eo="<",ks=tn("<",!1),mh=/^[^\0- <>"{}|\^`\\]/,Jm=or([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),gh=">",yh=tn(">",!1),z_=function(_){let x=_.map(j=>65536<=j.codePointAt(0)&&j.codePointAt(0)<=983039?"a":j.length===1?j:j.length===6?String.fromCharCode("0x"+j.substring(2)):j.length===10?String.fromCodePoint("0x"+j.substring(2)):j).join("");if(x.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var N=_.join("");try{return Wn.resolve(N)}catch{ED("Invalid IRIREF "+N)}}else ED("Invalid IRIREF "+_.join("")+" / "+x)},Ps=":",ls=tn(":",!1),G_=function(_){return _=_||"0",Wn.hasPrefix(_)===!1&&ED("undefined prefix "+_),_},vh=function(_){return _||""},W_=function(_,x){return Wn.increment(_),Wn.resolve(_+":"+x)},_h="_:",K_=tn("_:",!1),en=/^[0-9]/,dn=or([["0","9"]],!1,!1),J_="@",X_=tn("@",!1),Xm=/^[a-zA-Z]/,Vr=or([["a","z"],["A","Z"]],!1,!1),Ym="-",Qm=tn("-",!1),bh=/^[a-zA-Z0-9]/,wh=or([["a","z"],["A","Z"],["0","9"]],!1,!1),Y_=function(_,x){return"-"+x.join("")},gD=function(_,x){return _.join("")+x.join("")},Eh=/^[+\-]/,Sh=or(["+","-"],!1,!1),yD=function(_){return _.match(/^[0+][0-9]+$/)?{"@value":_,"@type":"http://www.w3.org/2001/XMLSchema#integer"}:parseInt(_)},vD=function(_){return{"@value":_,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}},f=function(_){return{"@value":_,"@type":"http://www.w3.org/2001/XMLSchema#double"}},d=/^[eE]/,p=or(["e","E"],!1,!1),y='"',S=tn('"',!1),I=/^[^"\\\n\r]/,P=or(['"',"\\",`
`,"\r"],!0,!1),H="'",V=tn("'",!1),q=/^[^'\\\n\r]/,K=or(["'","\\",`
`,"\r"],!0,!1),Y="'''",te=tn("'''",!1),se=/^[^'\\]/,he=or(["'","\\"],!0,!1),ve="''",Ee=tn("''",!1),O=function(_,x){return"''"+x.join("")},J=function(_,x){return"'"+x.join("")},Z=function(_,x){return _.join("")+x.join("")},ee='"""',me=tn('"""',!1),we=/^[^"\\]/,rt=or(['"',"\\"],!0,!1),Ve='""',cn=tn('""',!1),lt=function(_,x){return'""'+x.join("")},It=function(_,x){return'"'+x.join("")},Jn="\\U",yr=tn("\\U",!1),dr=function(_){return String.fromCodePoint(parseInt(_.join(""),16))},Bi="\\u",Di=tn("\\u",!1),ji=function(_){return String.fromCharCode(parseInt(_.join(""),16))},Ar="\\t",zr=tn("\\t",!1),ci=function(){return"	"},Ii="\\b",ld=tn("\\b",!1),Gc=function(){return"\b"},Wc="\\n",Kc=tn("\\n",!1),Zm=function(){return`
`},Jc="\\r",cs=tn("\\r",!1),Po=function(){return"\r"},cd="\\f",ud=tn("\\f",!1),Ch=function(){return"\f"},Xc='\\"',eg=tn('\\"',!1),dd=function(){return'"'},Lo="\\'",Xl=tn("\\'",!1),fa=function(){return"'"},fr="\\\\",ha=tn("\\\\",!1),Yc=function(){return"\\"},Gr=/^[ \t\r\n]/,tg=or([" ","	","\r",`
`],!1,!1),Yl=function(){return"[]"},Ql=/^[\uD800-\uDBFF]/,_D=or([["\uD800","\uDBFF"]],!1,!1),bD=/^[\uDC00-\uDFFF]/,Q_=or([["\uDC00","\uDFFF"]],!1,!1),kW=function(_,x){return _+x},PW=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,LW=or([["A","Z"],["a","z"],["\xC0","\xD6"],["\xD8","\xF6"],["\xF8","\u02FF"],["\u0370","\u037D"],["\u037F","\u1FFF"],["\u200C","\u200D"],["\u2070","\u218F"],["\u2C00","\u2FEF"],["\u3001","\uD7FF"],["\uF900","\uFDCF"],["\uFDF0","\uFFFD"]],!1,!1),BW="_",jW=tn("_",!1),UW="\xB7",VW=tn("\xB7",!1),$W=/^[\u0300-\u036F]/,HW=or([["\u0300","\u036F"]],!1,!1),qW=/^[\u203F-\u2040]/,zW=or([["\u203F","\u2040"]],!1,!1),ok=function(_,x,N,j){return N.join("")+j.join("")},GW=function(_,x,N){return _+x.join("")+N.join("")},WW="%",KW=tn("%",!1),JW=/^[0-9A-Fa-f]/,XW=or([["0","9"],["A","F"],["a","f"]],!1,!1),YW="\\",QW=tn("\\",!1),ZW=/^[_~.!$&'()*+,;=\/?#@%\-]/,eK=or(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),w=0,Qe=0,Z_=[{line:1,column:1}],rl=0,wD=[],ye=0,e0;if("startRule"in i){if(!(i.startRule in s))throw new Error(`Can't start parsing from rule "`+i.startRule+'".');a=s[i.startRule]}function t0e(){return r.substring(Qe,w)}function n0e(){return ng(Qe,w)}function r0e(_,x){throw x=x!==void 0?x:ng(Qe,w),ak([nK(_)],r.substring(Qe,w),x)}function ED(_,x){throw x=x!==void 0?x:ng(Qe,w),rK(_,x)}function tn(_,x){return{type:"literal",text:_,ignoreCase:x}}function or(_,x,N){return{type:"class",parts:_,inverted:x,ignoreCase:N}}function i0e(){return{type:"any"}}function tK(){return{type:"end"}}function nK(_){return{type:"other",description:_}}function sk(_){var x=Z_[_],N;if(x)return x;for(N=_-1;!Z_[N];)N--;for(x=Z_[N],x={line:x.line,column:x.column};N<_;)r.charCodeAt(N)===10?(x.line++,x.column=1):x.column++,N++;return Z_[_]=x,x}function ng(_,x){var N=sk(_),j=sk(x);return{start:{offset:_,line:N.line,column:N.column},end:{offset:x,line:j.line,column:j.column}}}function ge(_){w<rl||(w>rl&&(rl=w,wD=[]),wD.push(_))}function rK(_,x){return new e(_,null,null,x)}function ak(_,x,N){return new e(e.buildMessage(_,x),_,x,N)}function lk(){var _,x,N,j,G;for(_=w,x=[],N=ck();N!==o;)x.push(N),N=ck();if(x!==o){for(N=[],j=uk();j!==o;)N.push(j),j=uk();if(N!==o){for(j=[],G=et();G!==o;)j.push(G),G=et();j!==o?(Qe=_,x=l(N),_=x):(w=_,_=o)}else w=_,_=o}else w=_,_=o;return _}function ck(){var _;return r.charCodeAt(w)===65279?(_=c,w++):(_=o,ye===0&&ge(u)),_}function uk(){var _,x,N,j;if(_=oK(),_===o)if(_=w,x=uK(),x!==o){for(N=[],j=et();j!==o;)N.push(j),j=et();N!==o?(r.charCodeAt(w)===46?(j=h,w++):(j=o,ye===0&&ge(m)),j!==o?(Qe=_,x=g(x),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;return _}function iK(){var _,x,N,j;if(_=w,r.charCodeAt(w)===35?(x=b,w++):(x=o,ye===0&&ge(v)),x!==o){for(N=[],E.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(C));j!==o;)N.push(j),E.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(C));N!==o?(r.charCodeAt(w)===10?(j=R,w++):(j=o,ye===0&&ge(F)),j!==o?(Qe=_,x=M(N),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;return _}function et(){var _;return _=AK(),_===o&&(_=iK()),_}function oK(){var _;return _=sK(),_===o&&(_=aK(),_===o&&(_=cK(),_===o&&(_=lK()))),_}function sK(){var _,x,N,j,G,le,ce,W,dt;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o)if(r.substr(w,7)===D?(N=D,w+=7):(N=o,ye===0&&ge($)),N!==o){for(j=[],G=et();G!==o;)j.push(G),G=et();if(j!==o)if(G=mk(),G!==o){for(le=[],ce=et();ce!==o;)le.push(ce),ce=et();if(le!==o)if(ce=ig(),ce!==o){for(W=[],dt=et();dt!==o;)W.push(dt),dt=et();W!==o?(r.charCodeAt(w)===46?(dt=h,w++):(dt=o,ye===0&&ge(m)),dt!==o?(Qe=_,x=Q(G,ce),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;else w=_,_=o}else w=_,_=o;else w=_,_=o}else w=_,_=o;else w=_,_=o;return _}function aK(){var _,x,N,j,G,le,ce;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o)if(r.substr(w,5)===k?(N=k,w+=5):(N=o,ye===0&&ge(oe)),N!==o){for(j=[],G=et();G!==o;)j.push(G),G=et();if(j!==o)if(G=ig(),G!==o){for(le=[],ce=et();ce!==o;)le.push(ce),ce=et();le!==o?(r.charCodeAt(w)===46?(ce=h,w++):(ce=o,ye===0&&ge(m)),ce!==o?(Qe=_,x=Ce(G),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;else w=_,_=o}else w=_,_=o;else w=_,_=o;return _}function lK(){var _,x,N,j,G,le,ce,W;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o)if(z.test(r.charAt(w))?(N=r.charAt(w),w++):(N=o,ye===0&&ge(ae)),N!==o)if(Te.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(Oe)),j!==o)if(_e.test(r.charAt(w))?(G=r.charAt(w),w++):(G=o,ye===0&&ge(De)),G!==o)if(Be.test(r.charAt(w))?(le=r.charAt(w),w++):(le=o,ye===0&&ge(pt)),le!==o){for(ce=[],W=et();W!==o;)ce.push(W),W=et();ce!==o?(W=ig(),W!==o?(Qe=_,x=Ce(W),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;else w=_,_=o;else w=_,_=o;else w=_,_=o;else w=_,_=o;return _}function cK(){var _,x,N,j,G,le,ce,W,dt,Xn,hd,pd;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o)if(Tt.test(r.charAt(w))?(N=r.charAt(w),w++):(N=o,ye===0&&ge(bt)),N!==o)if(At.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(sn)),j!==o)if(Be.test(r.charAt(w))?(G=r.charAt(w),w++):(G=o,ye===0&&ge(pt)),G!==o)if(Dn.test(r.charAt(w))?(le=r.charAt(w),w++):(le=o,ye===0&&ge(Rn)),le!==o)if(mn.test(r.charAt(w))?(ce=r.charAt(w),w++):(ce=o,ye===0&&ge(an)),ce!==o)if(Nn.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(qt)),W!==o){for(dt=[],Xn=et();Xn!==o;)dt.push(Xn),Xn=et();if(dt!==o)if(Xn=mk(),Xn!==o){for(hd=[],pd=et();pd!==o;)hd.push(pd),pd=et();hd!==o?(pd=ig(),pd!==o?(Qe=_,x=Q(Xn,pd),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;else w=_,_=o}else w=_,_=o;else w=_,_=o;else w=_,_=o;else w=_,_=o;else w=_,_=o;else w=_,_=o;else w=_,_=o;return _}function uK(){var _,x,N;return _=w,x=dK(),x!==o?(N=SD(),N!==o?(Qe=_,x=ie(x,N),_=x):(w=_,_=o)):(w=_,_=o),_===o&&(_=w,x=dk(),x!==o?(N=SD(),N===o&&(N=null),N!==o?(Qe=_,x=A(x,N),_=x):(w=_,_=o)):(w=_,_=o)),_}function SD(){var _,x,N,j,G,le,ce,W,dt,Xn;if(_=w,x=xD(),x!==o)if(N=CD(),N!==o){for(j=[],G=w,le=[],ce=et();ce!==o;)le.push(ce),ce=et();for(le!==o?(r.charCodeAt(w)===59?(ce=T,w++):(ce=o,ye===0&&ge(X)),ce!==o?(W=w,dt=xD(),dt!==o?(Xn=CD(),Xn!==o?(Qe=W,dt=re(x,N,dt,Xn),W=dt):(w=W,W=o)):(w=W,W=o),W===o&&(W=null),W!==o?(Qe=G,le=pe(x,N,W),G=le):(w=G,G=o)):(w=G,G=o)):(w=G,G=o);G!==o;){for(j.push(G),G=w,le=[],ce=et();ce!==o;)le.push(ce),ce=et();le!==o?(r.charCodeAt(w)===59?(ce=T,w++):(ce=o,ye===0&&ge(X)),ce!==o?(W=w,dt=xD(),dt!==o?(Xn=CD(),Xn!==o?(Qe=W,dt=re(x,N,dt,Xn),W=dt):(w=W,W=o)):(w=W,W=o),W===o&&(W=null),W!==o?(Qe=G,le=pe(x,N,W),G=le):(w=G,G=o)):(w=G,G=o)):(w=G,G=o)}j!==o?(Qe=_,x=xe(x,N,j),_=x):(w=_,_=o)}else w=_,_=o;else w=_,_=o;return _}function CD(){var _,x,N,j,G,le,ce;if(_=w,x=rg(),x!==o){for(N=[],j=w,G=[],le=et();le!==o;)G.push(le),le=et();for(G!==o?(r.charCodeAt(w)===44?(le=gt,w++):(le=o,ye===0&&ge(Fe)),le!==o?(ce=rg(),ce!==o?(Qe=j,G=wt(x,ce),j=G):(w=j,j=o)):(w=j,j=o)):(w=j,j=o);j!==o;){for(N.push(j),j=w,G=[],le=et();le!==o;)G.push(le),le=et();G!==o?(r.charCodeAt(w)===44?(le=gt,w++):(le=o,ye===0&&ge(Fe)),le!==o?(ce=rg(),ce!==o?(Qe=j,G=wt(x,ce),j=G):(w=j,j=o)):(w=j,j=o)):(w=j,j=o)}N!==o?(Qe=_,x=ln(x,N),_=x):(w=_,_=o)}else w=_,_=o;return _}function xD(){var _,x,N;if(_=w,x=fK(),x!==o&&(Qe=_,x=g(x)),_=x,_===o){for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();x!==o?(r.charCodeAt(w)===97?(N=Gn,w++):(N=o,ye===0&&ge(Zi)),N!==o?(Qe=_,x=ss(),_=x):(w=_,_=o)):(w=_,_=o)}return _}function dK(){var _,x;return _=w,x=fk(),x!==o&&(Qe=_,x=Dt(x)),_=x,_===o&&(_=hk(),_===o&&(_=t0())),_}function fK(){var _,x,N;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();return x!==o?(N=t0(),N!==o?(Qe=_,x=g(N),_=x):(w=_,_=o)):(w=_,_=o),_}function rg(){var _,x;return _=hK(),_===o&&(_=w,x=fk(),x!==o&&(Qe=_,x=Er(x)),_=x,_===o&&(_=w,x=hk(),x!==o&&(Qe=_,x=gn(x)),_=x,_===o&&(_=w,x=dk(),x!==o&&(Qe=_,x=g(x)),_=x,_===o&&(_=w,x=t0(),x!==o&&(Qe=_,x=Mo(x)),_=x)))),_}function hK(){var _;return _=mK(),_===o&&(_=pK(),_===o&&(_=gK())),_}function dk(){var _,x,N,j,G,le;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o)if(r.charCodeAt(w)===91?(N=Km,w++):(N=o,ye===0&&ge(U)),N!==o)if(j=SD(),j!==o){for(G=[],le=et();le!==o;)G.push(le),le=et();G!==o?(r.charCodeAt(w)===93?(le=qc,w++):(le=o,ye===0&&ge(Oo)),le!==o?(Qe=_,x=g(j),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;else w=_,_=o;else w=_,_=o;return _}function fk(){var _,x,N,j,G,le;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o)if(r.charCodeAt(w)===40?(N=nt,w++):(N=o,ye===0&&ge(U_)),N!==o){for(j=[],G=rg();G!==o;)j.push(G),G=rg();if(j!==o){for(G=[],le=et();le!==o;)G.push(le),le=et();G!==o?(r.charCodeAt(w)===41?(le=V_,w++):(le=o,ye===0&&ge(fh)),le!==o?(Qe=_,x=da(j),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o}else w=_,_=o;else w=_,_=o;return _}function pK(){var _,x,N;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();return x!==o?(N=SK(),N===o&&(N=EK(),N===o&&(N=wK())),N!==o?(Qe=_,x=g(N),_=x):(w=_,_=o)):(w=_,_=o),_}function mK(){var _,x,N,j,G,le,ce;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o)if(N=DD(),N!==o){for(j=[],G=et();G!==o;)j.push(G),G=et();j!==o?(G=bK(),G!==o?(Qe=_,x=hh(N,G),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;else w=_,_=o;if(_===o){for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o)if(N=DD(),N!==o){for(j=[],G=et();G!==o;)j.push(G),G=et();if(j!==o)if(r.substr(w,2)===zc?(G=zc,w+=2):(G=o,ye===0&&ge(Hr)),G!==o){for(le=[],ce=et();ce!==o;)le.push(ce),ce=et();le!==o?(ce=t0(),ce!==o?(Qe=_,x=ur(N,ce),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;else w=_,_=o}else w=_,_=o;else w=_,_=o;if(_===o){for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();x!==o?(N=DD(),N!==o?(Qe=_,x=g(N),_=x):(w=_,_=o)):(w=_,_=o)}}return _}function gK(){var _,x,N;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o?(r.substr(w,4)===ph?(N=ph,w+=4):(N=o,ye===0&&ge(qr)),N!==o?(Qe=_,x=ko(),_=x):(w=_,_=o)):(w=_,_=o),_===o){for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();x!==o?(r.substr(w,5)===as?(N=as,w+=5):(N=o,ye===0&&ge($_)),N!==o?(Qe=_,x=H_(),_=x):(w=_,_=o)):(w=_,_=o)}return _}function DD(){var _,x,N;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();return x!==o?(N=DK(),N===o&&(N=IK(),N===o&&(N=xK(),N===o&&(N=CK()))),N!==o?(Qe=_,x=g(N),_=x):(w=_,_=o)):(w=_,_=o),_}function t0(){var _,x,N;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o?(N=ig(),N!==o?(Qe=_,x=g(N),_=x):(w=_,_=o)):(w=_,_=o),_===o){for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();x!==o?(N=yK(),N!==o?(Qe=_,x=g(N),_=x):(w=_,_=o)):(w=_,_=o)}return _}function yK(){var _,x;return _=vK(),_===o&&(_=w,x=pk(),x!==o&&(Qe=_,x=q_(x)),_=x),_}function hk(){var _,x,N;for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();if(x!==o?(N=_K(),N!==o?(Qe=_,x=g(N),_=x):(w=_,_=o)):(w=_,_=o),_===o){for(_=w,x=[],N=et();N!==o;)x.push(N),N=et();x!==o?(N=TK(),N!==o?(Qe=_,x=g(N),_=x):(w=_,_=o)):(w=_,_=o)}return _}function ig(){var _,x,N,j;if(_=w,r.charCodeAt(w)===60?(x=eo,w++):(x=o,ye===0&&ge(ks)),x!==o){for(N=[],mh.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(Jm)),j===o&&(j=vr());j!==o;)N.push(j),mh.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(Jm)),j===o&&(j=vr());N!==o?(r.charCodeAt(w)===62?(j=gh,w++):(j=o,ye===0&&ge(yh)),j!==o?(Qe=_,x=z_(N),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;return _}function pk(){var _,x,N;return _=w,x=yk(),x===o&&(x=null),x!==o?(r.charCodeAt(w)===58?(N=Ps,w++):(N=o,ye===0&&ge(ls)),N!==o?(Qe=_,x=G_(x),_=x):(w=_,_=o)):(w=_,_=o),_}function mk(){var _,x,N;return _=w,x=yk(),x===o&&(x=null),x!==o?(r.charCodeAt(w)===58?(N=Ps,w++):(N=o,ye===0&&ge(ls)),N!==o?(Qe=_,x=vh(x),_=x):(w=_,_=o)):(w=_,_=o),_}function vK(){var _,x,N;return _=w,x=pk(),x!==o?(N=RK(),N!==o?(Qe=_,x=W_(x,N),_=x):(w=_,_=o)):(w=_,_=o),_}function _K(){var _,x,N,j,G,le,ce,W,dt,Xn;if(_=w,x=w,r.substr(w,2)===_h?(N=_h,w+=2):(N=o,ye===0&&ge(K_)),N!==o)if(j=AD(),j===o&&(en.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(dn))),j!==o){for(G=[],le=Ai();le!==o;)G.push(le),le=Ai();if(G!==o){if(le=[],ce=w,W=[],r.charCodeAt(w)===46?(dt=h,w++):(dt=o,ye===0&&ge(m)),dt!==o)for(;dt!==o;)W.push(dt),r.charCodeAt(w)===46?(dt=h,w++):(dt=o,ye===0&&ge(m));else W=o;if(W!==o){if(dt=[],Xn=Ai(),Xn!==o)for(;Xn!==o;)dt.push(Xn),Xn=Ai();else dt=o;dt!==o?(W=[W,dt],ce=W):(w=ce,ce=o)}else w=ce,ce=o;for(;ce!==o;){if(le.push(ce),ce=w,W=[],r.charCodeAt(w)===46?(dt=h,w++):(dt=o,ye===0&&ge(m)),dt!==o)for(;dt!==o;)W.push(dt),r.charCodeAt(w)===46?(dt=h,w++):(dt=o,ye===0&&ge(m));else W=o;if(W!==o){if(dt=[],Xn=Ai(),Xn!==o)for(;Xn!==o;)dt.push(Xn),Xn=Ai();else dt=o;dt!==o?(W=[W,dt],ce=W):(w=ce,ce=o)}else w=ce,ce=o}le!==o?(N=[N,j,G,le],x=N):(w=x,x=o)}else w=x,x=o}else w=x,x=o;else w=x,x=o;return x!==o?_=r.substring(_,w):_=x,_}function bK(){var _,x,N,j,G,le,ce,W;if(_=w,r.charCodeAt(w)===64?(x=J_,w++):(x=o,ye===0&&ge(X_)),x!==o){if(N=[],Xm.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(Vr)),j!==o)for(;j!==o;)N.push(j),Xm.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(Vr));else N=o;if(N!==o){if(j=[],G=w,r.charCodeAt(w)===45?(le=Ym,w++):(le=o,ye===0&&ge(Qm)),le!==o){if(ce=[],bh.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(wh)),W!==o)for(;W!==o;)ce.push(W),bh.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(wh));else ce=o;ce!==o?(Qe=G,le=Y_(N,ce),G=le):(w=G,G=o)}else w=G,G=o;for(;G!==o;)if(j.push(G),G=w,r.charCodeAt(w)===45?(le=Ym,w++):(le=o,ye===0&&ge(Qm)),le!==o){if(ce=[],bh.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(wh)),W!==o)for(;W!==o;)ce.push(W),bh.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(wh));else ce=o;ce!==o?(Qe=G,le=Y_(N,ce),G=le):(w=G,G=o)}else w=G,G=o;j!==o?(Qe=_,x=gD(N,j),_=x):(w=_,_=o)}else w=_,_=o}else w=_,_=o;return _}function wK(){var _,x,N,j,G,le;if(_=w,x=w,N=w,Eh.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(Sh)),j===o&&(j=null),j!==o){if(G=[],en.test(r.charAt(w))?(le=r.charAt(w),w++):(le=o,ye===0&&ge(dn)),le!==o)for(;le!==o;)G.push(le),en.test(r.charAt(w))?(le=r.charAt(w),w++):(le=o,ye===0&&ge(dn));else G=o;G!==o?(j=[j,G],N=j):(w=N,N=o)}else w=N,N=o;return N!==o?x=r.substring(x,w):x=N,x!==o&&(Qe=_,x=yD(x)),_=x,_}function EK(){var _,x,N,j,G,le,ce,W;if(_=w,x=w,N=w,Eh.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(Sh)),j===o&&(j=null),j!==o){for(G=[],en.test(r.charAt(w))?(le=r.charAt(w),w++):(le=o,ye===0&&ge(dn));le!==o;)G.push(le),en.test(r.charAt(w))?(le=r.charAt(w),w++):(le=o,ye===0&&ge(dn));if(G!==o)if(r.charCodeAt(w)===46?(le=h,w++):(le=o,ye===0&&ge(m)),le!==o){if(ce=[],en.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(dn)),W!==o)for(;W!==o;)ce.push(W),en.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(dn));else ce=o;ce!==o?(j=[j,G,le,ce],N=j):(w=N,N=o)}else w=N,N=o;else w=N,N=o}else w=N,N=o;return N!==o?x=r.substring(x,w):x=N,x!==o&&(Qe=_,x=vD(x)),_=x,_}function SK(){var _,x,N,j,G,le,ce,W,dt;if(_=w,x=w,N=w,Eh.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(Sh)),j===o&&(j=null),j!==o){if(G=w,le=[],en.test(r.charAt(w))?(ce=r.charAt(w),w++):(ce=o,ye===0&&ge(dn)),ce!==o)for(;ce!==o;)le.push(ce),en.test(r.charAt(w))?(ce=r.charAt(w),w++):(ce=o,ye===0&&ge(dn));else le=o;if(le!==o)if(r.charCodeAt(w)===46?(ce=h,w++):(ce=o,ye===0&&ge(m)),ce!==o){for(W=[],en.test(r.charAt(w))?(dt=r.charAt(w),w++):(dt=o,ye===0&&ge(dn));dt!==o;)W.push(dt),en.test(r.charAt(w))?(dt=r.charAt(w),w++):(dt=o,ye===0&&ge(dn));W!==o?(dt=ID(),dt!==o?(le=[le,ce,W,dt],G=le):(w=G,G=o)):(w=G,G=o)}else w=G,G=o;else w=G,G=o;if(G===o){if(G=w,r.charCodeAt(w)===46?(le=h,w++):(le=o,ye===0&&ge(m)),le!==o){if(ce=[],en.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(dn)),W!==o)for(;W!==o;)ce.push(W),en.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(dn));else ce=o;ce!==o?(W=ID(),W!==o?(le=[le,ce,W],G=le):(w=G,G=o)):(w=G,G=o)}else w=G,G=o;if(G===o){if(G=w,le=[],en.test(r.charAt(w))?(ce=r.charAt(w),w++):(ce=o,ye===0&&ge(dn)),ce!==o)for(;ce!==o;)le.push(ce),en.test(r.charAt(w))?(ce=r.charAt(w),w++):(ce=o,ye===0&&ge(dn));else le=o;le!==o?(ce=ID(),ce!==o?(le=[le,ce],G=le):(w=G,G=o)):(w=G,G=o)}}G!==o?(j=[j,G],N=j):(w=N,N=o)}else w=N,N=o;return N!==o?x=r.substring(x,w):x=N,x!==o&&(Qe=_,x=f(x)),_=x,_}function ID(){var _,x,N,j,G,le;if(_=w,x=w,d.test(r.charAt(w))?(N=r.charAt(w),w++):(N=o,ye===0&&ge(p)),N!==o)if(Eh.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(Sh)),j===o&&(j=null),j!==o){if(G=[],en.test(r.charAt(w))?(le=r.charAt(w),w++):(le=o,ye===0&&ge(dn)),le!==o)for(;le!==o;)G.push(le),en.test(r.charAt(w))?(le=r.charAt(w),w++):(le=o,ye===0&&ge(dn));else G=o;G!==o?(N=[N,j,G],x=N):(w=x,x=o)}else w=x,x=o;else w=x,x=o;return x!==o?_=r.substring(_,w):_=x,_}function CK(){var _,x,N,j;if(_=w,r.charCodeAt(w)===34?(x=y,w++):(x=o,ye===0&&ge(S)),x!==o){for(N=[],I.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(P)),j===o&&(j=Tr(),j===o&&(j=vr()));j!==o;)N.push(j),I.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(P)),j===o&&(j=Tr(),j===o&&(j=vr()));N!==o?(r.charCodeAt(w)===34?(j=y,w++):(j=o,ye===0&&ge(S)),j!==o?(Qe=_,x=M(N),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;return _}function xK(){var _,x,N,j;if(_=w,r.charCodeAt(w)===39?(x=H,w++):(x=o,ye===0&&ge(V)),x!==o){for(N=[],q.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(K)),j===o&&(j=Tr(),j===o&&(j=vr()));j!==o;)N.push(j),q.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(K)),j===o&&(j=Tr(),j===o&&(j=vr()));N!==o?(r.charCodeAt(w)===39?(j=H,w++):(j=o,ye===0&&ge(V)),j!==o?(Qe=_,x=M(N),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;return _}function DK(){var _,x,N,j,G,le,ce,W;if(_=w,r.substr(w,3)===Y?(x=Y,w+=3):(x=o,ye===0&&ge(te)),x!==o){for(N=[],se.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(he)),j===o&&(j=Tr(),j===o&&(j=vr()));j!==o;)N.push(j),se.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(he)),j===o&&(j=Tr(),j===o&&(j=vr()));if(N!==o){if(j=[],G=w,r.substr(w,2)===ve?(le=ve,w+=2):(le=o,ye===0&&ge(Ee)),le!==o){if(ce=[],se.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(he)),W===o&&(W=Tr(),W===o&&(W=vr())),W!==o)for(;W!==o;)ce.push(W),se.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(he)),W===o&&(W=Tr(),W===o&&(W=vr()));else ce=o;ce!==o?(Qe=G,le=O(N,ce),G=le):(w=G,G=o)}else w=G,G=o;if(G===o)if(G=w,r.charCodeAt(w)===39?(le=H,w++):(le=o,ye===0&&ge(V)),le!==o){if(ce=[],se.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(he)),W===o&&(W=Tr(),W===o&&(W=vr())),W!==o)for(;W!==o;)ce.push(W),se.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(he)),W===o&&(W=Tr(),W===o&&(W=vr()));else ce=o;ce!==o?(Qe=G,le=J(N,ce),G=le):(w=G,G=o)}else w=G,G=o;for(;G!==o;){if(j.push(G),G=w,r.substr(w,2)===ve?(le=ve,w+=2):(le=o,ye===0&&ge(Ee)),le!==o){if(ce=[],se.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(he)),W===o&&(W=Tr(),W===o&&(W=vr())),W!==o)for(;W!==o;)ce.push(W),se.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(he)),W===o&&(W=Tr(),W===o&&(W=vr()));else ce=o;ce!==o?(Qe=G,le=O(N,ce),G=le):(w=G,G=o)}else w=G,G=o;if(G===o)if(G=w,r.charCodeAt(w)===39?(le=H,w++):(le=o,ye===0&&ge(V)),le!==o){if(ce=[],se.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(he)),W===o&&(W=Tr(),W===o&&(W=vr())),W!==o)for(;W!==o;)ce.push(W),se.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(he)),W===o&&(W=Tr(),W===o&&(W=vr()));else ce=o;ce!==o?(Qe=G,le=J(N,ce),G=le):(w=G,G=o)}else w=G,G=o}j!==o?(r.substr(w,3)===Y?(G=Y,w+=3):(G=o,ye===0&&ge(te)),G!==o?(Qe=_,x=Z(N,j),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o}else w=_,_=o;return _}function IK(){var _,x,N,j,G,le,ce,W;if(_=w,r.substr(w,3)===ee?(x=ee,w+=3):(x=o,ye===0&&ge(me)),x!==o){for(N=[],we.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(rt)),j===o&&(j=Tr(),j===o&&(j=vr()));j!==o;)N.push(j),we.test(r.charAt(w))?(j=r.charAt(w),w++):(j=o,ye===0&&ge(rt)),j===o&&(j=Tr(),j===o&&(j=vr()));if(N!==o){if(j=[],G=w,r.substr(w,2)===Ve?(le=Ve,w+=2):(le=o,ye===0&&ge(cn)),le!==o){if(ce=[],we.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(rt)),W===o&&(W=Tr(),W===o&&(W=vr())),W!==o)for(;W!==o;)ce.push(W),we.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(rt)),W===o&&(W=Tr(),W===o&&(W=vr()));else ce=o;ce!==o?(Qe=G,le=lt(N,ce),G=le):(w=G,G=o)}else w=G,G=o;if(G===o)if(G=w,r.charCodeAt(w)===34?(le=y,w++):(le=o,ye===0&&ge(S)),le!==o){if(ce=[],we.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(rt)),W===o&&(W=Tr(),W===o&&(W=vr())),W!==o)for(;W!==o;)ce.push(W),we.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(rt)),W===o&&(W=Tr(),W===o&&(W=vr()));else ce=o;ce!==o?(Qe=G,le=It(N,ce),G=le):(w=G,G=o)}else w=G,G=o;for(;G!==o;){if(j.push(G),G=w,r.substr(w,2)===Ve?(le=Ve,w+=2):(le=o,ye===0&&ge(cn)),le!==o){if(ce=[],we.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(rt)),W===o&&(W=Tr(),W===o&&(W=vr())),W!==o)for(;W!==o;)ce.push(W),we.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(rt)),W===o&&(W=Tr(),W===o&&(W=vr()));else ce=o;ce!==o?(Qe=G,le=lt(N,ce),G=le):(w=G,G=o)}else w=G,G=o;if(G===o)if(G=w,r.charCodeAt(w)===34?(le=y,w++):(le=o,ye===0&&ge(S)),le!==o){if(ce=[],we.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(rt)),W===o&&(W=Tr(),W===o&&(W=vr())),W!==o)for(;W!==o;)ce.push(W),we.test(r.charAt(w))?(W=r.charAt(w),w++):(W=o,ye===0&&ge(rt)),W===o&&(W=Tr(),W===o&&(W=vr()));else ce=o;ce!==o?(Qe=G,le=It(N,ce),G=le):(w=G,G=o)}else w=G,G=o}j!==o?(r.substr(w,3)===ee?(G=ee,w+=3):(G=o,ye===0&&ge(me)),G!==o?(Qe=_,x=Z(N,j),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o}else w=_,_=o;return _}function vr(){var _,x,N,j,G,le,ce,W,dt,Xn,hd;return _=w,r.substr(w,2)===Jn?(x=Jn,w+=2):(x=o,ye===0&&ge(yr)),x!==o?(N=w,j=Bo(),j!==o?(G=Bo(),G!==o?(le=Bo(),le!==o?(ce=Bo(),ce!==o?(W=Bo(),W!==o?(dt=Bo(),dt!==o?(Xn=Bo(),Xn!==o?(hd=Bo(),hd!==o?(j=[j,G,le,ce,W,dt,Xn,hd],N=j):(w=N,N=o)):(w=N,N=o)):(w=N,N=o)):(w=N,N=o)):(w=N,N=o)):(w=N,N=o)):(w=N,N=o)):(w=N,N=o),N!==o?(Qe=_,x=dr(N),_=x):(w=_,_=o)):(w=_,_=o),_===o&&(_=w,r.substr(w,2)===Bi?(x=Bi,w+=2):(x=o,ye===0&&ge(Di)),x!==o?(N=w,j=Bo(),j!==o?(G=Bo(),G!==o?(le=Bo(),le!==o?(ce=Bo(),ce!==o?(j=[j,G,le,ce],N=j):(w=N,N=o)):(w=N,N=o)):(w=N,N=o)):(w=N,N=o),N!==o?(Qe=_,x=ji(N),_=x):(w=_,_=o)):(w=_,_=o)),_}function Tr(){var _,x;return _=w,r.substr(w,2)===Ar?(x=Ar,w+=2):(x=o,ye===0&&ge(zr)),x!==o&&(Qe=_,x=ci()),_=x,_===o&&(_=w,r.substr(w,2)===Ii?(x=Ii,w+=2):(x=o,ye===0&&ge(ld)),x!==o&&(Qe=_,x=Gc()),_=x,_===o&&(_=w,r.substr(w,2)===Wc?(x=Wc,w+=2):(x=o,ye===0&&ge(Kc)),x!==o&&(Qe=_,x=Zm()),_=x,_===o&&(_=w,r.substr(w,2)===Jc?(x=Jc,w+=2):(x=o,ye===0&&ge(cs)),x!==o&&(Qe=_,x=Po()),_=x,_===o&&(_=w,r.substr(w,2)===cd?(x=cd,w+=2):(x=o,ye===0&&ge(ud)),x!==o&&(Qe=_,x=Ch()),_=x,_===o&&(_=w,r.substr(w,2)===Xc?(x=Xc,w+=2):(x=o,ye===0&&ge(eg)),x!==o&&(Qe=_,x=dd()),_=x,_===o&&(_=w,r.substr(w,2)===Lo?(x=Lo,w+=2):(x=o,ye===0&&ge(Xl)),x!==o&&(Qe=_,x=fa()),_=x,_===o&&(_=w,r.substr(w,2)===fr?(x=fr,w+=2):(x=o,ye===0&&ge(ha)),x!==o&&(Qe=_,x=Yc()),_=x))))))),_}function AK(){var _;return Gr.test(r.charAt(w))?(_=r.charAt(w),w++):(_=o,ye===0&&ge(tg)),_}function TK(){var _,x,N,j;if(_=w,r.charCodeAt(w)===91?(x=Km,w++):(x=o,ye===0&&ge(U)),x!==o){for(N=[],j=et();j!==o;)N.push(j),j=et();N!==o?(r.charCodeAt(w)===93?(j=qc,w++):(j=o,ye===0&&ge(Oo)),j!==o?(Qe=_,x=Yl(),_=x):(w=_,_=o)):(w=_,_=o)}else w=_,_=o;return _}function gk(){var _,x,N;return _=w,Ql.test(r.charAt(w))?(x=r.charAt(w),w++):(x=o,ye===0&&ge(_D)),x!==o?(bD.test(r.charAt(w))?(N=r.charAt(w),w++):(N=o,ye===0&&ge(Q_)),N!==o?(Qe=_,x=kW(x,N),_=x):(w=_,_=o)):(w=_,_=o),_===o&&(PW.test(r.charAt(w))?(_=r.charAt(w),w++):(_=o,ye===0&&ge(LW))),_}function AD(){var _;return _=gk(),_===o&&(r.charCodeAt(w)===95?(_=BW,w++):(_=o,ye===0&&ge(jW))),_}function Ai(){var _;return _=AD(),_===o&&(r.charCodeAt(w)===45?(_=Ym,w++):(_=o,ye===0&&ge(Qm)),_===o&&(en.test(r.charAt(w))?(_=r.charAt(w),w++):(_=o,ye===0&&ge(dn)),_===o&&(r.charCodeAt(w)===183?(_=UW,w++):(_=o,ye===0&&ge(VW)),_===o&&($W.test(r.charAt(w))?(_=r.charAt(w),w++):(_=o,ye===0&&ge(HW)),_===o&&(qW.test(r.charAt(w))?(_=r.charAt(w),w++):(_=o,ye===0&&ge(zW))))))),_}function yk(){var _,x,N,j,G,le,ce,W,dt;if(_=w,x=w,N=gk(),N!==o){for(j=[],G=Ai();G!==o;)j.push(G),G=Ai();if(j!==o){if(G=[],le=w,ce=[],r.charCodeAt(w)===46?(W=h,w++):(W=o,ye===0&&ge(m)),W!==o)for(;W!==o;)ce.push(W),r.charCodeAt(w)===46?(W=h,w++):(W=o,ye===0&&ge(m));else ce=o;if(ce!==o){if(W=[],dt=Ai(),dt!==o)for(;dt!==o;)W.push(dt),dt=Ai();else W=o;W!==o?(ce=[ce,W],le=ce):(w=le,le=o)}else w=le,le=o;for(;le!==o;){if(G.push(le),le=w,ce=[],r.charCodeAt(w)===46?(W=h,w++):(W=o,ye===0&&ge(m)),W!==o)for(;W!==o;)ce.push(W),r.charCodeAt(w)===46?(W=h,w++):(W=o,ye===0&&ge(m));else ce=o;if(ce!==o){if(W=[],dt=Ai(),dt!==o)for(;dt!==o;)W.push(dt),dt=Ai();else W=o;W!==o?(ce=[ce,W],le=ce):(w=le,le=o)}else w=le,le=o}G!==o?(N=[N,j,G],x=N):(w=x,x=o)}else w=x,x=o}else w=x,x=o;return x!==o?_=r.substring(_,w):_=x,_}function RK(){var _,x,N,j,G,le,ce,W;if(_=w,x=AD(),x===o&&(r.charCodeAt(w)===58?(x=Ps,w++):(x=o,ye===0&&ge(ls)),x===o&&(en.test(r.charAt(w))?(x=r.charAt(w),w++):(x=o,ye===0&&ge(dn)),x===o&&(x=fd()))),x!==o){for(N=[],j=Ai(),j===o&&(r.charCodeAt(w)===58?(j=Ps,w++):(j=o,ye===0&&ge(ls)),j===o&&(j=fd()));j!==o;)N.push(j),j=Ai(),j===o&&(r.charCodeAt(w)===58?(j=Ps,w++):(j=o,ye===0&&ge(ls)),j===o&&(j=fd()));if(N!==o){if(j=[],G=w,le=[],r.charCodeAt(w)===46?(ce=h,w++):(ce=o,ye===0&&ge(m)),ce!==o)for(;ce!==o;)le.push(ce),r.charCodeAt(w)===46?(ce=h,w++):(ce=o,ye===0&&ge(m));else le=o;if(le!==o){if(ce=[],W=Ai(),W===o&&(r.charCodeAt(w)===58?(W=Ps,w++):(W=o,ye===0&&ge(ls)),W===o&&(W=fd())),W!==o)for(;W!==o;)ce.push(W),W=Ai(),W===o&&(r.charCodeAt(w)===58?(W=Ps,w++):(W=o,ye===0&&ge(ls)),W===o&&(W=fd()));else ce=o;ce!==o?(Qe=G,le=ok(x,N,le,ce),G=le):(w=G,G=o)}else w=G,G=o;for(;G!==o;){if(j.push(G),G=w,le=[],r.charCodeAt(w)===46?(ce=h,w++):(ce=o,ye===0&&ge(m)),ce!==o)for(;ce!==o;)le.push(ce),r.charCodeAt(w)===46?(ce=h,w++):(ce=o,ye===0&&ge(m));else le=o;if(le!==o){if(ce=[],W=Ai(),W===o&&(r.charCodeAt(w)===58?(W=Ps,w++):(W=o,ye===0&&ge(ls)),W===o&&(W=fd())),W!==o)for(;W!==o;)ce.push(W),W=Ai(),W===o&&(r.charCodeAt(w)===58?(W=Ps,w++):(W=o,ye===0&&ge(ls)),W===o&&(W=fd()));else ce=o;ce!==o?(Qe=G,le=ok(x,N,le,ce),G=le):(w=G,G=o)}else w=G,G=o}j!==o?(Qe=_,x=GW(x,N,j),_=x):(w=_,_=o)}else w=_,_=o}else w=_,_=o;return _}function fd(){var _;return _=NK(),_===o&&(_=FK()),_}function NK(){var _,x,N,j,G;return _=w,x=w,r.charCodeAt(w)===37?(N=WW,w++):(N=o,ye===0&&ge(KW)),N!==o?(j=Bo(),j!==o?(G=Bo(),G!==o?(N=[N,j,G],x=N):(w=x,x=o)):(w=x,x=o)):(w=x,x=o),x!==o?_=r.substring(_,w):_=x,_}function Bo(){var _;return JW.test(r.charAt(w))?(_=r.charAt(w),w++):(_=o,ye===0&&ge(XW)),_}function FK(){var _,x,N;return _=w,r.charCodeAt(w)===92?(x=YW,w++):(x=o,ye===0&&ge(QW)),x!==o?(ZW.test(r.charAt(w))?(N=r.charAt(w),w++):(N=o,ye===0&&ge(eK)),N!==o?(Qe=_,x=g(N),_=x):(w=_,_=o)):(w=_,_=o),_}var vk=function(_){return _.match(/^[a-z](.*?):(.+?)/g)};function MK(_,x){var N={};return N[_]=x,N}var Wn={base:[],data:{},addBase:function(_){if(Wn.base.length===0){Wn.base.push(_);return}let x=Wn.base[Wn.base.length-1];x!==_&&Wn.base.push(new URL(_,x).toString())},addPrefix:function(_,x){let N=Wn.data[_];N===void 0?Wn.data[_]=[{uri:x,count:0}]:N[N.length-1].uri!==x&&N.push({uri:x,count:0})},hasPrefix:function(_){return this.data[_]!==void 0},resolve:function(_,x){let N=Object.keys(Wn.data).find(G=>_.indexOf(G+":")===0);if(N!==void 0){let G=Wn.data[N];if(G.length===1&&x!==!0&&vk(G[0].uri))return _;let le=G[G.length-1].uri;return _.replace(N+":",le)}else{var j=Wn.base.length===0?i.baseIRI:Wn.base[Wn.base.length-1];return!j||_.match(/^(http:|https:|urn:|file:)/)?_:_.indexOf("//")===0&&j?j.split("//")[0]+_:new URL(_,j).toString()}},increment:function(_){let x=Wn.data[_];x!==void 0&&x[x.length-1].count++},decrement:function(_){let x=Wn.data[_];x!==void 0&&x[x.length-1].count--},toJSON:function(){let _={};return Wn.base.length>0&&(_["@context"]===void 0&&(_["@context"]={}),_["@context"]["@base"]=Wn.base[0]),Object.keys(Wn.data).forEach(x=>{let N=Wn.data[x][0];N.uri==="http://www.w3.org/2001/XMLSchema#"&&N.count<1||vk(N.uri)&&(_["@context"]===void 0&&(_["@context"]={}),_["@context"][x]=N.uri)}),_}};function TD(_,x){if(_["@list"]===void 0||!x&&!_["@list"].find(G=>G["@list"]!==void 0))return _;if(_["@list"].length===0)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var N={},j=null;return _["@list"].forEach(G=>{j===null?j=N:(j["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},j=j["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),j["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=TD(G,!0),j["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}),N}if(e0=a(),e0!==o&&w===r.length)return e0;throw e0!==o&&w<r.length&&ge(tK()),ak(wD,rl<r.length?r.charAt(rl):null,rl<r.length?ng(rl,rl+1):ng(rl,rl))}return{SyntaxError:e,parse:t}})});var IW=Le((ad,DW)=>{"use strict";var cD=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,uD=function(){function n(){this.fetch=!1,this.DOMException=cD.DOMException}return n.prototype=cD,new n}();(function(n){var e=function(t){var r=typeof n<"u"&&n||typeof self<"u"&&self||typeof global<"u"&&global||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function o(z){return z&&DataView.prototype.isPrototypeOf(z)}if(i.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(z){return z&&s.indexOf(Object.prototype.toString.call(z))>-1};function l(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(z)||z==="")throw new TypeError('Invalid character in header field name: "'+z+'"');return z.toLowerCase()}function c(z){return typeof z!="string"&&(z=String(z)),z}function u(z){var ae={next:function(){var Te=z.shift();return{done:Te===void 0,value:Te}}};return i.iterable&&(ae[Symbol.iterator]=function(){return ae}),ae}function h(z){this.map={},z instanceof h?z.forEach(function(ae,Te){this.append(Te,ae)},this):Array.isArray(z)?z.forEach(function(ae){if(ae.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+ae.length);this.append(ae[0],ae[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(ae){this.append(ae,z[ae])},this)}h.prototype.append=function(z,ae){z=l(z),ae=c(ae);var Te=this.map[z];this.map[z]=Te?Te+", "+ae:ae},h.prototype.delete=function(z){delete this.map[l(z)]},h.prototype.get=function(z){return z=l(z),this.has(z)?this.map[z]:null},h.prototype.has=function(z){return this.map.hasOwnProperty(l(z))},h.prototype.set=function(z,ae){this.map[l(z)]=c(ae)},h.prototype.forEach=function(z,ae){for(var Te in this.map)this.map.hasOwnProperty(Te)&&z.call(ae,this.map[Te],Te,this)},h.prototype.keys=function(){var z=[];return this.forEach(function(ae,Te){z.push(Te)}),u(z)},h.prototype.values=function(){var z=[];return this.forEach(function(ae){z.push(ae)}),u(z)},h.prototype.entries=function(){var z=[];return this.forEach(function(ae,Te){z.push([Te,ae])}),u(z)},i.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);function m(z){if(!z._noBody){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}}function g(z){return new Promise(function(ae,Te){z.onload=function(){ae(z.result)},z.onerror=function(){Te(z.error)}})}function b(z){var ae=new FileReader,Te=g(ae);return ae.readAsArrayBuffer(z),Te}function v(z){var ae=new FileReader,Te=g(ae),Oe=/charset=([A-Za-z0-9_-]+)/.exec(z.type),_e=Oe?Oe[1]:"utf-8";return ae.readAsText(z,_e),Te}function E(z){for(var ae=new Uint8Array(z),Te=new Array(ae.length),Oe=0;Oe<ae.length;Oe++)Te[Oe]=String.fromCharCode(ae[Oe]);return Te.join("")}function C(z){if(z.slice)return z.slice(0);var ae=new Uint8Array(z.byteLength);return ae.set(new Uint8Array(z)),ae.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(z){this.bodyUsed=this.bodyUsed,this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:i.blob&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:i.formData&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():i.arrayBuffer&&i.blob&&o(z)?(this._bodyArrayBuffer=C(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(z)||a(z))?this._bodyArrayBuffer=C(z):this._bodyText=z=Object.prototype.toString.call(z):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var z=m(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var z=m(this);return z||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(i.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var z=m(this);if(z)return z;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function M(z){var ae=z.toUpperCase();return F.indexOf(ae)>-1?ae:z}function D(z,ae){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ae=ae||{};var Te=ae.body;if(z instanceof D){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,ae.headers||(this.headers=new h(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,!Te&&z._bodyInit!=null&&(Te=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=ae.credentials||this.credentials||"same-origin",(ae.headers||!this.headers)&&(this.headers=new h(ae.headers)),this.method=M(ae.method||this.method||"GET"),this.mode=ae.mode||this.mode||null,this.signal=ae.signal||this.signal||function(){if("AbortController"in r){var De=new AbortController;return De.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Te)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Te),(this.method==="GET"||this.method==="HEAD")&&(ae.cache==="no-store"||ae.cache==="no-cache")){var Oe=/([?&])_=[^&]*/;if(Oe.test(this.url))this.url=this.url.replace(Oe,"$1_="+new Date().getTime());else{var _e=/\?/;this.url+=(_e.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function $(z){var ae=new FormData;return z.trim().split("&").forEach(function(Te){if(Te){var Oe=Te.split("="),_e=Oe.shift().replace(/\+/g," "),De=Oe.join("=").replace(/\+/g," ");ae.append(decodeURIComponent(_e),decodeURIComponent(De))}}),ae}function Q(z){var ae=new h,Te=z.replace(/\r?\n[\t ]+/g," ");return Te.split("\r").map(function(Oe){return Oe.indexOf(`
`)===0?Oe.substr(1,Oe.length):Oe}).forEach(function(Oe){var _e=Oe.split(":"),De=_e.shift().trim();if(De){var Be=_e.join(":").trim();try{ae.append(De,Be)}catch(pt){console.warn("Response "+pt.message)}}}),ae}R.call(D.prototype);function k(z,ae){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(ae||(ae={}),this.type="default",this.status=ae.status===void 0?200:ae.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=ae.statusText===void 0?"":""+ae.statusText,this.headers=new h(ae.headers),this.url=ae.url||"",this._initBody(z)}R.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},k.error=function(){var z=new k(null,{status:200,statusText:""});return z.ok=!1,z.status=0,z.type="error",z};var oe=[301,302,303,307,308];k.redirect=function(z,ae){if(oe.indexOf(ae)===-1)throw new RangeError("Invalid status code");return new k(null,{status:ae,headers:{location:z}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(ae,Te){this.message=ae,this.name=Te;var Oe=Error(ae);this.stack=Oe.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function Ce(z,ae){return new Promise(function(Te,Oe){var _e=new D(z,ae);if(_e.signal&&_e.signal.aborted)return Oe(new t.DOMException("Aborted","AbortError"));var De=new XMLHttpRequest;function Be(){De.abort()}De.onload=function(){var bt={statusText:De.statusText,headers:Q(De.getAllResponseHeaders()||"")};_e.url.indexOf("file://")===0&&(De.status<200||De.status>599)?bt.status=200:bt.status=De.status,bt.url="responseURL"in De?De.responseURL:bt.headers.get("X-Request-URL");var At="response"in De?De.response:De.responseText;setTimeout(function(){Te(new k(At,bt))},0)},De.onerror=function(){setTimeout(function(){Oe(new TypeError("Network request failed"))},0)},De.ontimeout=function(){setTimeout(function(){Oe(new TypeError("Network request timed out"))},0)},De.onabort=function(){setTimeout(function(){Oe(new t.DOMException("Aborted","AbortError"))},0)};function pt(bt){try{return bt===""&&r.location.href?r.location.href:bt}catch{return bt}}if(De.open(_e.method,pt(_e.url),!0),_e.credentials==="include"?De.withCredentials=!0:_e.credentials==="omit"&&(De.withCredentials=!1),"responseType"in De&&(i.blob?De.responseType="blob":i.arrayBuffer&&(De.responseType="arraybuffer")),ae&&typeof ae.headers=="object"&&!(ae.headers instanceof h||r.Headers&&ae.headers instanceof r.Headers)){var Tt=[];Object.getOwnPropertyNames(ae.headers).forEach(function(bt){Tt.push(l(bt)),De.setRequestHeader(bt,c(ae.headers[bt]))}),_e.headers.forEach(function(bt,At){Tt.indexOf(At)===-1&&De.setRequestHeader(At,bt)})}else _e.headers.forEach(function(bt,At){De.setRequestHeader(At,bt)});_e.signal&&(_e.signal.addEventListener("abort",Be),De.onreadystatechange=function(){De.readyState===4&&_e.signal.removeEventListener("abort",Be)}),De.send(typeof _e._bodyInit>"u"?null:_e._bodyInit)})}return Ce.polyfill=!0,r.fetch||(r.fetch=Ce,r.Headers=h,r.Request=D,r.Response=k),t.Headers=h,t.Request=D,t.Response=k,t.fetch=Ce,Object.defineProperty(t,"__esModule",{value:!0}),t}({})})(uD);uD.fetch.ponyfill=!0;delete uD.fetch.polyfill;var zm=cD.fetch?cD:uD;ad=zm.fetch;ad.default=zm.fetch;ad.fetch=zm.fetch;ad.Headers=zm.Headers;ad.Request=zm.Request;ad.Response=zm.Response;DW.exports=ad});var OW=Le((Ent,pD)=>{"use strict";var V_e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var xt=function(n){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},i={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function v(E){return E instanceof o?new o(E.type,v(E.content),E.alias):Array.isArray(E)?E.map(v):E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(v){return Object.prototype.toString.call(v).slice(8,-1)},objId:function(v){return v.__id||Object.defineProperty(v,"__id",{value:++t}),v.__id},clone:function v(E,C){C=C||{};var R,F;switch(i.util.type(E)){case"Object":if(F=i.util.objId(E),C[F])return C[F];R={},C[F]=R;for(var M in E)E.hasOwnProperty(M)&&(R[M]=v(E[M],C));return R;case"Array":return F=i.util.objId(E),C[F]?C[F]:(R=[],C[F]=R,E.forEach(function(D,$){R[$]=v(D,C)}),R);default:return E}},getLanguage:function(v){for(;v;){var E=e.exec(v.className);if(E)return E[1].toLowerCase();v=v.parentElement}return"none"},setLanguage:function(v,E){v.className=v.className.replace(RegExp(e,"gi"),""),v.classList.add("language-"+E)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(R){var v=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(R.stack)||[])[1];if(v){var E=document.getElementsByTagName("script");for(var C in E)if(E[C].src==v)return E[C]}return null}},isActive:function(v,E,C){for(var R="no-"+E;v;){var F=v.classList;if(F.contains(E))return!0;if(F.contains(R))return!1;v=v.parentElement}return!!C}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(v,E){var C=i.util.clone(i.languages[v]);for(var R in E)C[R]=E[R];return C},insertBefore:function(v,E,C,R){R=R||i.languages;var F=R[v],M={};for(var D in F)if(F.hasOwnProperty(D)){if(D==E)for(var $ in C)C.hasOwnProperty($)&&(M[$]=C[$]);C.hasOwnProperty(D)||(M[D]=F[D])}var Q=R[v];return R[v]=M,i.languages.DFS(i.languages,function(k,oe){oe===Q&&k!=v&&(this[k]=M)}),M},DFS:function v(E,C,R,F){F=F||{};var M=i.util.objId;for(var D in E)if(E.hasOwnProperty(D)){C.call(E,D,E[D],R||D);var $=E[D],Q=i.util.type($);Q==="Object"&&!F[M($)]?(F[M($)]=!0,v($,C,null,F)):Q==="Array"&&!F[M($)]&&(F[M($)]=!0,v($,C,D,F))}}},plugins:{},highlightAll:function(v,E){i.highlightAllUnder(document,v,E)},highlightAllUnder:function(v,E,C){var R={callback:C,container:v,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",R),R.elements=Array.prototype.slice.apply(R.container.querySelectorAll(R.selector)),i.hooks.run("before-all-elements-highlight",R);for(var F=0,M;M=R.elements[F++];)i.highlightElement(M,E===!0,R.callback)},highlightElement:function(v,E,C){var R=i.util.getLanguage(v),F=i.languages[R];i.util.setLanguage(v,R);var M=v.parentElement;M&&M.nodeName.toLowerCase()==="pre"&&i.util.setLanguage(M,R);var D=v.textContent,$={element:v,language:R,grammar:F,code:D};function Q(oe){$.highlightedCode=oe,i.hooks.run("before-insert",$),$.element.innerHTML=$.highlightedCode,i.hooks.run("after-highlight",$),i.hooks.run("complete",$),C&&C.call($.element)}if(i.hooks.run("before-sanity-check",$),M=$.element.parentElement,M&&M.nodeName.toLowerCase()==="pre"&&!M.hasAttribute("tabindex")&&M.setAttribute("tabindex","0"),!$.code){i.hooks.run("complete",$),C&&C.call($.element);return}if(i.hooks.run("before-highlight",$),!$.grammar){Q(i.util.encode($.code));return}if(E&&n.Worker){var k=new Worker(i.filename);k.onmessage=function(oe){Q(oe.data)},k.postMessage(JSON.stringify({language:$.language,code:$.code,immediateClose:!0}))}else Q(i.highlight($.code,$.grammar,$.language))},highlight:function(v,E,C){var R={code:v,grammar:E,language:C};if(i.hooks.run("before-tokenize",R),!R.grammar)throw new Error('The language "'+R.language+'" has no grammar.');return R.tokens=i.tokenize(R.code,R.grammar),i.hooks.run("after-tokenize",R),o.stringify(i.util.encode(R.tokens),R.language)},tokenize:function(v,E){var C=E.rest;if(C){for(var R in C)E[R]=C[R];delete E.rest}var F=new l;return c(F,F.head,v),a(v,F,E,F.head,0),h(F)},hooks:{all:{},add:function(v,E){var C=i.hooks.all;C[v]=C[v]||[],C[v].push(E)},run:function(v,E){var C=i.hooks.all[v];if(!(!C||!C.length))for(var R=0,F;F=C[R++];)F(E)}},Token:o};n.Prism=i;function o(v,E,C,R){this.type=v,this.content=E,this.alias=C,this.length=(R||"").length|0}o.stringify=function v(E,C){if(typeof E=="string")return E;if(Array.isArray(E)){var R="";return E.forEach(function(Q){R+=v(Q,C)}),R}var F={type:E.type,content:v(E.content,C),tag:"span",classes:["token",E.type],attributes:{},language:C},M=E.alias;M&&(Array.isArray(M)?Array.prototype.push.apply(F.classes,M):F.classes.push(M)),i.hooks.run("wrap",F);var D="";for(var $ in F.attributes)D+=" "+$+'="'+(F.attributes[$]||"").replace(/"/g,"&quot;")+'"';return"<"+F.tag+' class="'+F.classes.join(" ")+'"'+D+">"+F.content+"</"+F.tag+">"};function s(v,E,C,R){v.lastIndex=E;var F=v.exec(C);if(F&&R&&F[1]){var M=F[1].length;F.index+=M,F[0]=F[0].slice(M)}return F}function a(v,E,C,R,F,M){for(var D in C)if(!(!C.hasOwnProperty(D)||!C[D])){var $=C[D];$=Array.isArray($)?$:[$];for(var Q=0;Q<$.length;++Q){if(M&&M.cause==D+","+Q)return;var k=$[Q],oe=k.inside,Ce=!!k.lookbehind,z=!!k.greedy,ae=k.alias;if(z&&!k.pattern.global){var Te=k.pattern.toString().match(/[imsuy]*$/)[0];k.pattern=RegExp(k.pattern.source,Te+"g")}for(var Oe=k.pattern||k,_e=R.next,De=F;_e!==E.tail&&!(M&&De>=M.reach);De+=_e.value.length,_e=_e.next){var Be=_e.value;if(E.length>v.length)return;if(!(Be instanceof o)){var pt=1,Tt;if(z){if(Tt=s(Oe,De,v,Ce),!Tt||Tt.index>=v.length)break;var Dn=Tt.index,bt=Tt.index+Tt[0].length,At=De;for(At+=_e.value.length;Dn>=At;)_e=_e.next,At+=_e.value.length;if(At-=_e.value.length,De=At,_e.value instanceof o)continue;for(var sn=_e;sn!==E.tail&&(At<bt||typeof sn.value=="string");sn=sn.next)pt++,At+=sn.value.length;pt--,Be=v.slice(De,At),Tt.index-=De}else if(Tt=s(Oe,0,Be,Ce),!Tt)continue;var Dn=Tt.index,Rn=Tt[0],mn=Be.slice(0,Dn),an=Be.slice(Dn+Rn.length),Nn=De+Be.length;M&&Nn>M.reach&&(M.reach=Nn);var qt=_e.prev;mn&&(qt=c(E,qt,mn),De+=mn.length),u(E,qt,pt);var ie=new o(D,oe?i.tokenize(Rn,oe):Rn,ae,Rn);if(_e=c(E,qt,ie),an&&c(E,_e,an),pt>1){var A={cause:D+","+Q,reach:Nn};a(v,E,C,_e.prev,De,A),M&&A.reach>M.reach&&(M.reach=A.reach)}}}}}}function l(){var v={value:null,prev:null,next:null},E={value:null,prev:v,next:null};v.next=E,this.head=v,this.tail=E,this.length=0}function c(v,E,C){var R=E.next,F={value:C,prev:E,next:R};return E.next=F,R.prev=F,v.length++,F}function u(v,E,C){for(var R=E.next,F=0;F<C&&R!==v.tail;F++)R=R.next;E.next=R,R.prev=E,v.length-=F}function h(v){for(var E=[],C=v.head.next;C!==v.tail;)E.push(C.value),C=C.next;return E}if(!n.document)return n.addEventListener&&(i.disableWorkerMessageHandler||n.addEventListener("message",function(v){var E=JSON.parse(v.data),C=E.language,R=E.code,F=E.immediateClose;n.postMessage(i.highlight(R,i.languages[C],C)),F&&n.close()},!1)),i;var m=i.util.currentScript();m&&(i.filename=m.src,m.hasAttribute("data-manual")&&(i.manual=!0));function g(){i.manual||i.highlightAll()}if(!i.manual){var b=document.readyState;b==="loading"||b==="interactive"&&m&&m.defer?document.addEventListener("DOMContentLoaded",g):window.requestAnimationFrame?window.requestAnimationFrame(g):window.setTimeout(g,16)}return i}(V_e);typeof pD<"u"&&pD.exports&&(pD.exports=xt);typeof global<"u"&&(global.Prism=xt);xt.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};xt.languages.markup.tag.inside["attr-value"].inside.entity=xt.languages.markup.entity;xt.languages.markup.doctype.inside["internal-subset"].inside=xt.languages.markup;xt.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(xt.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:xt.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+t]={pattern:/[\s\S]+/,inside:xt.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},xt.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(xt.languages.markup.tag,"addAttribute",{value:function(n,e){xt.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:xt.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});xt.languages.html=xt.languages.markup;xt.languages.mathml=xt.languages.markup;xt.languages.svg=xt.languages.markup;xt.languages.xml=xt.languages.extend("markup",{});xt.languages.ssml=xt.languages.xml;xt.languages.atom=xt.languages.xml;xt.languages.rss=xt.languages.xml;(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(xt);xt.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};xt.languages.javascript=xt.languages.extend("clike",{"class-name":[xt.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});xt.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;xt.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:xt.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:xt.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:xt.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:xt.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:xt.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});xt.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:xt.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});xt.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});xt.languages.markup&&(xt.languages.markup.tag.addInlined("script","javascript"),xt.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));xt.languages.js=xt.languages.javascript;(function(){if(typeof xt>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading\u2026",e=function(m,g){return"\u2716 Error "+m+" while fetching file: "+g},t="\u2716 Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},i="data-src-status",o="loading",s="loaded",a="failed",l="pre[data-src]:not(["+i+'="'+s+'"]):not(['+i+'="'+o+'"])';function c(m,g,b){var v=new XMLHttpRequest;v.open("GET",m,!0),v.onreadystatechange=function(){v.readyState==4&&(v.status<400&&v.responseText?g(v.responseText):v.status>=400?b(e(v.status,v.statusText)):b(t))},v.send(null)}function u(m){var g=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(m||"");if(g){var b=Number(g[1]),v=g[2],E=g[3];return v?E?[b,Number(E)]:[b,void 0]:[b,b]}}xt.hooks.add("before-highlightall",function(m){m.selector+=", "+l}),xt.hooks.add("before-sanity-check",function(m){var g=m.element;if(g.matches(l)){m.code="",g.setAttribute(i,o);var b=g.appendChild(document.createElement("CODE"));b.textContent=n;var v=g.getAttribute("data-src"),E=m.language;if(E==="none"){var C=(/\.(\w+)$/.exec(v)||[,"none"])[1];E=r[C]||C}xt.util.setLanguage(b,E),xt.util.setLanguage(g,E);var R=xt.plugins.autoloader;R&&R.loadLanguages(E),c(v,function(F){g.setAttribute(i,s);var M=u(g.getAttribute("data-range"));if(M){var D=F.split(/\r\n?|\n/g),$=M[0],Q=M[1]==null?D.length:M[1];$<0&&($+=D.length),$=Math.max(0,Math.min($-1,D.length)),Q<0&&(Q+=D.length),Q=Math.max(0,Math.min(Q,D.length)),F=D.slice($,Q).join(`
`),g.hasAttribute("data-start")||g.setAttribute("data-start",String($+1))}b.textContent=F,xt.highlightElement(b)},function(F){g.setAttribute(i,a),b.textContent=F})}}),xt.plugins.fileHighlight={highlight:function(g){for(var b=(g||document).querySelectorAll(l),v=0,E;E=b[v++];)xt.highlightElement(E)}};var h=!1;xt.fileHighlight=function(){h||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),h=!0),xt.plugins.fileHighlight.highlight.apply(this,arguments)}})()});var ND;function FD(){return ND}function Zl(n){let e=ND;return ND=n,e}var kK=Symbol("NotFound"),n0=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function xh(n){return n===kK||n?.name==="\u0275NotFound"}function a0(n,e){return Object.is(n,e)}var ui=null,r0=!1,MD=1,PK=null,di=Symbol("SIGNAL");function zt(n){let e=ui;return ui=n,e}function l0(){return ui}var Qc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function md(n){if(r0)throw new Error("");if(ui===null)return;ui.consumerOnSignalRead(n);let e=ui.nextProducerIndex++;if(d0(ui),e<ui.producerNode.length&&ui.producerNode[e]!==n&&sg(ui)){let t=ui.producerNode[e];u0(t,ui.producerIndexOfThis[e])}ui.producerNode[e]!==n&&(ui.producerNode[e]=n,ui.producerIndexOfThis[e]=sg(ui)?Ek(n,ui,e):0),ui.producerLastReadVersion[e]=n.version}function wk(){MD++}function c0(n){if(!(sg(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===MD)){if(!n.producerMustRecompute(n)&&!gd(n)){s0(n);return}n.producerRecomputeValue(n),s0(n)}}function OD(n){if(n.liveConsumerNode===void 0)return;let e=r0;r0=!0;try{for(let t of n.liveConsumerNode)t.dirty||LK(t)}finally{r0=e}}function kD(){return ui?.consumerAllowSignalWrites!==!1}function LK(n){n.dirty=!0,OD(n),n.consumerMarkedDirty?.(n)}function s0(n){n.dirty=!1,n.lastCleanEpoch=MD}function ec(n){return n&&(n.nextProducerIndex=0),zt(n)}function Zc(n,e){if(zt(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(sg(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)u0(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function gd(n){d0(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(c0(t),r!==t.version))return!0}return!1}function Dh(n){if(d0(n),sg(n))for(let e=0;e<n.producerNode.length;e++)u0(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ek(n,e,t){if(Sk(n),n.liveConsumerNode.length===0&&Ck(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Ek(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function u0(n,e){if(Sk(n),n.liveConsumerNode.length===1&&Ck(n))for(let r=0;r<n.producerNode.length;r++)u0(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];d0(i),i.producerIndexOfThis[r]=e}}function sg(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function d0(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Sk(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Ck(n){return n.producerNode!==void 0}function f0(n){PK?.(n)}function ag(n,e){let t=Object.create(BK);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(c0(t),md(t),t.value===og)throw t.error;return t.value};return r[di]=t,f0(t),r}var i0=Symbol("UNSET"),o0=Symbol("COMPUTING"),og=Symbol("ERRORED"),BK=Re(ne({},Qc),{value:i0,dirty:!0,error:null,equal:a0,kind:"computed",producerMustRecompute(n){return n.value===i0||n.value===o0},producerRecomputeValue(n){if(n.value===o0)throw new Error("");let e=n.value;n.value=o0;let t=ec(n),r,i=!1;try{r=n.computation(),zt(null),i=e!==i0&&e!==og&&r!==og&&n.equal(e,r)}catch(o){r=og,n.error=o}finally{Zc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function jK(){throw new Error}var xk=jK;function Dk(n){xk(n)}function PD(n){xk=n}var UK=null;function LD(n,e){let t=Object.create(lg);t.value=n,e!==void 0&&(t.equal=e);let r=()=>Ik(t);return r[di]=t,f0(t),[r,s=>Ih(t,s),s=>BD(t,s)]}function Ik(n){return md(n),n.value}function Ih(n,e){kD()||Dk(n),n.equal(n.value,e)||(n.value=e,VK(n))}function BD(n,e){kD()||Dk(n),Ih(n,e(n.value))}var lg=Re(ne({},Qc),{equal:a0,value:void 0,kind:"signal"});function VK(n){n.version++,wk(),OD(n),UK?.(n)}function Jt(n){return typeof n=="function"}function Ah(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var h0=Ah(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function yd(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var wn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Jt(r))try{r()}catch(o){e=o instanceof h0?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ak(o)}catch(s){e=e??[],s instanceof h0?e=[...e,...s.errors]:e.push(s)}}if(e)throw new h0(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ak(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yd(t,e)}remove(e){let{_finalizers:t}=this;t&&yd(t,e),e instanceof n&&e._removeParent(this)}};wn.EMPTY=(()=>{let n=new wn;return n.closed=!0,n})();var jD=wn.EMPTY;function p0(n){return n instanceof wn||n&&"closed"in n&&Jt(n.remove)&&Jt(n.add)&&Jt(n.unsubscribe)}function Ak(n){Jt(n)?n():n.unsubscribe()}var pa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Th={setTimeout(n,e,...t){let{delegate:r}=Th;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Th;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function m0(n){Th.setTimeout(()=>{let{onUnhandledError:e}=pa;if(e)e(n);else throw n})}function vd(){}var Tk=UD("C",void 0,void 0);function Rk(n){return UD("E",void 0,n)}function Nk(n){return UD("N",n,void 0)}function UD(n,e,t){return{kind:n,value:e,error:t}}var _d=null;function Rh(n){if(pa.useDeprecatedSynchronousErrorHandling){let e=!_d;if(e&&(_d={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=_d;if(_d=null,t)throw r}}else n()}function Fk(n){pa.useDeprecatedSynchronousErrorHandling&&_d&&(_d.errorThrown=!0,_d.error=n)}var bd=class extends wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,p0(e)&&e.add(this)):this.destination=qK}static create(e,t,r){return new ma(e,t,r)}next(e){this.isStopped?$D(Nk(e),this):this._next(e)}error(e){this.isStopped?$D(Rk(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$D(Tk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$K=Function.prototype.bind;function VD(n,e){return $K.call(n,e)}var HD=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){g0(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){g0(r)}else g0(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){g0(t)}}},ma=class extends bd{constructor(e,t,r){super();let i;if(Jt(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pa.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&VD(e.next,o),error:e.error&&VD(e.error,o),complete:e.complete&&VD(e.complete,o)}):i=e}this.destination=new HD(i)}};function g0(n){pa.useDeprecatedSynchronousErrorHandling?Fk(n):m0(n)}function HK(n){throw n}function $D(n,e){let{onStoppedNotification:t}=pa;t&&Th.setTimeout(()=>t(n,e))}var qK={closed:!0,next:vd,error:HK,complete:vd};var Nh=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vo(n){return n}function qD(...n){return zD(n)}function zD(n){return n.length===0?vo:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Xt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=GK(t)?t:new ma(t,r,i);return Rh(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Mk(r),new r((i,o)=>{let s=new ma({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Nh](){return this}pipe(...t){return zD(t)(this)}toPromise(t){return t=Mk(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Mk(n){var e;return(e=n??pa.Promise)!==null&&e!==void 0?e:Promise}function zK(n){return n&&Jt(n.next)&&Jt(n.error)&&Jt(n.complete)}function GK(n){return n&&n instanceof bd||zK(n)&&p0(n)}function GD(n){return Jt(n?.lift)}function Nt(n){return e=>{if(GD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ot(n,e,t,r,i){return new WD(n,e,t,r,i)}var WD=class extends bd{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fh(){return Nt((n,e)=>{let t=null;n._refCount++;let r=Ot(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var eu=class extends Xt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,GD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wn;let t=this.getSubject();e.add(this.source.subscribe(Ot(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wn.EMPTY)}return e}refCount(){return Fh()(this)}};var Ok=Ah(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=(()=>{class n extends Xt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new y0(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ok}next(t){Rh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Rh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Rh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jD:(this.currentObservers=null,o.push(t),new wn(()=>{this.currentObservers=null,yd(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Xt;return t.source=this,t}}return n.create=(e,t)=>new y0(e,t),n})(),y0=class extends $e{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:jD}};var yn=class extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var cg={now(){return(cg.delegate||Date).now()},delegate:void 0};var v0=class extends $e{constructor(e=1/0,t=1/0,r=cg){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var _0=class extends wn{constructor(e,t){super()}schedule(e,t=0){return this}};var ug={setInterval(n,e,...t){let{delegate:r}=ug;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ug;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var b0=class extends _0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ug.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ug.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,yd(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Mh=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Mh.now=cg.now;var w0=class extends Mh{constructor(e,t=Mh.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var wd=new w0(b0),kk=wd;var ii=new Xt(n=>n.complete());function E0(n){return n&&Jt(n.schedule)}function KD(n){return n[n.length-1]}function S0(n){return Jt(KD(n))?n.pop():void 0}function il(n){return E0(KD(n))?n.pop():void 0}function Pk(n,e){return typeof KD(n)=="number"?n.pop():e}function Bk(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(h){s(h)}}function l(u){try{c(r.throw(u))}catch(h){s(h)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function Lk(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ed(n){return this instanceof Ed?(this.v=n,this):new Ed(n)}function jk(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,h)}}function a(g,b){r[g]&&(i[g]=function(v){return new Promise(function(E,C){o.push([g,v,E,C])>1||l(g,v)})},b&&(i[g]=b(i[g])))}function l(g,b){try{c(r[g](b))}catch(v){m(o[0][3],v)}}function c(g){g.value instanceof Ed?Promise.resolve(g.value.v).then(u,h):m(o[0][2],g)}function u(g){l("next",g)}function h(g){l("throw",g)}function m(g,b){g(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Uk(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Lk=="function"?Lk(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var C0=n=>n&&typeof n.length=="number"&&typeof n!="function";function x0(n){return Jt(n?.then)}function D0(n){return Jt(n[Nh])}function I0(n){return Symbol.asyncIterator&&Jt(n?.[Symbol.asyncIterator])}function A0(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WK(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var T0=WK();function R0(n){return Jt(n?.[T0])}function N0(n){return jk(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ed(t.read());if(i)return yield Ed(void 0);yield yield Ed(r)}}finally{t.releaseLock()}})}function F0(n){return Jt(n?.getReader)}function Yn(n){if(n instanceof Xt)return n;if(n!=null){if(D0(n))return KK(n);if(C0(n))return JK(n);if(x0(n))return XK(n);if(I0(n))return Vk(n);if(R0(n))return YK(n);if(F0(n))return QK(n)}throw A0(n)}function KK(n){return new Xt(e=>{let t=n[Nh]();if(Jt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JK(n){return new Xt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function XK(n){return new Xt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,m0)})}function YK(n){return new Xt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Vk(n){return new Xt(e=>{ZK(n,e).catch(t=>e.error(t))})}function QK(n){return Vk(N0(n))}function ZK(n,e){var t,r,i,o;return Bk(this,void 0,void 0,function*(){try{for(t=Uk(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Vo(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function M0(n,e=0){return Nt((t,r)=>{t.subscribe(Ot(r,i=>Vo(r,n,()=>r.next(i),e),()=>Vo(r,n,()=>r.complete(),e),i=>Vo(r,n,()=>r.error(i),e)))})}function O0(n,e=0){return Nt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function $k(n,e){return Yn(n).pipe(O0(e),M0(e))}function Hk(n,e){return Yn(n).pipe(O0(e),M0(e))}function qk(n,e){return new Xt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function zk(n,e){return new Xt(t=>{let r;return Vo(t,e,()=>{r=n[T0](),Vo(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Jt(r?.return)&&r.return()})}function k0(n,e){if(!n)throw new Error("Iterable cannot be null");return new Xt(t=>{Vo(t,e,()=>{let r=n[Symbol.asyncIterator]();Vo(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Gk(n,e){return k0(N0(n),e)}function Wk(n,e){if(n!=null){if(D0(n))return $k(n,e);if(C0(n))return qk(n,e);if(x0(n))return Hk(n,e);if(I0(n))return k0(n,e);if(R0(n))return zk(n,e);if(F0(n))return Gk(n,e)}throw A0(n)}function Qn(n,e){return e?Wk(n,e):Yn(n)}function Ke(...n){let e=il(n);return Qn(n,e)}function ol(n,e){let t=Jt(n)?n:()=>n,r=i=>i.error(t());return new Xt(e?i=>e.schedule(r,0,i):r)}var tu=class n{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue=e==="N"}observe(e){return JD(this,e)}do(e,t,r){let{kind:i,value:o,error:s}=this;return i==="N"?e?.(o):i==="E"?t?.(s):r?.()}accept(e,t,r){var i;return Jt((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,t,r)}toObservable(){let{kind:e,value:t,error:r}=this,i=e==="N"?Ke(t):e==="E"?ol(()=>r):e==="C"?ii:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new n("N",e)}static createError(e){return new n("E",void 0,e)}static createComplete(){return n.completeNotification}};tu.completeNotification=new tu("C");function JD(n,e){var t,r,i;let{kind:o,value:s,error:a}=n;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=e.next)===null||t===void 0||t.call(e,s):o==="E"?(r=e.error)===null||r===void 0||r.call(e,a):(i=e.complete)===null||i===void 0||i.call(e)}function sl(n){return!!n&&(n instanceof Xt||Jt(n.lift)&&Jt(n.subscribe))}var ga=Ah(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function XD(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new ma({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new ga)}});n.subscribe(o)})}function Kk(n){return n instanceof Date&&!isNaN(n)}function at(n,e){return Nt((t,r)=>{let i=0;t.subscribe(Ot(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:eJ}=Array;function tJ(n,e){return eJ(e)?n(...e):n(e)}function P0(n){return at(e=>tJ(n,e))}var{isArray:nJ}=Array,{getPrototypeOf:rJ,prototype:iJ,keys:oJ}=Object;function L0(n){if(n.length===1){let e=n[0];if(nJ(e))return{args:e,keys:null};if(sJ(e)){let t=oJ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function sJ(n){return n&&typeof n=="object"&&rJ(n)===iJ}function B0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Bs(...n){let e=il(n),t=S0(n),{args:r,keys:i}=L0(n);if(r.length===0)return Qn([],e);let o=new Xt(aJ(r,e,i?s=>B0(i,s):vo));return t?o.pipe(P0(t)):o}function aJ(n,e,t=vo){return r=>{Jk(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Jk(e,()=>{let c=Qn(n[l],e),u=!1;c.subscribe(Ot(r,h=>{o[l]=h,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Jk(n,e,t){n?Vo(t,n,e):e()}function Xk(n,e,t,r,i,o,s,a){let l=[],c=0,u=0,h=!1,m=()=>{h&&!l.length&&!c&&e.complete()},g=v=>c<r?b(v):l.push(v),b=v=>{o&&e.next(v),c++;let E=!1;Yn(t(v,u++)).subscribe(Ot(e,C=>{i?.(C),o?g(C):e.next(C)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<r;){let C=l.shift();s?Vo(e,s,()=>b(C)):b(C)}m()}catch(C){e.error(C)}}))};return n.subscribe(Ot(e,g,()=>{h=!0,m()})),()=>{a?.()}}function kr(n,e,t=1/0){return Jt(e)?kr((r,i)=>at((o,s)=>e(r,o,i,s))(Yn(n(r,i))),t):(typeof e=="number"&&(t=e),Nt((r,i)=>Xk(r,i,n,t)))}function al(n=1/0){return kr(vo,n)}function Yk(){return al(1)}function us(...n){return Yk()(Qn(n,il(n)))}function ya(n){return new Xt(e=>{Yn(n()).subscribe(e)})}function dg(...n){let e=S0(n),{args:t,keys:r}=L0(n),i=new Xt(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let h=!1;Yn(t[u]).subscribe(Ot(o,m=>{h||(h=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(r?B0(r,a):a),o.complete())}))}});return e?i.pipe(P0(e)):i}function j0(n=0,e,t=kk){let r=-1;return e!=null&&(E0(e)?t=e:r=e),new Xt(i=>{let o=Kk(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function va(...n){let e=il(n),t=Pk(n,1/0),r=n;return r.length?r.length===1?Yn(r[0]):al(t)(Qn(r,e)):ii}function nn(n,e){return Nt((t,r)=>{let i=0;t.subscribe(Ot(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Qk(n){return Nt((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let c=i;i=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(Ot(t,c=>{r=!0,i=c,o||Yn(n(c)).subscribe(o=Ot(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function U0(n,e=wd){return Qk(()=>j0(n,e))}function $o(n){return Nt((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ot(t,void 0,void 0,s=>{o=Yn(n(s,$o(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function V0(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(Ot(s,u=>{let h=c++;l=a?n(l,u,h):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function $0(n,e){return Nt(V0(n,e,arguments.length>=2,!1,!0))}function ds(n,e){return Jt(e)?kr(n,e,1):kr(n,1)}function fg(n,e=wd){return Nt((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,r.next(c)}};function l(){let c=s+n,u=e.now();if(u<c){i=this.schedule(void 0,c-u),r.add(i);return}a()}t.subscribe(Ot(r,c=>{o=c,s=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function nu(n){return Nt((e,t)=>{let r=!1;e.subscribe(Ot(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Pn(n){return n<=0?()=>ii:Nt((e,t)=>{let r=0;e.subscribe(Ot(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zk(){return Nt((n,e)=>{n.subscribe(Ot(e,vd))})}function eP(n){return at(()=>n)}function YD(n,e){return e?t=>us(e.pipe(Pn(1),Zk()),t.pipe(YD(n))):kr((t,r)=>Yn(n(t,r)).pipe(Pn(1),eP(t)))}function lJ(n,e=wd){let t=j0(n,e);return YD(()=>t)}function cJ(){return Nt((n,e)=>{n.subscribe(Ot(e,t=>JD(t,e)))})}function Oh(n,e=vo){return n=n??uJ,Nt((t,r)=>{let i,o=!0;t.subscribe(Ot(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function uJ(n,e){return n===e}function H0(n=dJ){return Nt((e,t)=>{let r=!1;e.subscribe(Ot(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function dJ(){return new ga}function tc(n){return Nt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function fi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?nn((i,o)=>n(i,o,r)):vo,Pn(1),t?nu(e):H0(()=>new ga))}function kh(n){return n<=0?()=>ii:Nt((e,t)=>{let r=[];e.subscribe(Ot(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function QD(n,e){let t=arguments.length>=2;return r=>r.pipe(n?nn((i,o)=>n(i,o,r)):vo,kh(1),t?nu(e):H0(()=>new ga))}function fJ(){return Nt((n,e)=>{n.subscribe(Ot(e,t=>{e.next(tu.createNext(t))},()=>{e.next(tu.createComplete()),e.complete()},t=>{e.next(tu.createError(t)),e.complete()}))})}function q0(){return Nt((n,e)=>{let t,r=!1;n.subscribe(Ot(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function ZD(n,e){return Nt(V0(n,e,arguments.length>=2,!0))}function hg(n={}){let{connector:e=()=>new $e,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,h=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=l=void 0,u=h=!1},b=()=>{let v=s;g(),v?.unsubscribe()};return Nt((v,E)=>{c++,!h&&!u&&m();let C=l=l??e();E.add(()=>{c--,c===0&&!h&&!u&&(a=eI(b,i))}),C.subscribe(E),!s&&c>0&&(s=new ma({next:R=>C.next(R),error:R=>{h=!0,m(),a=eI(g,t,R),C.error(R)},complete:()=>{u=!0,m(),a=eI(g,r),C.complete()}}),Yn(v).subscribe(s))})(o)}}function eI(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new ma({next:()=>{r.unsubscribe(),n()}});return Yn(e(...t)).subscribe(r)}function z0(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,hg({connector:()=>new v0(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function pg(n){return nn((e,t)=>n<=t)}function Ti(...n){let e=il(n);return Nt((t,r)=>{(e?us(n,t,e):us(n,t)).subscribe(r)})}function Rr(n,e){return Nt((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ot(r,l=>{i?.unsubscribe();let c=0,u=o++;Yn(n(l,u)).subscribe(i=Ot(r,h=>r.next(e?e(l,h,u,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function kt(n){return Nt((e,t)=>{Yn(n).subscribe(Ot(t,()=>t.complete(),vd)),!t.closed&&e.subscribe(t)})}function tI(n,e=!1){return Nt((t,r)=>{let i=0;t.subscribe(Ot(r,o=>{let s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function Zn(n,e,t){let r=Jt(n)||e||t?{next:n,error:e,complete:t}:n;return r?Nt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ot(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):vo}function tP(n){let e=zt(null);try{return n()}finally{zt(e)}}var X0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",it=class extends Error{code;constructor(e,t){super(Ad(e,t)),this.code=e}};function hJ(n){return`NG0${Math.abs(n)}`}function Ad(n,e){return`${hJ(n)}${e?": "+e:""}`}var iu=globalThis;function Nr(n){for(let e in n)if(n[e]===Nr)return e;throw Error("")}function oP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ho(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ho).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Y0(n,e){return n?e?`${n} ${e}`:n:e||""}var pJ=Nr({__forward_ref__:Nr});function $i(n){return n.__forward_ref__=$i,n.toString=function(){return Ho(this())},n}function hi(n){return hI(n)?n():n}function hI(n){return typeof n=="function"&&n.hasOwnProperty(pJ)&&n.__forward_ref__===$i}function sP(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function Ie(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vt(n){return{providers:n.providers||[],imports:n.imports||[]}}function _g(n){return mJ(n,Q0)}function pI(n){return _g(n)!==null}function mJ(n,e){return n.hasOwnProperty(e)&&n[e]||null}function gJ(n){let e=n?.[Q0]??null;return e||null}function rI(n){return n&&n.hasOwnProperty(W0)?n[W0]:null}var Q0=Nr({\u0275prov:Nr}),W0=Nr({\u0275inj:Nr}),Pe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mI(n){return n&&!!n.\u0275providers}var gI=Nr({\u0275cmp:Nr}),yI=Nr({\u0275dir:Nr}),vI=Nr({\u0275pipe:Nr}),_I=Nr({\u0275mod:Nr}),gg=Nr({\u0275fac:Nr}),Td=Nr({__NG_ELEMENT_ID__:Nr}),nP=Nr({__NG_ENV_ID__:Nr});function Lh(n){return typeof n=="string"?n:n==null?"":String(n)}function aP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Lh(n)}function bI(n,e){throw new it(-200,n)}function Z0(n,e){throw new it(-201,!1)}var iI;function lP(){return iI}function fs(n){let e=iI;return iI=n,e}function wI(n,e,t){let r=_g(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Z0(n,"Injector")}var yJ={},Sd=yJ,oI="__NG_DI_FLAG__",sI=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Cd(t)||0;try{return this.injector.get(e,r&8?null:Sd,r)}catch(i){if(xh(i))return i;throw i}}},K0="ngTempTokenPath",vJ="ngTokenPath",_J=/\n/gm,bJ="\u0275",rP="__source";function wJ(n,e=0){let t=FD();if(t===void 0)throw new it(-203,!1);if(t===null)return wI(n,void 0,e);{let r=EJ(e),i=t.retrieve(n,r);if(xh(i)){if(r.optional)return null;throw i}return i}}function Ge(n,e=0){return(lP()||wJ)(hi(n),e)}function B(n,e){return Ge(n,Cd(e))}function Cd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function EJ(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function aI(n){let e=[];for(let t=0;t<n.length;t++){let r=hi(n[t]);if(Array.isArray(r)){if(r.length===0)throw new it(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=SJ(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Ge(i,o))}else e.push(Ge(r))}return e}function EI(n,e){return n[oI]=e,n.prototype[oI]=e,n}function SJ(n){return n[oI]}function CJ(n,e,t,r){let i=n[K0];throw e[rP]&&i.unshift(e[rP]),n.message=xJ(`
`+n.message,i,t,r),n[vJ]=i,n[K0]=null,n}function xJ(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==bJ?n.slice(2):n;let i=Ho(e);if(Array.isArray(e))i=e.map(Ho).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ho(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(_J,`
  `)}`}function xd(n,e){let t=n.hasOwnProperty(gg);return t?n[gg]:null}function cP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function uP(n){return n.flat(Number.POSITIVE_INFINITY)}function eb(n,e){n.forEach(t=>Array.isArray(t)?eb(t,e):e(t))}function SI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function bg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function dP(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function fP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function tb(n,e,t){let r=Bh(n,e);return r>=0?n[r|1]=t:(r=~r,fP(n,r,e,t)),r}function nb(n,e){let t=Bh(n,e);if(t>=0)return n[t|1]}function Bh(n,e){return DJ(n,e,1)}function DJ(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var _a={},to=[],rc=new Pe(""),CI=new Pe("",-1),xI=new Pe(""),yg=class{get(e,t=Sd){if(t===Sd)throw new n0(`NullInjectorError: No provider for ${Ho(e)}!`);return t}};function DI(n){return n[_I]||null}function ll(n){return n[gI]||null}function rb(n){return n[yI]||null}function hP(n){return n[vI]||null}function ou(n){return{\u0275providers:n}}function pP(...n){return{\u0275providers:II(!0,n),\u0275fromNgModule:!0}}function II(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return eb(e,s=>{let a=s;J0(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&mP(i,o),t}function mP(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];AI(i,o=>{e(o,r)})}}function J0(n,e,t,r){if(n=hi(n),!n)return!1;let i=null,o=rI(n),s=!o&&ll(n);if(!o&&!s){let l=n.ngModule;if(o=rI(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)J0(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{eb(o.imports,u=>{J0(u,e,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&mP(c,e)}if(!a){let c=xd(i)||(()=>new i);e({provide:i,useFactory:c,deps:to},i),e({provide:xI,useValue:i,multi:!0},i),e({provide:rc,useValue:()=>Ge(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;AI(l,u=>{e(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function AI(n,e){for(let t of n)mI(t)&&(t=t.\u0275providers),Array.isArray(t)?AI(t,e):e(t)}var IJ=Nr({provide:String,useValue:Nr});function gP(n){return n!==null&&typeof n=="object"&&IJ in n}function AJ(n){return!!(n&&n.useExisting)}function TJ(n){return!!(n&&n.useFactory)}function Dd(n){return typeof n=="function"}function yP(n){return!!n.useClass}var wg=new Pe(""),G0={},iP={},nI;function jh(){return nI===void 0&&(nI=new yg),nI}var hr=class{},Id=class extends hr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,cI(e,s=>this.processProvider(s)),this.records.set(CI,Ph(void 0,this)),i.has("environment")&&this.records.set(hr,Ph(void 0,this));let o=this.records.get(wg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xI,to,{self:!0}))}retrieve(e,t){let r=Cd(t)||0;try{return this.get(e,Sd,r)}catch(i){if(xh(i))return i;throw i}}destroy(){mg(this),this._destroyed=!0;let e=zt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),zt(e)}}onDestroy(e){return mg(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){mg(this);let t=Zl(this),r=fs(void 0),i;try{return e()}finally{Zl(t),fs(r)}}get(e,t=Sd,r){if(mg(this),e.hasOwnProperty(nP))return e[nP](this);let i=Cd(r),o,s=Zl(this),a=fs(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let u=OJ(e)&&_g(e);u&&this.injectableDefInScope(u)?c=Ph(lI(e),G0):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let l=i&2?jh():this.parent;return t=i&8&&t===Sd?null:t,l.get(e,t)}catch(l){if(xh(l)){if((l[K0]=l[K0]||[]).unshift(Ho(e)),s)throw l;return CJ(l,e,"R3InjectorError",this.source)}else throw l}finally{fs(a),Zl(s)}}resolveInjectorInitializers(){let e=zt(null),t=Zl(this),r=fs(void 0),i;try{let o=this.get(rc,to,{self:!0});for(let s of o)s()}finally{Zl(t),fs(r),zt(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ho(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=hi(e);let t=Dd(e)?e:hi(e&&e.provide),r=NJ(e);if(!Dd(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ph(void 0,G0,!0),i.factory=()=>aI(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=zt(null);try{return t.value===iP?bI(Ho(e)):t.value===G0&&(t.value=iP,t.value=t.factory()),typeof t.value=="object"&&t.value&&MJ(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{zt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=hi(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function lI(n){let e=_g(n),t=e!==null?e.factory:xd(n);if(t!==null)return t;if(n instanceof Pe)throw new it(204,!1);if(n instanceof Function)return RJ(n);throw new it(204,!1)}function RJ(n){if(n.length>0)throw new it(204,!1);let t=gJ(n);return t!==null?()=>t.factory(n):()=>new n}function NJ(n){if(gP(n))return Ph(void 0,n.useValue);{let e=TI(n);return Ph(e,G0)}}function TI(n,e,t){let r;if(Dd(n)){let i=hi(n);return xd(i)||lI(i)}else if(gP(n))r=()=>hi(n.useValue);else if(TJ(n))r=()=>n.useFactory(...aI(n.deps||[]));else if(AJ(n))r=()=>Ge(hi(n.useExisting));else{let i=hi(n&&(n.useClass||n.provide));if(FJ(n))r=()=>new i(...aI(n.deps));else return xd(i)||lI(i)}return r}function mg(n){if(n.destroyed)throw new it(205,!1)}function Ph(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function FJ(n){return!!n.deps}function MJ(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function OJ(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function cI(n,e){for(let t of n)Array.isArray(t)?cI(t,e):t&&mI(t)?cI(t.\u0275providers,e):e(t)}function no(n,e){let t;n instanceof Id?(mg(n),t=n):t=new sI(n);let r,i=Zl(t),o=fs(void 0);try{return e()}finally{Zl(i),fs(o)}}function RI(){return lP()!==void 0||FD()!=null}function NI(n){if(!RI())throw new it(-203,!1)}var ba=0,Yt=1,Ut=2,pi=3,Us=4,_o=5,Rd=6,Uh=7,Wr=8,Nd=9,cl=10,_r=11,Vh=12,FI=13,Fd=14,bo=15,su=16,Md=17,ul=18,Eg=19,MI=20,nc=21,ib=22,ic=23,hs=24,Od=25,Ri=26,vP=1,OI=6,au=7,Sg=8,kd=9,Ni=10;function dl(n){return Array.isArray(n)&&typeof n[vP]=="object"}function wa(n){return Array.isArray(n)&&n[vP]===!0}function ob(n){return(n.flags&4)!==0}function lu(n){return n.componentOffset>-1}function Cg(n){return(n.flags&1)===1}function Ea(n){return!!n.template}function $h(n){return(n[Ut]&512)!==0}function Pd(n){return(n[Ut]&256)===256}var kI="svg",_P="math";function Vs(n){for(;Array.isArray(n);)n=n[ba];return n}function PI(n,e){return Vs(e[n])}function Sa(n,e){return Vs(e[n.index])}function xg(n,e){return n.data[e]}function bP(n,e){return n[e]}function $s(n,e){let t=e[n];return dl(t)?t:t[ba]}function wP(n){return(n[Ut]&4)===4}function sb(n){return(n[Ut]&128)===128}function EP(n){return wa(n[pi])}function Ca(n,e){return e==null?null:n[e]}function LI(n){n[Md]=0}function BI(n){n[Ut]&1024||(n[Ut]|=1024,sb(n)&&cu(n))}function SP(n,e){for(;n>0;)e=e[Fd],n--;return e}function Dg(n){return!!(n[Ut]&9216||n[hs]?.dirty)}function ab(n){n[cl].changeDetectionScheduler?.notify(8),n[Ut]&64&&(n[Ut]|=1024),Dg(n)&&cu(n)}function cu(n){n[cl].changeDetectionScheduler?.notify(0);let e=ru(n);for(;e!==null&&!(e[Ut]&8192||(e[Ut]|=8192,!sb(e)));)e=ru(e)}function jI(n,e){if(Pd(n))throw new it(911,!1);n[nc]===null&&(n[nc]=[]),n[nc].push(e)}function CP(n,e){if(n[nc]===null)return;let t=n[nc].indexOf(e);t!==-1&&n[nc].splice(t,1)}function ru(n){let e=n[pi];return wa(e)?e[pi]:e}function UI(n){return n[Uh]??=[]}function VI(n){return n.cleanup??=[]}function xP(n,e,t,r){let i=UI(e);i.push(t),n.firstCreatePass&&VI(n).push(r,i.length-1)}var fn={lFrame:UP(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ig=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Ig||{}),kJ=0,uI=!1;function DP(){return fn.lFrame.elementDepthCount}function IP(){fn.lFrame.elementDepthCount++}function AP(){fn.lFrame.elementDepthCount--}function lb(){return fn.bindingsEnabled}function $I(){return fn.skipHydrationRootTNode!==null}function TP(n){return fn.skipHydrationRootTNode===n}function RP(){fn.skipHydrationRootTNode=null}function Gt(){return fn.lFrame.lView}function Sr(){return fn.lFrame.tView}function In(n){return fn.lFrame.contextLView=n,n[Wr]}function An(n){return fn.lFrame.contextLView=null,n}function Fi(){let n=HI();for(;n!==null&&n.type===64;)n=n.parent;return n}function HI(){return fn.lFrame.currentTNode}function NP(){let n=fn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function uu(n,e){let t=fn.lFrame;t.currentTNode=n,t.isParent=e}function cb(){return fn.lFrame.isParent}function ub(){fn.lFrame.isParent=!1}function FP(){return fn.lFrame.contextLView}function qI(n){sP("Must never be called in production mode"),kJ=n}function zI(){return uI}function Hh(n){let e=uI;return uI=n,e}function MP(){let n=fn.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function OP(n){return fn.lFrame.bindingIndex=n}function oc(){return fn.lFrame.bindingIndex++}function GI(n){let e=fn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function kP(){return fn.lFrame.inI18n}function PP(n,e){let t=fn.lFrame;t.bindingIndex=t.bindingRootIndex=n,db(e)}function LP(){return fn.lFrame.currentDirectiveIndex}function db(n){fn.lFrame.currentDirectiveIndex=n}function BP(n){let e=fn.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function fb(){return fn.lFrame.currentQueryIndex}function Ag(n){fn.lFrame.currentQueryIndex=n}function PJ(n){let e=n[Yt];return e.type===2?e.declTNode:e.type===1?n[_o]:null}function WI(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=PJ(o),i===null||(o=o[Fd],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=fn.lFrame=jP();return r.currentTNode=e,r.lView=n,!0}function hb(n){let e=jP(),t=n[Yt];fn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jP(){let n=fn.lFrame,e=n===null?null:n.child;return e===null?UP(n):e}function UP(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function VP(){let n=fn.lFrame;return fn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var KI=VP;function pb(){let n=VP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $P(n){return(fn.lFrame.contextLView=SP(n,fn.lFrame.contextLView))[Wr]}function sc(){return fn.lFrame.selectedIndex}function du(n){fn.lFrame.selectedIndex=n}function Tg(){let n=fn.lFrame;return xg(n.tView,n.selectedIndex)}function mb(){fn.lFrame.currentNamespace=kI}function HP(){return fn.lFrame.currentNamespace}var qP=!0;function Rg(){return qP}function Ng(n){qP=n}function dI(n,e=null,t=null,r){let i=JI(n,e,t,r);return i.resolveInjectorInitializers(),i}function JI(n,e=null,t=null,r,i=new Set){let o=[t||to,pP(n)];return r=r||(typeof n=="object"?void 0:Ho(n)),new Id(o,e||jh(),r||null,i)}var jt=class n{static THROW_IF_NOT_FOUND=Sd;static NULL=new yg;static create(e,t){if(Array.isArray(e))return dI({name:""},t,e,"");{let r=e.name??"";return dI({name:r},e.parent,e.providers,r)}}static \u0275prov=Ie({token:n,providedIn:"any",factory:()=>Ge(CI)});static __NG_ELEMENT_ID__=-1},Lt=new Pe(""),xa=(()=>{class n{static __NG_ELEMENT_ID__=LJ;static __NG_ENV_ID__=t=>t}return n})(),vg=class extends xa{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Pd(this._lView)}onDestroy(e){let t=this._lView;return jI(t,e),()=>CP(t,e)}};function LJ(){return new vg(Gt())}var Vi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},qo=new Pe("",{providedIn:"root",factory:()=>{let n=B(hr),e;return t=>{e??=n.get(Vi),e.handleError(t)}}}),zP={provide:rc,useValue:()=>void B(Vi),multi:!0};function fu(n){return typeof n=="function"&&n[di]!==void 0}function sr(n,e){let[t,r,i]=LD(n,e?.equal),o=t,s=o[di];return o.set=r,o.update=i,o.asReadonly=XI.bind(o),o}function XI(){let n=this[di];if(n.readonlyFn===void 0){let e=()=>this();e[di]=n,n.readonlyFn=e}return n.readonlyFn}function YI(n){return fu(n)&&typeof n.set=="function"}var js=class{},Fg=new Pe("",{providedIn:"root",factory:()=>!1});var QI=new Pe(""),ZI=new Pe("");var Ld=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=BJ}return n})();function BJ(){return new Ld(Gt(),Fi())}var ac=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new yn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Xt(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),Mg=(()=>{class n{internalPendingTasks=B(ac);scheduler=B(js);errorHandler=B(qo);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=Ie({token:n,providedIn:"root",factory:()=>new n})}return n})();function Bd(...n){}var Og=(()=>{class n{static \u0275prov=Ie({token:n,providedIn:"root",factory:()=>new fI})}return n})(),fI=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Xh(n){return{toString:n}.toString()}var gb="__parameters__";function GJ(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function IL(n,e,t){return Xh(()=>{let r=GJ(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let h=l.hasOwnProperty(gb)?l[gb]:Object.defineProperty(l,gb,{value:[]})[gb];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Hg=EI(IL("Optional"),8);var YA=EI(IL("SkipSelf"),4);function WJ(n){return typeof n=="function"}var xb=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function AL(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Fr=(()=>{let n=()=>TL;return n.ngInherit=!0,n})();function TL(n){return n.type.prototype.ngOnChanges&&(n.setInput=JJ),KJ}function KJ(){let n=NL(this),e=n?.current;if(e){let t=n.previous;if(t===_a)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function JJ(n,e,t,r,i){let o=this.declaredInputs[r],s=NL(n)||XJ(n,{previous:_a,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new xb(c&&c.currentValue,t,l===_a),AL(n,e,i,t)}var RL="__ngSimpleChanges__";function NL(n){return n[RL]||null}function XJ(n,e){return n[RL]=e}var GP=[];var er=function(n,e=null,t){for(let r=0;r<GP.length;r++){let i=GP[r];i(n,e,t)}};function YJ(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=TL(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function QA(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function wb(n,e,t){FL(n,e,3,t)}function Eb(n,e,t,r){(n[Ut]&3)===t&&FL(n,e,t,r)}function eA(n,e){let t=n[Ut];(t&3)===e&&(t&=16383,t+=1,n[Ut]=t)}function FL(n,e,t,r){let i=r!==void 0?n[Md]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Md]+=65536),(a<o||o==-1)&&(QJ(n,t,e,l),n[Md]=(n[Md]&4294901760)+l+2),l++}function WP(n,e){er(4,n,e);let t=zt(null);try{e.call(n)}finally{zt(t),er(5,n,e)}}function QJ(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Ut]>>14<n[Md]>>16&&(n[Ut]&3)===e&&(n[Ut]+=16384,WP(a,o)):WP(a,o)}var zh=-1,Ud=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function ZJ(n){return(n.flags&8)!==0}function eX(n){return(n.flags&16)!==0}function tX(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];nX(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ML(n){return n===3||n===4||n===6}function nX(n){return n.charCodeAt(0)===64}function Gh(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?KP(n,t,i,null,e[++r]):KP(n,t,i,null,null))}}return n}function KP(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function OL(n){return n!==zh}function Db(n){return n&32767}function rX(n){return n>>16}function Ib(n,e){let t=rX(n),r=e;for(;t>0;)r=r[Fd],t--;return r}var dA=!0;function JP(n){let e=dA;return dA=n,e}var iX=256,kL=iX-1,PL=5,oX=0,fl={};function sX(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Td)&&(r=t[Td]),r==null&&(r=t[Td]=oX++);let i=r&kL,o=1<<i;e.data[n+(i>>PL)]|=o}function Ab(n,e){let t=LL(n,e);if(t!==-1)return t;let r=e[Yt];r.firstCreatePass&&(n.injectorIndex=e.length,tA(r.data,n),tA(e,null),tA(r.blueprint,null));let i=ZA(n,e),o=n.injectorIndex;if(OL(i)){let s=Db(i),a=Ib(i,e),l=a[Yt].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function tA(n,e){n.push(0,0,0,0,0,0,0,0,e)}function LL(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ZA(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=$L(i),r===null)return zh;if(t++,i=i[Fd],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return zh}function fA(n,e,t){sX(n,e,t)}function aX(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(ML(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function BL(n,e,t){if(t&8||n!==void 0)return n;Z0(e,"NodeInjector")}function jL(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Nd],o=fs(void 0);try{return i?i.get(e,r,t&8):wI(e,r,t&8)}finally{fs(o)}}return BL(r,e,t)}function UL(n,e,t,r=0,i){if(n!==null){if(e[Ut]&2048&&!(r&2)){let s=dX(n,e,t,r,fl);if(s!==fl)return s}let o=VL(n,e,t,r,fl);if(o!==fl)return o}return jL(e,t,r,i)}function VL(n,e,t,r,i){let o=cX(t);if(typeof o=="function"){if(!WI(e,n,r))return r&1?BL(i,t,r):jL(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Z0(t);else return s}finally{KI()}}else if(typeof o=="number"){let s=null,a=LL(n,e),l=zh,c=r&1?e[bo][_o]:null;for((a===-1||r&4)&&(l=a===-1?ZA(n,e):e[a+8],l===zh||!YP(r,!1)?a=-1:(s=e[Yt],a=Db(l),e=Ib(l,e)));a!==-1;){let u=e[Yt];if(XP(o,a,u.data)){let h=lX(a,e,t,s,r,c);if(h!==fl)return h}l=e[a+8],l!==zh&&YP(r,e[Yt].data[a+8]===c)&&XP(o,a,e)?(s=u,a=Db(l),e=Ib(l,e)):a=-1}}return i}function lX(n,e,t,r,i,o){let s=e[Yt],a=s.data[n+8],l=r==null?lu(a)&&dA:r!=s&&(a.type&3)!==0,c=i&1&&o===a,u=Sb(a,s,t,l,c);return u!==null?Lg(e,s,u,a):fl}function Sb(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,h=r?a:a+u,m=i?a+u:c;for(let g=h;g<m;g++){let b=s[g];if(g<l&&t===b||g>=l&&b.type===t)return g}if(i){let g=s[l];if(g&&Ea(g)&&g.type===t)return l}return null}function Lg(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Ud){let s=i;s.resolving&&bI(aP(o[t]));let a=JP(s.canSeeViewProviders);s.resolving=!0;let l=o[t].type||o[t],c,u=s.injectImpl?fs(s.injectImpl):null,h=WI(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&YJ(t,o[t],e)}finally{u!==null&&fs(u),JP(a),s.resolving=!1,KI()}}return i}function cX(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Td)?n[Td]:void 0;return typeof e=="number"?e>=0?e&kL:uX:e}function XP(n,e,t){let r=1<<n;return!!(t[e+(n>>PL)]&r)}function YP(n,e){return!(n&2)&&!(n&1&&e)}var jd=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return UL(this._tNode,this._lView,e,Cd(r),t)}};function uX(){return new jd(Fi(),Gt())}function oi(n){return Xh(()=>{let e=n.prototype.constructor,t=e[gg]||hA(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[gg]||hA(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function hA(n){return hI(n)?()=>{let e=hA(hi(n));return e&&e()}:xd(n)}function dX(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Ut]&2048&&!$h(s);){let a=VL(o,s,t,r|2,fl);if(a!==fl)return a;let l=o.parent;if(!l){let c=s[MI];if(c){let u=c.get(t,fl,r);if(u!==fl)return u}l=$L(s),s=s[Fd]}o=l}return i}function $L(n){let e=n[Yt],t=e.type;return t===2?e.declTNode:t===1?n[_o]:null}function qg(n){return aX(Fi(),n)}function fX(){return Yh(Fi(),Gt())}function Yh(n,e){return new Bt(Sa(n,e))}var Bt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=fX}return n})();function HL(n){return n instanceof Bt?n.nativeElement:n}function hX(){return this._results[Symbol.iterator]()}var lc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new $e}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=uP(e);(this._changesDetected=!cP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=hX};function qL(n){return(n.flags&128)===128}var e1=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(e1||{}),zL=new Map,pX=0;function mX(){return pX++}function gX(n){zL.set(n[Eg],n)}function pA(n){zL.delete(n[Eg])}var QP="__ngContext__";function Qh(n,e){dl(e)?(n[QP]=e[Eg],gX(e)):n[QP]=e}function GL(n){return KL(n[Vh])}function WL(n){return KL(n[Us])}function KL(n){for(;n!==null&&!wa(n);)n=n[Us];return n}var mA;function t1(n){mA=n}function JL(){if(mA!==void 0)return mA;if(typeof document<"u")return document;throw new it(210,!1)}var Zh=new Pe("",{providedIn:"root",factory:()=>yX}),yX="ng",$b=new Pe(""),mu=new Pe("",{providedIn:"platform",factory:()=>"unknown"});var zg=new Pe(""),ep=new Pe("",{providedIn:"root",factory:()=>JL().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Hb={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},qb=new Pe("",{providedIn:"root",factory:()=>Hb});var vX="h",_X="b";var XL="r";var YL="di";var QL=!1,ZL=new Pe("",{providedIn:"root",factory:()=>QL});var bX=(n,e,t,r)=>{};function wX(n,e,t,r){bX(n,e,t,r)}var EX=()=>null;function eB(n,e,t=!1){return EX(n,e,t)}function tB(n,e){let t=n.contentQueries;if(t!==null){let r=zt(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ag(o),a.contentQueries(2,e[s],s)}}}finally{zt(r)}}}function gA(n,e,t){Ag(0);let r=zt(null);try{e(n,t)}finally{zt(r)}}function n1(n,e,t){if(ob(e)){let r=zt(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{zt(r)}}}var cc=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(cc||{}),yb;function SX(){if(yb===void 0&&(yb=null,iu.trustedTypes))try{yb=iu.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yb}function zb(n){return SX()?.createHTML(n)||n}var vb;function CX(){if(vb===void 0&&(vb=null,iu.trustedTypes))try{vb=iu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vb}function ZP(n){return CX()?.createScriptURL(n)||n}var uc=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${X0})`}},yA=class extends uc{getTypeName(){return"HTML"}},vA=class extends uc{getTypeName(){return"Style"}},_A=class extends uc{getTypeName(){return"Script"}},bA=class extends uc{getTypeName(){return"URL"}},wA=class extends uc{getTypeName(){return"ResourceURL"}};function ps(n){return n instanceof uc?n.changingThisBreaksApplicationSecurity:n}function dc(n,e){let t=nB(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${X0})`)}return t===e}function nB(n){return n instanceof uc&&n.getTypeName()||null}function r1(n){return new yA(n)}function i1(n){return new vA(n)}function o1(n){return new _A(n)}function s1(n){return new bA(n)}function a1(n){return new wA(n)}function xX(n){let e=new SA(n);return DX()?new EA(e):e}var EA=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(zb(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},SA=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=zb(e),t}};function DX(){try{return!!new window.DOMParser().parseFromString(zb(""),"text/html")}catch{return!1}}var IX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gg(n){return n=String(n),n.match(IX)?n:"unsafe:"+n}function fc(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Wg(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var rB=fc("area,br,col,hr,img,wbr"),iB=fc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oB=fc("rp,rt"),AX=Wg(oB,iB),TX=Wg(iB,fc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),RX=Wg(oB,fc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),eL=Wg(rB,TX,RX,AX),sB=fc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),NX=fc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),FX=fc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),MX=Wg(sB,NX,FX),OX=fc("script,style,template"),CA=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=LX(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=PX(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=tL(e).toLowerCase();if(!eL.hasOwnProperty(t))return this.sanitizedSomething=!0,!OX.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!MX.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;sB[a]&&(l=Gg(l)),this.buf.push(" ",s,'="',nL(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=tL(e).toLowerCase();eL.hasOwnProperty(t)&&!rB.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(nL(e))}};function kX(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function PX(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw aB(e);return e}function LX(n){let e=n.firstChild;if(e&&kX(n,e))throw aB(e);return e}function tL(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function aB(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var BX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jX=/([^\#-~ |!])/g;function nL(n){return n.replace(/&/g,"&amp;").replace(BX,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(jX,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var _b;function l1(n,e){let t=null;try{_b=_b||xX(n);let r=e?String(e):"";t=_b.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=_b.getInertBodyElement(r)}while(r!==o);let a=new CA().sanitizeChildren(rL(t)||t);return zb(a)}finally{if(t){let r=rL(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function rL(n){return"content"in n&&UX(n)?n.content:null}function UX(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Hi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Hi||{});function Hs(n){let e=cB();return e?e.sanitize(Hi.URL,n)||"":dc(n,"URL")?ps(n):Gg(Lh(n))}function lB(n){let e=cB();if(e)return ZP(e.sanitize(Hi.RESOURCE_URL,n)||"");if(dc(n,"ResourceURL"))return ZP(ps(n));throw new it(904,!1)}function VX(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?lB:Hs}function c1(n,e,t){return VX(e,t)(n)}function cB(){let n=Gt();return n&&n[cl].sanitizer}var $X=/^>|^->|<!--|-->|--!>|<!-$/g,HX=/(<|>)/g,qX="\u200B$1\u200B";function zX(n){return n.replace($X,e=>e.replace(HX,qX))}function uB(n){return n instanceof Function?n():n}function GX(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var dB="ng-template";function WX(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&GX(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(u1(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function u1(n){return n.type===4&&n.value!==dB}function KX(n,e,t){let r=n.type===4&&!t?dB:n.value;return e===r}function JX(n,e,t){let r=4,i=n.attrs,o=i!==null?QX(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Da(r)&&!Da(l))return!1;if(s&&Da(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!KX(n,l,t)||l===""&&e.length===1){if(Da(r))return!1;s=!0}}else if(r&8){if(i===null||!WX(n,i,l,t)){if(Da(r))return!1;s=!0}}else{let c=e[++a],u=XX(l,i,u1(n),t);if(u===-1){if(Da(r))return!1;s=!0;continue}if(c!==""){let h;if(u>o?h="":h=i[u+1].toLowerCase(),r&2&&c!==h){if(Da(r))return!1;s=!0}}}}return Da(r)||s}function Da(n){return(n&1)===0}function XX(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ZX(e,n)}function fB(n,e,t=!1){for(let r=0;r<e.length;r++)if(JX(n,e[r],t))return!0;return!1}function YX(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function QX(n){for(let e=0;e<n.length;e++){let t=n[e];if(ML(t))return e}return n.length}function ZX(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function eY(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function iL(n,e){return n?":not("+e.trim()+")":e}function tY(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Da(s)&&(e+=iL(o,i),i=""),r=s,o=o||!Da(r);t++}return i!==""&&(e+=iL(o,i)),e}function nY(n){return n.map(tY).join(",")}function rY(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Da(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var ms={};function iY(n,e){return n.createText(e)}function oY(n,e,t){n.setValue(e,t)}function sY(n,e){return n.createComment(zX(e))}function hB(n,e,t){return n.createElement(e,t)}function Tb(n,e,t,r,i){n.insertBefore(e,t,r,i)}function pB(n,e,t){n.appendChild(e,t)}function oL(n,e,t,r,i){r!==null?Tb(n,e,t,r,i):pB(n,e,t)}function mB(n,e,t){n.removeChild(null,e,t)}function aY(n,e,t){n.setAttribute(e,"style",t)}function lY(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function gB(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&tX(n,e,r),i!==null&&lY(n,e,i),o!==null&&aY(n,e,o)}function d1(n,e,t,r,i,o,s,a,l,c,u){let h=Ri+r,m=h+i,g=cY(h,m),b=typeof c=="function"?c():c;return g[Yt]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:u}}function cY(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ms);return t}function uY(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=d1(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function f1(n,e,t,r,i,o,s,a,l,c,u){let h=e.blueprint.slice();return h[ba]=i,h[Ut]=r|4|128|8|64|1024,(c!==null||n&&n[Ut]&2048)&&(h[Ut]|=2048),LI(h),h[pi]=h[Fd]=n,h[Wr]=t,h[cl]=s||n&&n[cl],h[_r]=a||n&&n[_r],h[Nd]=l||n&&n[Nd]||null,h[_o]=o,h[Eg]=mX(),h[Rd]=u,h[MI]=c,h[bo]=e.type==2?n[bo]:h,h}function dY(n,e,t){let r=Sa(e,n),i=uY(t),o=n[cl].rendererFactory,s=h1(n,f1(n,i,null,yB(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function yB(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function vB(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function h1(n,e){return n[Vh]?n[FI][Us]=e:n[Vh]=e,n[FI]=e,e}function be(n=1){_B(Sr(),Gt(),sc()+n,!1)}function _B(n,e,t,r){if(!r)if((e[Ut]&3)===3){let o=n.preOrderCheckHooks;o!==null&&wb(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Eb(e,o,0,t)}du(t)}var Gb=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Gb||{});function xA(n,e,t,r){let i=zt(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Gb.SignalBased)!==0&&(l=e[o][di]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):AL(e,l,o,r)}finally{zt(i)}}function bB(n,e,t,r,i){let o=sc(),s=r&2;try{du(-1),s&&e.length>Ri&&_B(n,e,Ri,!1),er(s?2:0,i,t),t(r,i)}finally{du(o),er(s?3:1,i,t)}}function Wb(n,e,t){yY(n,e,t),(t.flags&64)===64&&vY(n,e,t)}function p1(n,e,t=Sa){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function fY(n,e,t,r){let o=r.get(ZL,QL)||t===cc.ShadowDom,s=n.selectRootElement(e,o);return hY(s),s}function hY(n){pY(n)}var pY=()=>null;function mY(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function wB(n,e,t,r,i,o){let s=e[Yt];if(g1(n,s,e,t,r)){lu(n)&&gY(e,n.index);return}EB(n,e,t,r,i,o)}function EB(n,e,t,r,i,o){if(n.type&3){let s=Sa(n,e);t=mY(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function gY(n,e){let t=$s(e,n);t[Ut]&16||(t[Ut]|=64)}function yY(n,e,t){let r=t.directiveStart,i=t.directiveEnd;lu(t)&&dY(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ab(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Lg(e,n,s,t);if(Qh(l,e),o!==null&&EY(e,s-r,l,a,t,o),Ea(a)){let c=$s(t.index,e);c[Wr]=Lg(e,n,s,t)}}}function vY(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=LP();try{du(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];db(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&_Y(l,c)}}finally{du(-1),db(s)}}function _Y(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function m1(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];fB(e,o.selectors,!1)&&(r??=[],Ea(o)?r.unshift(o):r.push(o))}return r}function bY(n,e,t,r,i,o){let s=Sa(n,e);wY(e[_r],s,o,n.value,t,r,i)}function wY(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Lh(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function EY(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];xA(r,t,l,c)}}function SY(n,e){let t=n[Nd];if(!t)return;t.get(qo,null)?.(e)}function g1(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],h=e.data[c];xA(h,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=e.data[l];xA(u,c,r,i),a=!0}return a}function CY(n,e){let t=$s(e,n),r=t[Yt];xY(r,t);let i=t[ba];i!==null&&t[Rd]===null&&(t[Rd]=eB(i,t[Nd])),er(18),y1(r,t,t[Wr]),er(19,t[Wr])}function xY(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function y1(n,e,t){hb(e);try{let r=n.viewQuery;r!==null&&gA(1,r,t);let i=n.template;i!==null&&bB(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ul]?.finishViewCreation(n),n.staticContentQueries&&tB(n,e),n.staticViewQueries&&gA(2,n.viewQuery,t);let o=n.components;o!==null&&DY(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ut]&=-5,pb()}}function DY(n,e){for(let t=0;t<e.length;t++)CY(n,e[t])}function Kg(n,e,t,r){let i=zt(null);try{let o=e.tView,a=n[Ut]&4096?4096:16,l=f1(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[su]=c;let u=n[ul];return u!==null&&(l[ul]=u.createEmbeddedView(o)),y1(o,l,t),l}finally{zt(i)}}function Wh(n,e){return!e||e.firstChild===null||qL(n)}var sL=!1,IY=new Pe(""),AY;function v1(n,e){return AY(n,e)}var hl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(hl||{});function Kb(n){return(n.flags&32)===32}function qh(n,e,t,r,i){if(r!=null){let o,s=!1;wa(r)?o=r:dl(r)&&(s=!0,r=r[ba]);let a=Vs(r);n===0&&t!==null?i==null?pB(e,t,a):Tb(e,t,a,i||null,!0):n===1&&t!==null?Tb(e,t,a,i||null,!0):n===2?mB(e,a,s):n===3&&e.destroyNode(a),o!=null&&BY(e,n,o,t,i)}}function TY(n,e){SB(n,e),e[ba]=null,e[_o]=null}function RY(n,e,t,r,i,o){r[ba]=i,r[_o]=e,Yb(n,r,t,1,i,o)}function SB(n,e){e[cl].changeDetectionScheduler?.notify(9),Yb(n,e,e[_r],2,null,null)}function NY(n){let e=n[Vh];if(!e)return nA(n[Yt],n);for(;e;){let t=null;if(dl(e))t=e[Vh];else{let r=e[Ni];r&&(t=r)}if(!t){for(;e&&!e[Us]&&e!==n;)dl(e)&&nA(e[Yt],e),e=e[pi];e===null&&(e=n),dl(e)&&nA(e[Yt],e),t=e&&e[Us]}e=t}}function _1(n,e){let t=n[kd],r=t.indexOf(e);t.splice(r,1)}function Jb(n,e){if(Pd(e))return;let t=e[_r];t.destroyNode&&Yb(n,e,t,3,null,null),NY(e)}function nA(n,e){if(Pd(e))return;let t=zt(null);try{e[Ut]&=-129,e[Ut]|=256,e[hs]&&Dh(e[hs]),MY(n,e),FY(n,e),e[Yt].type===1&&e[_r].destroy();let r=e[su];if(r!==null&&wa(e[pi])){r!==e[pi]&&_1(r,e);let i=e[ul];i!==null&&i.detachView(n)}pA(e)}finally{zt(t)}}function FY(n,e){let t=n.cleanup,r=e[Uh];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Uh]=null);let i=e[nc];if(i!==null){e[nc]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ic];if(o!==null){e[ic]=null;for(let s of o)s.destroy()}}function MY(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ud)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];er(4,a,l);try{l.call(a)}finally{er(5,a,l)}}else{er(4,i,o);try{o.call(i)}finally{er(5,i,o)}}}}}function CB(n,e,t){return OY(n,e.parent,t)}function OY(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ba];if(lu(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===cc.None||i===cc.Emulated)return null}return Sa(r,t)}function xB(n,e,t){return PY(n,e,t)}function kY(n,e,t){return n.type&40?Sa(n,t):null}var PY=kY,aL;function Xb(n,e,t,r){let i=CB(n,r,e),o=e[_r],s=r.parent||e[_o],a=xB(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)oL(o,i,t[l],a,!1);else oL(o,i,t,a,!1);aL!==void 0&&aL(o,r,e,t,i)}function kg(n,e){if(e!==null){let t=e.type;if(t&3)return Sa(e,n);if(t&4)return DA(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return kg(n,r);{let i=n[e.index];return wa(i)?DA(-1,i):Vs(i)}}else{if(t&128)return kg(n,e.next);if(t&32)return v1(e,n)()||Vs(n[e.index]);{let r=DB(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ru(n[bo]);return kg(i,r)}else return kg(n,e.next)}}}return null}function DB(n,e){if(e!==null){let r=n[bo][_o],i=e.projection;return r.projection[i]}return null}function DA(n,e){let t=Ni+n+1;if(t<e.length){let r=e[t],i=r[Yt].firstChild;if(i!==null)return kg(r,i)}return e[au]}function b1(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Qh(Vs(a),r),t.flags|=2),!Kb(t))if(l&8)b1(n,e,t.child,r,i,o,!1),qh(e,n,i,a,o);else if(l&32){let c=v1(t,r),u;for(;u=c();)qh(e,n,i,u,o);qh(e,n,i,a,o)}else l&16?IB(n,e,r,t,i,o):qh(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Yb(n,e,t,r,i,o){b1(t,r,n.firstChild,e,i,o,!1)}function LY(n,e,t){let r=e[_r],i=CB(n,t,e),o=t.parent||e[_o],s=xB(o,t,e);IB(r,0,e,t,i,s)}function IB(n,e,t,r,i,o){let s=t[bo],l=s[_o].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];qh(e,n,i,u,o)}else{let c=l,u=s[pi];qL(r)&&(c.flags|=128),b1(n,e,c,u,i,o,!0)}}function BY(n,e,t,r,i){let o=t[au],s=Vs(t);o!==s&&qh(e,n,r,o,i);for(let a=Ni;a<t.length;a++){let l=t[a];Yb(l[Yt],l,n,e,r,o)}}function jY(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:hl.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=hl.Important),n.setStyle(t,r,i,o))}}function Bg(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Vs(o)),wa(o)&&AB(o,r);let s=t.type;if(s&8)Bg(n,e,t.child,r);else if(s&32){let a=v1(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=DB(e,t);if(Array.isArray(a))r.push(...a);else{let l=ru(e[bo]);Bg(l[Yt],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function AB(n,e){for(let t=Ni;t<n.length;t++){let r=n[t],i=r[Yt].firstChild;i!==null&&Bg(r[Yt],r,i,e)}n[au]!==n[ba]&&e.push(n[au])}function TB(n){if(n[Od]!==null){for(let e of n[Od])e.impl.addSequence(e);n[Od].length=0}}var RB=[];function UY(n){return n[hs]??VY(n)}function VY(n){let e=RB.pop()??Object.create(HY);return e.lView=n,e}function $Y(n){n.lView[hs]!==n&&(n.lView=null,RB.push(n))}var HY=Re(ne({},Qc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{cu(n.lView)},consumerOnSignalRead(){this.lView[hs]=this}});function qY(n){let e=n[hs]??Object.create(zY);return e.lView=n,e}var zY=Re(ne({},Qc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ru(n.lView);for(;e&&!NB(e[Yt]);)e=ru(e);e&&BI(e)},consumerOnSignalRead(){this.lView[hs]=this}});function NB(n){return n.type!==2}function FB(n){if(n[ic]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ic])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Ut]&8192)}}var GY=100;function w1(n,e=0){let r=n[cl].rendererFactory,i=!1;i||r.begin?.();try{WY(n,e)}finally{i||r.end?.()}}function WY(n,e){let t=zI();try{Hh(!0),IA(n,e);let r=0;for(;Dg(n);){if(r===GY)throw new it(103,!1);r++,IA(n,1)}}finally{Hh(t)}}function MB(n,e){qI(e?Ig.Exhaustive:Ig.OnlyDirtyViews);try{w1(n)}finally{qI(Ig.Off)}}function KY(n,e,t,r){if(Pd(e))return;let i=e[Ut],o=!1,s=!1;hb(e);let a=!0,l=null,c=null;o||(NB(n)?(c=UY(e),l=ec(c)):l0()===null?(a=!1,c=qY(e),l=ec(c)):e[hs]&&(Dh(e[hs]),e[hs]=null));try{LI(e),OP(n.bindingStartIndex),t!==null&&bB(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&wb(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Eb(e,g,0,null),eA(e,0)}if(s||JY(e),FB(e),OB(e,0),n.contentQueries!==null&&tB(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&wb(e,g)}else{let g=n.contentHooks;g!==null&&Eb(e,g,1),eA(e,1)}YY(n,e);let h=n.components;h!==null&&PB(e,h,0);let m=n.viewQuery;if(m!==null&&gA(2,m,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&wb(e,g)}else{let g=n.viewHooks;g!==null&&Eb(e,g,2),eA(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ib]){for(let g of e[ib])g();e[ib]=null}o||(TB(e),e[Ut]&=-73)}catch(u){throw o||cu(e),u}finally{c!==null&&(Zc(c,l),a&&$Y(c)),pb()}}function OB(n,e){for(let t=GL(n);t!==null;t=WL(t))for(let r=Ni;r<t.length;r++){let i=t[r];kB(i,e)}}function JY(n){for(let e=GL(n);e!==null;e=WL(e)){if(!(e[Ut]&2))continue;let t=e[kd];for(let r=0;r<t.length;r++){let i=t[r];BI(i)}}}function XY(n,e,t){er(18);let r=$s(e,n);kB(r,t),er(19,r[Wr])}function kB(n,e){sb(n)&&IA(n,e)}function IA(n,e){let r=n[Yt],i=n[Ut],o=n[hs],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&gd(o)),s||=!1,o&&(o.dirty=!1),n[Ut]&=-9217,s)KY(r,n,r.template,n[Wr]);else if(i&8192){let a=zt(null);try{FB(n),OB(n,1);let l=r.components;l!==null&&PB(n,l,1),TB(n)}finally{zt(a)}}}function PB(n,e,t){for(let r=0;r<e.length;r++)XY(n,e[r],t)}function YY(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)du(~i);else{let o=i,s=t[++r],a=t[++r];PP(s,o);let l=e[o];er(24,l),a(2,l),er(25,l)}}}finally{du(-1)}}function E1(n,e){let t=zI()?64:1088;for(n[cl].changeDetectionScheduler?.notify(e);n;){n[Ut]|=t;let r=ru(n);if($h(n)&&!r)return n;n=r}return null}function LB(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function BB(n,e){let t=Ni+e;if(t<n.length)return n[t]}function Jg(n,e,t,r=!0){let i=e[Yt];if(QY(i,e,n,t),r){let s=DA(t,n),a=e[_r],l=a.parentNode(n[au]);l!==null&&RY(i,n[_o],a,e,l,s)}let o=e[Rd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jB(n,e){let t=jg(n,e);return t!==void 0&&Jb(t[Yt],t),t}function jg(n,e){if(n.length<=Ni)return;let t=Ni+e,r=n[t];if(r){let i=r[su];i!==null&&i!==n&&_1(i,r),e>0&&(n[t-1][Us]=r[Us]);let o=bg(n,Ni+e);TY(r[Yt],r);let s=o[ul];s!==null&&s.detachView(o[Yt]),r[pi]=null,r[Us]=null,r[Ut]&=-129}return r}function QY(n,e,t,r){let i=Ni+r,o=t.length;r>0&&(t[i-1][Us]=e),r<o-Ni?(e[Us]=t[i],SI(t,Ni+r,e)):(t.push(e),e[Us]=null),e[pi]=t;let s=e[su];s!==null&&t!==s&&UB(s,e);let a=e[ul];a!==null&&a.insertView(n),ab(e),e[Ut]|=128}function UB(n,e){let t=n[kd],r=e[pi];if(dl(r))n[Ut]|=2;else{let i=r[pi][bo];e[bo]!==i&&(n[Ut]|=2)}t===null?n[kd]=[e]:t.push(e)}var hu=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Yt];return Bg(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Wr]}set context(e){this._lView[Wr]=e}get destroyed(){return Pd(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pi];if(wa(e)){let t=e[Sg],r=t?t.indexOf(this):-1;r>-1&&(jg(e,r),bg(t,r))}this._attachedToViewContainer=!1}Jb(this._lView[Yt],this._lView)}onDestroy(e){jI(this._lView,e)}markForCheck(){E1(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ut]&=-129}reattach(){ab(this._lView),this._lView[Ut]|=128}detectChanges(){this._lView[Ut]|=1024,w1(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Nd].get(IY,sL)}catch{this.exhaustive=sL}}attachToViewContainerRef(){if(this._appRef)throw new it(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$h(this._lView),t=this._lView[su];t!==null&&!e&&_1(t,this._lView),SB(this._lView[Yt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new it(902,!1);this._appRef=e;let t=$h(this._lView),r=this._lView[su];r!==null&&!t&&UB(r,this._lView),ab(this._lView)}};var ro=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ZY;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Kg(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new hu(o)}}return n})();function ZY(){return Qb(Fi(),Gt())}function Qb(n,e){return n.type&4?new ro(e,n,Yh(n,e)):null}function Xg(n,e,t,r,i){let o=n.data[e];if(o===null)o=eQ(n,e,t,r,i),kP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=NP();o.injectorIndex=s===null?-1:s.injectorIndex}return uu(o,!0),o}function eQ(n,e,t,r,i){let o=HI(),s=cb(),a=s?o:o&&o.parent,l=n.data[e]=nQ(n,a,t,e,r,i);return tQ(n,l,o,s),l}function tQ(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function nQ(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $I()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var gAe=new RegExp(`^(\\d+)*(${_X}|${vX})*(.*)`);function rQ(n){let e=n[OI]??[],r=n[pi][_r],i=[];for(let o of e)o.data[YL]!==void 0?i.push(o):iQ(o,r);n[OI]=i}function iQ(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[XL];for(;t<i;){let o=r.nextSibling;mB(e,r,!1),r=o,t++}}}var oQ=()=>null,sQ=()=>null;function Rb(n,e){return oQ(n,e)}function VB(n,e,t){return sQ(n,e,t)}var $B=class{},Zb=class{},AA=class{resolveComponentFactory(e){throw new it(917,!1)}},Yg=class{static NULL=new AA},Mi=class{},Pr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>aQ()}return n})();function aQ(){let n=Gt(),e=Fi(),t=$s(e.index,n);return(dl(t)?t:n)[_r]}var HB=(()=>{class n{static \u0275prov=Ie({token:n,providedIn:"root",factory:()=>null})}return n})();var Cb={},TA=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Cb,r);return i!==Cb||t===Cb?i:this.parentInjector.get(e,t,r)}};function RA(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Y0(i,a);else if(o==2){let l=a,c=e[++s];r=Y0(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ke(n,e=0){let t=Gt();if(t===null)return Ge(n,e);let r=Fi();return UL(r,t,hi(n),e)}function S1(){let n="invalid";throw new Error(n)}function C1(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}uQ(n,e,t,a,o,l,c)}o!==null&&r!==null&&lQ(t,r,o)}function lQ(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new it(-301,!1);r.push(e[i],o)}}function cQ(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uQ(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let m=0;m<a;m++){let g=r[m];!l&&Ea(g)&&(l=!0,cQ(n,t,m)),fA(Ab(t,e),n,g.type)}gQ(t,n.data.length,a);for(let m=0;m<a;m++){let g=r[m];g.providersResolver&&g.providersResolver(g)}let c=!1,u=!1,h=vB(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let g=r[m];if(t.mergedAttrs=Gh(t.mergedAttrs,g.hostAttrs),fQ(n,t,e,h,g),mQ(h,g,i),s!==null&&s.has(g)){let[v,E]=s.get(g);t.directiveToIndex.set(g.type,[h,v+t.directiveStart,E+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,h);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let b=g.type.prototype;!c&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}dQ(n,t,o)}function dQ(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))lL(0,e,i,r),lL(1,e,i,r),uL(e,r,!1);else{let o=t.get(i);cL(0,e,o,r),cL(1,e,o,r),uL(e,r,!0)}}}function lL(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),qB(e,o)}}function cL(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),qB(e,s)}}function qB(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function uL(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||u1(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function fQ(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=xd(i.type,!0)),s=new Ud(o,Ea(i),ke);n.blueprint[r]=s,t[r]=s,hQ(n,e,r,vB(n,t,i.hostVars,ms),i)}function hQ(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;pQ(s)!=a&&s.push(a),s.push(t,r,o)}}function pQ(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function mQ(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ea(e)&&(t[""]=n)}}function gQ(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function zB(n,e,t,r,i,o,s,a){let l=e.consts,c=Ca(l,s),u=Xg(e,n,2,r,c);return o&&C1(e,t,u,Ca(l,a),i),u.mergedAttrs=Gh(u.mergedAttrs,u.attrs),u.attrs!==null&&RA(u,u.attrs,!1),u.mergedAttrs!==null&&RA(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function GB(n,e){QA(n,e),ob(e)&&n.queries.elementEnd(e)}function x1(n){return KB(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function WB(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function KB(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function yQ(n,e,t){return n[e]=t}function Aa(n,e,t){if(t===ms)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function rA(n,e,t){return function r(i){let o=lu(n)?$s(n.index,e):e;E1(o,5);let s=e[Wr],a=dL(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=dL(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function dL(n,e,t,r){let i=zt(null);try{return er(6,e,t),t(r)!==!1}catch(o){return SY(n,o),!1}finally{er(7,e,t),zt(i)}}function vQ(n,e,t,r,i,o,s,a){let l=Cg(n),c=!1,u=null;if(!r&&l&&(u=_Q(e,t,o,n.index)),u!==null){let h=u.__ngLastListenerFn__||u;h.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let h=Sa(n,t),m=r?r(h):h;wX(t,m,o,a);let g=i.listen(m,o,a),b=r?v=>r(Vs(v[n.index])):n.index;JB(b,e,t,o,a,g,!1)}return c}function _Q(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Uh],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function JB(n,e,t,r,i,o,s){let a=e.firstCreatePass?VI(e):null,l=UI(t),c=l.length;l.push(i,o),a&&a.push(r,n,c,(c+1)*(s?-1:1))}function fL(n,e,t,r,i,o){let s=e[t],a=e[Yt],c=a.data[t].outputs[r],h=s[c].subscribe(o);JB(n.index,a,e,i,o,h,!0)}var NA=Symbol("BINDING");var Nb=class extends Yg{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ll(e);return new pu(t,this.ngModule)}};function bQ(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Gb.SignalBased)!==0};return i&&(o.transform=i),o})}function wQ(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function EQ(n,e,t){let r=e instanceof hr?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new TA(t,r):t}function SQ(n){let e=n.get(Mi,null);if(e===null)throw new it(407,!1);let t=n.get(HB,null),r=n.get(js,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function CQ(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return hB(e,t,t==="svg"?kI:t==="math"?_P:null)}var pu=class extends Zb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=bQ(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=wQ(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=nY(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){er(22);let a=zt(null);try{let l=this.componentDef,c=xQ(r,l,s,o),u=EQ(l,i||this.ngModule,e),h=SQ(u),m=h.rendererFactory.createRenderer(null,l),g=r?fY(m,r,l.encapsulation,u):CQ(l,m),b=s?.some(hL)||o?.some(C=>typeof C!="function"&&C.bindings.some(hL)),v=f1(null,c,null,512|yB(l),null,null,h,m,u,null,eB(g,u,!0));v[Ri]=g,hb(v);let E=null;try{let C=zB(Ri,c,v,"#host",()=>c.directiveRegistry,!0,0);g&&(gB(m,g,C),Qh(g,v)),Wb(c,v,C),n1(c,C,v),GB(c,C),t!==void 0&&IQ(C,this.ngContentSelectors,t),E=$s(C.index,v),v[Wr]=E[Wr],y1(c,v,null)}catch(C){throw E!==null&&pA(E),pA(v),C}finally{er(23),pb()}return new Fb(this.componentType,v,!!b)}finally{zt(a)}}};function xQ(n,e,t,r){let i=n?["ng-version","20.0.4"]:rY(e.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[NA].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let h=r[u];if(typeof h!="function")for(let m of h.bindings){a+=m[NA].requiredVars;let g=u+1;m.create&&(m.targetIdx=g,(o??=[]).push(m)),m.update&&(m.targetIdx=g,(s??=[]).push(m))}}let l=[e];if(r)for(let u of r){let h=typeof u=="function"?u:u.type,m=rb(h);l.push(m)}return d1(0,null,DQ(o,s),1,a,l,null,null,null,[i],null)}function DQ(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function hL(n){let e=n[NA].kind;return e==="input"||e==="twoWay"}var Fb=class extends $B{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=xg(t[Yt],Ri),this.location=Yh(this._tNode,t),this.instance=$s(this._tNode.index,t)[Wr],this.hostView=this.changeDetectorRef=new hu(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=g1(r,i[Yt],i,e,t);this.previousInputValues.set(e,t);let s=$s(r.index,i);E1(s,1)}get injector(){return new jd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function IQ(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mi=(()=>{class n{static __NG_ELEMENT_ID__=AQ}return n})();function AQ(){let n=Fi();return YB(n,Gt())}var TQ=mi,XB=class extends TQ{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Yh(this._hostTNode,this._hostLView)}get injector(){return new jd(this._hostTNode,this._hostLView)}get parentInjector(){let e=ZA(this._hostTNode,this._hostLView);if(OL(e)){let t=Ib(e,this._hostLView),r=Db(e),i=t[Yt].data[r+8];return new jd(i,t)}else return new jd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=pL(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ni}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Rb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Wh(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!WJ(e),c;if(l)c=t;else{let E=t||{};c=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef,s=E.directives,a=E.bindings}let u=l?e:new pu(ll(e)),h=r||this.parentInjector;if(!o&&u.ngModule==null){let C=(l?h:this.parentInjector).get(hr,null);C&&(o=C)}let m=ll(u.componentType??{}),g=Rb(this._lContainer,m?.id??null),b=g?.firstChild??null,v=u.create(h,i,b,o,s,a);return this.insertImpl(v.hostView,c,Wh(this._hostTNode,g)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(EP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[pi],c=new XB(l,l[_o],l[pi]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Jg(s,i,o,r),e.attachToViewContainerRef(),SI(iA(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=pL(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=jg(this._lContainer,t);r&&(bg(iA(this._lContainer),t),Jb(r[Yt],r))}detach(e){let t=this._adjustIndex(e,-1),r=jg(this._lContainer,t);return r&&bg(iA(this._lContainer),t)!=null?new hu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function pL(n){return n[Sg]}function iA(n){return n[Sg]||(n[Sg]=[])}function YB(n,e){let t,r=e[n.index];return wa(r)?t=r:(t=LB(r,e,null,n),e[n.index]=t,h1(e,t)),NQ(t,e,n,r),new XB(t,n,e)}function RQ(n,e){let t=n[_r],r=t.createComment(""),i=Sa(e,n),o=t.parentNode(i);return Tb(t,o,r,t.nextSibling(i),!1),r}var NQ=OQ,FQ=()=>!1;function MQ(n,e,t){return FQ(n,e,t)}function OQ(n,e,t,r){if(n[au])return;let i;t.type&8?i=Vs(r):i=RQ(e,t),n[au]=i}var FA=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},MA=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)I1(e,t).matches!==null&&this.queries[t].setDirty()}},Mb=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=jQ(e):this.predicate=e}},OA=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},kA=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,kQ(t,o)),this.matchTNodeWithReadOption(e,t,Sb(t,e,o,!1,!1))}else r===ro?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Sb(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Bt||i===mi||i===ro&&t.type&4)this.addMatch(t.index,-2);else{let o=Sb(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function kQ(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function PQ(n,e){return n.type&11?Yh(n,e):n.type&4?Qb(n,e):null}function LQ(n,e,t,r){return t===-1?PQ(e,n):t===-2?BQ(n,e,r):Lg(n,n[Yt],t,e)}function BQ(n,e,t){if(t===Bt)return Yh(e,n);if(t===ro)return Qb(e,n);if(t===mi)return YB(e,n)}function QB(n,e,t,r){let i=e[ul].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(LQ(e,u,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function PA(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=QB(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let h=Ni;h<u.length;h++){let m=u[h];m[su]===m[pi]&&PA(m[Yt],m,c,r)}if(u[kd]!==null){let h=u[kd];for(let m=0;m<h.length;m++){let g=h[m];PA(g[Yt],g,c,r)}}}}}return r}function D1(n,e){return n[ul].queries[e].queryList}function ZB(n,e,t){let r=new lc((t&4)===4);return xP(n,e,r,r.destroy),(e[ul]??=new MA).queries.push(new FA(r))-1}function ej(n,e,t){let r=Sr();return r.firstCreatePass&&(nj(r,new Mb(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),ZB(r,Gt(),e)}function tj(n,e,t,r){let i=Sr();if(i.firstCreatePass){let o=Fi();nj(i,new Mb(e,t,r),o.index),UQ(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return ZB(i,Gt(),t)}function jQ(n){return n.split(",").map(e=>e.trim())}function nj(n,e,t){n.queries===null&&(n.queries=new OA),n.queries.track(new kA(e,t))}function UQ(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function I1(n,e){return n.queries.getByIndex(e)}function rj(n,e){let t=n[Yt],r=I1(t,e);return r.crossesNgTemplate?PA(t,n,e,[]):QB(t,n,r,e)}function ij(n,e,t){let r,i=ag(()=>{r._dirtyCounter();let o=VQ(r,n);if(e&&o===void 0)throw new it(-951,!1);return o});return r=i[di],r._dirtyCounter=sr(0),r._flatValue=void 0,i}function A1(n){return ij(!0,!1,n)}function T1(n){return ij(!0,!0,n)}function oj(n,e){let t=n[di];t._lView=Gt(),t._queryIndex=e,t._queryList=D1(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function VQ(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[Ut]&4)return e?void 0:to;let i=D1(t,r),o=rj(t,r);return i.reset(o,HL),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var mL=new Set;function Ta(n){mL.has(n)||(mL.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var pl=class{},ew=class{};var Ob=class extends pl{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Nb(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=DI(e);this._bootstrapComponents=uB(o.bootstrap),this._r3Injector=JI(e,t,[{provide:pl,useValue:this},{provide:Yg,useValue:this.componentFactoryResolver},...r],Ho(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},kb=class extends ew{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ob(this.moduleType,e,[])}};var Ug=class extends pl{injector;componentFactoryResolver=new Nb(this);instance=null;constructor(e){super();let t=new Id([...e.providers,{provide:pl,useValue:this},{provide:Yg,useValue:this.componentFactoryResolver}],e.parent||jh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function tp(n,e,t=null){return new Ug({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var $Q=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=II(!1,t.type),i=r.length>0?tp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ie({token:n,providedIn:"environment",factory:()=>new n(Ge(hr))})}return n})();function Je(n){return Xh(()=>{let e=sj(n),t=Re(ne({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===e1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get($Q).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||cc.Emulated,styles:n.styles||to,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Ta("NgStandalone"),aj(t);let r=n.dependencies;return t.directiveDefs=gL(r,!1),t.pipeDefs=gL(r,!0),t.id=WQ(t),t})}function HQ(n){return ll(n)||rb(n)}function qQ(n){return n!==null}function Et(n){return Xh(()=>({type:n.type,bootstrap:n.bootstrap||to,declarations:n.declarations||to,imports:n.imports||to,exports:n.exports||to,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zQ(n,e){if(n==null)return _a;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Gb.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function GQ(n){if(n==null)return _a;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function mt(n){return Xh(()=>{let e=sj(n);return aj(e),e})}function sj(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||_a,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||to,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:zQ(n.inputs,e),outputs:GQ(n.outputs),debugInfo:null}}function aj(n){n.features?.forEach(e=>e(n))}function gL(n,e){if(!n)return null;let t=e?hP:HQ;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(qQ)}function WQ(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function KQ(n){return Object.getPrototypeOf(n.prototype).constructor}function Vn(n){let e=KQ(n.type),t=!0,r=[n];for(;e;){let i;if(Ea(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new it(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=oA(n.inputs),s.declaredInputs=oA(n.declaredInputs),s.outputs=oA(n.outputs);let a=i.hostBindings;a&&ZQ(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&YQ(n,l),c&&QQ(n,c),JQ(n,i),oP(n.outputs,i.outputs),Ea(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Vn&&(t=!1)}}e=Object.getPrototypeOf(e)}XQ(r)}function JQ(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function XQ(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Gh(i.hostAttrs,t=Gh(t,i.hostAttrs))}}function oA(n){return n===_a?{}:n===to?[]:n}function YQ(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function QQ(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function ZQ(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function R1(n){let e=t=>{let r=Array.isArray(n);t.hostDirectives===null?(t.resolveHostDirectives=eZ,t.hostDirectives=r?n.map(LA):[n]):r?t.hostDirectives.unshift(...n.map(LA)):t.hostDirectives.unshift(n)};return e.ngInherit=!0,e}function eZ(n){let e=[],t=!1,r=null,i=null;for(let o=0;o<n.length;o++){let s=n[o];if(s.hostDirectives!==null){let a=e.length;r??=new Map,i??=new Map,lj(s,e,r),i.set(s,[a,e.length-1])}o===0&&Ea(s)&&(t=!0,e.push(s))}for(let o=t?1:0;o<n.length;o++)e.push(n[o]);return[e,r,i]}function lj(n,e,t){if(n.hostDirectives!==null)for(let r of n.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)yL(LA(o),e,t)}else yL(r,e,t)}function yL(n,e,t){let r=rb(n.directive);tZ(r.declaredInputs,n.inputs),lj(r,e,t),t.set(r,n),e.push(r)}function LA(n){return typeof n=="function"?{directive:hi(n),inputs:_a,outputs:_a}:{directive:hi(n.directive),inputs:vL(n.inputs),outputs:vL(n.outputs)}}function vL(n){if(n===void 0||n.length===0)return _a;let e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function tZ(n,e){for(let t in e)if(e.hasOwnProperty(t)){let r=e[t],i=n[t];n[r]=i}}function nZ(n,e,t,r,i,o,s,a,l){let c=e.consts,u=Xg(e,n,4,s||null,a||null);lb()&&C1(e,t,u,Ca(c,l),m1),u.mergedAttrs=Gh(u.mergedAttrs,u.attrs),QA(e,u);let h=u.tView=d1(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function Kh(n,e,t,r,i,o,s,a,l,c,u){let h=t+Ri,m=e.firstCreatePass?nZ(h,e,n,r,i,o,s,a,c):e.data[h];l&&(m.flags|=l),uu(m,!1);let g=rZ(e,n,m,t);Rg()&&Xb(e,n,g,m),Qh(g,n);let b=LB(g,n,g,m);return n[h]=b,h1(n,b),MQ(b,m,n),Cg(m)&&Wb(e,n,m),c!=null&&p1(n,m,u),m}function _t(n,e,t,r,i,o,s,a){let l=Gt(),c=Sr(),u=Ca(c.consts,o);return Kh(l,c,n,e,t,r,i,u,void 0,s,a),_t}var rZ=iZ;function iZ(n,e,t,r){return Ng(!0),e[_r].createComment("")}var tw=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(tw||{}),gu=new Pe(""),cj=!1,BA=class extends $e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,RI()&&(this.destroyRef=B(xa,{optional:!0})??void 0,this.pendingTasks=B(ac,{optional:!0})??void 0)}emit(e){let t=zt(null);try{super.next(e)}finally{zt(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof wn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Vt=BA;function uj(n){let e,t;function r(){n=Bd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function _L(n){return queueMicrotask(()=>n()),()=>{n=Bd}}var N1="isAngularZone",Pb=N1+"_ID",oZ=0,Rt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Vt(!1);onMicrotaskEmpty=new Vt(!1);onStable=new Vt(!1);onError=new Vt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=cj}=e;if(typeof Zone>"u")throw new it(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,lZ(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(N1)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new it(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new it(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,sZ,Bd,Bd);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},sZ={};function F1(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function aZ(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){uj(()=>{n.callbackScheduled=!1,jA(n),n.isCheckStableRunning=!0,F1(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),jA(n)}function lZ(n){let e=()=>{aZ(n)},t=oZ++;n._inner=n._inner.fork({name:"angular",properties:{[N1]:!0,[Pb]:t,[Pb+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(cZ(l))return r.invokeTask(o,s,a,l);try{return bL(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),wL(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return bL(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!uZ(l)&&e(),wL(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,jA(n),F1(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function jA(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function bL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wL(n){n._nesting--,F1(n)}var Lb=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Vt;onMicrotaskEmpty=new Vt;onStable=new Vt;onError=new Vt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function cZ(n){return dj(n,"__ignore_ng_zone__")}function uZ(n){return dj(n,"__scheduler_tick__")}function dj(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var nw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),M1=[0,1,2,3],O1=(()=>{class n{ngZone=B(Rt);scheduler=B(js);errorHandler=B(Vi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){B(gu,{optional:!0})}execute(){let t=this.sequences.size>0;t&&er(16),this.executing=!0;for(let r of M1)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&er(17)}register(t){let{view:r}=t;r!==void 0?((r[Od]??=[]).push(t),cu(r),r[Ut]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(tw.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Od];e&&(this.view[Od]=e.filter(t=>t!==this))}};function qs(n,e){!e?.injector&&NI(qs);let t=e?.injector??B(jt);return Ta("NgAfterNextRender"),fZ(n,t,e,!0)}function dZ(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function fZ(n,e,t,r){let i=e.get(nw);i.impl??=e.get(O1);let o=e.get(gu,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(xa):null,a=e.get(Ld,null,{optional:!0}),l=new Vg(i.impl,dZ(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var rw=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var k1=new Pe("");function yu(n){return!!n&&typeof n.then=="function"}function P1(n){return!!n&&typeof n.subscribe=="function"}var L1=new Pe("");function iw(n){return ou([{provide:L1,multi:!0,useValue:n}])}var B1=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=B(L1,{optional:!0})??[];injector=B(jt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=no(this.injector,i);if(yu(o))t.push(o);else if(P1(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qg=new Pe("");function fj(){PD(()=>{let n="";throw new it(600,n)})}function hj(n){return n.isBoundToModule}var hZ=10;var zs=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=B(qo);afterRenderManager=B(nw);zonelessEnabled=B(Fg);rootEffectScheduler=B(Og);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new $e;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=B(ac);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(at(t=>!t))}constructor(){B(gu,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=B(hr);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=jt.NULL){return this._injector.get(Rt).run(()=>{er(10);let s=t instanceof Zb;if(!this._injector.get(B1).done){let b="";throw new it(405,b)}let l;s?l=t:l=this._injector.get(Yg).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=hj(l)?void 0:this._injector.get(pl),u=r||l.selector,h=l.create(i,[],u,c),m=h.location.nativeElement,g=h.injector.get(k1,null);return g?.registerApplication(m),h.onDestroy(()=>{this.detachView(h.hostView),Pg(this.components,h),g?.unregisterApplication(m)}),this._loadComponent(h),er(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){er(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(tw.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new it(101,!1);let t=zt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,zt(t),this.afterTick.next(),er(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Mi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<hZ;)er(14),this.synchronizeOnce(),er(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Dg(i))continue;let o=r&&!this.zonelessEnabled?0:1;w1(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Dg(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Pg(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Qg,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Pg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new it(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pg(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ln(n,e,t,r){let i=Gt(),o=oc();if(Aa(i,o,e)){let s=Sr(),a=Tg();bY(a,i,n,e,t,r)}return Ln}var UA=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function sA(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function pZ(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=n.at(o),u=e[o],h=sA(o,c,o,u,t);if(h!==0){h<0&&n.updateValue(o,u),o++;continue}let m=n.at(s),g=e[l],b=sA(s,m,l,g,t);if(b!==0){b<0&&n.updateValue(s,g),s--,l--;continue}let v=t(o,c),E=t(s,m),C=t(o,u);if(Object.is(C,E)){let R=t(l,g);Object.is(R,v)?(n.swap(o,s),n.updateValue(s,g),l--,s--):n.move(s,o),n.updateValue(o,u),o++;continue}if(r??=new Bb,i??=SL(n,o,s,t),VA(n,r,o,C))n.updateValue(o,u),o++,s++;else if(i.has(C))r.set(v,n.detach(o)),s--;else{let R=n.create(o,e[o]);n.attach(o,R),o++,s++}}for(;o<=l;)EL(n,r,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=n.at(o),h=c.value,m=sA(o,u,o,h,t);if(m!==0)m<0&&n.updateValue(o,h),o++,c=l.next();else{r??=new Bb,i??=SL(n,o,s,t);let g=t(o,h);if(VA(n,r,o,g))n.updateValue(o,h),o++,s++,c=l.next();else if(!i.has(g))n.attach(o,n.create(o,h)),o++,s++,c=l.next();else{let b=t(o,u);r.set(b,n.detach(o)),s--}}}for(;!c.done;)EL(n,r,t,n.length,c.value),c=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function VA(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function EL(n,e,t,r,i){if(VA(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function SL(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Bb=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Fn(n,e,t,r,i,o,s,a){Ta("NgControlFlow");let l=Gt(),c=Sr(),u=Ca(c.consts,o);return Kh(l,c,n,e,t,r,i,u,256,s,a),j1}function j1(n,e,t,r,i,o,s,a){Ta("NgControlFlow");let l=Gt(),c=Sr(),u=Ca(c.consts,o);return Kh(l,c,n,e,t,r,i,u,512,s,a),j1}function Mn(n,e){Ta("NgControlFlow");let t=Gt(),r=oc(),i=t[r]!==ms?t[r]:-1,o=i!==-1?jb(t,Ri+i):void 0,s=0;if(Aa(t,r,n)){let a=zt(null);try{if(o!==void 0&&jB(o,s),n!==-1){let l=Ri+n,c=jb(t,l),u=zA(t[Yt],l),h=VB(c,u,t),m=Kg(t,u,e,{dehydratedView:h});Jg(c,m,s,Wh(u,h))}}finally{zt(a)}}else if(o!==void 0){let a=BB(o,s);a!==void 0&&(a[Wr]=e)}}var $A=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ni}};function U1(n,e){return e}var HA=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function V1(n,e,t,r,i,o,s,a,l,c,u,h,m){Ta("NgControlFlow");let g=Gt(),b=Sr(),v=l!==void 0,E=Gt(),C=a?s.bind(E[bo][Wr]):s,R=new HA(v,C);E[Ri+n]=R,Kh(g,b,n+1,e,t,r,i,Ca(b.consts,o),256),v&&Kh(g,b,n+2,l,c,u,h,Ca(b.consts,m),512)}var qA=class extends UA{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ni}at(e){return this.getLView(e)[Wr].$implicit}attach(e,t){let r=t[Rd];this.needsIndexUpdate||=e!==this.length,Jg(this.lContainer,t,e,Wh(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,mZ(this.lContainer,e)}create(e,t){let r=Rb(this.lContainer,this.templateTNode.tView.ssrId),i=Kg(this.hostLView,this.templateTNode,new $A(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Jb(e[Yt],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Wr].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Wr].$index=e}getLView(e){return gZ(this.lContainer,e)}};function $1(n){let e=zt(null),t=sc();try{let r=Gt(),i=r[Yt],o=r[t],s=t+1,a=jb(r,s);if(o.liveCollection===void 0){let c=zA(i,s);o.liveCollection=new qA(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(pZ(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=oc(),u=l.length===0;if(Aa(r,c,u)){let h=t+2,m=jb(r,h);if(u){let g=zA(i,h),b=VB(m,g,r),v=Kg(r,g,void 0,{dehydratedView:b});Jg(m,v,0,Wh(g,b))}else i.firstUpdatePass&&rQ(m),jB(m,0)}}}finally{zt(e)}}function jb(n,e){return n[e]}function mZ(n,e){return jg(n,e)}function gZ(n,e){return BB(n,e)}function zA(n,e){return xg(n,e)}function je(n,e,t){let r=Gt(),i=oc();if(Aa(r,i,e)){let o=Sr(),s=Tg();wB(s,r,n,e,r[_r],t)}return je}function GA(n,e,t,r,i){g1(e,n,t,i?"class":"style",r)}function fe(n,e,t,r){let i=Gt(),o=Sr(),s=Ri+n,a=i[_r],l=o.firstCreatePass?zB(s,o,i,e,m1,lb(),t,r):o.data[s],c=yZ(o,i,l,a,e,n);i[s]=c;let u=Cg(l);return uu(l,!0),gB(a,c,l),!Kb(l)&&Rg()&&Xb(o,i,c,l),(DP()===0||u)&&Qh(c,i),IP(),u&&(Wb(o,i,l),n1(o,l,i)),r!==null&&p1(i,l),fe}function de(){let n=Fi();cb()?ub():(n=n.parent,uu(n,!1));let e=n;TP(e)&&RP(),AP();let t=Sr();return t.firstCreatePass&&GB(t,e),e.classesWithoutHost!=null&&ZJ(e)&&GA(t,e,Gt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&eX(e)&&GA(t,e,Gt(),e.stylesWithoutHost,!1),de}function Ze(n,e,t,r){return fe(n,e,t,r),de(),Ze}var yZ=(n,e,t,r,i,o)=>(Ng(!0),hB(r,i,HP()));function vZ(n,e,t,r,i){let o=e.consts,s=Ca(o,r),a=Xg(e,n,8,"ng-container",s);s!==null&&RA(a,s,!0);let l=Ca(o,i);return lb()&&C1(e,t,a,l,m1),a.mergedAttrs=Gh(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function H1(n,e,t){let r=Gt(),i=Sr(),o=n+Ri,s=i.firstCreatePass?vZ(o,i,r,e,t):i.data[o];uu(s,!0);let a=_Z(i,r,s,n);return r[o]=a,Rg()&&Xb(i,r,a,s),Qh(a,r),Cg(s)&&(Wb(i,r,s),n1(i,s,r)),t!=null&&p1(r,s),H1}function q1(){let n=Fi(),e=Sr();return cb()?ub():(n=n.parent,uu(n,!1)),e.firstCreatePass&&(QA(e,n),ob(n)&&e.queries.elementEnd(n)),q1}function np(n,e,t){return H1(n,e,t),q1(),np}var _Z=(n,e,t,r)=>(Ng(!0),sY(e[_r],""));function ar(){return Gt()}function gs(n,e,t){let r=Gt(),i=oc();if(Aa(r,i,e)){let o=Sr(),s=Tg();EB(s,r,n,e,r[_r],t)}return gs}var Zg="en-US";var bZ=Zg;function pj(n){typeof n=="string"&&(bZ=n.toLowerCase().replace(/_/g,"-"))}function St(n,e,t){let r=Gt(),i=Sr(),o=Fi();return mj(i,r,r[_r],o,n,e,t),St}function mj(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=rA(r,e,o),vQ(r,n,e,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let h=0;h<u.length;h+=2){let m=u[h],g=u[h+1];l??=rA(r,e,o),fL(r,e,m,g,i,l)}if(c&&c.length)for(let h of c)l??=rA(r,e,o),fL(r,e,h,i,i,l)}}function tt(n=1){return $P(n)}function wZ(n,e){let t=null,r=YX(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?fB(n,o,!0):eY(r,o))return i}return t}function gi(n){let e=Gt()[bo][_o];if(!e.projection){let t=n?n.length:1,r=e.projection=dP(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?wZ(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function $n(n,e=0,t,r,i,o){let s=Gt(),a=Sr(),l=r?n+1:null;l!==null&&Kh(s,a,l,r,i,o,null,t);let c=Xg(a,Ri+n,16,null,t||null);c.projection===null&&(c.projection=e),ub();let h=!s[Rd]||$I();s[bo][_o].projection[c.projection]===null&&l!==null?EZ(s,a,l):h&&!Kb(c)&&LY(a,s,c)}function EZ(n,e,t){let r=Ri+t,i=e.data[r],o=n[r],s=Rb(o,i.tView.ssrId),a=Kg(n,i,void 0,{dehydratedView:s});Jg(o,a,0,Wh(i,s))}function qi(n,e,t,r){tj(n,e,t,r)}function pr(n,e,t){ej(n,e,t)}function vn(n){let e=Gt(),t=Sr(),r=fb();Ag(r+1);let i=I1(t,r);if(n.dirty&&wP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=rj(e,r);n.reset(o,HL),n.notifyOnChanges()}return!0}return!1}function _n(){return D1(Gt(),fb())}function z1(n,e,t,r,i){oj(e,tj(n,t,r,i))}function rp(n,e,t,r){oj(n,ej(e,t,r))}function ow(n=1){Ag(fb()+n)}function ip(n){let e=FP();return bP(e,Ri+n)}function bb(n,e){return n<<17|e<<2}function Vd(n){return n>>17&32767}function SZ(n){return(n&2)==2}function CZ(n,e){return n&131071|e<<17}function WA(n){return n|2}function Jh(n){return(n&131068)>>2}function aA(n,e){return n&-131069|e<<2}function xZ(n){return(n&1)===1}function KA(n){return n|1}function DZ(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Vd(s),l=Jh(s);n[r]=t;let c=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Bh(h,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let m=Vd(n[a+1]);n[r+1]=bb(m,a),m!==0&&(n[m+1]=aA(n[m+1],r)),n[a+1]=CZ(n[a+1],r)}else n[r+1]=bb(a,0),a!==0&&(n[a+1]=aA(n[a+1],r)),a=r;else n[r+1]=bb(l,0),a===0?a=r:n[l+1]=aA(n[l+1],r),l=r;c&&(n[r+1]=WA(n[r+1])),CL(n,u,r,!0),CL(n,u,r,!1),IZ(e,u,n,r,o),s=bb(a,l),o?e.classBindings=s:e.styleBindings=s}function IZ(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Bh(o,e)>=0&&(t[r+1]=KA(t[r+1]))}function CL(n,e,t,r){let i=n[t+1],o=e===null,s=r?Vd(i):Jh(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];AZ(l,e)&&(a=!0,n[s+1]=r?KA(c):WA(c)),s=r?Vd(c):Jh(c)}a&&(n[t+1]=r?WA(i):KA(i))}function AZ(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Bh(n,e)>=0:!1}var Ia={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TZ(n){return n.substring(Ia.key,Ia.keyEnd)}function RZ(n){return NZ(n),gj(n,yj(n,0,Ia.textEnd))}function gj(n,e){let t=Ia.textEnd;return t===e?-1:(e=Ia.keyEnd=FZ(n,Ia.key=e,t),yj(n,e,t))}function NZ(n){Ia.key=0,Ia.keyEnd=0,Ia.value=0,Ia.valueEnd=0,Ia.textEnd=n.length}function yj(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function FZ(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function hc(n,e,t){return vj(n,e,t,!1),hc}function un(n,e){return vj(n,e,null,!0),un}function pc(n){OZ(UZ,MZ,n,!0)}function MZ(n,e){for(let t=RZ(e);t>=0;t=gj(e,t))tb(n,TZ(e),!0)}function vj(n,e,t,r){let i=Gt(),o=Sr(),s=GI(2);if(o.firstUpdatePass&&bj(o,n,s,r),e!==ms&&Aa(i,s,e)){let a=o.data[sc()];wj(o,a,i,i[_r],n,i[s+1]=$Z(e,t),r,s)}}function OZ(n,e,t,r){let i=Sr(),o=GI(2);i.firstUpdatePass&&bj(i,null,o,r);let s=Gt();if(t!==ms&&Aa(s,o,t)){let a=i.data[sc()];if(Ej(a,r)&&!_j(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Y0(l,t||"")),GA(i,a,s,t,r)}else VZ(i,a,s,s[_r],s[o+1],s[o+1]=jZ(n,e,t),r,o)}}function _j(n,e){return e>=n.expandoStartIndex}function bj(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[sc()],s=_j(n,t);Ej(o,r)&&e===null&&!s&&(e=!1),e=kZ(i,o,e,r),DZ(i,o,e,t,s,r)}}function kZ(n,e,t,r){let i=BP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=lA(null,n,e,t,r),t=$g(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=lA(i,n,e,t,r),o===null){let l=PZ(n,e,r);l!==void 0&&Array.isArray(l)&&(l=lA(null,n,e,l[1],r),l=$g(l,e.attrs,r),LZ(n,e,r,l))}else o=BZ(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function PZ(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Jh(r)!==0)return n[Vd(r)]}function LZ(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Vd(i)]=r}function BZ(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=$g(r,s,t)}return $g(r,e.attrs,t)}function lA(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=$g(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function $g(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),tb(n,s,t?!0:e[++o]))}return n===void 0?null:n}function jZ(n,e,t){if(t==null||t==="")return to;let r=[],i=ps(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function UZ(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&tb(n,r,t)}function VZ(n,e,t,r,i,o,s,a){i===ms&&(i=to);let l=0,c=0,u=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;u!==null||h!==null;){let m=l<i.length?i[l+1]:void 0,g=c<o.length?o[c+1]:void 0,b=null,v;u===h?(l+=2,c+=2,m!==g&&(b=h,v=g)):h===null||u!==null&&u<h?(l+=2,b=u):(c+=2,b=h,v=g),b!==null&&wj(n,e,t,r,b,v,s,a),u=l<i.length?i[l]:null,h=c<o.length?o[c]:null}}function wj(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=xZ(c)?xL(l,e,t,i,Jh(c),s):void 0;if(!Ub(u)){Ub(o)||SZ(c)&&(o=xL(l,null,t,i,a,s));let h=PI(sc(),t);jY(r,s,h,i,o)}}function xL(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,h=u===null,m=t[i+1];m===ms&&(m=h?to:void 0);let g=h?nb(m,r):u===r?m:void 0;if(c&&!Ub(g)&&(g=nb(l,r)),Ub(g)&&(a=g,s))return a;let b=n[i+1];i=s?Vd(b):Jh(b)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=nb(l,r))}return a}function Ub(n){return n!==void 0}function $Z(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ho(ps(n)))),n}function Ej(n,e){return(n.flags&(e?8:16))!==0}function Ae(n,e=""){let t=Gt(),r=Sr(),i=n+Ri,o=r.firstCreatePass?Xg(r,i,1,e,null):r.data[i],s=HZ(r,t,o,e,n);t[i]=s,Rg()&&Xb(r,t,s,o),uu(o,!1)}var HZ=(n,e,t,r,i)=>(Ng(!0),iY(e[_r],r));function Sj(n,e,t,r=""){return Aa(n,oc(),t)?e+Lh(t)+r:ms}function On(n){return zi("",n),On}function zi(n,e,t){let r=Gt(),i=Sj(r,n,e,t);return i!==ms&&qZ(r,sc(),i),zi}function qZ(n,e,t){let r=PI(e,n);oY(n[_r],r,t)}function op(n,e,t){YI(e)&&(e=e());let r=Gt(),i=oc();if(Aa(r,i,e)){let o=Sr(),s=Tg();wB(s,r,n,e,r[_r],t)}return op}function ey(n,e){let t=YI(n);return t&&n.set(e),t}function sp(n,e){let t=Gt(),r=Sr(),i=Fi();return mj(r,t,t[_r],i,n,e),sp}function G1(n){return Aa(Gt(),oc(),n)?Lh(n):ms}function ty(n,e,t=""){return Sj(Gt(),n,e,t)}function zZ(n,e,t){let r=Sr();if(r.firstCreatePass){let i=Ea(n);JA(t,r.data,r.blueprint,i,!0),JA(e,r.data,r.blueprint,i,!1)}}function JA(n,e,t,r,i){if(n=hi(n),Array.isArray(n))for(let o=0;o<n.length;o++)JA(n[o],e,t,r,i);else{let o=Sr(),s=Gt(),a=Fi(),l=Dd(n)?n:hi(n.provide),c=TI(n),u=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(Dd(n)||!n.multi){let g=new Ud(c,i,ke),b=uA(l,e,i?u:u+m,h);b===-1?(fA(Ab(a,s),o,l),cA(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[b]=g,s[b]=g)}else{let g=uA(l,e,u+m,h),b=uA(l,e,u,u+m),v=g>=0&&t[g],E=b>=0&&t[b];if(i&&!E||!i&&!v){fA(Ab(a,s),o,l);let C=KZ(i?WZ:GZ,t.length,i,r,c);!i&&E&&(t[b].providerFactory=C),cA(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),s.push(C)}else{let C=Cj(t[i?b:g],c,!i&&r);cA(o,n,g>-1?g:b,C)}!i&&r&&E&&t[b].componentProviders++}}}function cA(n,e,t,r){let i=Dd(e),o=yP(e);if(i||o){let l=(o?hi(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function Cj(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function uA(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function GZ(n,e,t,r){return XA(this.multi,[])}function WZ(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Lg(t,t[Yt],this.providerFactory.index,r);o=a.slice(0,s),XA(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],XA(i,o);return o}function XA(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function KZ(n,e,t,r,i){let o=new Ud(n,t,ke);return o.multi=[],o.index=e,o.componentProviders=0,Cj(o,i,r&&!t),o}function tr(n,e=[]){return t=>{t.providersResolver=(r,i)=>zZ(r,i?i(n):n,e)}}function zo(n,e,t,r){return XZ(Gt(),MP(),n,e,t,r)}function JZ(n,e){let t=n[e];return t===ms?void 0:t}function XZ(n,e,t,r,i,o){let s=e+t;return Aa(n,s,i)?yQ(n,s+1,o?r.call(o,i):r(i)):JZ(n,s+1)}function W1(n,e){return Qb(n,e)}var Vb=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},K1=(()=>{class n{compileModuleSync(t){return new kb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=DI(t),o=uB(i.declarations).reduce((s,a)=>{let l=ll(a);return l&&s.push(new pu(l)),s},[]);return new Vb(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var YZ=(()=>{class n{zone=B(Rt);changeDetectionScheduler=B(js);applicationRef=B(zs);applicationErrorHandler=B(qo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xj({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Rt(Re(ne({},Dj()),{scheduleInRootZone:t})),[{provide:Rt,useFactory:n},{provide:rc,multi:!0,useFactory:()=>{let r=B(YZ,{optional:!0});return()=>r.initialize()}},{provide:rc,multi:!0,useFactory:()=>{let r=B(QZ);return()=>{r.initialize()}}},e===!0?{provide:QI,useValue:!0}:[],{provide:ZI,useValue:t??cj},{provide:qo,useFactory:()=>{let r=B(Rt),i=B(hr),o;return s=>{o??=i.get(Vi),r.runOutsideAngular(()=>o.handleError(s))}}}]}function Dj(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var QZ=(()=>{class n{subscription=new wn;initialized=!1;zone=B(Rt);pendingTasks=B(ac);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Rt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Rt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ij=(()=>{class n{applicationErrorHandler=B(qo);appRef=B(zs);taskService=B(ac);ngZone=B(Rt);zonelessEnabled=B(Fg);tracing=B(gu,{optional:!0});disableScheduling=B(QI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new wn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pb):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(ZI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lb||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?_L:uj;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pb+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_L(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZZ(){return typeof $localize<"u"&&$localize.locale||Zg}var sw=new Pe("",{providedIn:"root",factory:()=>B(sw,{optional:!0,skipSelf:!0})||ZZ()});function ys(n){return tP(n)}function Ra(n,e){return ag(n,e?.equal)}var J1=class{[di];constructor(e){this[di]=e}destroy(){this[di].destroy()}};function X1(n,e){let t=e?.injector??B(jt),r=e?.manualCleanup!==!0?t.get(xa):null,i,o=t.get(Ld,null,{optional:!0}),s=t.get(js);return o!==null?(i=nee(o.view,s,n),r instanceof vg&&r._lView===o.view&&(r=null)):i=ree(n,t.get(Og),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new J1(i)}var Aj=Re(ne({},Qc),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Bd,run(){if(this.dirty=!1,this.hasRun&&!gd(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=ec(this),t=Hh(!1);try{this.maybeCleanup(),this.fn(n)}finally{Hh(t),Zc(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let n=zt(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],zt(n)}}}),eee=Re(ne({},Aj),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Dh(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),tee=Re(ne({},Aj),{consumerMarkedDirty(){this.view[Ut]|=8192,cu(this.view),this.notifier.notify(13)},destroy(){Dh(this),this.onDestroyFn(),this.maybeCleanup(),this.view[ic]?.delete(this)}});function nee(n,e,t){let r=Object.create(tee);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[ic]??=new Set,n[ic].add(r),r.consumerMarkedDirty(r),r}function ree(n,e,t){let r=Object.create(eee);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var Oj=Symbol("InputSignalNode#UNSET"),vee=Re(ne({},lg),{transformFn:void 0,applyValueToInputSignal(n,e){Ih(n,e)}});function kj(n,e){let t=Object.create(vee);t.value=n,t.transformFn=e?.transform;function r(){if(md(t),t.value===Oj){let i=null;throw new it(-950,i)}return t.value}return r[di]=t,r}var ml=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>qg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},_ee=new Pe("");_ee.__NG_ELEMENT_ID__=n=>{let e=Fi();if(e===null)throw new it(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new it(204,!1)};function Tj(n,e){return kj(n,e)}function bee(n){return kj(Oj,n)}var Pj=(Tj.required=bee,Tj);function Rj(n,e){return A1(e)}function wee(n,e){return T1(e)}var ry=(Rj.required=wee,Rj);function Nj(n,e){return A1(e)}function Eee(n,e){return T1(e)}var Lj=(Nj.required=Eee,Nj);var Q1=new Pe(""),See=new Pe("");function ny(n){return!n.moduleRef}function Cee(n){let e=ny(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Rt);return t.run(()=>{ny(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(qo),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ny(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Q1);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Q1);s.add(o),n.moduleRef.onDestroy(()=>{Pg(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Dee(r,t,()=>{let o=e.get(B1);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(sw,Zg);if(pj(s||Zg),!e.get(See,!0))return ny(n)?e.get(zs):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ny(n)){let l=e.get(zs);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return xee?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var xee;function Dee(n,e,t){try{let r=t();return yu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var aw=null;function Iee(n=[],e){return jt.create({name:e,providers:[{provide:wg,useValue:"platform"},{provide:Q1,useValue:new Set([()=>aw=null])},...n]})}function Aee(n=[]){if(aw)return aw;let e=Iee(n);return aw=e,fj(),Tee(e),e}function Tee(n){let e=n.get($b,null);no(n,()=>{e?.forEach(t=>t())})}var Kr=(()=>{class n{static __NG_ELEMENT_ID__=Ree}return n})();function Ree(n){return Nee(Fi(),Gt(),(n&16)===16)}function Nee(n,e,t){if(lu(n)&&!t){let r=$s(n.index,e);return new hu(r,r)}else if(n.type&175){let r=e[bo];return new hu(r,e)}return null}var Z1=class{constructor(){}supports(e){return x1(e)}create(e){return new eT(e)}},Fee=(n,e)=>e,eT=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Fee}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Fj(r,i,o)?t:r,a=Fj(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let m=0;m<c;m++){let g=m<o.length?o[m]:o[m]=0,b=g+m;u<=b&&b<c&&(o[m]=g+1)}let h=s.previousIndex;o[h]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!x1(e))throw new it(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,WB(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new tT(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new lw),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new lw),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},tT=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},nT=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},lw=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new nT,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Fj(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Mj(){return new ap([new Z1])}var ap=(()=>{class n{factories;static \u0275prov=Ie({token:n,providedIn:"root",factory:Mj});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Mj()),deps:[[n,new YA,new Hg]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new it(901,!1)}}return n})();function Bj(n){er(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Aee(r),o=[xj({}),{provide:js,useExisting:Ij},zP,...t||[]],s=new Ug({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Cee({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{er(9)}}function Qt(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function wo(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var Y1=Symbol("NOT_SET"),jj=new Set,Mee=Re(ne({},lg),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Y1,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Y1&&!gd(this))return this.signal;try{for(let i of this.cleanup??jj)i()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=ec(this),r;try{r=this.userFn.apply(null,e)}finally{Zc(this,t)}return(this.value===Y1||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),rT=class extends Vg{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,t,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o,s),this.scheduler=i;for(let a of M1){let l=t[a];if(l===void 0)continue;let c=Object.create(Mee);c.sequence=this,c.phase=a,c.userFn=l,c.dirty=!0,c.signal=()=>(md(c),c.value),c.signal[di]=c,c.registerCleanupFn=u=>(c.cleanup??=new Set).add(u),this.nodes[a]=c,this.hooks[a]=u=>c.phaseFn(u)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)for(let t of e?.cleanup??jj)t()}};function Uj(n,e){let t=e?.injector??B(jt),r=t.get(js),i=t.get(nw),o=t.get(gu,null,{optional:!0});i.impl??=t.get(O1);let s=n;typeof s=="function"&&(s={mixedReadWrite:n});let a=t.get(Ld,null,{optional:!0}),l=new rT(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,r,t.get(xa),o?.snapshot(null));return i.impl.register(l),l}function cw(n,e){let t=ll(n),r=e.elementInjector||jh();return new pu(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function Vj(n){let e=ll(n);if(!e)return null;let t=new pu(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qj=null;function Gs(){return qj}function iT(n){qj??=n}var iy=class{},oy=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:()=>B(zj),providedIn:"platform"})}return n})(),oT=new Pe(""),zj=(()=>{class n extends oy{_location;_history;_doc=B(Lt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gs().getBaseHref(this._doc)}onPopState(t){let r=Gs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Gs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function uw(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function $j(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Na(n){return n&&n[0]!=="?"?`?${n}`:n}var Fa=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:()=>B(fw),providedIn:"root"})}return n})(),dw=new Pe(""),fw=(()=>{class n extends Fa{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uw(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Na(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Na(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Na(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ge(oy),Ge(dw,8))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gl=(()=>{class n{_subject=new $e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Pee($j(Hj(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Na(r))}normalize(t){return n.stripTrailingSlash(kee(this._basePath,Hj(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Na(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Na(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Na;static joinWithSlash=uw;static stripTrailingSlash=$j;static \u0275fac=function(r){return new(r||n)(Ge(Fa))};static \u0275prov=Ie({token:n,factory:()=>Oee(),providedIn:"root"})}return n})();function Oee(){return new gl(Ge(Fa))}function kee(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Hj(n){return n.replace(/\/index.html$/,"")}function Pee(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var aT=(()=>{class n extends Fa{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=uw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Na(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Na(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ge(oy),Ge(dw,8))};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})();var sT=/\s+/,Gj=[],Ma=(()=>{class n{_ngEl;_renderer;initialClasses=Gj;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(sT):Gj}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(sT):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(sT).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ke(Bt),ke(Pr))};static \u0275dir=mt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var hw=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yl=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new hw(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Wj(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Wj(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ke(mi),ke(ro),ke(ap))};static \u0275dir=mt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Wj(n,e){n.context.$implicit=e.item}var yi=(()=>{class n{_viewContainer;_context=new pw;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Kj(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Kj(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ke(mi),ke(ro))};static \u0275dir=mt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),pw=class{$implicit=null;ngIf=null};function Kj(n,e){if(n&&!n.createEmbeddedView)throw new it(2020,!1)}var lT=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(ke(mi))};static \u0275dir=mt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Fr]})}return n})();var vu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({})}return n})();function sy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var $d=class{};var uT="browser",Lee="server";function Yj(n){return n===uT}function Qj(n){return n===Lee}var Zj=(()=>{class n{static \u0275prov=Ie({token:n,providedIn:"root",factory:()=>new cT(B(Lt),window)})}return n})(),cT=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(Re(ne({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=Bee(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Re(ne({},t),{left:i-s[0],top:o-s[1]}))}};function Bee(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var e3=n=>n.src,jee=new Pe("",{providedIn:"root",factory:()=>e3});var Jj=/^((\s*\d+w\s*(,|$)){1,})$/;var Uee=[1,2],Vee=640;var $ee=1920,Hee=1080;var t3=(()=>{class n{imageLoader=B(jee);config=qee(B(qb));renderer=B(Pr);imgElement=B(Bt).nativeElement;injector=B(jt);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){Ta("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");let t=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&Jj.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){if(t.ngSrc&&!t.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(t){let r=t;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){if(!this._renderedSrc){let t={src:this.ngSrc};this._renderedSrc=this.callImageLoader(t)}return this._renderedSrc}getRewrittenSrcset(){let t=Jj.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>i!=="").map(i=>{i=i.trim();let o=t?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:t}=this.config,r=t;return this.sizes?.trim()==="100vw"&&(r=t.filter(o=>o>=Vee)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let i;return this.ngSrcset?i=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(i=this.getAutomaticSrcset()),i&&this.setHostAttribute("srcset",i),i}getFixedSrcset(){return Uee.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>$ee||this.height>Hee),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==e3&&!t}generatePlaceholder(t){let{placeholderResolution:r}=this.config;return t===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof t=="string"?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")?!0:!!t.blur}removePlaceholderOnLoad(t){let r=()=>{let s=this.injector.get(Kr);i(),o(),this.placeholder=!1,s.markForCheck()},i=this.renderer.listen(t,"load",r),o=this.renderer.listen(t,"error",r);zee(t,r)}setHostAttribute(t,r){this.renderer.setAttribute(this.imgElement,t,r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,i){r&2&&hc("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0":null)("background-size",i.placeholder?"cover":null)("background-position",i.placeholder?"50% 50%":null)("background-repeat",i.placeholder?"no-repeat":null)("background-image",i.placeholder?i.generatePlaceholder(i.placeholder):null)("filter",i.placeholder&&i.shouldBlurPlaceholder(i.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",Gee],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",wo],height:[2,"height","height",wo],loading:"loading",priority:[2,"priority","priority",Qt],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",Qt],fill:[2,"fill","fill",Qt],placeholder:[2,"placeholder","placeholder",Wee],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[Fr]})}return n})();function qee(n){let e={};return n.breakpoints&&(e.breakpoints=n.breakpoints.sort((t,r)=>t-r)),Object.assign({},Hb,n,e)}function zee(n,e){n.complete&&n.naturalWidth&&e()}function Gee(n){return typeof n=="string"?n:ps(n)}function Wee(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:Qt(n)}var yw=new Pe(""),mT=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new it(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Ge(yw),Ge(Rt))};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})(),ay=class{_doc;constructor(e){this._doc=e}manager},mw="ng-app-id";function n3(n){for(let e of n)e.remove()}function r3(n,e){let t=e.createElement("style");return t.textContent=n,t}function Kee(n,e,t,r){let i=n.head?.querySelectorAll(`style[${mw}="${e}"],link[${mw}="${e}"]`);if(i)for(let o of i)o.removeAttribute(mw),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function hT(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var gT=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Qj(o),Kee(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,r3);r?.forEach(i=>this.addUsage(i,this.external,hT))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(n3(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])n3(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,r3(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,hT(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(mw,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Ge(Lt),Ge(Zh),Ge(ep,8),Ge(mu))};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})(),fT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yT=/%COMP%/g;var o3="%COMP%",Jee=`_nghost-${o3}`,Xee=`_ngcontent-${o3}`,Yee=!0,Qee=new Pe("",{providedIn:"root",factory:()=>Yee});function Zee(n){return Xee.replace(yT,n)}function ete(n){return Jee.replace(yT,n)}function s3(n,e){return e.map(t=>t.replace(yT,n))}var vT=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new ly(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof gw?i.applyToHost(t):i instanceof cy&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case cc.Emulated:o=new gw(l,c,r,this.appId,u,s,a,h,m);break;case cc.ShadowDom:return new pT(l,c,t,r,s,a,this.nonce,h,m);default:o=new cy(l,c,r,u,s,a,h,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Ge(mT),Ge(gT),Ge(Zh),Ge(Qee),Ge(Lt),Ge(mu),Ge(Rt),Ge(ep),Ge(gu,8))};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})(),ly=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(fT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(i3(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(i3(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new it(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=fT[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=fT[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(hl.DashCase|hl.Important)?e.style.setProperty(t,r,i&hl.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&hl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Gs().getGlobalEventTarget(this.doc,e),!e))throw new it(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function i3(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var pT=class extends ly{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=s3(i.id,u);for(let m of u){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=m,this.shadowRoot.appendChild(g)}let h=i.getExternalStyles?.();if(h)for(let m of h){let g=hT(m,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cy=class extends ly{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?s3(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},gw=class extends cy{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,c,u),this.contentAttr=Zee(u),this.hostAttr=ete(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var vw=class n extends iy{supportsDOMEvents=!0;static makeCurrent(){iT(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=tte();return t==null?null:nte(t)}resetBaseElement(){uy=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sy(document.cookie,e)}},uy=null;function tte(){return uy=uy||document.head.querySelector("base"),uy?uy.getAttribute("href"):null}function nte(n){return new URL(n,document.baseURI).pathname}var rte=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})(),l3=(()=>{class n extends ay{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Ge(Lt))};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})(),a3=["alt","control","meta","shift"],ite={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ote={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},c3=(()=>{class n extends ay{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gs().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),a3.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=ite[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),a3.forEach(s=>{if(s!==i){let a=ote[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Ge(Lt))};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})();function ste(n,e){return Bj(ne({rootComponent:n},ate(e)))}function ate(n){return{appProviders:[...fte,...n?.providers??[]],platformProviders:dte}}function lte(){vw.makeCurrent()}function cte(){return new Vi}function ute(){return t1(document),document}var dte=[{provide:mu,useValue:uT},{provide:$b,useValue:lte,multi:!0},{provide:Lt,useFactory:ute}];var fte=[{provide:wg,useValue:"root"},{provide:Vi,useFactory:cte},{provide:yw,useClass:l3,multi:!0,deps:[Lt]},{provide:yw,useClass:c3,multi:!0,deps:[Lt]},vT,gT,mT,{provide:Mi,useExisting:vT},{provide:$d,useClass:rte},[]];var cp=class{},dy=class{},Oa=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var bw=class{encodeKey(e){return u3(e)}encodeValue(e){return u3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function hte(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var pte=/%(\d[a-f0-9])/gi,mte={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function u3(n){return encodeURIComponent(n).replace(pte,(e,t)=>mte[t]??e)}function _w(n){return`${n}`}var mc=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new bw,e.fromString){if(e.fromObject)throw new it(2805,!1);this.map=hte(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(_w):[_w(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(_w(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(_w(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ww=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function gte(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function d3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function f3(n){return typeof Blob<"u"&&n instanceof Blob}function h3(n){return typeof FormData<"u"&&n instanceof FormData}function yte(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var p3="Content-Type",m3="Accept",g3="X-Request-URL",y3="text/plain",v3="application/json",vte=`${v3}, ${y3}, */*`,lp=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(gte(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Oa,this.context??=new ww,!this.params)this.params=new mc,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||d3(this.body)||f3(this.body)||h3(this.body)||yte(this.body)?this.body:this.body instanceof mc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||h3(this.body)?null:f3(this.body)?this.body.type||null:d3(this.body)?null:typeof this.body=="string"?y3:this.body instanceof mc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?v3:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,l=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,b)=>g.set(b,e.setHeaders[b]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,b)=>g.set(b,e.setParams[b]),h)),new n(t,r,a,{params:h,headers:u,context:m,reportProgress:c,responseType:i,withCredentials:l,transferCache:s,keepalive:o})}},Hd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Hd||{}),up=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Oa,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ew=class n extends up{constructor(e={}){super(e)}type=Hd.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},fy=class n extends up{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Hd.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hy=class extends up{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},_te=200,bte=204;function _T(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var vl=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof lp)o=t;else{let l;i.headers instanceof Oa?l=i.headers:l=new Oa(i.headers);let c;i.params&&(i.params instanceof mc?c=i.params:c=new mc({fromObject:i.params})),o=new lp(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=Ke(o).pipe(ds(l=>this.handler.handle(l)));if(t instanceof lp||i.observe==="events")return s;let a=s.pipe(nn(l=>l instanceof fy));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(at(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new it(2806,!1);return l.body}));case"blob":return a.pipe(at(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new it(2807,!1);return l.body}));case"text":return a.pipe(at(l=>{if(l.body!==null&&typeof l.body!="string")throw new it(2808,!1);return l.body}));case"json":default:return a.pipe(at(l=>l.body))}case"response":return a;default:throw new it(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new mc().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,_T(i,r))}post(t,r,i={}){return this.request("POST",t,_T(i,r))}put(t,r,i={}){return this.request("PUT",t,_T(i,r))}static \u0275fac=function(r){return new(r||n)(Ge(cp))};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})();var wte=new Pe("");function Ete(n,e){return e(n)}function Ste(n,e,t){return(r,i)=>no(t,()=>e(r,o=>n(o,i)))}var wT=new Pe(""),_3=new Pe(""),b3=new Pe("",{providedIn:"root",factory:()=>!0});var Sw=(()=>{class n extends cp{backend;injector;chain=null;pendingTasks=B(Mg);contributeToStability=B(b3);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(wT),...this.injector.get(_3,[])]));this.chain=r.reduceRight((i,o)=>Ste(i,o,this.injector),Ete)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(tc(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Ge(dy),Ge(hr))};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})();var Cte=/^\)\]\}',?\n/,xte=RegExp(`^${g3}:`,"m");function Dte(n){return"responseURL"in n&&n.responseURL?n.responseURL:xte.test(n.getAllResponseHeaders())?n.getResponseHeader(g3):null}var bT=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new it(-2800,!1);t.keepalive;let r=this.xhrFactory;return(r.\u0275loadImpl?Qn(r.\u0275loadImpl()):Ke(null)).pipe(Rr(()=>new Xt(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,E)=>s.setRequestHeader(v,E.join(","))),t.headers.has(m3)||s.setRequestHeader(m3,vte),!t.headers.has(p3)){let v=t.detectContentTypeHeader();v!==null&&s.setRequestHeader(p3,v)}if(t.responseType){let v=t.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",E=new Oa(s.getAllResponseHeaders()),C=Dte(s)||t.url;return l=new Ew({headers:E,status:s.status,statusText:v,url:C}),l},u=()=>{let{headers:v,status:E,statusText:C,url:R}=c(),F=null;E!==bte&&(F=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=F?_te:0);let M=E>=200&&E<300;if(t.responseType==="json"&&typeof F=="string"){let D=F;F=F.replace(Cte,"");try{F=F!==""?JSON.parse(F):null}catch($){F=D,M&&(M=!1,F={error:$,text:F})}}M?(o.next(new fy({body:F,headers:v,status:E,statusText:C,url:R||void 0})),o.complete()):o.error(new hy({error:F,headers:v,status:E,statusText:C,url:R||void 0}))},h=v=>{let{url:E}=c(),C=new hy({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(C)},m=!1,g=v=>{m||(o.next(c()),m=!0);let E={type:Hd.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),t.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},b=v=>{let E={type:Hd.UploadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),o.next(E)};return s.addEventListener("load",u),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:Hd.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",u),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Ge($d))};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})(),w3=new Pe(""),Ite="XSRF-TOKEN",Ate=new Pe("",{providedIn:"root",factory:()=>Ite}),Tte="X-XSRF-TOKEN",Rte=new Pe("",{providedIn:"root",factory:()=>Tte}),py=class{},Nte=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sy(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Ge(Lt),Ge(Ate))};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})();function Fte(n,e){let t=n.url.toLowerCase();if(!B(w3)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=B(py).getToken(),i=B(Rte);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ET=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ET||{});function Mte(n,e){return{\u0275kind:n,\u0275providers:e}}function Ote(...n){let e=[vl,bT,Sw,{provide:cp,useExisting:Sw},{provide:dy,useFactory:()=>B(wte,{optional:!0})??B(bT)},{provide:wT,useValue:Fte,multi:!0},{provide:w3,useValue:!0},{provide:py,useClass:Nte}];for(let t of n)e.push(...t.\u0275providers);return ou(e)}function kte(n){return Mte(ET.Interceptors,n.map(e=>({provide:wT,useValue:e,multi:!0})))}var E3=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Ge(Lt))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ST=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Ge(Pte),i},providedIn:"root"})}return n})(),Pte=(()=>{class n extends ST{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Hi.NONE:return r;case Hi.HTML:return dc(r,"HTML")?ps(r):l1(this._doc,String(r)).toString();case Hi.STYLE:return dc(r,"Style")?ps(r):r;case Hi.SCRIPT:if(dc(r,"Script"))return ps(r);throw new it(5200,!1);case Hi.URL:return dc(r,"URL")?ps(r):Gg(String(r));case Hi.RESOURCE_URL:if(dc(r,"ResourceURL"))return ps(r);throw new it(5201,!1);default:throw new it(5202,!1)}}bypassSecurityTrustHtml(t){return r1(t)}bypassSecurityTrustStyle(t){return i1(t)}bypassSecurityTrustScript(t){return o1(t)}bypassSecurityTrustUrl(t){return s1(t)}bypassSecurityTrustResourceUrl(t){return a1(t)}static \u0275fac=function(r){return new(r||n)(Ge(Lt))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rn="primary",Iy=Symbol("RouteTitle"),AT=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Gd(n){return new AT(n)}function N3(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Lte(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_l(n[t],e[t]))return!1;return!0}function _l(n,e){let t=n?TT(n):void 0,r=e?TT(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!F3(n[i],e[i]))return!1;return!0}function TT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function F3(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function M3(n){return n.length>0?n[n.length-1]:null}function gc(n){return sl(n)?n:yu(n)?Qn(Promise.resolve(n)):Ke(n)}var Bte={exact:k3,subset:P3},O3={exact:jte,subset:Ute,ignored:()=>!0};function C3(n,e,t){return Bte[t.paths](n.root,e.root,t.matrixParams)&&O3[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function jte(n,e){return _l(n,e)}function k3(n,e,t){if(!qd(n.segments,e.segments)||!Iw(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!k3(n.children[r],e.children[r],t))return!1;return!0}function Ute(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>F3(n[t],e[t]))}function P3(n,e,t){return L3(n,e,e.segments,t)}function L3(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!qd(i,t)||e.hasChildren()||!Iw(i,t,r))}else if(n.segments.length===t.length){if(!qd(n.segments,t)||!Iw(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!P3(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!qd(n.segments,i)||!Iw(n.segments,i,r)||!n.children[rn]?!1:L3(n.children[rn],e,o,r)}}function Iw(n,e,t){return e.every((r,i)=>O3[t](n[i].parameters,r.parameters))}var wl=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Hn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gd(this.queryParams),this._queryParamMap}toString(){return Hte.serialize(this)}},Hn=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Aw(this)}},_u=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Gd(this.parameters),this._parameterMap}toString(){return j3(this)}};function Vte(n,e){return qd(n,e)&&n.every((t,r)=>_l(t.parameters,e[r].parameters))}function qd(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function $te(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===rn&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==rn&&(t=t.concat(e(i,r)))}),t}var Wd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:()=>new bu,providedIn:"root"})}return n})(),bu=class{parse(e){let t=new NT(e);return new wl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${my(e.root,!0)}`,r=Gte(e.queryParams),i=typeof e.fragment=="string"?`#${qte(e.fragment)}`:"";return`${t}${r}${i}`}},Hte=new bu;function Aw(n){return n.segments.map(e=>j3(e)).join("/")}function my(n,e){if(!n.hasChildren())return Aw(n);if(e){let t=n.children[rn]?my(n.children[rn],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==rn&&r.push(`${i}:${my(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=$te(n,(r,i)=>i===rn?[my(n.children[rn],!1)]:[`${i}:${my(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[rn]!=null?`${Aw(n)}/${t[0]}`:`${Aw(n)}/(${t.join("//")})`}}function B3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xw(n){return B3(n).replace(/%3B/gi,";")}function qte(n){return encodeURI(n)}function RT(n){return B3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tw(n){return decodeURIComponent(n)}function x3(n){return Tw(n.replace(/\+/g,"%20"))}function j3(n){return`${RT(n.path)}${zte(n.parameters)}`}function zte(n){return Object.entries(n).map(([e,t])=>`;${RT(e)}=${RT(t)}`).join("")}function Gte(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${xw(t)}=${xw(i)}`).join("&"):`${xw(t)}=${xw(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Wte=/^[^\/()?;#]+/;function CT(n){let e=n.match(Wte);return e?e[0]:""}var Kte=/^[^\/()?;=#]+/;function Jte(n){let e=n.match(Kte);return e?e[0]:""}var Xte=/^[^=?&#]+/;function Yte(n){let e=n.match(Xte);return e?e[0]:""}var Qte=/^[^&#]+/;function Zte(n){let e=n.match(Qte);return e?e[0]:""}var NT=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[rn]=new Hn(e,t)),r}parseSegment(){let e=CT(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new it(4009,!1);return this.capture(e),new _u(Tw(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Jte(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=CT(this.remaining);i&&(r=i,this.capture(r))}e[Tw(t)]=Tw(r)}parseQueryParam(e){let t=Yte(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Zte(this.remaining);s&&(r=s,this.capture(r))}let i=x3(t),o=x3(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=CT(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new it(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=rn);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[rn]:new Hn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new it(4011,!1)}};function U3(n){return n.segments.length>0?new Hn([],{[rn]:n}):n}function V3(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=V3(i);if(r===rn&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Hn(n.segments,e);return ene(t)}function ene(n){if(n.numberOfChildren===1&&n.children[rn]){let e=n.children[rn];return new Hn(n.segments.concat(e.segments),e.children)}return n}function wu(n){return n instanceof wl}function $3(n,e,t=null,r=null){let i=H3(n);return q3(i,e,t,r)}function H3(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new Hn(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=U3(r);return e??i}function q3(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return xT(i,i,i,t,r);let o=tne(e);if(o.toRoot())return xT(i,i,new Hn([],{}),t,r);let s=nne(o,i,n),a=s.processChildren?yy(s.segmentGroup,s.index,o.commands):G3(s.segmentGroup,s.index,o.commands);return xT(i,s.segmentGroup,a,t,r)}function Rw(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function _y(n){return typeof n=="object"&&n!=null&&n.outlets}function xT(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=z3(n,e,t);let a=U3(V3(s));return new wl(a,o,i)}function z3(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=z3(o,e,t)}),new Hn(n.segments,r)}var Nw=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Rw(r[0]))throw new it(4003,!1);let i=r.find(_y);if(i&&i!==M3(r))throw new it(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tne(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Nw(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Nw(t,e,r)}var hp=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function nne(n,e,t){if(n.isAbsolute)return new hp(e,!0,0);if(!t)return new hp(e,!1,NaN);if(t.parent===null)return new hp(t,!0,0);let r=Rw(n.commands[0])?0:1,i=t.segments.length-1+r;return rne(t,i,n.numberOfDoubleDots)}function rne(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new it(4005,!1);i=r.segments.length}return new hp(r,!1,i-o)}function ine(n){return _y(n[0])?n[0].outlets:{[rn]:n}}function G3(n,e,t){if(n??=new Hn([],{}),n.segments.length===0&&n.hasChildren())return yy(n,e,t);let r=one(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Hn(n.segments.slice(0,r.pathIndex),{});return o.children[rn]=new Hn(n.segments.slice(r.pathIndex),n.children),yy(o,0,i)}else return r.match&&i.length===0?new Hn(n.segments,{}):r.match&&!n.hasChildren()?FT(n,e,t):r.match?yy(n,0,i):FT(n,e,t)}function yy(n,e,t){if(t.length===0)return new Hn(n.segments,{});{let r=ine(t),i={};if(Object.keys(r).some(o=>o!==rn)&&n.children[rn]&&n.numberOfChildren===1&&n.children[rn].segments.length===0){let o=yy(n.children[rn],e,t);return new Hn(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=G3(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Hn(n.segments,i)}}function one(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(_y(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!I3(l,c,s))return o;r+=2}else{if(!I3(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function FT(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(_y(o)){let l=sne(o.outlets);return new Hn(r,l)}if(i===0&&Rw(t[0])){let l=n.segments[e];r.push(new _u(l.path,D3(t[0]))),i++;continue}let s=_y(o)?o.outlets[rn]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Rw(a)?(r.push(new _u(s,D3(a))),i+=2):(r.push(new _u(s,{})),i++)}return new Hn(r,{})}function sne(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=FT(new Hn([],{}),0,r))}),e}function D3(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function I3(n,e,t){return n==t.path&&_l(e,t.parameters)}var pp="imperative",vi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vi||{}),_s=class{id;url;constructor(e,t){this.id=e,this.url=t}},El=class extends _s{type=vi.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bs=class extends _s{urlAfterRedirects;type=vi.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Eo=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Eo||{}),gp=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(gp||{}),bl=class extends _s{reason;code;type=vi.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sl=class extends _s{reason;code;type=vi.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},yp=class extends _s{error;target;type=vi.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},by=class extends _s{urlAfterRedirects;state;type=vi.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fw=class extends _s{urlAfterRedirects;state;type=vi.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mw=class extends _s{urlAfterRedirects;state;shouldActivate;type=vi.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ow=class extends _s{urlAfterRedirects;state;type=vi.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kw=class extends _s{urlAfterRedirects;state;type=vi.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pw=class{route;type=vi.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lw=class{route;type=vi.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Bw=class{snapshot;type=vi.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jw=class{snapshot;type=vi.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uw=class{snapshot;type=vi.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vw=class{snapshot;type=vi.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{routerEvent;position;anchor;type=vi.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},wy=class{},_p=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function ane(n){return!(n instanceof wy)&&!(n instanceof _p)}function lne(n,e){return n.providers&&!n._injector&&(n._injector=tp(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ka(n){return n.outlet||rn}function cne(n,e){let t=n.filter(r=>ka(r)===e);return t.push(...n.filter(r=>ka(r)!==e)),t}function Ay(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var $w=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ay(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Kd(this.rootInjector)}},Kd=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new $w(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Ge(hr))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hw=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=MT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=MT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=OT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return OT(e,this._root).map(t=>t.value)}};function MT(n,e){if(n===e.value)return e;for(let t of e.children){let r=MT(n,t);if(r)return r}return null}function OT(n,e){if(n===e.value)return[e];for(let t of e.children){let r=OT(n,t);if(r.length)return r.unshift(e),r}return[]}var vs=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function fp(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ey=class extends Hw{snapshot;constructor(e,t){super(e),this.snapshot=t,$T(this,e)}toString(){return this.snapshot.toString()}};function W3(n){let e=une(n),t=new yn([new _u("",{})]),r=new yn({}),i=new yn({}),o=new yn({}),s=new yn(""),a=new Go(t,r,o,s,i,rn,n,e.root);return a.snapshot=e.root,new Ey(new vs(a,[]),e)}function une(n){let e={},t={},r={},i="",o=new zd([],e,r,i,t,rn,n,null,{});return new Sy("",new vs(o,[]))}var Go=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(at(c=>c[Iy]))??Ke(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(at(e=>Gd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(at(e=>Gd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qw(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:ne(ne({},e.params),n.params),data:ne(ne({},e.data),n.data),resolve:ne(ne(ne(ne({},n.data),e.data),i?.data),n._resolvedData)}:r={params:ne({},n.params),data:ne({},n.data),resolve:ne(ne({},n.data),n._resolvedData??{})},i&&J3(i)&&(r.resolve[Iy]=i.title),r}var zd=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Iy]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Sy=class extends Hw{url;constructor(e,t){super(t),this.url=e,$T(this,t)}toString(){return K3(this._root)}};function $T(n,e){e.value._routerState=n,e.children.forEach(t=>$T(n,t))}function K3(n){let e=n.children.length>0?` { ${n.children.map(K3).join(", ")} } `:"";return`${n.value}${e}`}function DT(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_l(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),_l(e.params,t.params)||n.paramsSubject.next(t.params),Lte(e.url,t.url)||n.urlSubject.next(t.url),_l(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function kT(n,e){let t=_l(n.params,e.params)&&Vte(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||kT(n.parent,e.parent))}function J3(n){return typeof n.title=="string"||n.title===null}var X3=new Pe(""),Ty=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=rn;activateEvents=new Vt;deactivateEvents=new Vt;attachEvents=new Vt;detachEvents=new Vt;routerOutletData=Pj(void 0);parentContexts=B(Kd);location=B(mi);changeDetector=B(Kr);inputBinder=B(Ry,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new it(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new it(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new it(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new it(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new PT(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Fr]})}return n})(),PT=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Go?this.route:e===Kd?this.childContexts:e===X3?this.outletData:this.parent.get(e,t)}},Ry=new Pe(""),HT=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Bs([r.queryParams,r.params,r.data]).pipe(Rr(([o,s,a],l)=>(a=ne(ne(ne({},o),s),a),l===0?Ke(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Vj(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})(),qT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ze(0,"router-outlet")},dependencies:[Ty],encapsulation:2})}return n})();function zT(n){let e=n.children&&n.children.map(zT),t=e?Re(ne({},n),{children:e}):ne({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==rn&&(t.component=qT),t}function dne(n,e,t){let r=Cy(n,e._root,t?t._root:void 0);return new Ey(r,e)}function Cy(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=fne(n,e,t);return new vs(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Cy(n,a)),s}}let r=hne(e.value),i=e.children.map(o=>Cy(n,o));return new vs(r,i)}}function fne(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cy(n,r,i);return Cy(n,r)})}function hne(n){return new Go(new yn(n.url),new yn(n.params),new yn(n.queryParams),new yn(n.fragment),new yn(n.data),n.outlet,n.component,n)}var bp=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Y3="ngNavigationCancelingError";function zw(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=wu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Q3(!1,Eo.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Q3(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Y3]=!0,t.cancellationCode=e,t}function pne(n){return Z3(n)&&wu(n.url)}function Z3(n){return!!n&&n[Y3]}var mne=(n,e,t,r)=>at(i=>(new LT(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),LT=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),DT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=fp(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fp(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fp(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=fp(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Vw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jw(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(DT(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),DT(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Gw=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},mp=class{component;route;constructor(e,t){this.component=e,this.route=t}};function gne(n,e,t){let r=n._root,i=e?e._root:null;return gy(r,i,t,[r.value])}function yne(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ep(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!pI(n)?n:e.get(n):r}function gy(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=fp(e);return n.children.forEach(s=>{vne(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vy(a,t.getContext(s),i)),i}function vne(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=_ne(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Gw(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?gy(n,e,a?a.children:null,r,i):gy(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mp(a.outlet.component,s))}else s&&vy(e,a,i),i.canActivateChecks.push(new Gw(r)),o.component?gy(n,null,a?a.children:null,r,i):gy(n,null,t,r,i);return i}function _ne(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!qd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qd(n.url,e.url)||!_l(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kT(n,e)||!_l(n.queryParams,e.queryParams);case"paramsChange":default:return!kT(n,e)}}function vy(n,e,t){let r=fp(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?vy(s,e.children.getContext(o),t):vy(s,null,t):vy(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new mp(e.outlet.component,i)):t.canDeactivateChecks.push(new mp(null,i)):t.canDeactivateChecks.push(new mp(null,i))}function Ny(n){return typeof n=="function"}function bne(n){return typeof n=="boolean"}function wne(n){return n&&Ny(n.canLoad)}function Ene(n){return n&&Ny(n.canActivate)}function Sne(n){return n&&Ny(n.canActivateChild)}function Cne(n){return n&&Ny(n.canDeactivate)}function xne(n){return n&&Ny(n.canMatch)}function eU(n){return n instanceof ga||n?.name==="EmptyError"}var Dw=Symbol("INITIAL_VALUE");function wp(){return Rr(n=>Bs(n.map(e=>e.pipe(Pn(1),Ti(Dw)))).pipe(at(e=>{for(let t of e)if(t!==!0){if(t===Dw)return Dw;if(t===!1||Dne(t))return t}return!0}),nn(e=>e!==Dw),Pn(1)))}function Dne(n){return wu(n)||n instanceof bp}function Ine(n,e){return kr(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Ke(Re(ne({},t),{guardsResult:!0})):Ane(s,r,i,n).pipe(kr(a=>a&&bne(a)?Tne(r,o,n,e):Ke(a)),at(a=>Re(ne({},t),{guardsResult:a})))})}function Ane(n,e,t,r){return Qn(n).pipe(kr(i=>One(i.component,i.route,t,e,r)),fi(i=>i!==!0,!0))}function Tne(n,e,t,r){return Qn(e).pipe(ds(i=>us(Nne(i.route.parent,r),Rne(i.route,r),Mne(n,i.path,t),Fne(n,i.route,t))),fi(i=>i!==!0,!0))}function Rne(n,e){return n!==null&&e&&e(new Uw(n)),Ke(!0)}function Nne(n,e){return n!==null&&e&&e(new Bw(n)),Ke(!0)}function Fne(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Ke(!0);let i=r.map(o=>ya(()=>{let s=Ay(e)??t,a=Ep(o,s),l=Ene(a)?a.canActivate(e,n):no(s,()=>a(e,n));return gc(l).pipe(fi())}));return Ke(i).pipe(wp())}function Mne(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>yne(s)).filter(s=>s!==null).map(s=>ya(()=>{let a=s.guards.map(l=>{let c=Ay(s.node)??t,u=Ep(l,c),h=Sne(u)?u.canActivateChild(r,n):no(c,()=>u(r,n));return gc(h).pipe(fi())});return Ke(a).pipe(wp())}));return Ke(o).pipe(wp())}function One(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ke(!0);let s=o.map(a=>{let l=Ay(e)??i,c=Ep(a,l),u=Cne(c)?c.canDeactivate(n,e,t,r):no(l,()=>c(n,e,t,r));return gc(u).pipe(fi())});return Ke(s).pipe(wp())}function kne(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Ke(!0);let o=i.map(s=>{let a=Ep(s,n),l=wne(a)?a.canLoad(e,t):no(n,()=>a(e,t));return gc(l)});return Ke(o).pipe(wp(),tU(r))}function tU(n){return qD(Zn(e=>{if(typeof e!="boolean")throw zw(n,e)}),at(e=>e===!0))}function Pne(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Ke(!0);let o=i.map(s=>{let a=Ep(s,n),l=xne(a)?a.canMatch(e,t):no(n,()=>a(e,t));return gc(l)});return Ke(o).pipe(wp(),tU(r))}var xy=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Dy=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function dp(n){return ol(new xy(n))}function Lne(n){return ol(new it(4e3,!1))}function Bne(n){return ol(Q3(!1,Eo.GuardRejected))}var BT=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Ke(r);if(i.numberOfChildren>1||!i.children[rn])return Lne(`${e.redirectTo}`);i=i.children[rn]}}applyRedirectCommands(e,t,r,i,o){return jne(t,i,o).pipe(at(s=>{if(s instanceof wl)throw new Dy(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Dy(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new wl(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Hn(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new it(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function jne(n,e,t){if(typeof n=="string")return Ke(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:h}=e;return gc(no(t,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:h})))}var jT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Une(n,e,t,r,i){let o=nU(n,e,t);return o.matched?(r=lne(e,r),Pne(r,e,t,i).pipe(at(s=>s===!0?o:ne({},jT)))):Ke(o)}function nU(n,e,t){if(e.path==="**")return Vne(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?ne({},jT):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||N3)(t,n,e);if(!i)return ne({},jT);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?ne(ne({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Vne(n){return{matched:!0,parameters:n.length>0?M3(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function A3(n,e,t,r){return t.length>0&&qne(n,t,r)?{segmentGroup:new Hn(e,Hne(r,new Hn(t,n.children))),slicedSegments:[]}:t.length===0&&zne(n,t,r)?{segmentGroup:new Hn(n.segments,$ne(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Hn(n.segments,n.children),slicedSegments:t}}function $ne(n,e,t,r){let i={};for(let o of t)if(Kw(n,e,o)&&!r[ka(o)]){let s=new Hn([],{});i[ka(o)]=s}return ne(ne({},r),i)}function Hne(n,e){let t={};t[rn]=e;for(let r of n)if(r.path===""&&ka(r)!==rn){let i=new Hn([],{});t[ka(r)]=i}return t}function qne(n,e,t){return t.some(r=>Kw(n,e,r)&&ka(r)!==rn)}function zne(n,e,t){return t.some(r=>Kw(n,e,r))}function Kw(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Gne(n,e,t){return e.length===0&&!n.children[t]}var UT=class{};function Wne(n,e,t,r,i,o,s="emptyOnly"){return new VT(n,e,t,r,i,s,o).recognize()}var Kne=31,VT=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new BT(this.urlSerializer,this.urlTree)}noMatchError(e){return new it(4002,`'${e.segmentGroup}'`)}recognize(){let e=A3(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(at(({children:t,rootSnapshot:r})=>{let i=new vs(r,t),o=new Sy("",i),s=$3(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new zd([],Object.freeze({}),Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),rn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,rn,t).pipe(at(r=>({children:r,rootSnapshot:t})),$o(r=>{if(r instanceof Dy)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xy?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(at(s=>s instanceof vs?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Qn(o).pipe(ds(s=>{let a=r.children[s],l=cne(t,s);return this.processSegmentGroup(e,l,a,s,i)}),ZD((s,a)=>(s.push(...a),s)),nu(null),QD(),kr(s=>{if(s===null)return dp(r);let a=rU(s);return Jne(a),Ke(a)}))}processSegment(e,t,r,i,o,s,a){return Qn(t).pipe(ds(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe($o(c=>{if(c instanceof xy)return Ke(null);throw c}))),fi(l=>!!l),$o(l=>{if(eU(l))return Gne(r,i,o)?Ke(new UT):dp(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return ka(r)!==s&&(s===rn||!Kw(i,o,r))?dp(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):dp(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:h,remainingSegments:m}=nU(t,i,o);if(!l)return dp(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Kne&&(this.allowRedirects=!1));let g=new zd(o,c,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,T3(i),ka(i),i.component??i._loadedComponent??null,i,R3(i)),b=qw(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(b.params),g.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h,g,e).pipe(Rr(E=>this.applyRedirects.lineralizeSegments(i,E)),kr(E=>this.processSegment(e,r,t,E.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Une(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Rr(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Rr(({routes:c})=>{let u=r._loadedInjector??e,{parameters:h,consumedSegments:m,remainingSegments:g}=l,b=new zd(m,h,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,T3(r),ka(r),r.component??r._loadedComponent??null,r,R3(r)),v=qw(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(v.params),b.data=Object.freeze(v.data);let{segmentGroup:E,slicedSegments:C}=A3(t,m,g,c);if(C.length===0&&E.hasChildren())return this.processChildren(u,c,E,b).pipe(at(F=>new vs(b,F)));if(c.length===0&&C.length===0)return Ke(new vs(b,[]));let R=ka(r)===o;return this.processSegment(u,c,E,C,R?rn:o,!0,b).pipe(at(F=>new vs(b,F instanceof vs?[F]:[])))}))):dp(t)))}getChildConfig(e,t,r){return t.children?Ke({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Ke({routes:t._loadedRoutes,injector:t._loadedInjector}):kne(e,t,r,this.urlSerializer).pipe(kr(i=>i?this.configLoader.loadChildren(e,t).pipe(Zn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Bne(t))):Ke({routes:[],injector:e})}};function Jne(n){n.sort((e,t)=>e.value.outlet===rn?-1:t.value.outlet===rn?1:e.value.outlet.localeCompare(t.value.outlet))}function Xne(n){let e=n.value.routeConfig;return e&&e.path===""}function rU(n){let e=[],t=new Set;for(let r of n){if(!Xne(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=rU(r.children);e.push(new vs(r.value,i))}return e.filter(r=>!t.has(r))}function T3(n){return n.data||{}}function R3(n){return n.resolve||{}}function Yne(n,e,t,r,i,o){return kr(s=>Wne(n,e,t,r,s.extractedUrl,i,o).pipe(at(({state:a,tree:l})=>Re(ne({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Qne(n,e){return kr(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ke(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of iU(l))s.add(c);let a=0;return Qn(s).pipe(ds(l=>o.has(l)?Zne(l,r,n,e):(l.data=qw(l,l.parent,n).resolve,Ke(void 0))),Zn(()=>a++),kh(1),kr(l=>a===s.size?Ke(t):ii))})}function iU(n){let e=n.children.map(t=>iU(t)).flat();return[n,...e]}function Zne(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!J3(i)&&(o[Iy]=i.title),ya(()=>(n.data=qw(n,n.parent,t).resolve,ere(o,n,e,r).pipe(at(s=>(n._resolvedData=s,n.data=ne(ne({},n.data),s),null)))))}function ere(n,e,t,r){let i=TT(n);if(i.length===0)return Ke({});let o={};return Qn(i).pipe(kr(s=>tre(n[s],e,t,r).pipe(fi(),Zn(a=>{if(a instanceof bp)throw zw(new bu,a);o[s]=a}))),kh(1),at(()=>o),$o(s=>eU(s)?ii:ol(s)))}function tre(n,e,t,r){let i=Ay(e)??r,o=Ep(n,i),s=o.resolve?o.resolve(e,t):no(i,()=>o(e,t));return gc(s)}function IT(n){return Rr(e=>{let t=n(e);return t?Qn(t).pipe(at(()=>e)):Ke(e)})}var GT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===rn);return r}getResolvedTitleForRoute(t){return t.data[Iy]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:()=>B(oU),providedIn:"root"})}return n})(),oU=(()=>{class n extends GT{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Ge(E3))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Eu=new Pe("",{providedIn:"root",factory:()=>({})}),Jd=new Pe(""),Jw=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=B(K1);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ke(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=gc(t.loadComponent()).pipe(at(aU),Zn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),tc(()=>{this.componentLoaders.delete(t)})),i=new eu(r,()=>new $e).pipe(Fh());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ke({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=sU(r,this.compiler,t,this.onLoadEndListener).pipe(tc(()=>{this.childrenLoaders.delete(r)})),s=new eu(o,()=>new $e).pipe(Fh());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sU(n,e,t,r){return gc(n.loadChildren()).pipe(at(aU),kr(i=>i instanceof ew||Array.isArray(i)?Ke(i):Qn(e.compileModuleAsync(i))),at(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Jd,[],{optional:!0,self:!0}).flat()),{routes:s.map(zT),injector:o}}))}function nre(n){return n&&typeof n=="object"&&"default"in n}function aU(n){return nre(n)?n.default:n}var Xw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:()=>B(rre),providedIn:"root"})}return n})(),rre=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WT=new Pe(""),KT=new Pe("");function lU(n,e,t){let r=n.get(KT),i=n.get(Lt);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),ire(n))),{onViewTransitionCreated:l}=r;return l&&no(n,()=>l({transition:a,from:e,to:t})),s}function ire(n){return new Promise(e=>{qs({read:()=>setTimeout(e)},{injector:n})})}var JT=new Pe(""),Yw=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new $e;transitionAbortWithErrorSubject=new $e;configLoader=B(Jw);environmentInjector=B(hr);destroyRef=B(xa);urlSerializer=B(Wd);rootContexts=B(Kd);location=B(gl);inputBindingEnabled=B(Ry,{optional:!0})!==null;titleStrategy=B(GT);options=B(Eu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=B(Xw);createViewTransition=B(WT,{optional:!0});navigationErrorHandler=B(JT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ke(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Pw(i)),r=i=>this.events.next(new Lw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Re(ne({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new yn(null),this.transitions.pipe(nn(r=>r!==null),Rr(r=>{let i=!1;return Ke(r).pipe(Rr(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Eo.SupersededByNewNavigation),ii;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Re(ne({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new Sl(o.id,this.urlSerializer.serialize(o.rawUrl),l,gp.IgnoredSameUrlNavigation)),o.resolve(!1),ii}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Ke(o).pipe(Rr(l=>(this.events.next(new El(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?ii:Promise.resolve(l))),Yne(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Zn(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Re(ne({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new by(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:h,extras:m}=o,g=new El(l,this.urlSerializer.serialize(c),u,h);this.events.next(g);let b=W3(this.rootComponentType).snapshot;return this.currentTransition=r=Re(ne({},o),{targetSnapshot:b,urlAfterRedirects:c,extras:Re(ne({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,Ke(r)}else{let l="";return this.events.next(new Sl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,gp.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ii}}),Zn(o=>{let s=new Fw(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),at(o=>(this.currentTransition=r=Re(ne({},o),{guards:gne(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Ine(this.environmentInjector,o=>this.events.next(o)),Zn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw zw(this.urlSerializer,o.guardsResult);let s=new Mw(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),nn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Eo.GuardRejected),!1)),IT(o=>{if(o.guards.canActivateChecks.length!==0)return Ke(o).pipe(Zn(s=>{let a=new Ow(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Rr(s=>{let a=!1;return Ke(s).pipe(Qne(this.paramsInheritanceStrategy,this.environmentInjector),Zn({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Eo.NoDataFromResolver)}}))}),Zn(s=>{let a=new kw(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),IT(o=>{let s=a=>{let l=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(a.routeConfig).pipe(Zn(c=>{a.component=c}),at(()=>{})));for(let c of a.children)l.push(...s(c));return l};return Bs(s(o.targetSnapshot.root)).pipe(nu(null),Pn(1))}),IT(()=>this.afterPreactivation()),Rr(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Qn(a).pipe(at(()=>r)):Ke(r)}),at(o=>{let s=dne(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Re(ne({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Zn(()=>{this.events.next(new wy)}),mne(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Pn(1),kt(new Xt(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(nn(()=>!i&&!r.targetRouterState),Zn(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Eo.Aborted)}))),Zn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),kt(this.transitionAbortWithErrorSubject.pipe(Zn(o=>{throw o}))),tc(()=>{i||this.cancelNavigationTransition(r,"",Eo.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),$o(o=>{if(this.destroyed)return r.resolve(!1),ii;if(i=!0,Z3(o))this.events.next(new bl(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),pne(o)?this.events.next(new _p(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new yp(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=no(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof bp){let{message:l,cancellationCode:c}=zw(this.urlSerializer,a);this.events.next(new bl(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new _p(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return ii}))}))}cancelNavigationTransition(t,r,i){let o=new bl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ore(n){return n!==pp}var cU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:()=>B(sre),providedIn:"root"})}return n})(),Ww=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},sre=(()=>{class n extends Ww{static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uU=(()=>{class n{urlSerializer=B(Wd);options=B(Eu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=B(gl);urlHandlingStrategy=B(Xw);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wl;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof wl?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=W3(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:()=>B(are),providedIn:"root"})}return n})(),are=(()=>{class n extends uU{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof El?this.updateStateMemento():t instanceof Sl?this.commitTransition(r):t instanceof by?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof wy?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof bl&&t.code!==Eo.SupersededByNewNavigation&&t.code!==Eo.Redirect?this.restoreHistory(r):t instanceof yp?this.restoreHistory(r,!0):t instanceof bs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=ne(ne({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=ne(ne({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qw(n,e){n.events.pipe(nn(t=>t instanceof bs||t instanceof bl||t instanceof yp||t instanceof Sl),at(t=>t instanceof bs||t instanceof Sl?0:(t instanceof bl?t.code===Eo.Redirect||t.code===Eo.SupersededByNewNavigation:!1)?2:1),nn(t=>t!==2),Pn(1)).subscribe(()=>{e()})}var lre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=B(rw);stateManager=B(uU);options=B(Eu,{optional:!0})||{};pendingTasks=B(ac);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=B(Yw);urlSerializer=B(Wd);location=B(gl);urlHandlingStrategy=B(Xw);injector=B(hr);_events=new $e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=B(cU);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=B(Jd,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!B(Ry,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new wn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof bl&&r.code!==Eo.Redirect&&r.code!==Eo.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof bs)this.navigated=!0;else if(r instanceof _p){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=ne({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ore(i.source)},s);this.scheduleNavigation(a,pp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ane(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=ne({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.injector.get(qo)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=ne(ne({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let m=i?i.snapshot:this.routerState.snapshot.root;h=H3(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return q3(h,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=wu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,pp,null,r)}navigate(t,r={skipLocationChange:!1}){return ure(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=ne({},lre):r===!1?i=ne({},cre):i=r,wu(t))return C3(this.currentUrlTree,t,i);let o=this.parseUrl(t);return C3(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,m)=>{a=h,l=m});let u=this.pendingTasks.add();return Qw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ure(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new it(4008,!1)}var Wo=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=sr(null);get href(){return ys(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new $e;applicationErrorHandler=B(qo);options=B(Eu,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(B(new ml("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof bs&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wu(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:wu(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ke(mr),ke(Go),qg("tabindex"),ke(Pr),ke(Bt),ke(Fa))};static \u0275dir=mt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&St("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ln("href",i.reactiveHref(),c1)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qt],replaceUrl:[2,"replaceUrl","replaceUrl",Qt],routerLink:"routerLink"},features:[Fr]})}return n})(),YT=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Vt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof bs&&this.update()})}ngAfterContentInit(){Ke(this.links.changes,Ke(null)).pipe(al()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Qn(t).pipe(al()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=dre(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(ke(mr),ke(Bt),ke(Pr),ke(Kr),ke(Wo,8))};static \u0275dir=mt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&qi(o,Wo,5),r&2){let s;vn(s=_n())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Fr]})}return n})();function dre(n){return!!n.paths}var Fy=class{};var dU=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(nn(t=>t instanceof bs),ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=tp(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Qn(i).pipe(al())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Ke(null);let o=i.pipe(kr(s=>s===null?Ke(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Qn([o,s]).pipe(al())}else return o})}static \u0275fac=function(r){return new(r||n)(Ge(mr),Ge(hr),Ge(Fy),Ge(Jw))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fU=new Pe(""),fre=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=pp;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof El?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Sl&&t.code===gp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vp&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>L(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new vp(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){S1()};static \u0275prov=Ie({token:n,factory:n.\u0275fac})}return n})();function hre(n,...e){return ou([{provide:Jd,multi:!0,useValue:n},[],{provide:Go,useFactory:hU,deps:[mr]},{provide:Qg,multi:!0,useFactory:pU},e.map(t=>t.\u0275providers)])}function hU(n){return n.routerState.root}function My(n,e){return{\u0275kind:n,\u0275providers:e}}function pU(){let n=B(jt);return e=>{let t=n.get(zs);if(e!==t.components[0])return;let r=n.get(mr),i=n.get(mU);n.get(QT)===1&&r.initialNavigation(),n.get(vU,null,{optional:!0})?.setUpPreloading(),n.get(fU,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mU=new Pe("",{factory:()=>new $e}),QT=new Pe("",{providedIn:"root",factory:()=>1});function gU(){let n=[{provide:QT,useValue:0},iw(()=>{let e=B(jt);return e.get(oT,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(mr),o=e.get(mU);Qw(i,()=>{r(!0)}),e.get(Yw).afterPreactivation=()=>(r(!0),o.closed?Ke(void 0):o),i.initialNavigation()}))})];return My(2,n)}function yU(){let n=[iw(()=>{B(mr).setUpLocationChangeListener()}),{provide:QT,useValue:2}];return My(3,n)}var vU=new Pe("");function _U(n){return My(0,[{provide:vU,useExisting:dU},{provide:Fy,useExisting:n}])}function bU(){return My(8,[HT,{provide:Ry,useExisting:HT}])}function wU(n){Ta("NgRouterViewTransitions");let e=[{provide:WT,useValue:lU},{provide:KT,useValue:ne({skipNextTransition:!!n?.skipInitialTransition},n)}];return My(9,e)}var EU=[gl,{provide:Wd,useClass:bu},mr,Kd,{provide:Go,useFactory:hU,deps:[mr]},Jw,[]],ZT=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[EU,[],{provide:Jd,multi:!0,useValue:t},[],r?.errorHandler?{provide:JT,useValue:r.errorHandler}:[],{provide:Eu,useValue:r||{}},r?.useHash?mre():gre(),pre(),r?.preloadingStrategy?_U(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?yre(r):[],r?.bindToComponentInputs?bU().\u0275providers:[],r?.enableViewTransitions?wU().\u0275providers:[],vre()]}}static forChild(t){return{ngModule:n,providers:[{provide:Jd,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({})}return n})();function pre(){return{provide:fU,useFactory:()=>{let n=B(Zj),e=B(Rt),t=B(Eu),r=B(Yw),i=B(Wd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new fre(i,r,n,e,t)}}}function mre(){return{provide:Fa,useClass:aT}}function gre(){return{provide:Fa,useClass:fw}}function yre(n){return[n.initialNavigation==="disabled"?yU().\u0275providers:[],n.initialNavigation==="enabledBlocking"?gU().\u0275providers:[]]}var XT=new Pe("");function vre(){return[{provide:XT,useFactory:pU},{provide:Qg,multi:!0,useExisting:XT}]}var NU=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ke(Pr),ke(Bt))};static \u0275dir=mt({type:n})}return n})(),_re=(()=>{class n extends NU{static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275dir=mt({type:n,features:[Vn]})}return n})(),Yd=new Pe("");var bre={provide:Yd,useExisting:$i(()=>Ko),multi:!0};function wre(){let n=Gs()?Gs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Ere=new Pe(""),Ko=(()=>{class n extends NU{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!wre())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ke(Pr),ke(Bt),ke(Ere,8))};static \u0275dir=mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&St("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[tr([bre]),Vn]})}return n})();function rR(n){return n==null||iR(n)===0}function iR(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Cu=new Pe(""),cE=new Pe(""),Sre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Cr=class{static min(e){return Cre(e)}static max(e){return xre(e)}static required(e){return Dre(e)}static requiredTrue(e){return Ire(e)}static email(e){return Are(e)}static minLength(e){return Tre(e)}static maxLength(e){return Rre(e)}static pattern(e){return Nre(e)}static nullValidator(e){return FU()}static compose(e){return BU(e)}static composeAsync(e){return jU(e)}};function Cre(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function xre(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Dre(n){return rR(n.value)?{required:!0}:null}function Ire(n){return n.value===!0?null:{required:!0}}function Are(n){return rR(n.value)||Sre.test(n.value)?null:{email:!0}}function Tre(n){return e=>{let t=e.value?.length??iR(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Rre(n){return e=>{let t=e.value?.length??iR(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Nre(n){if(!n)return FU;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(rR(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function FU(n){return null}function MU(n){return n!=null}function OU(n){return yu(n)?Qn(n):n}function kU(n){let e={};return n.forEach(t=>{e=t!=null?ne(ne({},e),t):e}),Object.keys(e).length===0?null:e}function PU(n,e){return e.map(t=>t(n))}function Fre(n){return!n.validate}function LU(n){return n.map(e=>Fre(e)?e:t=>e.validate(t))}function BU(n){if(!n)return null;let e=n.filter(MU);return e.length==0?null:function(t){return kU(PU(t,e))}}function oR(n){return n!=null?BU(LU(n)):null}function jU(n){if(!n)return null;let e=n.filter(MU);return e.length==0?null:function(t){let r=PU(t,e).map(OU);return dg(r).pipe(at(kU))}}function sR(n){return n!=null?jU(LU(n)):null}function SU(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function UU(n){return n._rawValidators}function VU(n){return n._rawAsyncValidators}function eR(n){return n?Array.isArray(n)?n:[n]:[]}function eE(n,e){return Array.isArray(n)?n.includes(e):n===e}function CU(n,e){let t=eR(e);return eR(n).forEach(i=>{eE(t,i)||t.push(i)}),t}function xU(n,e){return eR(e).filter(t=>!eE(n,t))}var tE=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},yc=class extends tE{name;get formDirective(){return null}get path(){return null}},vc=class extends tE{_parent=null;name=null;valueAccessor=null},nE=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Mre={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Xke=Re(ne({},Mre),{"[class.ng-submitted]":"isSubmitted"}),io=(()=>{class n extends nE{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ke(vc,2))};static \u0275dir=mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&un("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Vn]})}return n})(),Jo=(()=>{class n extends nE{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ke(yc,10))};static \u0275dir=mt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&un("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Vn]})}return n})();var Oy="VALID",Zw="INVALID",Sp="PENDING",ky="DISABLED",Su=class{},rE=class extends Su{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ly=class extends Su{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},By=class extends Su{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Cp=class extends Su{status;source;constructor(e,t){super(),this.status=e,this.source=t}},iE=class extends Su{source;constructor(e){super(),this.source=e}},oE=class extends Su{source;constructor(e){super(),this.source=e}};function aR(n){return(uE(n)?n.validators:n)||null}function Ore(n){return Array.isArray(n)?oR(n):n||null}function lR(n,e){return(uE(e)?e.asyncValidators:n)||null}function kre(n){return Array.isArray(n)?sR(n):n||null}function uE(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function $U(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new it(1e3,"");if(!r[t])throw new it(1001,"")}function HU(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new it(1002,"")})}var xp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ys(this.statusReactive)}set status(e){ys(()=>this.statusReactive.set(e))}_status=Ra(()=>this.statusReactive());statusReactive=sr(void 0);get valid(){return this.status===Oy}get invalid(){return this.status===Zw}get pending(){return this.status==Sp}get disabled(){return this.status===ky}get enabled(){return this.status!==ky}errors;get pristine(){return ys(this.pristineReactive)}set pristine(e){ys(()=>this.pristineReactive.set(e))}_pristine=Ra(()=>this.pristineReactive());pristineReactive=sr(!0);get dirty(){return!this.pristine}get touched(){return ys(this.touchedReactive)}set touched(e){ys(()=>this.touchedReactive.set(e))}_touched=Ra(()=>this.touchedReactive());touchedReactive=sr(!1);get untouched(){return!this.touched}_events=new $e;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(CU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xU(e,this._rawAsyncValidators))}hasValidator(e){return eE(this._rawValidators,e)}hasAsyncValidator(e){return eE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Re(ne({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new By(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new By(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Re(ne({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ly(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ly(!0,r))}markAsPending(e={}){this.status=Sp;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cp(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Re(ne({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ky,this.errors=null,this._forEachChild(i=>{i.disable(Re(ne({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rE(this.value,r)),this._events.next(new Cp(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Re(ne({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Oy,this._forEachChild(r=>{r.enable(Re(ne({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Re(ne({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oy||this.status===Sp)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rE(this.value,t)),this._events.next(new Cp(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Re(ne({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ky:Oy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Sp,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=OU(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cp(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Vt,this.statusChanges=new Vt}_calculateStatus(){return this._allControlsDisabled()?ky:this.errors?Zw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sp)?Sp:this._anyControlsHaveStatus(Zw)?Zw:Oy}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ly(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new By(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uE(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ore(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=kre(this._rawAsyncValidators)}},Dp=class extends xp{constructor(e,t,r){super(aR(t),lR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){HU(this,!0,e),Object.keys(e).forEach(r=>{$U(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tR=class extends Dp{};var Uy=new Pe("",{providedIn:"root",factory:()=>dE}),dE="always";function qU(n,e){return[...e.path,n]}function sE(n,e,t=dE){cR(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Lre(n,e),jre(n,e),Bre(n,e),Pre(n,e)}function DU(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),lE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function aE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Pre(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function cR(n,e){let t=UU(n);e.validator!==null?n.setValidators(SU(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=VU(n);e.asyncValidator!==null?n.setAsyncValidators(SU(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();aE(e._rawValidators,i),aE(e._rawAsyncValidators,i)}function lE(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=UU(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=VU(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return aE(e._rawValidators,r),aE(e._rawAsyncValidators,r),t}function Lre(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&zU(n,e)})}function Bre(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&zU(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function zU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jre(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function GU(n,e){n==null,cR(n,e)}function Ure(n,e){return lE(n,e)}function WU(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Vre(n){return Object.getPrototypeOf(n.constructor)===_re}function KU(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function JU(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ko?t=o:Vre(o)?r=o:i=o}),i||r||t||null}function $re(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Hre={provide:yc,useExisting:$i(()=>Vy)},Py=Promise.resolve(),Vy=(()=>{class n extends yc{callSetDisabledState;get submitted(){return ys(this.submittedReactive)}_submitted=Ra(()=>this.submittedReactive());submittedReactive=sr(!1);_directives=new Set;form;ngSubmit=new Vt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Dp({},oR(t),sR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Py.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),sE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Py.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Py.then(()=>{let r=this._findContainer(t.path),i=new Dp({});GU(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Py.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Py.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),KU(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new iE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new oE(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ke(Cu,10),ke(cE,10),ke(Uy,8))};static \u0275dir=mt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&St("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[tr([Hre]),Vn]})}return n})();function IU(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function AU(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var jy=class extends xp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(aR(t),lR(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(AU(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var qre=n=>n instanceof jy;var zre={provide:vc,useExisting:$i(()=>$y)},TU=Promise.resolve(),$y=(()=>{class n extends vc{_changeDetectorRef;callSetDisabledState;control=new jy;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Vt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=JU(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),WU(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){sE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){TU.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Qt(r);TU.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?qU(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ke(yc,9),ke(Cu,10),ke(cE,10),ke(Yd,10),ke(Kr,8),ke(Uy,8))};static \u0275dir=mt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[tr([zre]),Vn,Fr]})}return n})();var Ws=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var XU=new Pe("");var Gre={provide:yc,useExisting:$i(()=>So)},So=(()=>{class n extends yc{callSetDisabledState;get submitted(){return ys(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ra(()=>this._submittedReactive());_submittedReactive=sr(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Vt;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return sE(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){DU(t.control||null,t,!1),$re(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),KU(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new iE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new oE(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(DU(r||null,t),qre(i)&&(sE(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);GU(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Ure(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cR(this.form,this),this._oldForm&&lE(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(ke(Cu,10),ke(cE,10),ke(Uy,8))};static \u0275dir=mt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&St("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[tr([Gre]),Vn,Fr]})}return n})();var Wre={provide:vc,useExisting:$i(()=>ws)},ws=(()=>{class n extends vc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Vt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=JU(this,o)}ngOnChanges(t){this._added||this._setUpControl(),WU(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return qU(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(ke(yc,13),ke(Cu,10),ke(cE,10),ke(Yd,10),ke(XU,8))};static \u0275dir=mt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[tr([Wre]),Vn,Fr]})}return n})();var YU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({})}return n})(),nR=class extends xp{constructor(e,t,r){super(aR(t),lR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){HU(this,!1,e),e.forEach((r,i)=>{$U(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function RU(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Es=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return RU(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Dp(i,o)}record(t,r=null){let i=this._reduceControls(t);return new tR(i,r)}control(t,r,i){let o={};return this.useNonNullable?(RU(r)?o=r:(o.validators=r,o.asyncValidators=i),new jy(t,Re(ne({},o),{nonNullable:!0}))):new jy(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new nR(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof jy)return t;if(t instanceof xp)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var QU=(()=>{class n extends Es{group(t,r=null){return super.group(t,r)}control(t,r,i){return super.control(t,r,i)}array(t,r,i){return super.array(t,r,i)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Uy,useValue:t.callSetDisabledState??dE}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[YU]})}return n})(),oo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:XU,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Uy,useValue:t.callSetDisabledState??dE}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[YU]})}return n})();var _c={production:!1,name:"dev",apiUrl:"http://localhost:4000"};var Co=(()=>{let e=class e{constructor(r){this.router=r,this.subject=new $e,this.showAfterRedirect=!1,this.router.events.subscribe(i=>{i instanceof El&&(this.showAfterRedirect?this.showAfterRedirect=!1:this.clear())})}onAlert(){return this.subject.asObservable()}success(r,i=!1){this.showAfterRedirect=i,this.subject.next({type:"success",message:r})}error(r,i=!1){this.showAfterRedirect=i,this.subject.next({type:"error",message:r})}clear(){this.subject.next(null)}};e.\u0275fac=function(i){return new(i||e)(Ge(mr))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Pa=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.http=i,this.alarmService=o,this.userSubject=new yn(JSON.parse(localStorage.getItem("user"))),this.user=this.userSubject.asObservable()}get userValue(){return this.userSubject.value}login(r,i){return this.http.post(`${_c.apiUrl}/users/authenticate`,{username:r,password:i}).pipe(at(o=>(localStorage.setItem("user",JSON.stringify(o)),this.userSubject.next(o),o)))}logout(){localStorage.removeItem("user"),this.userSubject.next(null),this.router.navigate(["/account/login"])}register(r){return this.http.post(`${_c.apiUrl}/users/register`,r)}getAll(){return this.http.get(`${_c.apiUrl}/users`)}getById(r){return this.http.get(`${_c.apiUrl}/users/${r}`)}update(r,i){return this.http.put(`${_c.apiUrl}/users/${r}`,i).pipe(at(o=>{if(r==this.userValue?.id){let s=ne(ne({},this.userValue),i);localStorage.setItem("user",JSON.stringify(s)),this.userSubject.next(s)}return o}))}delete(r){return this.http.delete(`${_c.apiUrl}/users/${r}`).pipe(at(i=>(r==this.userValue?.id&&this.logout(),i)))}};e.\u0275fac=function(i){return new(i||e)(Ge(mr),Ge(vl),Ge(Co))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var uR=`assets/config/config.${_c.name}.json`;var ZU=(()=>{let e=class e{constructor(r){this.http=r}load(){return new Promise((r,i)=>{XD(this.http.get(uR)).then(o=>{e.settings=o,r()}).catch(this.handleErrors)})}getSettings(){return this.http.get(uR)}handleErrors(r){switch(r.status){case 404:console.error("Can't find file: "+uR);break;default:console.error(r);break}}};e.\u0275fac=function(i){return new(i||e)(Ge(vl))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Ks=crypto,Ip=n=>n instanceof CryptoKey;var Xo=new TextEncoder,La=new TextDecoder,dPe=2**32;function fE(...n){let e=n.reduce((i,{length:o})=>i+o,0),t=new Uint8Array(e),r=0;for(let i of n)t.set(i,r),r+=i.length;return t}var Jre=n=>{let e=n;typeof e=="string"&&(e=Xo.encode(e));let t=32768,r=[];for(let i=0;i<e.length;i+=t)r.push(String.fromCharCode.apply(null,e.subarray(i,i+t)));return btoa(r.join(""))},Ap=n=>Jre(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),Xre=n=>{let e=atob(n),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t},Cl=n=>{let e=n;e instanceof Uint8Array&&(e=La.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Xre(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};var Yo=(()=>{class n extends Error{constructor(t,r){super(t,r),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}return n.code="ERR_JOSE_GENERIC",n})(),Ba=(()=>{class n extends Yo{constructor(t,r,i="unspecified",o="unspecified"){super(t,{cause:{claim:i,reason:o,payload:r}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=i,this.reason=o,this.payload=r}}return n.code="ERR_JWT_CLAIM_VALIDATION_FAILED",n})(),dR=(()=>{class n extends Yo{constructor(t,r,i="unspecified",o="unspecified"){super(t,{cause:{claim:i,reason:o,payload:r}}),this.code="ERR_JWT_EXPIRED",this.claim=i,this.reason=o,this.payload=r}}return n.code="ERR_JWT_EXPIRED",n})(),eV=(()=>{class n extends Yo{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}return n.code="ERR_JOSE_ALG_NOT_ALLOWED",n})(),_i=(()=>{class n extends Yo{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}return n.code="ERR_JOSE_NOT_SUPPORTED",n})();var xr=(()=>{class n extends Yo{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}return n.code="ERR_JWS_INVALID",n})(),Tp=(()=>{class n extends Yo{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}return n.code="ERR_JWT_INVALID",n})();var fR=(()=>{class n extends Yo{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}return n.code="ERR_JWKS_INVALID",n})(),hE=(()=>{class n extends Yo{constructor(t="no applicable key found in the JSON Web Key Set",r){super(t,r),this.code="ERR_JWKS_NO_MATCHING_KEY"}}return n.code="ERR_JWKS_NO_MATCHING_KEY",n})(),Hy=class extends Yo{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}};Hy.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";var tV=(()=>{class n extends Yo{constructor(t="request timed out",r){super(t,r),this.code="ERR_JWKS_TIMEOUT"}}return n.code="ERR_JWKS_TIMEOUT",n})(),nV=(()=>{class n extends Yo{constructor(t="signature verification failed",r){super(t,r),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}return n.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",n})();function xl(n,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${n}`)}function qy(n,e){return n.name===e}function hR(n){return parseInt(n.name.slice(4),10)}function Qre(n){switch(n){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Zre(n,e){if(e.length&&!e.some(t=>n.usages.includes(t))){let t="CryptoKey does not support this operation, its usages must include ";if(e.length>2){let r=e.pop();t+=`one of ${e.join(", ")}, or ${r}.`}else e.length===2?t+=`one of ${e[0]} or ${e[1]}.`:t+=`${e[0]}.`;throw new TypeError(t)}}function rV(n,e,...t){switch(e){case"HS256":case"HS384":case"HS512":{if(!qy(n.algorithm,"HMAC"))throw xl("HMAC");let r=parseInt(e.slice(2),10);if(hR(n.algorithm.hash)!==r)throw xl(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!qy(n.algorithm,"RSASSA-PKCS1-v1_5"))throw xl("RSASSA-PKCS1-v1_5");let r=parseInt(e.slice(2),10);if(hR(n.algorithm.hash)!==r)throw xl(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!qy(n.algorithm,"RSA-PSS"))throw xl("RSA-PSS");let r=parseInt(e.slice(2),10);if(hR(n.algorithm.hash)!==r)throw xl(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(n.algorithm.name!=="Ed25519"&&n.algorithm.name!=="Ed448")throw xl("Ed25519 or Ed448");break}case"Ed25519":{if(!qy(n.algorithm,"Ed25519"))throw xl("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!qy(n.algorithm,"ECDSA"))throw xl("ECDSA");let r=Qre(e);if(n.algorithm.namedCurve!==r)throw xl(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Zre(n,t)}function iV(n,e,...t){if(t=t.filter(Boolean),t.length>2){let r=t.pop();n+=`one of type ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of type ${t[0]} or ${t[1]}.`:n+=`of type ${t[0]}.`;return e==null?n+=` Received ${e}`:typeof e=="function"&&e.name?n+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&e.constructor?.name&&(n+=` Received an instance of ${e.constructor.name}`),n}var zy=(n,...e)=>iV("Key must be ",n,...e);function pR(n,e,...t){return iV(`Key for the ${n} algorithm must be `,e,...t)}var mR=n=>Ip(n)?!0:n?.[Symbol.toStringTag]==="KeyObject",Iu=["CryptoKey"];var eie=(...n)=>{let e=n.filter(Boolean);if(e.length===0||e.length===1)return!0;let t;for(let r of e){let i=Object.keys(r);if(!t||t.size===0){t=new Set(i);continue}for(let o of i){if(t.has(o))return!1;t.add(o)}}return!0},pE=eie;function tie(n){return typeof n=="object"&&n!==null}function Gi(n){if(!tie(n)||Object.prototype.toString.call(n)!=="[object Object]")return!1;if(Object.getPrototypeOf(n)===null)return!0;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}var mE=(n,e)=>{if(n.startsWith("RS")||n.startsWith("PS")){let{modulusLength:t}=e.algorithm;if(typeof t!="number"||t<2048)throw new TypeError(`${n} requires key modulusLength to be 2048 bits or larger`)}};function bc(n){return Gi(n)&&typeof n.kty=="string"}function oV(n){return n.kty!=="oct"&&typeof n.d=="string"}function sV(n){return n.kty!=="oct"&&typeof n.d>"u"}function aV(n){return bc(n)&&n.kty==="oct"&&typeof n.k=="string"}function rie(n){let e,t;switch(n.kty){case"RSA":{switch(n.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${n.alg.slice(-3)}`},t=n.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.alg.slice(-3)}`},t=n.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(n.alg.slice(-3),10)||1}`},t=n.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new _i('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(n.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},t=n.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},t=n.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},t=n.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:n.crv},t=n.d?["deriveBits"]:[];break;default:throw new _i('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(n.alg){case"Ed25519":e={name:"Ed25519"},t=n.d?["sign"]:["verify"];break;case"EdDSA":e={name:n.crv},t=n.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:n.crv},t=n.d?["deriveBits"]:[];break;default:throw new _i('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new _i('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:t}}var iie=n=>L(null,null,function*(){if(!n.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:e,keyUsages:t}=rie(n),r=[e,n.ext??!1,n.key_ops??t],i=ne({},n);return delete i.alg,delete i.use,Ks.subtle.importKey("jwk",i,...r)}),gE=iie;var lV=n=>Cl(n),Rp,Np,cV=n=>n?.[Symbol.toStringTag]==="KeyObject",yE=(n,e,t,r,i=!1)=>L(null,null,function*(){let o=n.get(e);if(o?.[r])return o[r];let s=yield gE(Re(ne({},t),{alg:r}));return i&&Object.freeze(e),o?o[r]=s:n.set(e,{[r]:s}),s}),oie=(n,e)=>{if(cV(n)){let t=n.export({format:"jwk"});return delete t.d,delete t.dp,delete t.dq,delete t.p,delete t.q,delete t.qi,t.k?lV(t.k):(Np||(Np=new WeakMap),yE(Np,n,t,e))}return bc(n)?n.k?Cl(n.k):(Np||(Np=new WeakMap),yE(Np,n,n,e,!0)):n},sie=(n,e)=>{if(cV(n)){let t=n.export({format:"jwk"});return t.k?lV(t.k):(Rp||(Rp=new WeakMap),yE(Rp,n,t,e))}return bc(n)?n.k?Cl(n.k):(Rp||(Rp=new WeakMap),yE(Rp,n,n,e,!0)):n},gR={normalizePublicKey:oie,normalizePrivateKey:sie};function vE(n,e){return L(this,null,function*(){if(!Gi(n))throw new TypeError("JWK must be an object");switch(e||(e=n.alg),n.kty){case"oct":if(typeof n.k!="string"||!n.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Cl(n.k);case"RSA":if("oth"in n&&n.oth!==void 0)throw new _i('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return gE(Re(ne({},n),{alg:e}));default:throw new _i('Unsupported "kty" (Key Type) Parameter value')}})}var Fp=n=>n?.[Symbol.toStringTag],yR=(n,e,t)=>{if(e.use!==void 0&&e.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(e.key_ops!==void 0&&e.key_ops.includes?.(t)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${t}`);if(e.alg!==void 0&&e.alg!==n)throw new TypeError(`Invalid key for this operation, when present its alg must be ${n}`);return!0},aie=(n,e,t,r)=>{if(!(e instanceof Uint8Array)){if(r&&bc(e)){if(aV(e)&&yR(n,e,t))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!mR(e))throw new TypeError(pR(n,e,...Iu,"Uint8Array",r?"JSON Web Key":null));if(e.type!=="secret")throw new TypeError(`${Fp(e)} instances for symmetric algorithms must be of type "secret"`)}},lie=(n,e,t,r)=>{if(r&&bc(e))switch(t){case"sign":if(oV(e)&&yR(n,e,t))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(sV(e)&&yR(n,e,t))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!mR(e))throw new TypeError(pR(n,e,...Iu,r?"JSON Web Key":null));if(e.type==="secret")throw new TypeError(`${Fp(e)} instances for asymmetric algorithms must not be of type "secret"`);if(t==="sign"&&e.type==="public")throw new TypeError(`${Fp(e)} instances for asymmetric algorithm signing must be of type "private"`);if(t==="decrypt"&&e.type==="public")throw new TypeError(`${Fp(e)} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&t==="verify"&&e.type==="private")throw new TypeError(`${Fp(e)} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&t==="encrypt"&&e.type==="private")throw new TypeError(`${Fp(e)} instances for asymmetric algorithm encryption must be of type "public"`)};function uV(n,e,t,r){e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?aie(e,t,r,n):lie(e,t,r,n)}var VPe=uV.bind(void 0,!1),Gy=uV.bind(void 0,!0);function cie(n,e,t,r,i){if(i.crit!==void 0&&r?.crit===void 0)throw new n('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(s=>typeof s!="string"||s.length===0))throw new n('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;t!==void 0?o=new Map([...Object.entries(t),...e.entries()]):o=e;for(let s of r.crit){if(!o.has(s))throw new _i(`Extension Header Parameter "${s}" is not recognized`);if(i[s]===void 0)throw new n(`Extension Header Parameter "${s}" is missing`);if(o.get(s)&&r[s]===void 0)throw new n(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(r.crit)}var _E=cie;var uie=(n,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(t=>typeof t!="string")))throw new TypeError(`"${n}" option must be an array of strings`);if(e)return new Set(e)},dV=uie;var die=n=>L(null,null,function*(){if(n instanceof Uint8Array)return{kty:"oct",k:Ap(n)};if(!Ip(n))throw new TypeError(zy(n,...Iu,"Uint8Array"));if(!n.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");let s=yield Ks.subtle.exportKey("jwk",n),{ext:e,key_ops:t,alg:r,use:i}=s;return RD(s,["ext","key_ops","alg","use"])}),fV=die;function bE(n){return L(this,null,function*(){return fV(n)})}function Wy(n,e){let t=`SHA-${n.slice(-3)}`;switch(n){case"HS256":case"HS384":case"HS512":return{hash:t,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:t,name:"RSA-PSS",saltLength:n.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:t,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:t,name:"ECDSA",namedCurve:e.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:e.name};default:throw new _i(`alg ${n} is not supported either by JOSE or your javascript runtime`)}}function Ky(n,e,t){return L(this,null,function*(){if(t==="sign"&&(e=yield gR.normalizePrivateKey(e,n)),t==="verify"&&(e=yield gR.normalizePublicKey(e,n)),Ip(e))return rV(e,n,t),e;if(e instanceof Uint8Array){if(!n.startsWith("HS"))throw new TypeError(zy(e,...Iu));return Ks.subtle.importKey("raw",e,{hash:`SHA-${n.slice(-3)}`,name:"HMAC"},!1,[t])}throw new TypeError(zy(e,...Iu,"Uint8Array","JSON Web Key"))})}var fie=(n,e,t,r)=>L(null,null,function*(){let i=yield Ky(n,e,"verify");mE(n,i);let o=Wy(n,i.algorithm);try{return yield Ks.subtle.verify(o,i,t,r)}catch{return!1}}),hV=fie;function pV(n,e,t){return L(this,null,function*(){if(!Gi(n))throw new xr("Flattened JWS must be an object");if(n.protected===void 0&&n.header===void 0)throw new xr('Flattened JWS must have either of the "protected" or "header" members');if(n.protected!==void 0&&typeof n.protected!="string")throw new xr("JWS Protected Header incorrect type");if(n.payload===void 0)throw new xr("JWS Payload missing");if(typeof n.signature!="string")throw new xr("JWS Signature missing or incorrect type");if(n.header!==void 0&&!Gi(n.header))throw new xr("JWS Unprotected Header incorrect type");let r={};if(n.protected)try{let v=Cl(n.protected);r=JSON.parse(La.decode(v))}catch{throw new xr("JWS Protected Header is invalid")}if(!pE(r,n.header))throw new xr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let i=ne(ne({},r),n.header),o=_E(xr,new Map([["b64",!0]]),t?.crit,r,i),s=!0;if(o.has("b64")&&(s=r.b64,typeof s!="boolean"))throw new xr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:a}=i;if(typeof a!="string"||!a)throw new xr('JWS "alg" (Algorithm) Header Parameter missing or invalid');let l=t&&dV("algorithms",t.algorithms);if(l&&!l.has(a))throw new eV('"alg" (Algorithm) Header Parameter value not allowed');if(s){if(typeof n.payload!="string")throw new xr("JWS Payload must be a string")}else if(typeof n.payload!="string"&&!(n.payload instanceof Uint8Array))throw new xr("JWS Payload must be a string or an Uint8Array instance");let c=!1;typeof e=="function"?(e=yield e(r,n),c=!0,Gy(a,e,"verify"),bc(e)&&(e=yield vE(e,a))):Gy(a,e,"verify");let u=fE(Xo.encode(n.protected??""),Xo.encode("."),typeof n.payload=="string"?Xo.encode(n.payload):n.payload),h;try{h=Cl(n.signature)}catch{throw new xr("Failed to base64url decode the signature")}if(!(yield hV(a,e,h,u)))throw new nV;let g;if(s)try{g=Cl(n.payload)}catch{throw new xr("Failed to base64url decode the payload")}else typeof n.payload=="string"?g=Xo.encode(n.payload):g=n.payload;let b={payload:g};return n.protected!==void 0&&(b.protectedHeader=r),n.header!==void 0&&(b.unprotectedHeader=n.header),c?Re(ne({},b),{key:e}):b})}function mV(n,e,t){return L(this,null,function*(){if(n instanceof Uint8Array&&(n=La.decode(n)),typeof n!="string")throw new xr("Compact JWS must be a string or Uint8Array");let{0:r,1:i,2:o,length:s}=n.split(".");if(s!==3)throw new xr("Invalid Compact JWS");let a=yield pV({payload:i,protected:r,signature:o},e,t),l={payload:a.payload,protectedHeader:a.protectedHeader};return typeof e=="function"?Re(ne({},l),{key:a.key}):l})}var Dl=n=>Math.floor(n.getTime()/1e3);var hie=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Qd=n=>{let e=hie.exec(n);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");let t=parseFloat(e[2]),r=e[3].toLowerCase(),i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(t);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(t*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(t*3600);break;case"day":case"days":case"d":i=Math.round(t*86400);break;case"week":case"weeks":case"w":i=Math.round(t*604800);break;default:i=Math.round(t*31557600);break}return e[1]==="-"||e[4]==="ago"?-i:i};var gV=n=>n.toLowerCase().replace(/^application\//,""),pie=(n,e)=>typeof n=="string"?e.includes(n):Array.isArray(n)?e.some(Set.prototype.has.bind(new Set(n))):!1,yV=(n,e,t={})=>{let r;try{r=JSON.parse(La.decode(e))}catch{}if(!Gi(r))throw new Tp("JWT Claims Set must be a top-level JSON object");let{typ:i}=t;if(i&&(typeof n.typ!="string"||gV(n.typ)!==gV(i)))throw new Ba('unexpected "typ" JWT header value',r,"typ","check_failed");let{requiredClaims:o=[],issuer:s,subject:a,audience:l,maxTokenAge:c}=t,u=[...o];c!==void 0&&u.push("iat"),l!==void 0&&u.push("aud"),a!==void 0&&u.push("sub"),s!==void 0&&u.push("iss");for(let b of new Set(u.reverse()))if(!(b in r))throw new Ba(`missing required "${b}" claim`,r,b,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(r.iss))throw new Ba('unexpected "iss" claim value',r,"iss","check_failed");if(a&&r.sub!==a)throw new Ba('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!pie(r.aud,typeof l=="string"?[l]:l))throw new Ba('unexpected "aud" claim value',r,"aud","check_failed");let h;switch(typeof t.clockTolerance){case"string":h=Qd(t.clockTolerance);break;case"number":h=t.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:m}=t,g=Dl(m||new Date);if((r.iat!==void 0||c)&&typeof r.iat!="number")throw new Ba('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new Ba('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>g+h)throw new Ba('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new Ba('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=g-h)throw new dR('"exp" claim timestamp check failed',r,"exp","check_failed")}if(c){let b=g-r.iat,v=typeof c=="number"?c:Qd(c);if(b-h>v)throw new dR('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(b<0-h)throw new Ba('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};function vR(n,e,t){return L(this,null,function*(){let r=yield mV(n,e,t);if(r.protectedHeader.crit?.includes("b64")&&r.protectedHeader.b64===!1)throw new Tp("JWTs MUST NOT use unencoded payload");let o={payload:yV(r.protectedHeader,r.payload,t),protectedHeader:r.protectedHeader};return typeof e=="function"?Re(ne({},o),{key:r.key}):o})}var mie=(n,e,t)=>L(null,null,function*(){let r=yield Ky(n,e,"sign");mE(n,r);let i=yield Ks.subtle.sign(Wy(n,r.algorithm),r,t);return new Uint8Array(i)}),vV=mie;var wE=class{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}sign(e,t){return L(this,null,function*(){if(!this._protectedHeader&&!this._unprotectedHeader)throw new xr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!pE(this._protectedHeader,this._unprotectedHeader))throw new xr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let r=ne(ne({},this._protectedHeader),this._unprotectedHeader),i=_E(xr,new Map([["b64",!0]]),t?.crit,this._protectedHeader,r),o=!0;if(i.has("b64")&&(o=this._protectedHeader.b64,typeof o!="boolean"))throw new xr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:s}=r;if(typeof s!="string"||!s)throw new xr('JWS "alg" (Algorithm) Header Parameter missing or invalid');Gy(s,e,"sign");let a=this._payload;o&&(a=Xo.encode(Ap(a)));let l;this._protectedHeader?l=Xo.encode(Ap(JSON.stringify(this._protectedHeader))):l=Xo.encode("");let c=fE(l,Xo.encode("."),a),u=yield vV(s,e,c),h={signature:Ap(u),payload:""};return o&&(h.payload=La.decode(a)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=La.decode(l)),h})}};var EE=class{constructor(e){this._flattened=new wE(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}sign(e,t){return L(this,null,function*(){let r=yield this._flattened.sign(e,t);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`})}};function Zd(n,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${n} input`);return e}var SE=class{constructor(e={}){if(!Gi(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload=Re(ne({},this._payload),{iss:e}),this}setSubject(e){return this._payload=Re(ne({},this._payload),{sub:e}),this}setAudience(e){return this._payload=Re(ne({},this._payload),{aud:e}),this}setJti(e){return this._payload=Re(ne({},this._payload),{jti:e}),this}setNotBefore(e){return typeof e=="number"?this._payload=Re(ne({},this._payload),{nbf:Zd("setNotBefore",e)}):e instanceof Date?this._payload=Re(ne({},this._payload),{nbf:Zd("setNotBefore",Dl(e))}):this._payload=Re(ne({},this._payload),{nbf:Dl(new Date)+Qd(e)}),this}setExpirationTime(e){return typeof e=="number"?this._payload=Re(ne({},this._payload),{exp:Zd("setExpirationTime",e)}):e instanceof Date?this._payload=Re(ne({},this._payload),{exp:Zd("setExpirationTime",Dl(e))}):this._payload=Re(ne({},this._payload),{exp:Dl(new Date)+Qd(e)}),this}setIssuedAt(e){return typeof e>"u"?this._payload=Re(ne({},this._payload),{iat:Dl(new Date)}):e instanceof Date?this._payload=Re(ne({},this._payload),{iat:Zd("setIssuedAt",Dl(e))}):typeof e=="string"?this._payload=Re(ne({},this._payload),{iat:Zd("setIssuedAt",Dl(new Date)+Qd(e))}):this._payload=Re(ne({},this._payload),{iat:Zd("setIssuedAt",e)}),this}};var Jy=class extends SE{setProtectedHeader(e){return this._protectedHeader=e,this}sign(e,t){return L(this,null,function*(){let r=new EE(Xo.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new Tp("JWTs MUST NOT use unencoded payload");return r.sign(e,t)})}};function gie(n){switch(typeof n=="string"&&n.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new _i('Unsupported "alg" value for a JSON Web Key Set')}}function yie(n){return n&&typeof n=="object"&&Array.isArray(n.keys)&&n.keys.every(vie)}function vie(n){return Gi(n)}function bV(n){return typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}var _R=class{constructor(e){if(this._cached=new WeakMap,!yie(e))throw new fR("JSON Web Key Set malformed");this._jwks=bV(e)}getKey(e,t){return L(this,null,function*(){let{alg:r,kid:i}=ne(ne({},e),t?.header),o=gie(r),s=this._jwks.keys.filter(c=>{let u=o===c.kty;if(u&&typeof i=="string"&&(u=i===c.kid),u&&typeof c.alg=="string"&&(u=r===c.alg),u&&typeof c.use=="string"&&(u=c.use==="sig"),u&&Array.isArray(c.key_ops)&&(u=c.key_ops.includes("verify")),u)switch(r){case"ES256":u=c.crv==="P-256";break;case"ES256K":u=c.crv==="secp256k1";break;case"ES384":u=c.crv==="P-384";break;case"ES512":u=c.crv==="P-521";break;case"Ed25519":u=c.crv==="Ed25519";break;case"EdDSA":u=c.crv==="Ed25519"||c.crv==="Ed448";break}return u}),{0:a,length:l}=s;if(l===0)throw new hE;if(l!==1){let c=new Hy,{_cached:u}=this;throw c[Symbol.asyncIterator]=function(){return jo(this,null,function*(){for(let h of s)try{yield yield new Ui(_V(u,h,r))}catch{}})},c}return _V(this._cached,a,r)})}};function _V(n,e,t){return L(this,null,function*(){let r=n.get(e)||n.set(e,{}).get(e);if(r[t]===void 0){let i=yield vE(Re(ne({},e),{ext:!0}),t);if(i instanceof Uint8Array||i.type!=="public")throw new fR("JSON Web Key Set members must be public keys");r[t]=i}return r[t]})}function bR(n){let e=new _R(n),t=(r,i)=>L(null,null,function*(){return e.getKey(r,i)});return Object.defineProperties(t,{jwks:{value:()=>bV(e._jwks),enumerable:!0,configurable:!1,writable:!1}}),t}var _ie=(n,e,t)=>L(null,null,function*(){let r,i,o=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{o=!0,r.abort()},e));let s=yield fetch(n.href,{signal:r?r.signal:void 0,redirect:"manual",headers:t.headers}).catch(a=>{throw o?new tV:a});if(i!==void 0&&clearTimeout(i),s.status!==200)throw new Yo("Expected 200 OK from the JSON Web Key Set HTTP response");try{return yield s.json()}catch{throw new Yo("Failed to parse the JSON Web Key Set HTTP response as JSON")}}),wV=_ie;function bie(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}var wR;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(wR="jose/v5.10.0");var CE=Symbol();function wie(n,e){return!(typeof n!="object"||n===null||!("uat"in n)||typeof n.uat!="number"||Date.now()-n.uat>=e||!("jwks"in n)||!Gi(n.jwks)||!Array.isArray(n.jwks.keys)||!Array.prototype.every.call(n.jwks.keys,Gi))}var ER=class{constructor(e,t){if(!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:t?.agent,headers:t?.headers},this._timeoutDuration=typeof t?.timeoutDuration=="number"?t?.timeoutDuration:5e3,this._cooldownDuration=typeof t?.cooldownDuration=="number"?t?.cooldownDuration:3e4,this._cacheMaxAge=typeof t?.cacheMaxAge=="number"?t?.cacheMaxAge:6e5,t?.[CE]!==void 0&&(this._cache=t?.[CE],wie(t?.[CE],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=bR(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}getKey(e,t){return L(this,null,function*(){(!this._local||!this.fresh())&&(yield this.reload());try{return yield this._local(e,t)}catch(r){if(r instanceof hE&&this.coolingDown()===!1)return yield this.reload(),this._local(e,t);throw r}})}reload(){return L(this,null,function*(){this._pendingFetch&&bie()&&(this._pendingFetch=void 0);let e=new Headers(this._options.headers);wR&&!e.has("User-Agent")&&(e.set("User-Agent",wR),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=wV(this._url,this._timeoutDuration,this._options).then(t=>{this._local=bR(t),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=t),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(t=>{throw this._pendingFetch=void 0,t})),yield this._pendingFetch})}};function SR(n,e){let t=new ER(n,e),r=(i,o)=>L(null,null,function*(){return t.getKey(i,o)});return Object.defineProperties(r,{coolingDown:{get:()=>t.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>t.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>t.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!t._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>t._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),r}function CR(n){let e=n?.modulusLength??2048;if(typeof e!="number"||e<2048)throw new _i("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return e}function EV(n,e){return L(this,null,function*(){let t,r;switch(n){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:CR(e)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:CR(e)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:CR(e)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"Ed25519":t={name:"Ed25519"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];let i=e?.crv??"Ed25519";switch(i){case"Ed25519":case"Ed448":t={name:i};break;default:throw new _i("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];let i=e?.crv??"P-256";switch(i){case"P-256":case"P-384":case"P-521":{t={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":t={name:i};break;default:throw new _i("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new _i('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Ks.subtle.generateKey(t,e?.extractable??!1,r)})}function xR(n,e){return L(this,null,function*(){return EV(n,e)})}var Wi=[];for(let n=0;n<256;++n)Wi.push((n+256).toString(16).slice(1));function SV(n,e=0){return(Wi[n[e+0]]+Wi[n[e+1]]+Wi[n[e+2]]+Wi[n[e+3]]+"-"+Wi[n[e+4]]+Wi[n[e+5]]+"-"+Wi[n[e+6]]+Wi[n[e+7]]+"-"+Wi[n[e+8]]+Wi[n[e+9]]+"-"+Wi[n[e+10]]+Wi[n[e+11]]+Wi[n[e+12]]+Wi[n[e+13]]+Wi[n[e+14]]+Wi[n[e+15]]).toLowerCase()}var DR,Eie=new Uint8Array(16);function IR(){if(!DR){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");DR=crypto.getRandomValues.bind(crypto)}return DR(Eie)}var Sie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),AR={randomUUID:Sie};function Cie(n,e,t){if(AR.randomUUID&&!e&&!n)return AR.randomUUID();n=n||{};let r=n.random??n.rng?.()??IR();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[t+i]=r[i];return e}return SV(r)}var xE=Cie;var FR="solidClientAuthn:",Xy=["ES256","RS256"],si={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",NEW_TOKENS:"newTokens",AUTHORIZATION_REQUEST:"authorizationRequest",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},CV=5,xie="openid",Die="offline_access",Iie="webid",FE=[xie,Die,Iie].join(" "),DE=class{handleables;constructor(e){this.handleables=e,this.handleables=e}getProperHandler(e){return L(this,null,function*(){let t=yield Promise.all(this.handleables.map(r=>r.canHandle(...e)));for(let r=0;r<t.length;r+=1)if(t[r])return this.handleables[r];return null})}canHandle(...e){return L(this,null,function*(){return(yield this.getProperHandler(e))!==null})}handle(...e){return L(this,null,function*(){let t=yield this.getProperHandler(e);if(t)return t.handle(...e);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)})}};function MR(n,e,t,r){return L(this,null,function*(){let i,o;try{let{payload:s}=yield vR(n,SR(new URL(e)),{issuer:t,audience:r});i=s}catch(s){throw new Error(`Token verification failed: ${s.stack}`)}if(typeof i.azp=="string"&&(o=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:o};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:o}}catch(s){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${s}].`)}})}function OR(n){try{let e=new URL(n),t=!e.searchParams.has("code")&&!e.searchParams.has("state"),r=e.hash==="";return t&&r}catch{return!1}}function ME(n){let e=new URL(n);return e.searchParams.delete("state"),e.searchParams.delete("code"),e.searchParams.delete("error"),e.searchParams.delete("error_description"),e.searchParams.delete("iss"),e}function Aie(n,e){return typeof n=="boolean"?!!n:!!e}var IE=class{storageUtility;redirector;constructor(e,t){this.storageUtility=e,this.redirector=t,this.storageUtility=e,this.redirector=t}parametersGuard=e=>e.issuerConfiguration.grantTypesSupported!==void 0&&e.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&e.redirectUrl!==void 0;canHandle(e){return L(this,null,function*(){return this.parametersGuard(e)})}setupRedirectHandler(o){return L(this,arguments,function*({oidcLoginOptions:e,state:t,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(e))throw new Error("The authorization code grant requires a redirectUrl.");yield Promise.all([this.storageUtility.setForUser(t,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:r,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:(!!e.dpop).toString(),keepAlive:Aie(e.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:e.handleRedirect})})}},RR=class{sessionInfoManager;constructor(e){this.sessionInfoManager=e,this.sessionInfoManager=e}canHandle(){return L(this,null,function*(){return!0})}handle(e){return L(this,null,function*(){yield this.sessionInfoManager.clear(e)})}},NR=class{redirector;constructor(e){this.redirector=e,this.redirector=e}canHandle(e,t){return L(this,null,function*(){return t?.logoutType==="idp"})}handle(e,t){return L(this,null,function*(){if(t?.logoutType!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(t.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(t.toLogoutUrl(t),{handleRedirect:t.handleRedirect})})}},AE=class{handlers;constructor(e,t){this.handlers=[new RR(e),new NR(t)]}canHandle(){return L(this,null,function*(){return!0})}handle(e,t){return L(this,null,function*(){for(let r of this.handlers)(yield r.canHandle(e,t))&&(yield r.handle(e,t))})}};function kR(){return{isLoggedIn:!1,sessionId:xE(),fetch:(...n)=>fetch(...n)}}function PR(n,e){return L(this,null,function*(){yield Promise.all([e.deleteAllUserData(n,{secure:!1}),e.deleteAllUserData(n,{secure:!0})])})}var TE=class{storageUtility;constructor(e){this.storageUtility=e,this.storageUtility=e}update(e,t){throw new Error("Not Implemented")}set(e,t){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}getAll(){return L(this,null,function*(){throw new Error("Not implemented")})}clear(e){return L(this,null,function*(){return PR(e,this.storageUtility)})}register(e){return L(this,null,function*(){throw new Error("Not implemented")})}getRegisteredSessionIdAll(){return L(this,null,function*(){throw new Error("Not implemented")})}clearAll(){return L(this,null,function*(){throw new Error("Not implemented")})}setOidcContext(e,t){return L(this,null,function*(){throw new Error("Not implemented")})}};function Tie({endSessionEndpoint:n,idTokenHint:e,postLogoutRedirectUri:t,state:r}){let i=new URL(n);return e!==void 0&&i.searchParams.append("id_token_hint",e),t!==void 0&&(i.searchParams.append("post_logout_redirect_uri",t),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function IV({endSessionEndpoint:n,idTokenHint:e}){if(n!==void 0)return function({state:r,postLogoutUrl:i}){return Tie({endSessionEndpoint:n,idTokenHint:e,state:r,postLogoutRedirectUri:i})}}function AV(n){return typeof n=="string"&&["DPoP","Bearer"].includes(n)}function TV(n){try{return new URL(n),!0}catch{return!1}}function RV(n,e){return e.find(t=>n.includes(t))??null}function Rie(n){return n.clientId!==void 0&&!TV(n.clientId)}function Nie(n,e){return e.scopesSupported.includes("webid")&&n.clientId!==void 0&&TV(n.clientId)}function NV(n){return typeof n=="string"&&["dynamic","static","solid-oidc"].includes(n)}function FV(n,e,t,r){return L(this,null,function*(){let i;if(Nie(n,e))i={clientId:n.clientId,clientName:n.clientName,clientType:"solid-oidc"};else if(Rie(n))i={clientId:n.clientId,clientSecret:n.clientSecret,clientName:n.clientName,clientType:"static"};else return r.getClient({sessionId:n.sessionId,clientName:n.clientName,redirectUrl:n.redirectUrl},e);let o={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(o.clientSecret=i.clientSecret),i.clientName&&(o.clientName=i.clientName),yield t.setForUser(n.sessionId,o),i})}var xV=(n,e)=>fetch(n,e),RE=class{loginHandler;redirectHandler;logoutHandler;sessionInfoManager;issuerConfigFetcher;boundLogout;constructor(e,t,r,i,o){this.loginHandler=e,this.redirectHandler=t,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=o,this.loginHandler=e,this.redirectHandler=t,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=o}fetch=xV;logout=(e,t)=>L(this,null,function*(){yield this.logoutHandler.handle(e,t?.logoutType==="idp"?Re(ne({},t),{toLogoutUrl:this.boundLogout}):t),this.fetch=xV,delete this.boundLogout});getSessionInfo=e=>L(this,null,function*(){return this.sessionInfoManager.get(e)});getAllSessionInfo=()=>L(this,null,function*(){return this.sessionInfoManager.getAll()})};function LR(n,e,t){return L(this,null,function*(){try{let[r,i,o,s,a]=yield Promise.all([e.getForUser(n,"issuer",{errorIfNull:!0}),e.getForUser(n,"codeVerifier"),e.getForUser(n,"redirectUrl"),e.getForUser(n,"dpop",{errorIfNull:!0}),e.getForUser(n,"keepAlive")]);yield e.deleteForUser(n,"codeVerifier");let l=yield t.fetchConfig(r);return{codeVerifier:i,redirectUrl:o,issuerConfig:l,dpop:s==="true",keepAlive:typeof a=="string"?a==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${n}]: ${r}`)}})}function MV(n,e,t,r,i,o,s,a){return L(this,null,function*(){o!==void 0&&(yield n.setForUser(e,{refreshToken:o},{secure:s})),t!==void 0&&(yield n.setForUser(e,{webId:t},{secure:s})),r!==void 0&&(yield n.setForUser(e,{clientId:r},{secure:s})),i!==void 0&&(yield n.setForUser(e,{isLoggedIn:i},{secure:s})),a!==void 0&&(yield n.setForUser(e,{publicKey:JSON.stringify(a.publicKey),privateKey:JSON.stringify(yield bE(a.privateKey))},{secure:s}))})}var NE=class{secureStorage;insecureStorage;constructor(e,t){this.secureStorage=e,this.insecureStorage=t,this.secureStorage=e,this.insecureStorage=t}getKey(e){return`solidClientAuthenticationUser:${e}`}getUserData(e,t){return L(this,null,function*(){let r=yield(t?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${e}] in [${t?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}})}setUserData(e,t,r){return L(this,null,function*(){yield(r?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(t))})}get(e,t){return L(this,null,function*(){let r=yield(t?.secure?this.secureStorage:this.insecureStorage).get(e);if(r===void 0&&t?.errorIfNull)throw new Error(`[${e}] is not stored`);return r})}set(e,t,r){return L(this,null,function*(){return(r?.secure?this.secureStorage:this.insecureStorage).set(e,t)})}delete(e,t){return L(this,null,function*(){return(t?.secure?this.secureStorage:this.insecureStorage).delete(e)})}getForUser(e,t,r){return L(this,null,function*(){let i=yield this.getUserData(e,r?.secure),o;if((!i||!i[t])&&(o=void 0),o=i[t],o===void 0&&r?.errorIfNull)throw new Error(`Field [${t}] for user [${e}] is not stored`);return o||void 0})}setForUser(e,t,r){return L(this,null,function*(){let i;try{i=yield this.getUserData(e,r?.secure)}catch{i={}}yield this.setUserData(e,ne(ne({},i),t),r?.secure)})}deleteForUser(e,t,r){return L(this,null,function*(){let i=yield this.getUserData(e,r?.secure);delete i[t],yield this.setUserData(e,i,r?.secure)})}deleteAllUserData(e,t){return L(this,null,function*(){yield(t?.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(e))})}},Yy=class{map={};get(e){return L(this,null,function*(){return this.map[e]||void 0})}set(e,t){return L(this,null,function*(){this.map[e]=t})}delete(e){return L(this,null,function*(){delete this.map[e]})}},ef=class extends Error{constructor(e){super(e)}};var Au=class extends Error{missingFields;constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}},Qy=class extends Error{error;errorDescription;constructor(e,t,r){super(e),this.error=t,this.errorDescription=r}};function Fie(n){let e=new URL(n);return new URL(e.pathname,e.origin).toString()}function OE(n,e,t){return L(this,null,function*(){return new Jy({htu:Fie(n),htm:e.toUpperCase(),jti:xE()}).setProtectedHeader({alg:Xy[0],jwk:t.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(t.privateKey,{})})}function OV(){return L(this,null,function*(){let{privateKey:n,publicKey:e}=yield xR(Xy[0]),t={privateKey:n,publicKey:yield bE(e)};return[t.publicKey.alg]=Xy,t})}var kV=600;function Mie(n){return[401,403].includes(n)}function Oie(n,e,t,r){return L(this,null,function*(){let i=new Headers(r?.headers);return i.set("Authorization",`DPoP ${e}`),i.set("DPoP",yield OE(n,r?.method??"get",t)),Re(ne({},r),{headers:i})})}function kie(n,e,t,r){return L(this,null,function*(){if(t!==void 0)return Oie(n,e,t,r);let i=new Headers(r?.headers);return i.set("Authorization",`Bearer ${e}`),Re(ne({},r),{headers:i})})}function DV(n,e,t,r){return L(this,null,function*(){return fetch(e,yield kie(e.toString(),n,r,t))})}function Pie(n,e,t){return L(this,null,function*(){let r=yield n.tokenRefresher.refresh(n.sessionId,n.refreshToken,e);return t?.emit(si.SESSION_EXTENDED,r.expiresIn??kV),{accessToken:r.accessToken,refreshToken:r.refreshToken,expiresIn:r.expiresIn}})}var TR=n=>n!==void 0?n-CV>0?n-CV:n:kV;function PV(n,e){let t=n,r,i=e?.refreshOptions;if(i!==void 0){let o=()=>L(null,null,function*(){try{let{accessToken:s,refreshToken:a,expiresIn:l}=yield Pie(i,e.dpopKey,e.eventEmitter);t=s,a!==void 0&&(i.refreshToken=a),clearTimeout(r),r=setTimeout(o,TR(l)*1e3),e.eventEmitter?.emit(si.TIMEOUT_SET,r)}catch(s){s instanceof Qy&&(e?.eventEmitter?.emit(si.ERROR,s.error,s.errorDescription),e?.eventEmitter?.emit(si.SESSION_EXPIRED)),s instanceof Au&&s.missingFields.includes("access_token")&&e?.eventEmitter?.emit(si.SESSION_EXPIRED)}});r=setTimeout(o,TR(e.expiresIn)*1e3),e.eventEmitter?.emit(si.TIMEOUT_SET,r)}else if(e!==void 0&&e.eventEmitter!==void 0){let o=setTimeout(()=>{e.eventEmitter.emit(si.SESSION_EXPIRED)},TR(e.expiresIn)*1e3);e.eventEmitter.emit(si.TIMEOUT_SET,o)}return(o,s)=>L(null,null,function*(){let a=yield DV(t,o,s,e?.dpopKey),l=!a.ok&&!Mie(a.status);return a.ok||l||a.url!==o&&e?.dpopKey!==void 0&&(a=yield DV(t,a.url,s,e.dpopKey)),a})}var Ki=[];for(let n=0;n<256;++n)Ki.push((n+256).toString(16).slice(1));function LV(n,e=0){return(Ki[n[e+0]]+Ki[n[e+1]]+Ki[n[e+2]]+Ki[n[e+3]]+"-"+Ki[n[e+4]]+Ki[n[e+5]]+"-"+Ki[n[e+6]]+Ki[n[e+7]]+"-"+Ki[n[e+8]]+Ki[n[e+9]]+"-"+Ki[n[e+10]]+Ki[n[e+11]]+Ki[n[e+12]]+Ki[n[e+13]]+Ki[n[e+14]]+Ki[n[e+15]]).toLowerCase()}var BR,Lie=new Uint8Array(16);function jR(){if(!BR){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");BR=crypto.getRandomValues.bind(crypto)}return BR(Lie)}var Bie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UR={randomUUID:Bie};function jie(n,e,t){if(UR.randomUUID&&!e&&!n)return UR.randomUUID();n=n||{};let r=n.random??n.rng?.()??jR();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[t+i]=r[i];return e}return LV(r)}var VR=jie;var o8=yo(tf(),1);var LE=yo(qR()),Js=yo(qR());function Gie(n,e){throw n.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${e.redirectUrl?.toString()}] is invalid - ${n.error_description??""}`):n.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(e)} is invalid - ${n.error_description??""}`):new Error(`Dynamic client registration failed: ${n.error} - ${n.error_description??""}`)}function Wie(n){return typeof n.client_id=="string"}function Kie(n){return Array.isArray(n.redirect_uris)&&n.redirect_uris.every(e=>typeof e=="string")}function Jie(n,e){if(!Wie(n))throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(n)}`);if(e.redirectUrl&&Kie(n)&&n.redirect_uris[0]!==e.redirectUrl.toString())throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(n.redirect_uris)} don't match the provided ${JSON.stringify([e.redirectUrl.toString()])}`);return!0}function JV(n,e){return L(this,null,function*(){if(!e.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(e.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");let t=RV(e.idTokenSigningAlgValuesSupported,Xy),r={client_name:n.clientName,application_type:"web",redirect_uris:[n.redirectUrl?.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:t,grant_types:["authorization_code","refresh_token"]},i={"Content-Type":"application/json"},o=yield fetch(e.registrationEndpoint.toString(),{method:"POST",headers:i,body:JSON.stringify(r)});if(o.ok){let s=yield o.json();return Jie(s,n),{clientId:s.client_id,clientSecret:s.client_secret,expiresAt:s.client_secret_expires_at,idTokenSignedResponseAlg:s.id_token_signed_response_alg,clientType:"dynamic"}}throw o.status===400&&Gie(yield o.json(),n),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${yield o.text()}`)})}function Xie(n){return n.error!==void 0&&typeof n.error=="string"}function KV(n){return n.error_description!==void 0&&typeof n.error_description=="string"}function Yie(n){return n.error_uri!==void 0&&typeof n.error_uri=="string"}function Qie(n){return n.access_token!==void 0&&typeof n.access_token=="string"}function Zie(n){return n.id_token!==void 0&&typeof n.id_token=="string"}function eoe(n){return n.refresh_token!==void 0&&typeof n.refresh_token=="string"}function toe(n){return n.token_type!==void 0&&typeof n.token_type=="string"}function noe(n){return n.expires_in===void 0||typeof n.expires_in=="number"}function roe(n,e){if(e.grantType&&(!n.grantTypesSupported||!n.grantTypesSupported.includes(e.grantType)))throw new Error(`The issuer [${n.issuer}] does not support the [${e.grantType}] grant`);if(!n.tokenEndpoint)throw new Error(`This issuer [${n.issuer}] does not have a token endpoint`)}function XV(n,e){if(Xie(n))throw new Qy(`Token endpoint returned error [${n.error}]${KV(n)?`: ${n.error_description}`:""}${Yie(n)?` (see ${n.error_uri})`:""}`,n.error,KV(n)?n.error_description:void 0);if(!Qie(n))throw new Au(["access_token"]);if(!Zie(n))throw new Au(["id_token"]);if(!toe(n))throw new Au(["token_type"]);if(!noe(n))throw new Au(["expires_in"]);if(!e&&n.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${n.token_type}].`);return n}function YV(n,e,t,r){return L(this,null,function*(){roe(n,t);let i={"content-type":"application/x-www-form-urlencoded"},o;r&&(o=yield OV(),i.DPoP=yield OE(n.tokenEndpoint,"POST",o)),e.clientSecret&&(i.Authorization=`Basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`);let s={grant_type:t.grantType,redirect_uri:t.redirectUrl,code:t.code,code_verifier:t.codeVerifier,client_id:e.clientId},a={method:"POST",headers:i,body:new URLSearchParams(s).toString()},c=yield(yield fetch(n.tokenEndpoint,a)).json(),u=XV(c,r),{webId:h,clientId:m}=yield MR(u.id_token,n.jwksUri,n.issuer,e.clientId);return{accessToken:u.access_token,idToken:u.id_token,refreshToken:eoe(u)?u.refresh_token:void 0,webId:h,clientId:m,dpopKey:o,expiresIn:u.expires_in}})}var ioe=n=>{try{return new URL(n),!0}catch{return!1}};function QV(n,e,t,r){return L(this,null,function*(){if(t.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");let i={grant_type:"refresh_token",refresh_token:n,scope:FE},o={};r!==void 0&&(o={DPoP:yield OE(e.tokenEndpoint,"POST",r)});let s={};t.clientSecret!==void 0?s={Authorization:`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`}:ioe(t.clientId)&&(i.client_id=t.clientId);let a=yield fetch(e.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:Re(ne(ne({},o),s),{"Content-Type":"application/x-www-form-urlencoded"})}),l;try{l=yield a.json()}catch{throw new Error(`The token endpoint of issuer ${e.issuer} returned a malformed response.`)}let c=XV(l,r!==void 0),{webId:u}=yield MR(c.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:typeof c.refresh_token=="string"?c.refresh_token:void 0,webId:u,dpopKey:r,expiresIn:c.expires_in}})}function ZV(n){let e=ME(n);return e.hash="",n.includes(`${e.origin}/`)?e.href:`${e.origin}${e.href.substring(e.origin.length+1)}`}function e8(){return L(this,null,function*(){yield new LE.OidcClient({response_mode:"query"}).clearStaleState(new LE.WebStorageStateStore({}));let e=window.localStorage,t=[];for(let r=0;r<=e.length;r+=1){let i=e.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&t.push(i)}t.forEach(r=>e.removeItem(r))})}var WR=class extends NE{constructor(e,t){super(e,t)}},KR=class extends RE{login=(e,t)=>L(this,null,function*(){e.prompt!=="none"&&(yield this.sessionInfoManager.clear(e.sessionId));let r=e.redirectUrl??ZV(window.location.href);if(!OR(r))throw new Error(`${r} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);yield this.loginHandler.handle(Re(ne({},e),{redirectUrl:r,clientName:e.clientName??e.clientId,eventEmitter:t}))});validateCurrentSession=e=>L(this,null,function*(){let t=yield this.sessionInfoManager.get(e);return t===void 0||t.clientAppId===void 0||t.issuer===void 0?null:t});handleIncomingRedirect=(e,t)=>L(this,null,function*(){try{let r=yield this.redirectHandler.handle(e,t,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,yield this.cleanUrlAfterRedirect(e),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){yield this.cleanUrlAfterRedirect(e),t.emit(si.ERROR,"redirect",r);return}});cleanUrlAfterRedirect(e){return L(this,null,function*(){let t=ME(e).href;for(window.history.replaceState(null,"",t);window.location.href!==t;)yield new Promise(r=>{setTimeout(()=>r(),1)})})}};function t8(n){return typeof n.oidcIssuer=="string"}function n8(n){return typeof n.redirectUrl=="string"}var JR=class{storageUtility;oidcHandler;issuerConfigFetcher;clientRegistrar;constructor(e,t,r,i){this.storageUtility=e,this.oidcHandler=t,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=e,this.oidcHandler=t,this.issuerConfigFetcher=r,this.clientRegistrar=i}canHandle(e){return L(this,null,function*(){return t8(e)&&n8(e)})}handle(e){return L(this,null,function*(){if(!t8(e))throw new ef(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!n8(e))throw new ef(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);let t=yield this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),r=yield FV(e,t,this.storageUtility,this.clientRegistrar),i=Re(ne({issuer:t.issuer,dpop:e.tokenType.toLowerCase()==="dpop"},e),{issuerConfiguration:t,client:r});return this.oidcHandler.handle(i)})}},XR=class extends IE{handle(e){return L(this,null,function*(){let t={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl,response_type:"code",scope:FE,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:e.prompt??"consent"},r=new Js.OidcClient(t);try{let i=yield r.createSigninRequest();return yield this.setupRedirectHandler({oidcLoginOptions:e,state:i.state._id,codeVerifier:i.state._code_verifier,targetUrl:i.url.toString()})}catch(i){console.error(i)}})}},ooe=".well-known/openid-configuration",r8={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function soe(n){let e={};return Object.keys(n).forEach(t=>{r8[t]&&(e[r8[t].toKey]=n[t])}),Array.isArray(e.scopesSupported)||(e.scopesSupported=["openid"]),e}var YR=class n{storageUtility;constructor(e){this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}fetchConfig(e){return L(this,null,function*(){let t,r=new URL(ooe,e.endsWith("/")?e:`${e}/`).href,i=yield fetch(r);try{t=soe(yield i.json())}catch(o){throw new ef(`[${e.toString()}] has an invalid configuration: ${o.message}`)}return yield this.storageUtility.set(n.getLocalStorageKey(e),JSON.stringify(t)),t})}};function aoe(n,e){return L(this,null,function*(){yield PR(n,e),yield e8()})}var QR=class extends TE{get(e){return L(this,null,function*(){let[t,r,i,o,s,a,l,c]=yield Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if(typeof s=="string"&&!OR(s)){yield Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})]);return}if(c!==void 0&&!AV(c))throw new Error(`Tokens of type [${c}] are not supported.`);if(!(i===void 0&&t===void 0&&r===void 0&&a===void 0))return{sessionId:e,webId:r,isLoggedIn:t==="true",redirectUrl:s,refreshToken:a,issuer:l,clientAppId:i,clientAppSecret:o,tokenType:c??"DPoP"}})}clear(e){return L(this,null,function*(){return aoe(e,this.storageUtility)})}},ZR=class{canHandle(e){return L(this,null,function*(){try{return new URL(e),!0}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}})}handle(e){return L(this,null,function*(){return kR()})}},eN=class{storageUtility;sessionInfoManager;issuerConfigFetcher;clientRegistrar;tokerRefresher;constructor(e,t,r,i,o){this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=o,this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=o}canHandle(e){return L(this,null,function*(){try{let t=new URL(e);return t.searchParams.get("code")!==null&&t.searchParams.get("state")!==null}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}})}handle(e,t){return L(this,null,function*(){if(!(yield this.canHandle(e)))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);let r=new URL(e),i=r.searchParams.get("state"),o=yield this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:s,codeVerifier:a,redirectUrl:l,dpop:c}=yield LR(o,this.storageUtility,this.issuerConfigFetcher),u=r.searchParams.get("iss");if(typeof u=="string"&&u!==s.issuer)throw new Error(`The value of the iss parameter (${u}) does not match the issuer identifier of the authorization server (${s.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(a===void 0)throw new Error(`The code verifier for session ${o} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${o} is missing from storage.`);let h=yield this.clientRegistrar.getClient({sessionId:o},s),m=Date.now(),g=yield YV(s,h,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:a,redirectUrl:l},c);window.localStorage.removeItem(`oidc.${i}`);let b;g.refreshToken!==void 0&&(b={sessionId:o,refreshToken:g.refreshToken,tokenRefresher:this.tokerRefresher});let v=PV(g.accessToken,{dpopKey:g.dpopKey,refreshOptions:b,eventEmitter:t,expiresIn:g.expiresIn});yield MV(this.storageUtility,o,g.webId,g.clientId,"true",void 0,!0);let E=yield this.sessionInfoManager.get(o);if(!E)throw new Error(`Could not retrieve session: [${o}].`);return Object.assign(E,{fetch:v,getLogoutUrl:IV({idTokenHint:g.idToken,endSessionEndpoint:s.endSessionEndpoint}),expirationDate:typeof g.expiresIn=="number"?m+g.expiresIn*1e3:void 0})})}},tN=class extends DE{constructor(e){super(e)}},nN=class{get storage(){return window.localStorage}get(e){return L(this,null,function*(){return this.storage.getItem(e)||void 0})}set(e,t){return L(this,null,function*(){this.storage.setItem(e,t)})}delete(e){return L(this,null,function*(){this.storage.removeItem(e)})}},rN=class{redirect(e,t){t&&t.handleRedirect?t.handleRedirect(e):t&&t.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}},iN=class{storageUtility;constructor(e){this.storageUtility=e,this.storageUtility=e}getClient(e,t){return L(this,null,function*(){let[r,i,o,s,a]=yield Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"expiresAt",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientType",{secure:!1})]),l=o!==void 0?Number.parseInt(o,10):-1,c=i!==void 0&&Math.floor(Date.now()/1e3)>l;if(r&&NV(a)&&!c)return i!==void 0?{clientId:r,clientSecret:i,clientName:s,clientType:"dynamic",expiresAt:l}:{clientId:r,clientName:s,clientType:a};try{let u=yield JV(e,t),h={clientId:u.clientId,clientType:"dynamic"};return u.clientSecret!==void 0&&(h.clientSecret=u.clientSecret,h.expiresAt=String(u.expiresAt)),u.idTokenSignedResponseAlg&&(h.idTokenSignedResponseAlg=u.idTokenSignedResponseAlg),yield this.storageUtility.setForUser(e.sessionId,h,{secure:!1}),u}catch(u){throw new Error("Client registration failed.",{cause:u})}})}},oN=class{canHandle(e){return L(this,null,function*(){try{return new URL(e).searchParams.has("error")}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t}`)}})}handle(e,t){return L(this,null,function*(){if(t!==void 0){let r=new URL(e),i=r.searchParams.get("error"),o=r.searchParams.get("error_description");t.emit(si.ERROR,i,o)}return kR()})}},sN=class{storageUtility;issuerConfigFetcher;clientRegistrar;constructor(e,t,r){this.storageUtility=e,this.issuerConfigFetcher=t,this.clientRegistrar=r,this.storageUtility=e,this.issuerConfigFetcher=t,this.clientRegistrar=r}refresh(e,t,r,i){return L(this,null,function*(){let o=yield LR(e,this.storageUtility,this.issuerConfigFetcher),s=yield this.clientRegistrar.getClient({sessionId:e},o.issuerConfig);if(t===void 0)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(o.dpop&&r===void 0)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);let a=yield QV(t,o.issuerConfig,s,r);return a.refreshToken!==void 0&&i?.emit(si.NEW_REFRESH_TOKEN,a.refreshToken),a})}};function i8(n){let e=new Yy,t=n.secureStorage||e,r=n.insecureStorage||new nN,i=new WR(t,r),o=new YR(i),s=new iN(i),a=new QR(i),l=new sN(i,o,s),c=new rN,u=new JR(i,new XR(i,c),o,s),h=new tN([new oN,new eN(i,a,o,s,l),new ZR]);return new KR(u,h,new AE(a,c),a,o)}var zR=`${FR}currentSession`,aN=`${FR}currentUrl`;function loe(n,e,t){return L(this,null,function*(){let r=yield e.validateCurrentSession(n);return r!==null?(window.localStorage.setItem(aN,window.location.href),yield e.login({sessionId:n,prompt:"none",oidcIssuer:r.issuer,redirectUrl:r.redirectUrl,clientId:r.clientAppId,clientSecret:r.clientAppSecret,tokenType:r.tokenType??"DPoP"},t.events),!0):!1})}function coe(n){return!!n?.isLoggedIn}var lN=class{info;events;clientAuthentication;tokenRequestInProgress=!1;constructor(e={},t=void 0){this.events=new o8.default,e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=i8({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=i8({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId,clientAppId:e.sessionInfo.clientAppId}:this.info={sessionId:t??VR(),isLoggedIn:!1},this.events.on(si.LOGIN,()=>window.localStorage.setItem(zR,this.info.sessionId)),this.events.on(si.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(si.ERROR,()=>this.internalLogout(!1))}login=e=>L(this,null,function*(){return yield this.clientAuthentication.login(Re(ne({sessionId:this.info.sessionId},e),{tokenType:e.tokenType??"DPoP"}),this.events),new Promise(()=>{})});fetch=(e,t)=>this.clientAuthentication.fetch(e,t);internalLogout=(e,t)=>L(this,null,function*(){window.localStorage.removeItem(zR),yield this.clientAuthentication.logout(this.info.sessionId,t),this.info.isLoggedIn=!1,e&&this.events.emit(si.LOGOUT)});logout=e=>L(this,null,function*(){return this.internalLogout(!0,e)});handleIncomingRedirect=(...t)=>L(this,[...t],function*(e={}){if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;let r=typeof e=="string"?{url:e}:e,i=r.url??window.location.href;this.tokenRequestInProgress=!0;let o=yield this.clientAuthentication.handleIncomingRedirect(i,this.events);if(coe(o)){this.setSessionInfo(o);let s=window.localStorage.getItem(aN);s===null?this.events.emit(si.LOGIN):(window.localStorage.removeItem(aN),this.events.emit(si.SESSION_RESTORED,s))}else if(r.restorePreviousSession===!0){let s=window.localStorage.getItem(zR);if(s!==null&&(yield loe(s,this.clientAuthentication,this)))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,o});setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.clientAppId=e.clientAppId,this.info.expirationDate=e.expirationDate,this.events.on(si.SESSION_EXTENDED,t=>{this.info.expirationDate=Date.now()+t*1e3})}},GR;function wc(){return typeof GR>"u"&&(GR=new lN),GR}var cN=(...n)=>wc().fetch(...n),s8=(...n)=>wc().login(...n),uN=(...n)=>wc().logout(...n),a8=(...n)=>wc().handleIncomingRedirect(...n);function uoe(n,e){if(n&1&&(fe(0,"div",1)(1,"div",2),Ae(2),de()()),n&2){let t=tt();be(),je("ngClass",t.alarm.cssClass),be(),On(t.alarm.message)}}var l8=(()=>{let e=class e{constructor(r){this.alarmService=r}ngOnInit(){this.subscription=this.alarmService.onAlert().subscribe(r=>{switch(r?.type){case"success":r.cssClass="alarm alarm-success";break;case"error":r.cssClass="alarm alarm-danger";break}this.alarm=r})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(ke(Co))},e.\u0275cmp=Je({type:e,selectors:[["app-alarm"]],decls:1,vars:1,consts:[["class","alarm-box",4,"ngIf"],[1,"alarm-box"],[3,"ngClass"]],template:function(i,o){i&1&&_t(0,uoe,3,2,"div",0),i&2&&je("ngIf",o.alarm)},dependencies:[yi,Ma],styles:[".alarm-box[_ngcontent-%COMP%]{padding-top:0!important}"]});let n=e;return n})();function ev(n){return n.buttons===0||n.detail===0}function tv(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var dN;function c8(){if(dN==null){let n=typeof document<"u"?document.head:null;dN=!!(n&&(n.createShadowRoot||n.attachShadow))}return dN}function fN(n){if(c8()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function nv(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function xo(n){return n.composedPath?n.composedPath()[0]:n.target}var hN;try{hN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hN=!1}var Mr=(()=>{class n{_platformId=B(mu);isBrowser=this._platformId?Yj(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||hN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rv;function u8(){if(rv==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>rv=!0}))}finally{rv=rv||!1}return rv}function Op(n){return u8()?n:!!n.capture}function iv(n,e=0){return d8(n)?Number(n):arguments.length===2?e:0}function d8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Il(n){return n instanceof Bt?n.nativeElement:n}var f8=new Pe("cdk-input-modality-detector-options"),h8={ignoreKeys:[18,17,224,91,16]},p8=650,pN={passive:!0,capture:!0},m8=(()=>{class n{_platform=B(Mr);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new yn(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=xo(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<p8||(this._modality.next(ev(t)?"keyboard":"mouse"),this._mostRecentTarget=xo(t))};_onTouchstart=t=>{if(tv(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xo(t)};constructor(){let t=B(Rt),r=B(Lt),i=B(f8,{optional:!0});if(this._options=ne(ne({},h8),i),this.modalityDetected=this._modality.pipe(pg(1)),this.modalityChanged=this.modalityDetected.pipe(Oh()),this._platform.isBrowser){let o=B(Mi).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,pN),o.listen(r,"mousedown",this._onMousedown,pN),o.listen(r,"touchstart",this._onTouchstart,pN)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ov=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(ov||{}),g8=new Pe("cdk-focus-monitor-default-options"),BE=Op({passive:!0,capture:!0}),sv=(()=>{class n{_ngZone=B(Rt);_platform=B(Mr);_inputModalityDetector=B(m8);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=B(Lt,{optional:!0});_stopInputModalityDetector=new $e;constructor(){let t=B(g8,{optional:!0});this._detectionMode=t?.detectionMode||ov.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=xo(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=Il(t);if(!this._platform.isBrowser||i.nodeType!==1)return Ke();let o=fN(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new $e,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=Il(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=Il(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===ov.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===ov.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?p8:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=xo(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,BE),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,BE)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(kt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,BE),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,BE),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jE=new WeakMap,Xs=(()=>{class n{_appRef;_injector=B(jt);_environmentInjector=B(hr);load(t){let r=this._appRef=this._appRef||this._injector.get(zs),i=jE.get(r);i||(i={loaders:new Set,refs:[]},jE.set(r,i),r.onDestroy(()=>{jE.get(r)?.refs.forEach(o=>o.destroy()),jE.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(cw(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var UE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function kp(n){return Array.isArray(n)?n:[n]}var y8=new Set,nf,VE=(()=>{class n{_platform=B(Mr);_nonce=B(ep,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):foe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&doe(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function doe(n,e){if(!y8.has(n))try{nf||(nf=document.createElement("style"),e&&nf.setAttribute("nonce",e),nf.setAttribute("type","text/css"),document.head.appendChild(nf)),nf.sheet&&(nf.sheet.insertRule(`@media ${n} {body{ }}`,0),y8.add(n))}catch(t){console.error(t)}}function foe(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var mN=(()=>{class n{_mediaMatcher=B(VE);_zone=B(Rt);_queries=new Map;_destroySubject=new $e;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return v8(kp(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=v8(kp(t)).map(s=>this._registerQuery(s).observable),o=Bs(i);return o=us(o.pipe(Pn(1)),o.pipe(pg(1),fg(0))),o.pipe(at(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new Xt(s=>{let a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Ti(r),at(({matches:s})=>({query:t,matches:s})),kt(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v8(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var hoe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $E=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({providers:[hoe]})}return n})();var vN=(()=>{class n{_platform=B(Mr);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return moe(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=poe(Soe(t));if(r&&(_8(r)===-1||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=_8(t);return t.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!woe(t)?!1:i==="audio"?t.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return Eoe(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function poe(n){try{return n.frameElement}catch{return null}}function moe(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function goe(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function yoe(n){return _oe(n)&&n.type=="hidden"}function voe(n){return boe(n)&&n.hasAttribute("href")}function _oe(n){return n.nodeName.toLowerCase()=="input"}function boe(n){return n.nodeName.toLowerCase()=="a"}function E8(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function _8(n){if(!E8(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function woe(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function Eoe(n){return yoe(n)?!1:goe(n)||voe(n)||n.hasAttribute("contenteditable")||E8(n)}function Soe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var yN=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,r,i,o=!1,s){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=s,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?qs(e,{injector:this._injector}):setTimeout(e)}},_N=(()=>{class n{_checker=B(vN);_ngZone=B(Rt);_document=B(Lt);_injector=B(jt);constructor(){B(Xs).load(UE)}create(t,r=!1){return new yN(t,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var S8=new Pe("liveAnnouncerElement",{providedIn:"root",factory:C8});function C8(){return null}var x8=new Pe("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Coe=0,bN=(()=>{class n{_ngZone=B(Rt);_defaultOptions=B(x8,{optional:!0});_liveElement;_document=B(Lt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=B(S8,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${Coe++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Tu=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Tu||{}),b8="cdk-high-contrast-black-on-white",w8="cdk-high-contrast-white-on-black",gN="cdk-high-contrast-active",HE=(()=>{class n{_platform=B(Mr);_hasCheckedHighContrastMode;_document=B(Lt);_breakpointSubscription;constructor(){this._breakpointSubscription=B(mN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Tu.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Tu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Tu.BLACK_ON_WHITE}return Tu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(gN,b8,w8),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Tu.BLACK_ON_WHITE?t.add(gN,b8):r===Tu.WHITE_ON_BLACK&&t.add(gN,w8)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wN=(()=>{class n{constructor(){B(HE)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[$E]})}return n})();var EN={},Qo=(()=>{class n{_appId=B(Zh);getId(t){return this._appId!=="ng"&&(t+=this._appId),EN.hasOwnProperty(t)||(EN[t]=0),`${t}${EN[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xoe=200,Pp=class{_letterKeyStream=new $e;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new $e;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:xoe;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(Zn(t=>this._pressedLetters.push(t)),fg(e),nn(()=>this._pressedLetters.length>0),at(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function Zo(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var qE=class{_items;_activeItemIndex=sr(-1);_activeItem=sr(null);_wrap=!1;_typeaheadSubscription=wn.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof lc?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):fu(e)&&(this._effectRef=X1(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new $e;change=new $e;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new Pp(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||Zo(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,o=t[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return fu(this._items)?this._items():this._items instanceof lc?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var av=class extends qE{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};function rf(n){return sl(n)?n:Ke(n)}var xN=class{_activeItemIndex=-1;_activeItem=null;_shouldActivationFollowFocus=!1;_horizontalOrientation="ltr";_skipPredicateFn=e=>!1;_trackByFn=e=>e;_items=[];_typeahead;_typeaheadSubscription=wn.EMPTY;_hasInitialFocused=!1;_initializeFocus(){if(this._hasInitialFocused||this._items.length===0)return;let e=0;for(let r=0;r<this._items.length;r++)if(!this._skipPredicateFn(this._items[r])&&!this._isItemDisabled(this._items[r])){e=r;break}let t=this._items[e];t.makeFocusable?(this._activeItem?.unfocus(),this._activeItemIndex=e,this._activeItem=t,this._typeahead?.setCurrentSelectedItemIndex(e),t.makeFocusable()):this.focusItem(e),this._hasInitialFocused=!0}constructor(e,t){e instanceof lc?(this._items=e.toArray(),e.changes.subscribe(r=>{this._items=r.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initializeFocus()})):sl(e)?e.subscribe(r=>{this._items=r,this._typeahead?.setItems(r),this._updateActiveItemIndex(r),this._initializeFocus()}):(this._items=e,this._initializeFocus()),typeof t.shouldActivationFollowFocus=="boolean"&&(this._shouldActivationFollowFocus=t.shouldActivationFollowFocus),t.horizontalOrientation&&(this._horizontalOrientation=t.horizontalOrientation),t.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),t.trackBy&&(this._trackByFn=t.trackBy),typeof t.typeAheadDebounceInterval<"u"&&this._setTypeAhead(t.typeAheadDebounceInterval)}change=new $e;destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(e){switch(e.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":this._horizontalOrientation==="rtl"?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":this._horizontalOrientation==="rtl"?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if(e.key==="*"){this._expandAllItemsAtCurrentItemLevel();break}this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(e,t={}){t.emitChangeEvent??=!0;let r=typeof e=="number"?e:this._items.findIndex(s=>this._trackByFn(s)===this._trackByFn(e));if(r<0||r>=this._items.length)return;let i=this._items[r];if(this._activeItem!==null&&this._trackByFn(i)===this._trackByFn(this._activeItem))return;let o=this._activeItem;this._activeItem=i??null,this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r),this._activeItem?.focus(),o?.unfocus(),t.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(e){let t=this._activeItem;if(!t)return;let r=e.findIndex(i=>this._trackByFn(i)===this._trackByFn(t));r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r))}_setTypeAhead(e){this._typeahead=new Pp(this._items,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:t=>this._skipPredicateFn(t)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(t=>{this.focusItem(t)})}_findNextAvailableItemIndex(e){for(let t=e+1;t<this._items.length;t++)if(!this._skipPredicateFn(this._items[t]))return t;return e}_findPreviousAvailableItemIndex(e){for(let t=e-1;t>=0;t--)if(!this._skipPredicateFn(this._items[t]))return t;return e}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{let e=this._activeItem.getParent();if(!e||this._skipPredicateFn(e))return;this.focusItem(e)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?rf(this._activeItem.getChildren()).pipe(Pn(1)).subscribe(e=>{let t=e.find(r=>!this._skipPredicateFn(r));t&&this.focusItem(t)}):this._activeItem.expand())}_isCurrentItemExpanded(){return this._activeItem?typeof this._activeItem.isExpanded=="boolean"?this._activeItem.isExpanded:this._activeItem.isExpanded():!1}_isItemDisabled(e){return typeof e.isDisabled=="boolean"?e.isDisabled:e.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;let e=this._activeItem.getParent(),t;e?t=rf(e.getChildren()):t=Ke(this._items.filter(r=>r.getParent()===null)),t.pipe(Pn(1)).subscribe(r=>{for(let i of r)i.expand()})}_activateCurrentItem(){this._activeItem?.activate()}};function Doe(){return(n,e)=>new xN(n,e)}var T8=new Pe("tree-key-manager",{providedIn:"root",factory:Doe});var R8=" ";function N8(n,e,t){let r=F8(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(R8)))}function DN(n,e,t){let r=F8(n,e);t=t.trim();let i=r.filter(o=>o!==t);i.length?n.setAttribute(e,i.join(R8)):n.removeAttribute(e)}function F8(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var Ioe=new Pe("cdk-dir-doc",{providedIn:"root",factory:Aoe});function Aoe(){return B(Lt)}var Toe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function M8(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Toe.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var so=(()=>{class n{get value(){return this.valueSignal()}valueSignal=sr("ltr");change=new Vt;constructor(){let t=B(Ioe,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(M8(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ru=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({})}return n})();function Jr(n){return n==null?"":typeof n=="string"?n:`${n}px`}function O8(n){return n!=null&&`${n}`!="false"}var ja=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(ja||{}),zE,of;function GE(){if(of==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return of=!1,of;if("scrollBehavior"in document.documentElement.style)of=!0;else{let n=Element.prototype.scrollTo;n?of=!/\{\s*\[native code\]\s*\}/.test(n.toString()):of=!1}}return of}function Lp(){if(typeof document!="object"||!document)return ja.NORMAL;if(zE==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),zE=ja.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,zE=n.scrollLeft===0?ja.NEGATED:ja.INVERTED),n.remove()}return zE}function IN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var lv=class{};function AN(n){return n&&typeof n.connect=="function"&&!(n instanceof eu)}var Roe=20,cv=(()=>{class n{_ngZone=B(Rt);_platform=B(Mr);_renderer=B(Mi).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new $e;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Roe){return this._platform.isBrowser?new Xt(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(U0(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Ke()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(nn(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=Il(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TN=(()=>{class n{elementRef=B(Bt);scrollDispatcher=B(cv);ngZone=B(Rt);dir=B(so,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new $e;_renderer=B(Pr);_cleanupScroll;_elementScrolled=new $e;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let r=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=i?t.end:t.start),t.right==null&&(t.right=i?t.start:t.end),t.bottom!=null&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&Lp()!=ja.NORMAL?(t.left!=null&&(t.right=r.scrollWidth-r.clientWidth-t.left),Lp()==ja.INVERTED?t.left=t.right:Lp()==ja.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let r=this.elementRef.nativeElement;GE()?r.scrollTo(t):(t.top!=null&&(r.scrollTop=t.top),t.left!=null&&(r.scrollLeft=t.left))}measureScrollOffset(t){let r="left",i="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return t=="start"?t=s?i:r:t=="end"&&(t=s?r:i),s&&Lp()==ja.INVERTED?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&Lp()==ja.NEGATED?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),Noe=20,Nu=(()=>{class n{_platform=B(Mr);_listeners;_viewportSize;_change=new $e;_document=B(Lt,{optional:!0});constructor(){let t=B(Rt),r=B(Mi).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=Noe){return t>0?this._change.pipe(U0(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({})}return n})(),RN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[Ru,sf,Ru,sf]})}return n})();var Moe=new Pe("MATERIAL_ANIMATIONS");function Do(){return B(Moe,{optional:!0})?.animationsDisabled||B(zg,{optional:!0})==="NoopAnimations"?!0:B(VE).matchMedia("(prefers-reduced-motion)").matches}var on=(()=>{class n{constructor(){B(HE)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[Ru,Ru]})}return n})();var k8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on,sf,sf,on]})}return n})();var Fu=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new $e;constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);let t=this.selected,r=new Set(e.map(o=>this._getConcreteValue(o)));e.forEach(o=>this._markSelected(o)),t.filter(o=>!r.has(this._getConcreteValue(o,r))).forEach(o=>this._unmarkSelected(o));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let r of t)if(this.compareWith(e,r))return r;return e}else return e}};var NN=class{dataNodes;expansionModel=new Fu(!0);trackBy;getLevel;isExpandable;getChildren;toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(r=>this._trackByValue(r)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(r=>this._trackByValue(r)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}},WE=class extends NN{getLevel;isExpandable;options;constructor(e,t,r){super(),this.getLevel=e,this.isExpandable=t,this.options=r,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){let t=this.dataNodes.indexOf(e),r=[];for(let i=t+1;i<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[i]);i++)r.push(this.dataNodes[i]);return r}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}};var MN=new Pe("CDK_TREE_NODE_OUTLET_NODE"),KE=(()=>{class n{viewContainer=B(mi);_node=B(MN,{optional:!0});constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","cdkTreeNodeOutlet",""]]})}return n})(),FN=class{$implicit;level;index;count;constructor(e){this.$implicit=e}},JE=(()=>{class n{template=B(ro);when;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return n})();function P8(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var Bp=(()=>{class n{_differs=B(ap);_changeDetectorRef=B(Kr);_elementRef=B(Bt);_dir=B(so);_onDestroy=new $e;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new yn({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new yn([]);_nodeType=new yn(null);_nodes=new yn(new Map);_keyManagerNodes=new yn([]);_keyManagerFactory=B(T8);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let t=this._nodeDefs.filter(r=>!r.when);t.length>1,this._defaultNodeDef=t[0]}_setNodeTypeIfUnset(t){this._nodeType.value===null&&this._nodeType.next(t)}_switchDataSource(t){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new Fu(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let t;AN(this._dataSource)?t=this._dataSource.connect(this):sl(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=Ke(this._dataSource)),t&&(this._dataSubscription=this._getRenderData(t).pipe(kt(this._onDestroy)).subscribe(r=>{this._renderDataChanges(r)}))}_getRenderData(t){let r=this._getExpansionModel();return Bs([t,this._nodeType,r.changed.pipe(Ti(null),Zn(i=>{this._emitExpansionChanges(i)}))]).pipe(Rr(([i,o])=>o===null?Ke({renderNodes:i,flattenedNodes:null,nodeType:o}):this._computeRenderingData(i,o).pipe(at(s=>Re(ne({},s),{nodeType:o})))))}_renderDataChanges(t){if(t.nodeType===null){this.renderNodeChanges(t.renderNodes);return}this._updateCachedData(t.flattenedNodes),this.renderNodeChanges(t.renderNodes),this._updateKeyManagerItems(t.flattenedNodes)}_emitExpansionChanges(t){if(!t)return;let r=this._nodes.value;for(let i of t.added)r.get(i)?._emitExpansionState(!0);for(let i of t.removed)r.get(i)?._emitExpansionState(!1)}_initializeKeyManager(){let t=Bs([this._keyManagerNodes,this._nodes]).pipe(at(([i,o])=>i.reduce((s,a)=>{let l=o.get(this._getExpansionKey(a));return l&&s.push(l),s},[]))),r={trackBy:i=>this._getExpansionKey(i.data),skipPredicate:i=>!!i.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(t,r)}_initializeDataDiffer(){let t=this.trackBy??((r,i)=>this._getExpansionKey(i));this._dataDiffer=this._differs.find([]).create(t)}_checkTreeControlUsage(){}renderNodeChanges(t,r=this._dataDiffer,i=this._nodeOutlet.viewContainer,o){let s=r.diff(t);!s&&!this._viewInit||(s?.forEachOperation((a,l,c)=>{if(a.previousIndex==null)this.insertNode(t[c],c,i,o);else if(c==null)i.remove(l);else{let u=i.get(l);i.move(u,c)}}),s?.forEachIdentityChange(a=>{let l=a.item;if(a.currentIndex!=null){let c=i.get(a.currentIndex);c.context.$implicit=l}}),o?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(t,r){if(this._nodeDefs.length===1)return this._nodeDefs.first;let i=this._nodeDefs.find(o=>o.when&&o.when(r,t))||this._defaultNodeDef;return i}insertNode(t,r,i,o){let s=this._getLevelAccessor(),a=this._getNodeDef(t,r),l=this._getExpansionKey(t),c=new FN(t);o??=this._parents.get(l)??void 0,s?c.level=s(t):o!==void 0&&this._levels.has(this._getExpansionKey(o))?c.level=this._levels.get(this._getExpansionKey(o))+1:c.level=0,this._levels.set(l,c.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(a.template,c,r),af.mostRecentTreeNode&&(af.mostRecentTreeNode.data=t)}isExpanded(t){return!!(this.treeControl?.isExpanded(t)||this._expansionModel?.isSelected(this._getExpansionKey(t)))}toggle(t){this.treeControl?this.treeControl.toggle(t):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(t))}expand(t){this.treeControl?this.treeControl.expand(t):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(t))}collapse(t){this.treeControl?this.treeControl.collapse(t):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(t))}toggleDescendants(t){this.treeControl?this.treeControl.toggleDescendants(t):this._expansionModel&&(this.isExpanded(t)?this.collapseDescendants(t):this.expandDescendants(t))}expandDescendants(t){if(this.treeControl)this.treeControl.expandDescendants(t);else if(this._expansionModel){let r=this._expansionModel;r.select(this._getExpansionKey(t)),this._getDescendants(t).pipe(Pn(1),kt(this._onDestroy)).subscribe(i=>{r.select(...i.map(o=>this._getExpansionKey(o)))})}}collapseDescendants(t){if(this.treeControl)this.treeControl.collapseDescendants(t);else if(this._expansionModel){let r=this._expansionModel;r.deselect(this._getExpansionKey(t)),this._getDescendants(t).pipe(Pn(1),kt(this._onDestroy)).subscribe(i=>{r.deselect(...i.map(o=>this._getExpansionKey(o)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(t=>this._expansionModel?.select(...t))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(t=>this._expansionModel?.deselect(...t))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(t){let r=this._getLevelAccessor(),i=this._expansionModel??this.treeControl?.expansionModel;if(!i)return Ke([]);let o=this._getExpansionKey(t),s=i.changed.pipe(Rr(l=>l.added.includes(o)?Ke(!0):l.removed.includes(o)?Ke(!1):ii),Ti(this.isExpanded(t)));if(r)return Bs([s,this._flattenedNodes]).pipe(at(([l,c])=>l?this._findChildrenByLevel(r,c,t,1):[]));let a=this._getChildrenAccessor();if(a)return rf(a(t)??[]);throw P8()}_findChildrenByLevel(t,r,i,o){let s=this._getExpansionKey(i),a=r.findIndex(h=>this._getExpansionKey(h)===s),l=t(i),c=l+o,u=[];for(let h=a+1;h<r.length;h++){let m=t(r[h]);if(m<=l)break;m<=c&&u.push(r[h])}return u}_registerNode(t){this._nodes.value.set(this._getExpansionKey(t.data),t),this._nodes.next(this._nodes.value)}_unregisterNode(t){this._nodes.value.delete(this._getExpansionKey(t.data)),this._nodes.next(this._nodes.value)}_getLevel(t){return this._levels.get(this._getExpansionKey(t))}_getSetSize(t){return this._getAriaSet(t).length}_getPositionInSet(t){let r=this._getAriaSet(t),i=this._getExpansionKey(t);return r.findIndex(o=>this._getExpansionKey(o)===i)+1}_getNodeParent(t){let r=this._parents.get(this._getExpansionKey(t.data));return r&&this._nodes.value.get(this._getExpansionKey(r))}_getNodeChildren(t){return this._getDirectChildren(t.data).pipe(at(r=>r.reduce((i,o)=>{let s=this._nodes.value.get(this._getExpansionKey(o));return s&&i.push(s),i},[])))}_sendKeydownToKeyManager(t){if(t.target===this._elementRef.nativeElement)this._keyManager.onKeydown(t);else{let r=this._nodes.getValue();for(let[,i]of r)if(t.target===i._elementRef.nativeElement){this._keyManager.onKeydown(t);break}}}_getDescendants(t){if(this.treeControl)return Ke(this.treeControl.getDescendants(t));if(this.levelAccessor){let r=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,t,1/0);return Ke(r)}if(this.childrenAccessor)return this._getAllChildrenRecursively(t).pipe($0((r,i)=>(r.push(...i),r),[]));throw P8()}_getAllChildrenRecursively(t){return this.childrenAccessor?rf(this.childrenAccessor(t)).pipe(Pn(1),Rr(r=>{for(let i of r)this._parents.set(this._getExpansionKey(i),t);return Ke(...r).pipe(ds(i=>us(Ke([i]),this._getAllChildrenRecursively(i))))})):Ke([])}_getExpansionKey(t){return this.expansionKey?.(t)??t}_getAriaSet(t){let r=this._getExpansionKey(t),i=this._parents.get(r),o=i?this._getExpansionKey(i):null;return this._ariaSets.get(o)??[t]}_findParentForNode(t,r,i){if(!i.length)return null;let o=this._levels.get(this._getExpansionKey(t))??0;for(let s=r-1;s>=0;s--){let a=i[s];if((this._levels.get(this._getExpansionKey(a))??0)<o)return a}return null}_flattenNestedNodesWithExpansion(t,r=0){let i=this._getChildrenAccessor();return i?Ke(...t).pipe(ds(o=>{let s=this._getExpansionKey(o);this._parents.has(s)||this._parents.set(s,null),this._levels.set(s,r);let a=rf(i(o));return us(Ke([o]),a.pipe(Pn(1),Zn(l=>{this._ariaSets.set(s,[...l??[]]);for(let c of l??[]){let u=this._getExpansionKey(c);this._parents.set(u,o),this._levels.set(u,r+1)}}),Rr(l=>l?this._flattenNestedNodesWithExpansion(l,r+1).pipe(at(c=>this.isExpanded(o)?c:[])):Ke([]))))}),$0((o,s)=>(o.push(...s),o),[])):Ke([...t])}_computeRenderingData(t,r){if(this.childrenAccessor&&r==="flat")return this._clearPreviousCache(),this._ariaSets.set(null,[...t]),this._flattenNestedNodesWithExpansion(t).pipe(at(i=>({renderNodes:i,flattenedNodes:i})));if(this.levelAccessor&&r==="nested"){let i=this.levelAccessor;return Ke(t.filter(o=>i(o)===0)).pipe(at(o=>({renderNodes:o,flattenedNodes:t})),Zn(({flattenedNodes:o})=>{this._calculateParents(o)}))}else return r==="flat"?Ke({renderNodes:t,flattenedNodes:t}).pipe(Zn(({flattenedNodes:i})=>{this._calculateParents(i)})):(this._clearPreviousCache(),this._ariaSets.set(null,[...t]),this._flattenNestedNodesWithExpansion(t).pipe(at(i=>({renderNodes:t,flattenedNodes:i}))))}_updateCachedData(t){this._flattenedNodes.next(t)}_updateKeyManagerItems(t){this._keyManagerNodes.next(t)}_calculateParents(t){let r=this._getLevelAccessor();if(r){this._clearPreviousCache();for(let i=0;i<t.length;i++){let o=t[i],s=this._getExpansionKey(o);this._levels.set(s,r(o));let a=this._findParentForNode(o,i,t);this._parents.set(s,a);let l=a?this._getExpansionKey(a):null,c=this._ariaSets.get(l)??[];c.splice(i,0,o),this._ariaSets.set(l,c)}}}_forEachExpansionKey(t){let r=[],i=[];this._nodes.value.forEach(o=>{r.push(this._getExpansionKey(o.data)),i.push(this._getDescendants(o.data))}),i.length>0?Bs(i).pipe(Pn(1),kt(this._onDestroy)).subscribe(o=>{o.forEach(s=>s.forEach(a=>r.push(this._getExpansionKey(a)))),t(r)}):t(r)}_clearPreviousCache(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["cdk-tree"]],contentQueries:function(r,i,o){if(r&1&&qi(o,JE,5),r&2){let s;vn(s=_n())&&(i._nodeDefs=s)}},viewQuery:function(r,i){if(r&1&&pr(KE,7),r&2){let o;vn(o=_n())&&(i._nodeOutlet=o.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(r,i){r&1&&St("keydown",function(s){return i._sendKeydownToKeyManager(s)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(r,i){r&1&&np(0,0)},dependencies:[KE],encapsulation:2})}return n})(),af=(()=>{class n{_elementRef=B(Bt);_tree=B(Bp);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(t){}get isExpandable(){return this._isExpandable()}set isExpandable(t){this._inputIsExpandable=t,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(t){this._inputIsExpanded=t,t?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new Vt;expandedChange=new Vt;static mostRecentTreeNode=null;_destroyed=new $e;_dataChanges=new $e;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._dataChanges.next())}_data;get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=B(Kr);constructor(){n.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=Ooe(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(at(()=>this.isExpanded),Oh()).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){n.mostRecentTreeNode===this&&(n.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(t){this.expandedChange.emit(t)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(r,i){r&1&&St("click",function(){return i._setActiveItem()})("focus",function(){return i._focusItem()}),r&2&&(gs("tabindex",i._tabindex),Ln("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",Qt],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",Qt],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return n})();function Ooe(n){let e=n.parentElement;for(;e&&!koe(e);)e=e.parentElement;return e?e.classList.contains("cdk-nested-tree-node")?wo(e.getAttribute("aria-level")):0:-1}function koe(n){let e=n.classList;return!!(e?.contains("cdk-nested-tree-node")||e?.contains("cdk-tree"))}var Poe=/([A-Za-z%]+)$/,ON=(()=>{class n{_treeNode=B(af);_tree=B(Bp);_element=B(Bt);_dir=B(so,{optional:!0});_currentPadding;_destroyed=new $e;indentUnits="px";get level(){return this._level}set level(t){this._setLevelInput(t)}_level;get indent(){return this._indent}set indent(t){this._setIndentInput(t)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe(kt(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let t=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,r=this._level==null?t:this._level;return typeof r=="number"?`${r*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){let r=this._paddingIndent();if(r!==this._currentPadding||t){let i=this._element.nativeElement,o=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",s=o==="paddingLeft"?"paddingRight":"paddingLeft";i.style[o]=r||"",i.style[s]="",this._currentPadding=r}}_setLevelInput(t){this._level=isNaN(t)?null:t,this._setPadding()}_setIndentInput(t){let r=t,i="px";if(typeof t=="string"){let o=t.split(Poe);r=o[0],i=o[1]||i}this.indentUnits=i,this._indent=wo(r),this._setPadding()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",wo],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})}return n})(),kN=(()=>{class n{_tree=B(Bp);_treeNode=B(af);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(r,i){r&1&&St("click",function(s){return i._toggle(),s.stopPropagation()})("keydown.Enter",function(s){return i._toggle(),s.preventDefault()})("keydown.Space",function(s){return i._toggle(),s.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",Qt]}})}return n})();var L8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({})}return n})();function Loe(n){return!!n._isNoopTreeKeyManager}var j8=(()=>{class n extends af{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(t){this._tabIndexInputBinding=t}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return Loe(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(t){this.isDisabled=t}constructor(){super();let t=B(new ml("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(t)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(r,i){r&1&&St("click",function(){return i._focusItem()}),r&2&&(gs("tabindex",i._getTabindexAttribute()),Ln("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",t=>t==null?0:wo(t)],disabled:[2,"disabled","disabled",Qt]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[tr([{provide:af,useExisting:n}]),Vn]})}return n})(),U8=(()=>{class n extends JE{data;static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275dir=mt({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[tr([{provide:JE,useExisting:n}]),Vn]})}return n})();var V8=(()=>{class n extends ON{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275dir=mt({type:n,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",wo],indent:[0,"matTreeNodePaddingIndent","indent"]},features:[tr([{provide:ON,useExisting:n}]),Vn]})}return n})(),B8=(()=>{class n{viewContainer=B(mi);_node=B(MN,{optional:!0});static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","matTreeNodeOutlet",""]],features:[tr([{provide:KE,useExisting:n}])]})}return n})(),$8=(()=>{class n extends Bp{_nodeOutlet=void 0;static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275cmp=Je({type:n,selectors:[["mat-tree"]],viewQuery:function(r,i){if(r&1&&pr(B8,7),r&2){let o;vn(o=_n())&&(i._nodeOutlet=o.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[tr([{provide:Bp,useExisting:n}]),Vn],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(r,i){r&1&&np(0,0)},dependencies:[B8],styles:[`.mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}
`],encapsulation:2})}return n})(),H8=(()=>{class n extends kN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275dir=mt({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[tr([{provide:kN,useExisting:n}]),Vn]})}return n})();var q8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[L8,on,on]})}return n})(),XE=class{transformFunction;getLevel;isExpandable;getChildren;constructor(e,t,r,i){this.transformFunction=e,this.getLevel=t,this.isExpandable=r,this.getChildren=i}_flattenNode(e,t,r,i){let o=this.transformFunction(e,t);if(r.push(o),this.isExpandable(o)){let s=this.getChildren(e);s&&(Array.isArray(s)?this._flattenChildren(s,t,r,i):s.pipe(Pn(1)).subscribe(a=>{this._flattenChildren(a,t,r,i)}))}return r}_flattenChildren(e,t,r,i){e.forEach((o,s)=>{let a=i.slice();a.push(s!=e.length-1),this._flattenNode(o,t+1,r,a)})}flattenNodes(e){let t=[];return e.forEach(r=>this._flattenNode(r,0,t,[])),t}expandFlattenedNodes(e,t){let r=[],i=[];return i[0]=!0,e.forEach(o=>{let s=!0;for(let a=0;a<=this.getLevel(o);a++)s=s&&i[a];s&&r.push(o),this.isExpandable(o)&&(i[this.getLevel(o)+1]=t.isExpanded(o))}),r}},YE=class extends lv{_treeControl;_treeFlattener;_flattenedData=new yn([]);_expandedData=new yn([]);get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}_data=new yn([]);constructor(e,t,r){super(),this._treeControl=e,this._treeFlattener=t,r&&(this.data=r)}connect(e){return va(e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(at(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}};var z8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on]})}return n})();var QE;function joe(){if(QE===void 0&&(QE=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(QE=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return QE}function uv(n){return joe()?.createHTML(n)||n}function G8(n){return Error(`Unable to find icon with the name "${n}"`)}function Uoe(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function W8(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function K8(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Ec=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},X8=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Ec(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){let s=this._sanitizer.sanitize(Hi.HTML,i);if(!s)throw K8(i);let a=uv(s);return this._addSvgIconConfig(t,r,new Ec("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ec(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let o=this._sanitizer.sanitize(Hi.HTML,r);if(!o)throw K8(r);let s=uv(o);return this._addSvgIconSetConfig(t,new Ec("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(Hi.RESOURCE_URL,t);if(!r)throw W8(t);let i=this._cachedIconsByUrl.get(r);return i?Ke(ZE(i)):this._loadSvgIconFromConfig(new Ec(t,null)).pipe(Zn(o=>this._cachedIconsByUrl.set(r,o)),at(o=>ZE(o)))}getNamedSvgIcon(t,r=""){let i=J8(r,t),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):ol(G8(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ke(ZE(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(at(r=>ZE(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return Ke(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe($o(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Hi.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Ke(null)})));return dg(o).pipe(at(()=>{let s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw G8(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Zn(r=>t.svgText=r),at(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ke(null):this._fetchIcon(t).pipe(Zn(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(uv("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(uv("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw Uoe();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(Hi.RESOURCE_URL,r);if(!s)throw W8(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(at(c=>uv(c)),tc(()=>this._inProgressUrlFetches.delete(s)),hg());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(J8(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,t);if(o)return Voe(o)?new Ec(o.url,null,o.options):new Ec(o,null)}}static \u0275fac=function(r){return new(r||n)(Ge(vl,8),Ge(ST),Ge(Lt,8),Ge(Vi))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZE(n){return n.cloneNode(!0)}function J8(n,e){return n+":"+e}function Voe(n){return!!(n.url&&n.options)}var $oe=["*"],Hoe=new Pe("MAT_ICON_DEFAULT_OPTIONS"),qoe=new Pe("mat-icon-location",{providedIn:"root",factory:zoe});function zoe(){let n=B(Lt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var Y8=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Goe=Y8.map(n=>`[${n}]`).join(", "),Woe=/^url\(['"]?#(.*?)['"]?\)$/,Q8=(()=>{class n{_elementRef=B(Bt);_iconRegistry=B(X8);_location=B(qoe);_errorHandler=B(Vi);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=wn.EMPTY;constructor(){let t=B(new ml("aria-hidden"),{optional:!0}),r=B(Hoe,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(Goe),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)Y8.forEach(s=>{let a=r[o],l=a.getAttribute(s),c=l?l.match(Woe):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Pn(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(Ln("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),pc(i.color?"mat-"+i.color:""),un("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Qt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:$oe,decls:1,vars:0,template:function(r,i){r&1&&(gi(),$n(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),Z8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on,on]})}return n})();var Ys=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Ys||{}),PN=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Ys.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},e$=Op({passive:!0,capture:!0}),LN=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,e$)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,e$)))}_delegateEventHandler=e=>{let t=xo(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},dv={enterDuration:225,exitDuration:150},Joe=800,t$=Op({passive:!0,capture:!0}),n$=["mousedown","touchstart"],r$=["mouseup","mouseleave","touchend","touchcancel"],Xoe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),fv=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new LN;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=Il(r)),o&&o.get(Xs).load(Xoe)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=ne(ne({},dv),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||Yoe(e,t,i),a=e-i.left,l=t-i.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${l-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let h=window.getComputedStyle(u),m=h.transitionProperty,g=h.transitionDuration,b=m==="none"||g==="0s"||g==="0s, 0s"||i.width===0&&i.height===0,v=new PN(this,u,r,b);u.style.transform="scale3d(1, 1, 1)",v.state=Ys.FADING_IN,r.persistent||(this._mostRecentTransientRipple=v);let E=null;return!b&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let C=()=>{E&&(E.fallbackTimer=null),clearTimeout(F),this._finishRippleTransition(v)},R=()=>this._destroyRipple(v),F=setTimeout(R,c+100);u.addEventListener("transitionend",C),u.addEventListener("transitioncancel",R),E={onTransitionEnd:C,onTransitionCancel:R,fallbackTimer:F}}),this._activeRipples.set(v,E),(b||!c)&&this._finishRippleTransition(v),v}fadeOutRipple(e){if(e.state===Ys.FADING_OUT||e.state===Ys.HIDDEN)return;let t=e.element,r=ne(ne({},dv),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=Ys.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Il(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,n$.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{r$.forEach(t=>{this._triggerElement.addEventListener(t,this,t$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ys.FADING_IN?this._startFadeOutTransition(e):e.state===Ys.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Ys.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ys.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=ev(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Joe;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!tv(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Ys.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ys.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(n$.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(r$.forEach(t=>e.removeEventListener(t,this,t$)),this._pointerUpEventsRegistered=!1))}};function Yoe(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var BN=new Pe("mat-ripple-global-options"),i$=(()=>{class n{_elementRef=B(Bt);_animationsDisabled=Do();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=B(Rt),r=B(Mr),i=B(BN,{optional:!0}),o=B(jt);this._globalOptions=i||{},this._rippleRenderer=new fv(this,t,this._elementRef,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:ne(ne(ne({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,ne(ne({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,ne(ne({},this.rippleConfig),t))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&un("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var Qoe={capture:!0},Zoe=["focus","mousedown","mouseenter","touchstart"],jN="mat-ripple-loader-uninitialized",UN="mat-ripple-loader-class-name",o$="mat-ripple-loader-centered",eS="mat-ripple-loader-disabled",s$=(()=>{class n{_document=B(Lt);_animationsDisabled=Do();_globalRippleOptions=B(BN,{optional:!0});_platform=B(Mr);_ngZone=B(Rt);_injector=B(jt);_eventCleanups;_hosts=new Map;constructor(){let t=B(Mi).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>Zoe.map(r=>t.listen(this._document,r,this._onInteraction,Qoe)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(jN,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(UN))&&t.setAttribute(UN,r.className||""),r.centered&&t.setAttribute(o$,""),r.disabled&&t.setAttribute(eS,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(eS,""):t.removeAttribute(eS)}_onInteraction=t=>{let r=xo(t);if(r instanceof HTMLElement){let i=r.closest(`[${jN}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(UN)),t.append(r);let i=this._globalRippleOptions,o=this._animationsDisabled?0:i?.animation?.enterDuration??dv.enterDuration,s=this._animationsDisabled?0:i?.animation?.exitDuration??dv.exitDuration,a={rippleDisabled:this._animationsDisabled||i?.disabled||t.hasAttribute(eS),rippleConfig:{centered:t.hasAttribute(o$),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},l=new fv(a,this._ngZone,r,this._platform,this._injector),c=!a.rippleDisabled;c&&l.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:l,hasSetUpEvents:c}),t.removeAttribute(jN)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var ese=["mat-icon-button",""],tse=["*"],nse=new Pe("MAT_BUTTON_CONFIG");function a$(n){return n==null?void 0:wo(n)}var VN=(()=>{class n{_elementRef=B(Bt);_ngZone=B(Rt);_animationsDisabled=Do();_config=B(nse,{optional:!0});_focusMonitor=B(sv);_cleanupClick;_renderer=B(Pr);_rippleLoader=B(s$);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){B(Xs).load(tS);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(Ln("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),pc(i.color?"mat-"+i.color:""),un("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Qt],disabled:[2,"disabled","disabled",Qt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Qt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Qt],tabIndex:[2,"tabIndex","tabIndex",a$],_tabindex:[2,"tabindex","_tabindex",a$]}})}return n})(),$N=(()=>{class n extends VN{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[Vn],attrs:ese,ngContentSelectors:tse,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(gi(),Ze(0,"span",0),$n(1),Ze(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-icon-button-touch-target-display, block);left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var nS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on,on]})}return n})();var rse=["matButton",""],ise=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ose=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var l$=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),rS=(()=>{class n extends VN{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=sse(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let r=this._elementRef.nativeElement.classList,i=this._appearance?l$.get(this._appearance):null,o=l$.get(t);i&&r.remove(...i),r.add(...o),this._appearance=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Vn],attrs:rse,ngContentSelectors:ose,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(gi(ise),Ze(0,"span",0),$n(1),fe(2,"span",1),$n(3,1),de(),$n(4,2),Ze(5,"span",2)(6,"span",3)),r&2&&un("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function sse(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var iS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on,nS,on]})}return n})();function ase(n,e){if(n&1){let t=ar();fe(0,"mat-tree-node",3),Ze(1,"button",4),fe(2,"a",5),St("click",function(){let i=In(t).$implicit,o=tt();return An(o.navigateResource(i))}),Ae(3),de()()}if(n&2){let t=e.$implicit;be(3),On(t.name)}}function lse(n,e){if(n&1){let t=ar();fe(0,"mat-tree-node",3)(1,"button",6),St("click",function(){let i=In(t).$implicit;return An(i.isExpanded=!i.isExpanded)}),fe(2,"mat-icon",7),Ae(3),de()(),fe(4,"a",5),St("click",function(){let i=In(t).$implicit,o=tt();return An(o.navigateResource(i))}),Ae(5),de()()}if(n&2){let t=e.$implicit,r=tt();be(),hc("visibility",t.expandable?"visible":"hidden"),Ln("aria-label","Toggle "+t.name),be(2),zi(" ",r.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),be(2),On(t.name)}}var u$=(()=>{let e=class e{constructor(r,i,o){this.solidAuthService=r,this.solidDataService=i,this.logger=o,this.ngUnsubscribe=new $e,this.emptyContainedResources=[],this.emptyNavItem=[],this.transformer=(s,a)=>({id:s.id,name:s.name,level:a,url:s.url,expandable:!!s.children&&s.children.length>0}),this.hasChild=(s,a)=>a.expandable,this.treeFlattener=new XE(this.transformer,s=>s.level,s=>s.expandable,s=>s.children),this.treeControl=new WE(s=>s.level,s=>s.expandable),this.dataSource=new YE(this.treeControl,this.treeFlattener)}ngOnInit(){this.solidAuthService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r,this.onSessionChange(this.sessionInfo)}),this.solidDataService.containedResources.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.containedResources=r}),this.solidDataService.assetsGraph.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.assetsGraph=r;let i=this.graphToNavForest(r);this.updateNodeTree(i)})}updateNodeTree(r){if(r!=null){let i=new Set((this.treeControl.dataNodes||[]).filter(o=>this.treeControl.isExpanded(o)).map(o=>o.id));this.dataSource.data=r||this.emptyNavItem,setTimeout(()=>{this.treeControl.dataNodes.forEach(o=>{i.has(o.id)&&this.treeControl.expand(o)})})}}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}onSessionChange(r){return L(this,null,function*(){r?.isLoggedIn||(this.containedResources=this.emptyContainedResources)})}navigateResource(r){return L(this,null,function*(){let i=yield this.solidDataService.getDataset(r.id),o=this.solidDataService.getContainedResources(i);this.solidDataService.setAssetsGraph(r,o)})}graphToNavForest(r){let i=new Set,o=r?.nodes().filter(a=>r.inDegree(a)===0);function s(a){if(i.has(a))throw new Error(`Cycle detected at node ${a}`);i.add(a);let l=r?.getNodeAttributes(a),c=[];return r?.outboundNeighbors(a).forEach(u=>{c.push(s(u))}),ne(ne({id:a,name:l?.name},l?.url&&{url:l.url}),c.length>0&&{children:c})}return o?.map(s)}};e.\u0275fac=function(i){return new(i||e)(ke(jn),ke(Ss),ke(nr))},e.\u0275cmp=Je({type:e,selectors:[["app-nav-tree"]],decls:3,vars:3,consts:[[3,"dataSource","treeControl"],["matTreeNodePadding","","class","tree-node",4,"matTreeNodeDef"],["matTreeNodePadding","","class","tree-node",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"tree-node"],["mat-icon-button","","disabled",""],["mat-button","",3,"click"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"]],template:function(i,o){i&1&&(fe(0,"mat-tree",0),_t(1,ase,4,1,"mat-tree-node",1)(2,lse,6,5,"mat-tree-node",2),de()),i&2&&(je("dataSource",o.dataSource)("treeControl",o.treeControl),be(2),je("matTreeNodeDefWhen",o.hasChild))},dependencies:[ZT,q8,U8,V8,H8,$8,j8,iS,rS,$N,Z8,Q8,z8,k8],styles:[".tree-node[_ngcontent-%COMP%]{display:flex;align-items:center}.tree-progress-bar[_ngcontent-%COMP%]{margin-left:30px}"]});let n=e;return n})();var d$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-sidebar"]],decls:0,vars:0,template:function(i,o){},encapsulation:2});let n=e;return n})();var f$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})();var h$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on,on]})}return n})();var use=["*"];var dse=new Pe("MAT_CARD_CONFIG"),w$e=(()=>{class n{appearance;constructor(){let t=B(dse,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(r,i){r&2&&un("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")("mat-mdc-card-filled",i.appearance==="filled")("mdc-card--filled",i.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:use,decls:1,vars:0,template:function(r,i){r&1&&(gi(),$n(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),E$e=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var S$e=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})();var p$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on,on]})}return n})();var HN=class{_box;_destroyed=new $e;_resizeSubject=new $e;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Xt(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(nn(t=>t.some(r=>r.target===e)),z0({bufferSize:1,refCount:!0}),kt(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},m$=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=B(Rt);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new HN(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fse=["notch"],hse=["matFormFieldNotchedOutline",""],pse=["*"],g$=["iconPrefixContainer"],y$=["textPrefixContainer"],v$=["iconSuffixContainer"],_$=["textSuffixContainer"],mse=["textField"],gse=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yse=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function vse(n,e){n&1&&Ze(0,"span",20)}function _se(n,e){if(n&1&&(fe(0,"label",19),$n(1,1),Fn(2,vse,1,0,"span",20),de()),n&2){let t=tt(2);je("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Ln("for",t._control.disableAutomaticLabeling?null:t._control.id),be(2),Mn(!t.hideRequiredMarker&&t._control.required?2:-1)}}function bse(n,e){if(n&1&&Fn(0,_se,3,5,"label",19),n&2){let t=tt();Mn(t._hasFloatingLabel()?0:-1)}}function wse(n,e){n&1&&Ze(0,"div",7)}function Ese(n,e){}function Sse(n,e){if(n&1&&_t(0,Ese,0,0,"ng-template",13),n&2){tt(2);let t=ip(1);je("ngTemplateOutlet",t)}}function Cse(n,e){if(n&1&&(fe(0,"div",9),Fn(1,Sse,1,1,null,13),de()),n&2){let t=tt();je("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),be(),Mn(t._forceDisplayInfixLabel()?-1:1)}}function xse(n,e){n&1&&(fe(0,"div",10,2),$n(2,2),de())}function Dse(n,e){n&1&&(fe(0,"div",11,3),$n(2,3),de())}function Ise(n,e){}function Ase(n,e){if(n&1&&_t(0,Ise,0,0,"ng-template",13),n&2){tt();let t=ip(1);je("ngTemplateOutlet",t)}}function Tse(n,e){n&1&&(fe(0,"div",14,4),$n(2,4),de())}function Rse(n,e){n&1&&(fe(0,"div",15,5),$n(2,5),de())}function Nse(n,e){n&1&&Ze(0,"div",16)}function Fse(n,e){n&1&&$n(0,6)}function Mse(n,e){if(n&1&&(fe(0,"mat-hint",21),Ae(1),de()),n&2){let t=tt(2);je("id",t._hintLabelId),be(),On(t.hintLabel)}}function Ose(n,e){if(n&1&&(Fn(0,Mse,2,2,"mat-hint",21),$n(1,7),Ze(2,"div",22),$n(3,8)),n&2){let t=tt();Mn(t.hintLabel?0:-1)}}var hv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["mat-label"]]})}return n})(),D$=new Pe("MatError");var qN=(()=>{class n{align="start";id=B(Qo).getId("mat-mdc-hint-");static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){r&2&&(gs("id",i.id),Ln("align",null),un("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),I$=new Pe("MatPrefix");var A$=new Pe("MatSuffix");var T$=new Pe("FloatingLabelParent"),b$=(()=>{class n{_elementRef=B(Bt);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=B(m$);_ngZone=B(Rt);_parent=B(T$);_resizeSubscription=new wn;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return kse(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){r&2&&un("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function kse(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let r=t.scrollWidth;return t.remove(),r}var w$="mdc-line-ripple--active",oS="mdc-line-ripple--deactivating",E$=(()=>{class n{_elementRef=B(Bt);_cleanupTransitionEnd;constructor(){let t=B(Rt),r=B(Pr);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=r.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(oS),t.add(w$)}deactivate(){this._elementRef.nativeElement.classList.add(oS)}_handleTransitionEnd=t=>{let r=this._elementRef.nativeElement.classList,i=r.contains(oS);t.propertyName==="opacity"&&i&&r.remove(w$,oS)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),S$=(()=>{class n{_elementRef=B(Bt);_ngZone=B(Rt);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,r=t.querySelector(".mdc-floating-label");r?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(r.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>r.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){let r=this._notch.nativeElement;!this.open||!t?r.style.width="":r.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(r&1&&pr(fse,5),r&2){let o;vn(o=_n())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){r&2&&un("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:hse,ngContentSelectors:pse,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){r&1&&(gi(),Ze(0,"div",1),fe(1,"div",2,0),$n(3),de(),Ze(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),sS=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n})}return n})();var aS=new Pe("MatFormField"),R$=new Pe("MAT_FORM_FIELD_DEFAULT_OPTIONS"),C$="fill",Pse="auto",x$="fixed",Lse="translateY(-50%)",lf=(()=>{class n{_elementRef=B(Bt);_changeDetectorRef=B(Kr);_dir=B(so);_platform=B(Mr);_idGenerator=B(Qo);_ngZone=B(Rt);_defaults=B(R$,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=ry("iconPrefixContainer");_textPrefixContainerSignal=ry("textPrefixContainer");_iconSuffixContainerSignal=ry("iconSuffixContainer");_textSuffixContainerSignal=ry("textSuffixContainer");_prefixSuffixContainers=Ra(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=Lj(hv);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=O8(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Pse}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){let r=t||this._defaults?.appearance||C$;this._appearanceSignal.set(r)}_appearanceSignal=sr(C$);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||x$}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||x$}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new $e;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled=Do();constructor(){let t=this._defaults;t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Ra(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let r=this._control,i="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(i+t.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(i+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=r.stateChanges.pipe(Ti([void 0,void 0]),at(()=>[r.errorState,r.userAriaDescribedBy]),q0(),nn(([[o,s],[a,l]])=>o!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(kt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),va(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_outlineLabelOffsetResizeObserver=null;_syncOutlineLabelOffset(){Uj({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Ra(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let r=this._control?this._control.ngControl:null;return r&&r[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,s=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));let r=this._control.describedByIds,i;if(r){let o=this._describedByIds||t;i=t.concat(r.filter(s=>s&&!o.includes(s)))}else i=t;this._control.setDescribedByIds(i),this._describedByIds=t}}_getOutlinedLabelOffset(){let t=this._dir.valueSignal();if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=r?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,u=s?.getBoundingClientRect().width??0,h=t==="rtl"?"-1":"1",m=`${a+l}px`,b=`calc(${h} * (${m} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,v=`var(--mat-mdc-form-field-label-transform, ${Lse} translateX(${b}))`,E=a+l+c+u;return[v,E]}_writeOutlinedLabelStyles(t){if(t!==null){let[r,i]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=r),i!==null&&this._notchedOutline?._setMaxWidth(i)}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(r&1&&(z1(o,i._labelChild,hv,5),qi(o,sS,5),qi(o,I$,5),qi(o,A$,5),qi(o,D$,5),qi(o,qN,5)),r&2){ow();let s;vn(s=_n())&&(i._formFieldControl=s.first),vn(s=_n())&&(i._prefixChildren=s),vn(s=_n())&&(i._suffixChildren=s),vn(s=_n())&&(i._errorChildren=s),vn(s=_n())&&(i._hintChildren=s)}},viewQuery:function(r,i){if(r&1&&(rp(i._iconPrefixContainerSignal,g$,5),rp(i._textPrefixContainerSignal,y$,5),rp(i._iconSuffixContainerSignal,v$,5),rp(i._textSuffixContainerSignal,_$,5),pr(mse,5),pr(g$,5),pr(y$,5),pr(v$,5),pr(_$,5),pr(b$,5),pr(S$,5),pr(E$,5)),r&2){ow(4);let o;vn(o=_n())&&(i._textField=o.first),vn(o=_n())&&(i._iconPrefixContainer=o.first),vn(o=_n())&&(i._textPrefixContainer=o.first),vn(o=_n())&&(i._iconSuffixContainer=o.first),vn(o=_n())&&(i._textSuffixContainer=o.first),vn(o=_n())&&(i._floatingLabel=o.first),vn(o=_n())&&(i._notchedOutline=o.first),vn(o=_n())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(r,i){r&2&&un("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[tr([{provide:aS,useExisting:n},{provide:T$,useExisting:n}])],ngContentSelectors:yse,decls:19,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(r&1){let o=ar();gi(gse),_t(0,bse,1,1,"ng-template",null,0,W1),fe(2,"div",6,1),St("click",function(a){return In(o),An(i._control.onContainerClick(a))}),Fn(4,wse,1,0,"div",7),fe(5,"div",8),Fn(6,Cse,2,2,"div",9),Fn(7,xse,3,0,"div",10),Fn(8,Dse,3,0,"div",11),fe(9,"div",12),Fn(10,Ase,1,1,null,13),$n(11),de(),Fn(12,Tse,3,0,"div",14),Fn(13,Rse,3,0,"div",15),de(),Fn(14,Nse,1,0,"div",16),de(),fe(15,"div",17)(16,"div",18),Fn(17,Fse,1,0)(18,Ose,4,1),de()()}if(r&2){let o;be(2),un("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),be(2),Mn(!i._hasOutline()&&!i._control.disabled?4:-1),be(2),Mn(i._hasOutline()?6:-1),be(),Mn(i._hasIconPrefix?7:-1),be(),Mn(i._hasTextPrefix?8:-1),be(2),Mn(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),be(2),Mn(i._hasTextSuffix?12:-1),be(),Mn(i._hasIconSuffix?13:-1),be(),Mn(i._hasOutline()?-1:14),be(),un("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic");let s=i._getSubscriptMessageType();be(),un("mat-mdc-form-field-error-wrapper",s==="error")("mat-mdc-form-field-hint-wrapper",s==="hint"),be(),Mn((o=s)==="error"?17:o==="hint"?18:-1)}},dependencies:[b$,S$,lT,E$,qN],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var Qs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on,$E,lf,on]})}return n})();var F$=(()=>{class n{_animationsDisabled=Do();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){r&2&&un("mat-pseudo-checkbox-indeterminate",i.state==="indeterminate")("mat-pseudo-checkbox-checked",i.state==="checked")("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal",i.appearance==="minimal")("mat-pseudo-checkbox-full",i.appearance==="full")("_mat-animation-noopable",i._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(r,i){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var Bse=["text"],jse=[[["mat-icon"]],"*"],Use=["mat-icon","*"];function Vse(n,e){if(n&1&&Ze(0,"mat-pseudo-checkbox",1),n&2){let t=tt();je("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function $se(n,e){if(n&1&&Ze(0,"mat-pseudo-checkbox",3),n&2){let t=tt();je("disabled",t.disabled)}}function Hse(n,e){if(n&1&&(fe(0,"span",4),Ae(1),de()),n&2){let t=tt();be(),zi("(",t.group.label,")")}}var GN=new Pe("MAT_OPTION_PARENT_COMPONENT"),WN=new Pe("MatOptgroup");var zN=class{source;isUserInput;constructor(e,t=!1){this.source=e,this.isUserInput=t}},Sc=(()=>{class n{_element=B(Bt);_changeDetectorRef=B(Kr);_parent=B(GN,{optional:!0});group=B(WN,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=B(Qo).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(t){this._disabled.set(t)}_disabled=sr(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new Vt;_text;_stateChanges=new $e;constructor(){let t=B(Xs);t.load(tS),t.load(UE),this._signalDisableRipple=!!this._parent&&fu(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,r){let i=this._getHostElement();typeof i.focus=="function"&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!Zo(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new zN(this,t))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["mat-option"]],viewQuery:function(r,i){if(r&1&&pr(Bse,7),r&2){let o;vn(o=_n())&&(i._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,i){r&1&&St("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),r&2&&(gs("id",i.id),Ln("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),un("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Qt]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:Use,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,i){r&1&&(gi(jse),Fn(0,Vse,1,2,"mat-pseudo-checkbox",1),$n(1),fe(2,"span",2,0),$n(4,1),de(),Fn(5,$se,1,1,"mat-pseudo-checkbox",3),Fn(6,Hse,2,1,"span",4),Ze(7,"div",5)),r&2&&(Mn(i.multiple?0:-1),be(5),Mn(!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator?5:-1),be(),Mn(i.group&&i.group._inert?6:-1),be(),je("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[F$,i$],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();function M$(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),o=0;for(let s=0;s<n+1;s++)r[s].group&&r[s].group===i[o]&&o++;return o}return 0}function O$(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}var pv=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},jp=class extends pv{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},cf=class extends pv{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},KN=class extends pv{element;constructor(e){super(),this.element=e instanceof Bt?e.nativeElement:e}},Up=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof jp)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof cf)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof KN)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},uS=class extends Up{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(pl,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||jt.NULL,o=i.get(hr,r.injector);t=cw(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var mv=(()=>{class n extends Up{_moduleRef=B(pl,{optional:!0});_document=B(Lt);_viewContainerRef=B(mi);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new Vt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Vn]})}return n})();var uf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({})}return n})();var k$=GE();function Hp(n){return new dS(n.get(Nu),n.get(Lt))}var dS=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Jr(-this._previousScrollPosition.left),e.style.top=Jr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),k$&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),k$&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};function $$(n,e){return new fS(n.get(cv),n.get(Rt),n.get(Nu),e)}var fS=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(nn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var gv=class{enable(){}disable(){}attach(){}};function JN(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function P$(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}function hf(n,e){return new hS(n.get(cv),n.get(Nu),n.get(Rt),e)}var hS=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();JN(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},H$=(()=>{class n{_injector=B(jt);constructor(){}noop=()=>new gv;close=t=>$$(this._injector,t);block=()=>Hp(this._injector);reposition=t=>hf(this._injector,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ff=class{positionStrategy;scrollStrategy=new gv;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var pS=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var q$=(()=>{class n{_attachedOverlays=[];_document=B(Lt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),z$=(()=>{class n extends q${_ngZone=B(Rt);_renderer=B(Mi).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G$=(()=>{class n extends q${_platform=B(Mr);_ngZone=B(Rt);_renderer=B(Mi).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=xo(t)};_clickListener=t=>{let r=xo(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(L$(a.overlayElement,r)||L$(a.overlayElement,i))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function L$(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var W$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),yS=(()=>{class n{_platform=B(Mr);_containerElement;_document=B(Lt);_styleLoader=B(Xs);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||IN()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),IN()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(W$)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XN=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Vp=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new $e;_attachments=new $e;_detachments=new $e;_positionStrategy;_scrollStrategy;_locationChanges=wn.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new $e;_outsidePointerEvents=new $e;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,l,c,u=!1,h,m){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=h,this._renderer=m,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=qs(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=ne(ne({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Re(ne({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Jr(this._config.width),e.height=Jr(this._config.height),e.minWidth=Jr(this._config.minWidth),e.minHeight=Jr(this._config.minHeight),e.maxWidth=Jr(this._config.maxWidth),e.maxHeight=Jr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new XN(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=kp(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=qs(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},B$="cdk-overlay-connected-position-bounding-box",qse=/([A-Za-z%]+)$/;function YN(n,e){return new mS(e,n.get(Nu),n.get(Lt),n.get(Mr),n.get(yS))}var mS=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new $e;_resizeSubscription=wn.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(B$),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(u,c,r)){o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(let c of o){let u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&df(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(B$),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=U$(t),{x:s,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(s+=l),c&&(a+=c);let u=0-s,h=s+o.width-r.width,m=0-a,g=a+o.height-r.height,b=this._subtractOverflows(o.width,u,h),v=this._subtractOverflows(o.height,m,g),E=b*v;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=j$(this._overlayRef.getConfig().minHeight),a=j$(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=i,c=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=U$(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0),u=0,h=0;return i.width<=o.width?u=c||-s:u=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?h=l||-a:h=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:h},{x:e.x+u,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!zse(this._lastScrollVisibility,r)){let i=new pS(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let g=Math.min(r.bottom-e.y+r.top,e.y),b=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}let l=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,c=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,u,h,m;if(c)m=r.width-e.x+this._viewportMargin*2,u=e.x-this._viewportMargin;else if(l)h=e.x,u=r.right-e.x;else{let g=Math.min(r.right-e.x+r.left,e.x),b=this._lastBoundingBoxSize.width;u=g*2,h=e.x-g,u>b&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-b/2)}return{top:s,left:h,bottom:a,right:m,width:u,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Jr(r.height),i.top=Jr(r.top),i.bottom=Jr(r.bottom),i.width=Jr(r.width),i.left=Jr(r.left),i.right=Jr(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Jr(o)),s&&(i.maxWidth=Jr(s))}this._lastBoundingBoxSize=r,df(this._boundingBox.style,i)}_resetBoundingBoxStyles(){df(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){df(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let u=this._viewportRuler.getViewportScrollPosition();df(r,this._getExactOverlayY(t,e,u)),df(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Jr(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Jr(s.maxWidth):o&&(r.maxWidth="")),df(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=Jr(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=Jr(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:P$(e,r),isOriginOutsideView:JN(e,r),isOverlayClipped:P$(t,r),isOverlayOutsideView:JN(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&kp(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Bt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function df(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function j$(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(qse);return!t||t==="px"?parseFloat(e):null}return n||null}function U$(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function zse(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var V$="cdk-global-overlay-wrapper";function qp(n){return new gS}var gS=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(V$),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,l=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,h=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",b="",v="";l?v="flex-start":u==="center"?(v="center",m?b=h:g=h):m?u==="left"||u==="end"?(v="flex-end",g=h):(u==="right"||u==="start")&&(v="flex-start",b=h):u==="left"||u==="start"?(v="flex-start",g=h):(u==="right"||u==="end")&&(v="flex-end",b=h),e.position=this._cssPosition,e.marginLeft=l?"0":g,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":b,t.justifyContent=v,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(V$),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},K$=(()=>{class n{_injector=B(jt);constructor(){}global(){return qp()}flexibleConnectedTo(t){return YN(this._injector,t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vv(n,e){n.get(Xs).load(W$);let t=n.get(yS),r=n.get(Lt),i=n.get(Qo),o=n.get(zs),s=n.get(so),a=r.createElement("div"),l=r.createElement("div");l.id=i.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),a.appendChild(l),t.getContainerElement().appendChild(a);let c=new uS(l,o,n),u=new ff(e),h=n.get(Pr,null,{optional:!0})||n.get(Mi).createRenderer(null,null);return u.direction=u.direction||s.value,new Vp(c,a,l,u,n.get(Rt),n.get(z$),r,n.get(gl),n.get(G$),e?.disableAnimations??n.get(zg,null,{optional:!0})==="NoopAnimations",n.get(hr),h)}var J$=(()=>{class n{scrollStrategies=B(H$);_positionBuilder=B(K$);_injector=B(jt);constructor(){}create(t){return vv(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gse=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],X$=new Pe("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(jt);return()=>hf(n)}}),$p=(()=>{class n{elementRef=B(Bt);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),vS=(()=>{class n{_dir=B(so,{optional:!0});_injector=B(jt);_overlayRef;_templatePortal;_backdropSubscription=wn.EMPTY;_attachSubscription=wn.EMPTY;_detachSubscription=wn.EMPTY;_positionSubscription=wn.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=B(X$);_disposeOnNavigation=!1;_ngZone=B(Rt);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}backdropClick=new Vt;positionChange=new Vt;attach=new Vt;detach=new Vt;overlayKeydown=new Vt;overlayOutsideClick=new Vt;constructor(){let t=B(ro),r=B(mi);this._templatePortal=new cf(t,r),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Gse);let t=this._overlayRef=vv(this._injector,this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!Zo(r)&&(r.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let i=this._getOriginElement(),o=xo(r);(!i||i!==o&&!i.contains(o))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new ff({direction:this._dir||"ltr",positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){let r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=YN(this._injector,this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof $p?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof $p?this.origin.elementRef.nativeElement:this.origin instanceof Bt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(tI(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Qt],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Qt],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Qt],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Qt],push:[2,"cdkConnectedOverlayPush","push",Qt],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Qt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Fr]})}return n})();function Wse(n){let e=B(jt);return()=>hf(e)}var Kse={provide:X$,useFactory:Wse},pf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({providers:[J$,Kse],imports:[Ru,uf,RN,RN]})}return n})();var Y$=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _S=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,r,i,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=o}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isErrorState(i,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var Q$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on]})}return n})();var QN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[nS,on,Q$,Sc]})}return n})();var Jse=["trigger"],Xse=["panel"],Yse=[[["mat-select-trigger"]],"*"],Qse=["mat-select-trigger","*"];function Zse(n,e){if(n&1&&(fe(0,"span",4),Ae(1),de()),n&2){let t=tt();be(),On(t.placeholder)}}function eae(n,e){n&1&&$n(0)}function tae(n,e){if(n&1&&(fe(0,"span",11),Ae(1),de()),n&2){let t=tt(2);be(),On(t.triggerValue)}}function nae(n,e){if(n&1&&(fe(0,"span",5),Fn(1,eae,1,0)(2,tae,2,1,"span",11),de()),n&2){let t=tt();be(),Mn(t.customTrigger?1:2)}}function rae(n,e){if(n&1){let t=ar();fe(0,"div",12,1),St("keydown",function(i){In(t);let o=tt();return An(o._handleKeydown(i))}),$n(2,1),de()}if(n&2){let t=tt();pc(ty("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme())),un("mat-select-panel-animations-enabled",!t._animationsDisabled),je("ngClass",t.panelClass),Ln("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}var ZN=new Pe("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(jt);return()=>hf(n)}});function Z$(n){let e=B(jt);return()=>hf(e)}var e4=new Pe("MAT_SELECT_CONFIG"),t4={provide:ZN,deps:[],useFactory:Z$},n4=new Pe("MatSelectTrigger"),bS=class{source;value;constructor(e,t){this.source=e,this.value=t}},_v=(()=>{class n{_viewportRuler=B(Nu);_changeDetectorRef=B(Kr);_elementRef=B(Bt);_dir=B(so,{optional:!0});_idGenerator=B(Qo);_renderer=B(Pr);_parentFormField=B(aS,{optional:!0});ngControl=B(vc,{self:!0,optional:!0});_liveAnnouncer=B(bN);_defaultOptions=B(e4,{optional:!0});_animationsDisabled=Do();_initialized=new $e;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(t){let r=this.options.toArray()[t];if(r){let i=this.panel.nativeElement,o=M$(t,this.options,this.optionGroups),s=r._getHostElement();t===0&&o===1?i.scrollTop=0:i.scrollTop=O$(s.offsetTop,s.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new bS(this,t)}_scrollStrategyFactory=B(ZN);_panelOpen=!1;_compareWith=(t,r)=>t===r;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new $e;_errorStateTracker;stateChanges=new $e;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(t){this._disableRipple.set(t)}_disableRipple=sr(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Cr.required)??!1}set required(t){this._required=t,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(t){this._selectionModel,this._multiple=t}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=ya(()=>{let t=this.options;return t?t.changes.pipe(Ti(t),Rr(()=>va(...t.map(r=>r.onSelectionChange)))):this._initialized.pipe(Rr(()=>this.optionSelectionChanges))});openedChange=new Vt;_openedStream=this.openedChange.pipe(nn(t=>t),at(()=>{}));_closedStream=this.openedChange.pipe(nn(t=>!t),at(()=>{}));selectionChange=new Vt;valueChange=new Vt;constructor(){let t=B(Y$),r=B(Vy,{optional:!0}),i=B(So,{optional:!0}),o=B(new ml("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new _S(t,this.ngControl,i,r,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Fu(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(kt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(kt(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Ti(null),kt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){let i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Pn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let r=`${this.id}-panel`;this._trackedModal&&DN(this._trackedModal,"aria-owns",r),N8(t,"aria-owns",r),this._trackedModal=t}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;DN(this._trackedModal,"aria-owns",t),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{r(),clearTimeout(i),this._cleanupDetach=void 0};let t=this.panel.nativeElement,r=this._renderer.listen(t,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),i=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);t.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){let r=t.keyCode,i=r===40||r===38||r===37||r===39,o=r===13||r===32,s=this._keyManager;if(!s.isTyping()&&o&&!Zo(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(t);let l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(t){let r=this._keyManager,i=t.keyCode,o=i===40||i===38,s=r.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(!s&&(i===13||i===32)&&r.activeItem&&!Zo(t))t.preventDefault(),r.activeItem._selectViaInteraction();else if(!s&&this._multiple&&i===65&&t.ctrlKey){t.preventDefault();let a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{let a=r.activeItemIndex;r.onKeydown(t),this._multiple&&o&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==a&&r.activeItem._selectViaInteraction()}}_handleOverlayKeydown(t){t.keyCode===27&&!Zo(t)&&(t.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){let r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return(i.value!=null||this.canSelectNullableOptions)&&this._compareWith(i.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1}_skipPredicate=t=>this.panelOpen?!1:t.disabled;_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof $p?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new av(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let t=va(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(kt(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),va(...this.options.map(r=>r._stateChanges)).pipe(kt(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,r){let i=this._selectionModel.isSelected(t);!this.canSelectNullableOptions&&t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r;this.multiple?r=this.selected.map(i=>i.value):r=this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){t=r;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId()||null,r=t?t+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t||(t=this._valueId),t}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["mat-select"]],contentQueries:function(r,i,o){if(r&1&&(qi(o,n4,5),qi(o,Sc,5),qi(o,WN,5)),r&2){let s;vn(s=_n())&&(i.customTrigger=s.first),vn(s=_n())&&(i.options=s),vn(s=_n())&&(i.optionGroups=s)}},viewQuery:function(r,i){if(r&1&&(pr(Jse,5),pr(Xse,5),pr(vS,5)),r&2){let o;vn(o=_n())&&(i.trigger=o.first),vn(o=_n())&&(i.panel=o.first),vn(o=_n())&&(i._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,i){r&1&&St("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),r&2&&(Ln("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),un("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Qt],disableRipple:[2,"disableRipple","disableRipple",Qt],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:wo(t)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Qt],placeholder:"placeholder",required:[2,"required","required",Qt],multiple:[2,"multiple","multiple",Qt],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Qt],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",wo],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Qt]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[tr([{provide:sS,useExisting:n},{provide:GN,useExisting:n}]),Fr],ngContentSelectors:Qse,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,i){if(r&1){let o=ar();gi(Yse),fe(0,"div",2,0),St("click",function(){return In(o),An(i.open())}),fe(3,"div",3),Fn(4,Zse,2,1,"span",4)(5,nae,3,1,"span",5),de(),fe(6,"div",6)(7,"div",7),mb(),fe(8,"svg",8),Ze(9,"path",9),de()()()(),_t(10,rae,3,10,"ng-template",10),St("detach",function(){return In(o),An(i.close())})("backdropClick",function(){return In(o),An(i.close())})("overlayKeydown",function(a){return In(o),An(i._handleOverlayKeydown(a))})}if(r&2){let o=ip(1);be(3),Ln("id",i._valueId),be(),Mn(i.empty?4:5),be(6),je("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[$p,vS,Ma],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return n})();var mf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({providers:[t4],imports:[pf,QN,on,sf,Qs,QN,on]})}return n})();var i4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({})}return n})();var wS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on,Qs,Qs,i4,on]})}return n})();var o4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({imports:[on,on]})}return n})();function iae(n,e){if(n&1&&(fe(0,"mat-option",2),Ae(1),de()),n&2){let t=e.$implicit;je("value",t),be(),On(t)}}var s4=(()=>{let e=class e{constructor(r,i,o,s){this.solidAuthService=r,this.solidDataService=i,this.logger=o,this.fb=s,this.ngUnsubscribe=new $e}ngOnInit(){this.solidAuthService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r,this.onSessionChange(this.sessionInfo)}),this.formGroup=this.fb.group({podSelector:[null]})}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}onSessionChange(r){return L(this,null,function*(){r?.isLoggedIn&&(this.pods=yield this.solidDataService.getAllPods(r.webId))})}getDataset(){return L(this,null,function*(){try{if(this.selectedPod!=null){let r=yield this.solidDataService.getDataset(`${this.selectedPod}`);this.solidDataService.setContainedResources(r)}}catch(r){this.logger.error(r)}})}getDatasetAsTurtle(){return L(this,null,function*(){try{if(this.selectedPod!=null){let r=yield this.solidDataService.getDataset(`${this.selectedPod}`);this.solidDataService.setContainedResources(r)}}catch(r){this.logger.error(r)}})}setPodContainedResources(r){return L(this,null,function*(){try{if(this.selectedPod=r,this.sessionInfo?.isLoggedIn&&this.sessionInfo.webId!=null&&this.selectedPod!=null){let i=yield this.solidDataService.getDataset(`${this.selectedPod}`),o=this.solidDataService.getContainedResources(i),s={url:this.sessionInfo.webId,name:"root"};this.solidDataService.setAssetsGraph(s,o),this.solidDataService.setContainedResources(i)}}catch(i){this.logger.error(i)}})}};e.\u0275fac=function(i){return new(i||e)(ke(jn),ke(Ss),ke(nr),ke(QU))},e.\u0275cmp=Je({type:e,selectors:[["app-pod-selector"]],features:[tr([{provide:Yd,useExisting:$i(()=>e),multi:!0},{provide:Cu,useExisting:$i(()=>e),multi:!0}])],decls:8,vars:1,consts:[[2,"width","100%"],["name","pod",3,"ngModelChange","selectionChange","ngModel"],[3,"value"]],template:function(i,o){i&1&&(fe(0,"div")(1,"form",0)(2,"mat-form-field",0)(3,"mat-label"),Ae(4,"Pod(s)"),de(),fe(5,"mat-select",1),sp("ngModelChange",function(a){return ey(o.selectedPod,a)||(o.selectedPod=a),a}),St("selectionChange",function(a){return o.setPodContainedResources(a.value)}),V1(6,iae,2,2,"mat-option",2,U1),de()()()()),i&2&&(be(5),op("ngModel",o.selectedPod),be(),$1(o.pods))},dependencies:[xu,Ws,io,Jo,$y,Vy,oo,Qs,lf,hv,mf,_v,Sc,wS],styles:[".pod-button-row[_ngcontent-%COMP%]   .mat-mdc-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}.sandbox-form[_ngcontent-%COMP%], .field-full-width[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{width:100%}.misc-bottom-padding[_ngcontent-%COMP%]{margin:8px 0 20px}.misc-bottom-padding[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{margin-right:15px}.mat-radio-label[_ngcontent-%COMP%]{margin:0 15px 0 0}.title-center[_ngcontent-%COMP%]{margin:0 auto}.mat-raised-button[_ngcontent-%COMP%]{margin:8px 10px 10px 20px}"]});let n=e;return n})();function oae(n,e){if(n&1&&(fe(0,"p")(1,"strong"),Ae(2,"Name:"),de(),Ae(3),de()),n&2){let t=tt();be(3),zi(" ",t.profile.name)}}function sae(n,e){if(n&1){let t=ar();fe(0,"a",11),St("click",function(){In(t);let i=tt();return An(i.loginApp())}),Ae(1,"Login"),de()}}function aae(n,e){if(n&1){let t=ar();fe(0,"a",11),St("click",function(){In(t);let i=tt();return An(i.logoutApp())}),Ae(1,"Logout"),de()}}var a4=(()=>{let e=class e{constructor(r,i,o,s){this.accountService=r,this.solidAuthService=i,this.solidDataService=o,this.logger=s,this.ngUnsubscribe=new $e,this.profile=null}ngOnInit(){return L(this,null,function*(){this.accountService.user.pipe(kt(this.ngUnsubscribe)).subscribe(r=>this.user=r),this.solidAuthService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r,this.onSessionChange(this.sessionInfo)})})}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}logout(){this.accountService.logout()}loginApp(){this.solidAuthService.solidLogin("https://stage.graphmetrix.net")}logoutApp(){return L(this,null,function*(){yield this.solidAuthService.logoutApp()})}logoutIdp(){return L(this,null,function*(){yield this.solidAuthService.solidLogoutIdp()})}onSessionChange(r){return L(this,null,function*(){r?.isLoggedIn})}getDataset(){return L(this,null,function*(){try{if(this.selectedPod!=null){let r;r=yield this.solidDataService.getDataset(`${this.selectedPod}`),this.solidDataService.setContainedResources(r),this.dataset=r}}catch(r){this.logger.error(r)}})}};e.\u0275fac=function(i){return new(i||e)(ke(Pa),ke(jn),ke(Ss),ke(nr))},e.\u0275cmp=Je({type:e,selectors:[["app-header"]],features:[tr([{provide:Yd,useExisting:$i(()=>e),multi:!0},{provide:Cu,useExisting:$i(()=>e),multi:!0}])],decls:20,vars:2,consts:[[1,"header-container"],[1,"logo-supplier"],["ngSrc","assets/img/logo/supplier.svg","alt","Supplier","width","183","height","150","priority",""],[1,"header-content"],["mat-button","","routerLink","/sandbox","routerLinkActive","active"],["mat-button","","routerLink","/profile","routerLinkActive","active"],["mat-button","","routerLink","/profile/contacts","routerLinkActive","active"],["mat-button","","routerLink","/profile/card","routerLinkActive","active"],[1,"header-pod"],[1,"header-user"],["mat-button",""],["mat-button","",3,"click"]],template:function(i,o){i&1&&(fe(0,"div",0)(1,"div",1),Ze(2,"img",2),de(),fe(3,"div",3)(4,"mat-toolbar-row")(5,"a",4),Ae(6,"Sandbox"),de(),fe(7,"a",5),Ae(8,"Profile"),de(),fe(9,"a",6),Ae(10,"Contacts"),de(),fe(11,"a",7),Ae(12,"Card"),de()()(),fe(13,"div",8),Ze(14,"app-pod-selector"),de(),fe(15,"div",9)(16,"mat-toolbar-row"),Fn(17,oae,4,1,"p"),Fn(18,sae,2,0,"a",10)(19,aae,2,0,"a",10),de()()()),i&2&&(be(17),Mn(o.profile?17:-1),be(),Mn(o.sessionInfo!=null&&o.sessionInfo.isLoggedIn?19:18))},dependencies:[Wo,YT,h$,f$,iS,rS,t3,p$,xu,oo,Qs,mf,wS,o4,s4],styles:['.header-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr 3fr 1fr;grid-template-rows:140px;grid-template-areas:"supplier content pod user";grid-column-gap:10px;margin:0;align-items:end}.logo-supplier[_ngcontent-%COMP%]{grid-area:supplier;justify-self:stretch}.header-content[_ngcontent-%COMP%]{grid-area:content}.header-user[_ngcontent-%COMP%]{grid-area:user;justify-self:right}.header-pod[_ngcontent-%COMP%]{grid-area:pod;justify-self:stretch}']});let n=e;return n})();var l4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["footer"]],decls:1,vars:0,template:function(i,o){i&1&&Ze(0,"app-alarm")},dependencies:[l8],encapsulation:2});let n=e;return n})();var KHe=(()=>{let e=class e{constructor(r){this.solidAuthService=r,this.ngUnsubscribe=new $e}ngOnInit(){this.solidAuthService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r}),this.solidAuthService.handleSessionRestore(),this.dataItems=[]}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(ke(jn))},e.\u0275cmp=Je({type:e,selectors:[["app-home"]],decls:11,vars:0,consts:[[1,"container"],[1,"item","header"],[1,"item","nav"],[1,"item","fill-area","content","item-grow"],[1,"item","sidebar"],[1,"item","footer"]],template:function(i,o){i&1&&(fe(0,"div",0)(1,"div",1),Ze(2,"app-header"),de(),fe(3,"div",2),Ze(4,"app-nav-tree"),de(),fe(5,"div",3),Ze(6,"router-outlet"),de(),fe(7,"div",4),Ze(8,"app-sidebar"),de(),fe(9,"div",5),Ze(10,"footer"),de()())},dependencies:[Ty,a4,l4,d$,u$],styles:['.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 4fr 1fr;grid-template-rows:160px 1fr 70px;grid-template-areas:"header header header" "nav content sidebar" "footer footer footer";grid-row-gap:10px;grid-column-gap:10px;height:97vh;margin:0;background:#e5f5da}header[_ngcontent-%COMP%], article[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{padding:1.2em;background:#fff}footer[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;background:#fff}.header[_ngcontent-%COMP%]{grid-area:header}.nav[_ngcontent-%COMP%]{grid-area:nav}.sidebar[_ngcontent-%COMP%]{grid-area:sidebar}.content[_ngcontent-%COMP%]{grid-area:content}.footer[_ngcontent-%COMP%]{grid-area:footer}']});let n=e;return n})();function lae(n,e){n&1&&Ze(0,"span",12)}function cae(n,e){n&1&&(fe(0,"span"),Ae(1,"Delete"),de())}function uae(n,e){if(n&1){let t=ar();fe(0,"tr")(1,"td"),Ae(2),de(),fe(3,"td"),Ae(4),de(),fe(5,"td"),Ae(6),de(),fe(7,"td",8)(8,"a",9),Ae(9,"Edit"),de(),fe(10,"button",10),St("click",function(){let i=In(t).$implicit,o=tt();return An(o.deleteUser(i.id))}),_t(11,lae,1,0,"span",11)(12,cae,2,0,"span",7),de()()()}if(n&2){let t=e.$implicit;be(2),On(t.firstName),be(2),On(t.lastName),be(2),On(t.username),be(2),je("routerLink",ty("edit/",t.id)),be(2),je("disabled",t.isDeleting),be(),je("ngIf",t.isDeleting),be(),je("ngIf",!t.isDeleting)}}function dae(n,e){n&1&&(fe(0,"tr")(1,"td",13),Ze(2,"span",14),de()())}var ZHe=(()=>{let e=class e{constructor(r){this.accountService=r}ngOnInit(){this.accountService.getAll().pipe(fi()).subscribe(r=>this.users=r)}deleteUser(r){let i=this.users.find(o=>o.id===r);i.isDeleting=!0,this.accountService.delete(r).pipe(fi()).subscribe(()=>this.users=this.users.filter(o=>o.id!==r))}};e.\u0275fac=function(i){return new(i||e)(ke(Pa))},e.\u0275cmp=Je({type:e,selectors:[["app-users-list"]],decls:19,vars:2,consts:[[1,"p-4"],[1,"container"],["routerLink","add",1,"btn","btn-sm","btn-success","mb-2"],[1,"table","table-striped"],[2,"width","30%"],[2,"width","10%"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"white-space","nowrap"],[1,"btn","btn-sm","btn-primary","me-1",3,"routerLink"],[1,"btn","btn-sm","btn-danger",2,"width","58px",3,"click","disabled"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(i,o){i&1&&(fe(0,"div",0)(1,"div",1)(2,"h1"),Ae(3,"Users"),de(),fe(4,"a",2),Ae(5,"Add User"),de(),fe(6,"table",3)(7,"thead")(8,"tr")(9,"th",4),Ae(10,"First Name"),de(),fe(11,"th",4),Ae(12,"Last Name"),de(),fe(13,"th",4),Ae(14,"Username"),de(),Ze(15,"th",5),de()(),fe(16,"tbody"),_t(17,uae,13,8,"tr",6)(18,dae,3,0,"tr",7),de()()()()),i&2&&(be(17),je("ngForOf",o.users),be(),je("ngIf",!o.users))},dependencies:[Wo,yl,yi],encapsulation:2});let n=e;return n})();var r6e=(()=>{let e=class e{constructor(r,i,o,s){this.solidService=r,this.alarmService=i,this.router=o,this.logger=s,this.ngUnsubscribe=new $e}ngOnInit(){this.solidService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r}),this.alarmService.success("Connected to server",!0),this.solidService.handleSessionRestore()}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}onSessionChange(r){}};e.\u0275fac=function(i){return new(i||e)(ke(jn),ke(Co),ke(mr),ke(nr))},e.\u0275cmp=Je({type:e,selectors:[["app-callback"]],decls:0,vars:0,template:function(i,o){},encapsulation:2});let n=e;return n})();function fae(n,e){}var Mu=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var t2=(()=>{class n extends Up{_elementRef=B(Bt);_focusTrapFactory=B(_N);_config;_interactivityChecker=B(vN);_ngZone=B(Rt);_focusMonitor=B(sv);_renderer=B(Pr);_platform=B(Mr);_document=B(Lt,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=B(Kr);_injector=B(jt);_isDestroyed=!1;constructor(){super(),this._config=B(Mu,{optional:!0})||new Mu,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let r=this._ariaLabelledByQueue.indexOf(t);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}attachDomPortal=t=>{this._portalOutlet.hasAttached();let r=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),r};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),s(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",i),s=this._renderer.listen(t,"mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(t){this._isDestroyed||qs(()=>{let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t);break}},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,r=null;if(typeof t=="string"?r=this._document.querySelector(t):typeof t=="boolean"?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&typeof r.focus=="function"){let i=nv(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(t){this._elementRef.nativeElement.focus?.(t)}_containsFocus(){let t=this._elementRef.nativeElement,r=nv();return t===r||t.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=nv()))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Je({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(r&1&&pr(mv,7),r&2){let o;vn(o=_n())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){r&2&&Ln("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[Vn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){r&1&&_t(0,fae,0,0,"ng-template",0)},dependencies:[mv],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),bv=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new $e;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(e,t){this.overlayRef=e,this.config=t,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Zo(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=e.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(e,t){if(this._canClose(e)){let r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}_canClose(e){let t=this.config;return!!this.containerInstance&&(!t.closePredicate||t.closePredicate(e,t,this.componentInstance))}},hae=new Pe("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=B(jt);return()=>Hp(n)}}),pae=new Pe("DialogData"),mae=new Pe("DefaultDialogConfig");function gae(n){let e=sr(n),t=new Vt;return{valueSignal:e,get value(){return e()},change:t,ngOnDestroy(){t.complete()}}}var n2=(()=>{class n{_injector=B(jt);_defaultOptions=B(mae,{optional:!0});_parentDialog=B(n,{optional:!0,skipSelf:!0});_overlayContainer=B(yS);_idGenerator=B(Qo);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new $e;_afterOpenedAtThisLevel=new $e;_ariaHiddenElements=new Map;_scrollStrategy=B(hae);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=ya(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ti(void 0)));constructor(){}open(t,r){let i=this._defaultOptions||new Mu;r=ne(ne({},i),r),r.id=r.id||this._idGenerator.getId("cdk-dialog-"),r.id&&this.getDialogById(r.id);let o=this._getOverlayConfig(r),s=vv(this._injector,o),a=new bv(s,r),l=this._attachContainer(s,a,r);return a.containerInstance=l,this._attachDialogContent(t,a,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){e2(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){e2(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),e2(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let r=new ff({positionStrategy:t.positionStrategy||qp().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation,disableAnimations:t.disableAnimations});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){let o=i.injector||i.viewContainerRef?.injector,s=[{provide:Mu,useValue:i},{provide:bv,useValue:r},{provide:Vp,useValue:t}],a;i.container?typeof i.container=="function"?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=t2;let l=new jp(a,i.viewContainerRef,jt.create({parent:o||this._injector,providers:s}));return t.attach(l).instance}_attachDialogContent(t,r,i,o){if(t instanceof ro){let s=this._createInjector(o,r,i,void 0),a={$implicit:o.data,dialogRef:r};o.templateContext&&(a=ne(ne({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new cf(t,null,a,s))}else{let s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new jp(t,o.viewContainerRef,s));r.componentRef=a,r.componentInstance=a.instance}}_createInjector(t,r,i,o){let s=t.injector||t.viewContainerRef?.injector,a=[{provide:pae,useValue:t.data},{provide:bv,useValue:r}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!s||!s.get(so,null,{optional:!0}))&&a.push({provide:so,useValue:gae(t.direction)}),jt.create({parent:s||o,providers:a})}_removeOpenDialog(t,r){let i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let o=r[i];o!==t&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e2(n,e){let t=n.length;for(;t--;)e(n[t])}var c4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({providers:[n2],imports:[pf,uf,wN,uf]})}return n})();function yae(n,e){}var gf=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},r2="mdc-dialog--open",u4="mdc-dialog--opening",d4="mdc-dialog--closing",vae=150,_ae=75,p4=(()=>{class n extends t2{_animationStateChanged=new Vt;_animationsEnabled=!Do();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?h4(this._config.enterAnimationDuration)??vae:0;_exitAnimationDuration=this._animationsEnabled?h4(this._config.exitAnimationDuration)??_ae:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(f4,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(u4,r2)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(r2),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(r2),this._animationsEnabled?(this._hostElement.style.setProperty(f4,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(d4)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(u4,d4)}_waitForAnimationToComplete(t,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let r=super.attachComponentPortal(t);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275cmp=Je({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,i){r&2&&(gs("id",i._config.id),Ln("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),un("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[Vn],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(fe(0,"div",0)(1,"div",1),_t(2,yae,0,0,"ng-template",2),de()())},dependencies:[mv],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),f4="--mat-dialog-transition-duration";function h4(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?iv(n.substring(0,n.length-2)):n.endsWith("s")?iv(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var wv=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(wv||{}),yf=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new $e;_beforeClosed=new $e;_result;_closeFallbackTimeout;_state=wv.OPEN;_closeInteractionType;constructor(e,t,r){this._ref=e,this._config=t,this._containerInstance=r,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(nn(i=>i.state==="opened"),Pn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(nn(i=>i.state==="closed"),Pn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),va(this.backdropClick(),this.keydownEvents().pipe(nn(i=>i.keyCode===27&&!this.disableClose&&!Zo(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),m4(this,i.type==="keydown"?"keyboard":"mouse"))})}close(e){let t=this._config.closePredicate;t&&!t(e,this._config,this.componentInstance)||(this._result=e,this._containerInstance._animationStateChanged.pipe(nn(r=>r.state==="closing"),Pn(1)).subscribe(r=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),r.totalTime+100)}),this._state=wv.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=wv.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function m4(n,e,t){return n._closeInteractionType=e,n.close(t)}var g4=new Pe("MatMdcDialogData"),y4=new Pe("mat-mdc-dialog-default-options"),v4=new Pe("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=B(jt);return()=>Hp(n)}}),vf=(()=>{class n{_defaultOptions=B(y4,{optional:!0});_scrollStrategy=B(v4);_parentDialog=B(n,{optional:!0,skipSelf:!0});_idGenerator=B(Qo);_injector=B(jt);_dialog=B(n2);_animationsDisabled=Do();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new $e;_afterOpenedAtThisLevel=new $e;dialogConfigClass=gf;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=ya(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ti(void 0)));constructor(){this._dialogRefConstructor=yf,this._dialogContainerType=p4,this._dialogDataToken=g4}open(t,r){let i;r=ne(ne({},this._defaultOptions||new gf),r),r.id=r.id||this._idGenerator.getId("mat-mdc-dialog-"),r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(t,Re(ne({},r),{positionStrategy:qp(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||r.enterAnimationDuration?.toLocaleString()==="0"||r.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Mu,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,a,l)=>(i=new this._dialogRefConstructor(s,r,l),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bae=(()=>{class n{_dialogRef=B(yf,{optional:!0});_elementRef=B(Bt);_dialog=B(vf);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=wae(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n})}return n})();var i2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=mt({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[R1([TN])]})}return n})(),o2=(()=>{class n extends bae{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=oi(n)))(i||n)}})();static \u0275dir=mt({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,i){r&2&&un("mat-mdc-dialog-actions-align-start",i.align==="start")("mat-mdc-dialog-actions-align-center",i.align==="center")("mat-mdc-dialog-actions-align-end",i.align==="end")},inputs:{align:"align"},features:[Vn]})}return n})();function wae(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}var s2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=vt({providers:[vf],imports:[c4,pf,uf,on,on]})}return n})();var _4=n=>({"is-invalid":n});function Eae(n,e){n&1&&(fe(0,"div"),Ae(1,"Username is required"),de())}function Sae(n,e){if(n&1&&(fe(0,"div",13),_t(1,Eae,2,0,"div",14),de()),n&2){let t=tt();be(),je("ngIf",t.f.username.errors.required)}}function Cae(n,e){n&1&&(fe(0,"div"),Ae(1,"Password is required"),de())}function xae(n,e){if(n&1&&(fe(0,"div",13),_t(1,Cae,2,0,"div",14),de()),n&2){let t=tt();be(),je("ngIf",t.f.password.errors.required)}}function Dae(n,e){n&1&&Ze(0,"span",15)}var Z6e=(()=>{let e=class e{constructor(r,i,o,s,a,l,c){this.formBuilder=r,this.route=i,this.router=o,this.accountService=s,this.alarmService=a,this.dialog=l,this.logger=c,this.loading=!1,this.submitted=!1,this.accountService.userValue&&this.router.navigate(["/"])}ngOnInit(){this.form=this.formBuilder.group({username:["",Cr.required],password:["",Cr.required]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alarmService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe(fi()).subscribe({next:()=>{let r=this.route.snapshot.queryParams.returnUrl||"/";this.router.navigateByUrl(r)},error:r=>{this.alarmService.error(r),this.loading=!1}}))}chooseIdentityProvider(){ES(this.dialog).pipe(nn(r=>!!r)).subscribe(r=>{this.logger.info(`LC: Identity provider: ${JSON.stringify(r)}`)})}};e.\u0275fac=function(i){return new(i||e)(ke(Es),ke(Go),ke(mr),ke(Pa),ke(Co),ke(vf),ke(nr))},e.\u0275cmp=Je({type:e,selectors:[["app-login"]],decls:22,vars:11,consts:[[1,"container","col-md-6","offset-md-3","mt-5"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(i,o){i&1&&(fe(0,"div",0)(1,"div",1)(2,"h4",2),Ae(3,"Login"),de(),fe(4,"div",3)(5,"form",4),St("ngSubmit",function(){return o.onSubmit()}),fe(6,"div",5)(7,"label",6),Ae(8,"Username"),de(),Ze(9,"input",7),_t(10,Sae,2,1,"div",8),de(),fe(11,"div",5)(12,"label",6),Ae(13,"Password"),de(),Ze(14,"input",9),_t(15,xae,2,1,"div",8),de(),fe(16,"div")(17,"button",10),_t(18,Dae,1,0,"span",11),Ae(19," Login "),de(),fe(20,"a",12),Ae(21,"Register"),de()()()()()()),i&2&&(be(5),je("formGroup",o.form),be(4),je("ngClass",zo(7,_4,o.submitted&&o.f.username.errors)),be(),je("ngIf",o.submitted&&o.f.username.errors),be(4),je("ngClass",zo(9,_4,o.submitted&&o.f.password.errors)),be(),je("ngIf",o.submitted&&o.f.password.errors),be(2),je("disabled",o.loading),be(),je("ngIf",o.loading))},dependencies:[oo,Ws,Ko,io,Jo,So,ws,Ma,yi,Wo],styles:["h1[_ngcontent-%COMP%]{text-align:center}"]});let n=e;return n})();function Iae(n,e){if(n&1){let t=ar();fe(0,"button",0),St("click",function(){In(t);let i=tt();return An(i.login())}),Ae(1,"Login with Solid"),de()}}function Aae(n,e){if(n&1&&(fe(0,"h2"),Ae(1,"Your Onboarding Profile"),de(),fe(2,"p")(3,"strong"),Ae(4,"Name:"),de(),Ae(5),de(),fe(6,"p")(7,"strong"),Ae(8,"Email:"),de(),Ae(9),de()),n&2){let t=tt(2);be(5),zi(" ",t.profile.name),be(4),zi(" ",t.profile.email)}}function Tae(n,e){if(n&1&&(fe(0,"div"),Ae(1),de()),n&2){let t=tt(3);be(),On(t.message)}}function Rae(n,e){if(n&1){let t=ar();fe(0,"h2"),Ae(1,"Onboarding Form"),de(),fe(2,"form",1),St("ngSubmit",function(){In(t);let i=tt(2);return An(i.onSubmit())}),fe(3,"label"),Ae(4," Name: "),Ze(5,"input",2),de(),fe(6,"label"),Ae(7," Email: "),Ze(8,"input",3),de(),fe(9,"button",4),Ae(10,"Save"),de()(),Fn(11,Tae,2,1,"div")}if(n&2){let t=tt(2);be(2),je("formGroup",t.form),be(7),je("disabled",t.form.invalid),be(2),Mn(t.message?11:-1)}}function Nae(n,e){if(n&1&&Fn(0,Aae,10,2)(1,Rae,12,3),n&2){let t=tt();Mn(t.profile?0:1)}}var i9e=(()=>{let e=class e{constructor(r,i,o,s){this.fb=r,this.solidAuthService=i,this.solidDataService=o,this.logger=s,this.ngUnsubscribe=new $e,this.profile=null,this.message="",this.loggedIn=!1,this.form=this.fb.group({name:["",Cr.required],email:["",[Cr.required,Cr.email]]}),this.loggedIn=this.solidAuthService.isLoggedIn(),this.webId=this.solidAuthService.getWebId()}ngOnInit(){return L(this,null,function*(){this.solidAuthService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r}),this.solidAuthService.isLoggedIn()})}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}onSessionChange(r){return L(this,null,function*(){r?.isLoggedIn})}login(){return L(this,null,function*(){yield this.solidAuthService.solidLogin("https://stage.graphmetrix.net")})}onSubmit(){return L(this,null,function*(){if(this.form.valid){let{name:r,email:i}=this.form.value;try{this.logger.info("Profile saved to your Solid Pod!"),this.profile={name:r,email:i}}catch(o){this.logger.error(`Failed to save profile: ${o}`)}}})}};e.\u0275fac=function(i){return new(i||e)(ke(Es),ke(jn),ke(Ss),ke(nr))},e.\u0275cmp=Je({type:e,selectors:[["app-onboarding"]],decls:2,vars:1,consts:[[3,"click"],[3,"ngSubmit","formGroup"],["formControlName","name"],["formControlName","email","type","email"],["type","submit",3,"disabled"]],template:function(i,o){i&1&&Fn(0,Iae,2,0,"button")(1,Nae,2,1),i&2&&Mn(o.sessionInfo!=null&&o.sessionInfo.isLoggedIn?0:1)},dependencies:[vu,oo,Ws,Ko,io,Jo,So,ws],encapsulation:2});let n=e;return n})();var a9e=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-logout"]],decls:2,vars:0,template:function(i,o){i&1&&(fe(0,"p"),Ae(1,"logout works!"),de())},encapsulation:2});let n=e;return n})();var SS=n=>({"is-invalid":n});function Fae(n,e){n&1&&(fe(0,"div"),Ae(1,"First Name is required"),de())}function Mae(n,e){if(n&1&&(fe(0,"div",15),_t(1,Fae,2,0,"div",16),de()),n&2){let t=tt();be(),je("ngIf",t.f.firstName.errors.required)}}function Oae(n,e){n&1&&(fe(0,"div"),Ae(1,"Last Name is required"),de())}function kae(n,e){if(n&1&&(fe(0,"div",15),_t(1,Oae,2,0,"div",16),de()),n&2){let t=tt();be(),je("ngIf",t.f.lastName.errors.required)}}function Pae(n,e){n&1&&(fe(0,"div"),Ae(1,"Username is required"),de())}function Lae(n,e){if(n&1&&(fe(0,"div",15),_t(1,Pae,2,0,"div",16),de()),n&2){let t=tt();be(),je("ngIf",t.f.username.errors.required)}}function Bae(n,e){n&1&&(fe(0,"div"),Ae(1,"Password is required"),de())}function jae(n,e){n&1&&(fe(0,"div"),Ae(1,"Password must be at least 6 characters"),de())}function Uae(n,e){if(n&1&&(fe(0,"div",15),_t(1,Bae,2,0,"div",16)(2,jae,2,0,"div",16),de()),n&2){let t=tt();be(),je("ngIf",t.f.password.errors.required),be(),je("ngIf",t.f.password.errors.minlength)}}function Vae(n,e){n&1&&Ze(0,"span",17)}var h9e=(()=>{let e=class e{constructor(r,i,o,s){this.formBuilder=r,this.router=i,this.accountService=o,this.alarmService=s,this.loading=!1,this.submitted=!1,this.accountService.userValue&&this.router.navigate(["/"])}ngOnInit(){this.form=this.formBuilder.group({firstName:["",Cr.required],lastName:["",Cr.required],username:["",Cr.required],password:["",[Cr.required,Cr.minLength(6)]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alarmService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.register(this.form.value).pipe(fi()).subscribe({next:()=>{this.alarmService.success("Registration successful",!0),this.router.navigate(["/account/login"],{queryParams:{registered:!0}})},error:r=>{this.alarmService.error(r),this.loading=!1}}))}};e.\u0275fac=function(i){return new(i||e)(ke(Es),ke(mr),ke(Pa),ke(Co))},e.\u0275cmp=Je({type:e,selectors:[["app-register"]],decls:32,vars:19,consts:[[1,"container","col-md-6","offset-md-3","mt-5"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(i,o){i&1&&(fe(0,"div",0)(1,"div",1)(2,"h4",2),Ae(3,"Register"),de(),fe(4,"div",3)(5,"form",4),St("ngSubmit",function(){return o.onSubmit()}),fe(6,"div",5)(7,"label",6),Ae(8,"First Name"),de(),Ze(9,"input",7),_t(10,Mae,2,1,"div",8),de(),fe(11,"div",5)(12,"label",6),Ae(13,"Last Name"),de(),Ze(14,"input",9),_t(15,kae,2,1,"div",8),de(),fe(16,"div",5)(17,"label",6),Ae(18,"Username"),de(),Ze(19,"input",10),_t(20,Lae,2,1,"div",8),de(),fe(21,"div",5)(22,"label",6),Ae(23,"Password"),de(),Ze(24,"input",11),_t(25,Uae,3,2,"div",8),de(),fe(26,"div")(27,"button",12),_t(28,Vae,1,0,"span",13),Ae(29," Register "),de(),fe(30,"a",14),Ae(31,"Cancel"),de()()()()()()),i&2&&(be(5),je("formGroup",o.form),be(4),je("ngClass",zo(11,SS,o.submitted&&o.f.firstName.errors)),be(),je("ngIf",o.submitted&&o.f.firstName.errors),be(4),je("ngClass",zo(13,SS,o.submitted&&o.f.lastName.errors)),be(),je("ngIf",o.submitted&&o.f.lastName.errors),be(4),je("ngClass",zo(15,SS,o.submitted&&o.f.username.errors)),be(),je("ngIf",o.submitted&&o.f.username.errors),be(4),je("ngClass",zo(17,SS,o.submitted&&o.f.password.errors)),be(),je("ngIf",o.submitted&&o.f.password.errors),be(2),je("disabled",o.loading),be(),je("ngIf",o.loading))},dependencies:[oo,Ws,Ko,io,Jo,So,ws,Ma,yi,Wo],encapsulation:2});let n=e;return n})();var $ae=(()=>{let e=class e{constructor(r,i){this.fb=r,this.dialogRef=i}ngOnInit(){this.form=this.fb.group({oidcIssuer:["",Cr.required]})}get f(){return this.form.controls}getFieldControl(r){return this.form.get(r)}save(){this.dialogRef.close(this.form.value)}close(){this.dialogRef.close()}};e.\u0275fac=function(i){return new(i||e)(ke(Es),ke(yf))},e.\u0275cmp=Je({type:e,selectors:[["app-identity-provider-dialog"]],decls:12,vars:1,consts:[["oidcIssuer",""],[3,"formGroup"],["matNativeControl","","placeholder","Issuer","formControlName","oidcIssuer","id","oidcIssuer"],["value","https://stage.graphmetrix.net"],["value","https://login.inrupt.com"],[1,"mat-raised-button",3,"click"]],template:function(i,o){if(i&1){let s=ar();fe(0,"mat-dialog-content",1)(1,"mat-form-field")(2,"mat-select",2,0),Ze(4,"mat-option",3),fe(5,"mat-option",3),Ae(6,"Graphmetrix"),de(),fe(7,"mat-option",4),Ae(8,"Inrupt"),de()()()(),fe(9,"mat-dialog-actions")(10,"button",5),St("click",function(){return In(s),An(o.save())}),Ae(11,"Save"),de()()}i&2&&je("formGroup",o.form)},dependencies:[oo,io,Jo,So,ws,s2,o2,i2,Qs,lf,mf,_v,Sc],encapsulation:2});let n=e;return n})();function ES(n){let e=new gf;return e.disableClose=!0,e.autoFocus=!0,e.panelClass="modal-panel",e.backdropClass="backdrop-modal-panel",n.open($ae,e).afterClosed()}var b5=yo(_5());function Ple(n,e){if(n&1&&(fe(0,"div",1),Ze(1,"img",2),fe(2,"p"),Ae(3),de()()),n&2){let t=tt();be(),je("src",t.qrData(),Hs)("alt",t.webId),be(2),On(t.webId)}}var w5=(()=>{let e=class e{constructor(r){this.logger=r,this.qrData=sr(null)}ngOnChanges(r){return L(this,null,function*(){if(r.webId&&this.webId)try{let i=yield b5.toDataURL(this.webId);this.qrData.set(i)}catch(i){this.logger.error(`Failed to generate QR code: ${i}`),this.qrData.set(null)}})}};e.\u0275fac=function(i){return new(i||e)(ke(nr))},e.\u0275cmp=Je({type:e,selectors:[["app-qrcode"]],inputs:{webId:"webId"},features:[Fr],decls:1,vars:1,consts:[["class","qr-container",4,"ngIf"],[1,"qr-container"],[3,"src","alt"]],template:function(i,o){i&1&&_t(0,Ple,4,3,"div",0),i&2&&je("ngIf",o.qrData())},dependencies:[yi],styles:[".qr-container[_ngcontent-%COMP%]{text-align:center;margin:1rem auto}img[_ngcontent-%COMP%]{width:200px;height:200px}p[_ngcontent-%COMP%]{font-size:.85rem;color:#555;word-break:break-all}"]});let n=e;return n})();function Lle(n,e){if(n&1&&(fe(0,"li"),Ae(1),de()),n&2){let t=e.$implicit;be(),On(t)}}var E5=(()=>{let e=class e{constructor(r,i){this.rdfService=r,this.solidAuthService=i,this.ngUnsubscribe=new $e,this.myWebId="",this.newFriendWebId="",this.knownPeople=[]}ngOnInit(){return L(this,null,function*(){this.solidAuthService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r,this.onSessionChange(this.sessionInfo)})})}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}onSessionChange(r){return L(this,null,function*(){r?.isLoggedIn&&(this.myWebId=r.webId)})}addFriend(){return L(this,null,function*(){try{this.myWebId&&this.newFriendWebId&&(yield this.rdfService.addKnowsRelation(this.myWebId,this.newFriendWebId),this.knownPeople.push(this.newFriendWebId),this.newFriendWebId="")}catch(r){alert(`Failed to add friend: ${r.message}`)}})}};e.\u0275fac=function(i){return new(i||e)(ke(ea),ke(jn))},e.\u0275cmp=Je({type:e,selectors:[["app-profile-knows-editor"]],decls:8,vars:2,consts:[[1,"knows-form"],["for","friendWebId"],["id","friendWebId","placeholder","https://otheruser.stage.graphmetrix.net/i",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(fe(0,"div",0)(1,"label",1),Ae(2,"Add a friend (WebID):"),de(),fe(3,"input",2),sp("ngModelChange",function(a){return ey(o.newFriendWebId,a)||(o.newFriendWebId=a),a}),de(),fe(4,"button",3),St("click",function(){return o.addFriend()}),Ae(5,"Add"),de()(),fe(6,"ul"),_t(7,Lle,2,1,"li",4),de()),i&2&&(be(3),op("ngModel",o.newFriendWebId),be(4),je("ngForOf",o.knownPeople))},dependencies:[yl,xu,Ko,io,$y],styles:[".knows-form[_ngcontent-%COMP%]{margin-bottom:1rem}input[_ngcontent-%COMP%]{width:60%;padding:.5rem;margin-right:.5rem}"]});let n=e;return n})();function Ble(n,e){n&1&&(fe(0,"div"),Ae(1,"Loading..."),de())}function jle(n,e){if(n&1&&Ze(0,"img",5),n&2){let t=tt().$implicit;je("src",t.img,Hs)}}function Ule(n,e){if(n&1&&(fe(0,"div",3),_t(1,jle,1,1,"img",4),fe(2,"div")(3,"strong"),Ae(4),de(),Ze(5,"br"),fe(6,"strong"),Ae(7),de(),Ze(8,"br"),fe(9,"small"),Ae(10),de()()()),n&2){let t=e.$implicit;be(),je("ngIf",t.img),be(3),On(t.name),be(3),On(t.email),be(3),On(t.webId)}}var uqe=(()=>{let e=class e{constructor(r,i,o){this.rdfService=r,this.solidAuthService=i,this.logger=o,this.ngUnsubscribe=new $e,this.webId="",this.peopleIKnow=[],this.loading=!1}ngOnInit(){return L(this,null,function*(){this.solidAuthService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r,this.onSessionChange(this.sessionInfo)})})}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}onSessionChange(r){return L(this,null,function*(){r?.isLoggedIn&&(this.webId=r.webId,this.loadContacts(this.webId))})}loadContacts(r){return L(this,null,function*(){r&&(this.loading=!0,this.peopleIKnow=yield this.rdfService.getContacts(this.webId),this.logger.info(`PKL: ${JSON.stringify(this.peopleIKnow)}`),this.loading=!1)})}};e.\u0275fac=function(i){return new(i||e)(ke(ea),ke(jn),ke(nr))},e.\u0275cmp=Je({type:e,selectors:[["app-profile-knows-list"]],decls:6,vars:2,consts:[[1,"container"],[4,"ngIf"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["alt","Photo",3,"src",4,"ngIf"],["alt","Photo",3,"src"]],template:function(i,o){i&1&&(fe(0,"div",0),Ze(1,"app-profile-knows-editor"),fe(2,"h2"),Ae(3,"People You Know"),de(),_t(4,Ble,2,0,"div",1)(5,Ule,11,4,"div",2),de()),i&2&&(be(4),je("ngIf",o.loading),be(),je("ngForOf",o.peopleIKnow))},dependencies:[vu,yl,yi,xu,E5],styles:[".container[_ngcontent-%COMP%]{padding:1rem;max-width:600px}.input[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem}button[_ngcontent-%COMP%]{margin-bottom:1rem}.card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:1rem 0;padding:.5rem;border:1px solid #ccc;border-radius:8px}img[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;object-fit:cover}"]});let n=e;return n})();function Vle(n,e){if(n&1){let t=ar();fe(0,"img",3),St("click",function(){let i=In(t).$implicit,o=tt();return An(o.selectImage(i))}),de()}if(n&2){let t=e.$implicit,r=tt();un("selected",t===r.selected),je("src",t,Hs)}}var S5=(()=>{let e=class e{constructor(r,i){this.rdfService=r,this.solidAuthService=i,this.ngUnsubscribe=new $e,this.images=[],this.selected=null}ngOnInit(){return L(this,null,function*(){this.solidAuthService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r,this.onSessionChange(this.sessionInfo)})})}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}onSessionChange(r){return L(this,null,function*(){if(r?.isLoggedIn){let i=r.webId,o="https://uriser.stage.graphmetrix.net/public/images/";this.images=yield this.rdfService.listImagesInFolder(o)}})}selectImage(r){this.selected=r}confirmSelection(){return L(this,null,function*(){if(this.selected&&this.sessionInfo?.webId!=null){let r=this.sessionInfo.webId;yield this.rdfService.setProfileImage(r,this.selected),alert("Profile picture updated!")}})}};e.\u0275fac=function(i){return new(i||e)(ke(ea),ke(jn))},e.\u0275cmp=Je({type:e,selectors:[["app-profile-thumbnail-picker"]],decls:4,vars:2,consts:[[1,"thumbnail-grid"],[3,"src","selected","click",4,"ngFor","ngForOf"],[3,"click","disabled"],[3,"click","src"]],template:function(i,o){i&1&&(fe(0,"div",0),_t(1,Vle,1,3,"img",1),de(),fe(2,"button",2),St("click",function(){return o.confirmSelection()}),Ae(3,"Set as Profile Picture"),de()),i&2&&(be(),je("ngForOf",o.images),be(),je("disabled",!o.selected))},dependencies:[yl],styles:[".thumbnail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,80px);gap:10px;margin-bottom:1rem}.thumbnail-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:8px;cursor:pointer;border:2px solid transparent}.thumbnail-grid[_ngcontent-%COMP%]   img.selected[_ngcontent-%COMP%]{border-color:#007bff;box-shadow:0 0 4px #007bff}"]});let n=e;return n})();function $le(n,e){if(n&1&&Ze(0,"img",4),n&2){let t=tt();je("alt",G1(t.name))("src",t.img,Hs)}}function Hle(n,e){if(n&1&&(fe(0,"p"),Ae(1),de()),n&2){let t=tt();be(),On(t.role)}}function qle(n,e){if(n&1&&(fe(0,"p"),Ae(1),de()),n&2){let t=tt();be(),On(t.org)}}function zle(n,e){if(n&1&&(fe(0,"div"),Ze(1,"app-qrcode",5),de()),n&2){let t=tt();be(),je("webId",t.vCardInfo)}}var bqe=(()=>{let e=class e{constructor(r,i){this.rdfService=r,this.solidAuthService=i,this.ngUnsubscribe=new $e,this.webId="",this.name="Loading...",this.img=null,this.org=null,this.role=null,this.vCardInfo=null}ngOnInit(){return L(this,null,function*(){this.solidAuthService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r,this.onSessionChange(this.sessionInfo)})})}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}onSessionChange(r){return L(this,null,function*(){if(r?.isLoggedIn){this.webId=r.webId;try{let i=yield this.rdfService.getProfileData(this.webId);this.name=i.name??"",this.img=i.img??"",this.org=i.org??"",this.role=i.role??"",this.vCardInfo=yield this.rdfService.getVCardString(this.webId)}catch(i){console.error("Error loading profile:",i),this.name="Error loading profile"}}})}getVCardInfo(){return this.vCardInfo}};e.\u0275fac=function(i){return new(i||e)(ke(ea),ke(jn))},e.\u0275cmp=Je({type:e,selectors:[["app-profile-card"]],decls:14,vars:6,consts:[[1,"card"],["class","avatar",3,"src","alt",4,"ngIf"],[1,"info"],[4,"ngIf"],[1,"avatar",3,"src","alt"],[3,"webId"]],template:function(i,o){i&1&&(fe(0,"div",0),_t(1,$le,1,3,"img",1),fe(2,"div",2)(3,"h2"),Ae(4),de(),_t(5,Hle,2,1,"p",3)(6,qle,2,1,"p",3),fe(7,"small"),Ae(8),de(),fe(9,"p"),Ae(10," See my network"),de(),fe(11,"p"),Ae(12," Save VCARD"),de(),_t(13,zle,2,1,"div",3),de()()),i&2&&(be(),je("ngIf",o.img),be(3),On(o.name),be(),je("ngIf",o.role),be(),je("ngIf",o.org),be(2),On(o.webId),be(5),je("ngIf",o.vCardInfo))},dependencies:[yi,w5],styles:[".card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 12px #0000001a;max-width:400px}.avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;object-fit:cover}.info[_ngcontent-%COMP%]{flex:1}.info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.2rem}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;font-size:.95rem}.info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666;font-size:.75rem}"]});let n=e;return n})();var Gle=["canvas"];function Wle(n,e){if(n&1&&Ze(0,"img",6),n&2){let t=tt(2);je("src",t.form.value.img,Hs)}}function Kle(n,e){if(n&1&&(fe(0,"p")(1,"strong"),Ae(2,"Title:"),de(),Ae(3),de()),n&2){let t=tt(2);be(3),zi(" ",t.form.value.title)}}function Jle(n,e){if(n&1&&(fe(0,"p")(1,"strong"),Ae(2,"Org:"),de(),Ae(3),de()),n&2){let t=tt(2);be(3),zi(" ",t.form.value.org)}}function Xle(n,e){if(n&1){let t=ar();fe(0,"div",1)(1,"h2"),Ae(2,"Your Profile"),de(),_t(3,Wle,1,1,"img",2),fe(4,"p")(5,"strong"),Ae(6,"Name:"),de(),Ae(7),de(),fe(8,"p")(9,"strong"),Ae(10,"Email:"),de(),Ae(11),de(),_t(12,Kle,4,1,"p",3)(13,Jle,4,1,"p",3),Ze(14,"canvas",4,0),fe(16,"button",5),St("click",function(){In(t);let i=tt();return An(i.editing=!0)}),Ae(17,"Edit"),de(),fe(18,"button",5),St("click",function(){In(t);let i=tt();return An(i.reloadProfile())}),Ae(19,"Reload"),de(),fe(20,"button",5),St("click",function(){In(t);let i=tt();return An(i.editingPicture=!0)}),Ae(21,"Edit Picture"),de()()}if(n&2){let t=tt();be(3),je("ngIf",t.form.value.img),be(4),zi(" ",t.form.value.name),be(4),zi(" ",t.form.value.email),be(),je("ngIf",t.form.value.role),be(),je("ngIf",t.form.value.org)}}function Yle(n,e){n&1&&(fe(0,"label"),Ae(1," Title: "),Ze(2,"input",13),de())}function Qle(n,e){if(n&1){let t=ar();fe(0,"h2"),Ae(1,"Edit Profile"),de(),fe(2,"form",7),St("ngSubmit",function(){In(t);let i=tt();return An(i.save())}),fe(3,"label"),Ae(4," Name: "),Ze(5,"input",8),de(),fe(6,"label"),Ae(7," Email: "),Ze(8,"input",9),de(),_t(9,Yle,3,0,"label",3),fe(10,"label"),Ae(11," Profile Picture: "),Ze(12,"input",10),de(),fe(13,"button",11),Ae(14,"Save"),de(),fe(15,"button",12),St("click",function(){In(t);let i=tt();return An(i.editing=!1)}),Ae(16,"Cancel"),de()()}if(n&2){let t=tt();be(2),je("formGroup",t.form),be(7),je("ngIf",t.form.value.role)}}function Zle(n,e){if(n&1){let t=ar();fe(0,"input",14),St("change",function(i){In(t);let o=tt();return An(o.onFileSelected(i))}),de(),Ze(1,"app-profile-thumbnail-picker")}}var Iqe=(()=>{let e=class e{constructor(r,i,o,s,a){this.fb=r,this.solidDataService=i,this.solidProfileService=o,this.solidAuthService=s,this.logger=a,this.ngUnsubscribe=new $e,this.message="",this.editing=!1,this.editingPicture=!1,this.form=this.fb.group({webId:[""],name:[""],email:[""],role:[""],org:[""],img:[""]})}ngOnInit(){return L(this,null,function*(){this.solidAuthService.sessionInfo.pipe(kt(this.ngUnsubscribe)).subscribe(r=>{this.sessionInfo=r,this.onSessionChange(this.sessionInfo)})})}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.unsubscribe()}onSessionChange(r){return L(this,null,function*(){r?.isLoggedIn&&(yield this.reloadProfile(),this.exitEditing())})}reloadProfile(){return L(this,null,function*(){if(this.solidAuthService.isLoggedIn()){let r=yield this.solidProfileService.readProfile();r&&this.form.setValue(r)}})}deleteProfileImage(){return L(this,null,function*(){yield this.solidProfileService.deleteProfileImage()})}save(){return L(this,null,function*(){let r=this.form.value;yield this.solidProfileService.updateProfile(r),this.exitEditing()})}onFileSelected(r){return L(this,null,function*(){let i=r.target,o=this.form.value;if(i.files!=null){let a=i.files[0],l=this.solidProfileService.getProfileUrl(o.webId),c=a.name,h=`profile-picture.${c.substring(c.lastIndexOf(".")+1).toLowerCase()}`,m=l.replace("/profile/card",`/public/images/${h}`),g=yield this.solidProfileService.uploadImage(m,a);this.editing=!1}let s=yield this.solidProfileService.readProfile();s&&this.form.setValue(s),this.exitEditing()})}exitEditing(){this.editing=!1}};e.\u0275fac=function(i){return new(i||e)(ke(Es),ke(Ss),ke(C5),ke(jn),ke(nr))},e.\u0275cmp=Je({type:e,selectors:[["app-profile"]],viewQuery:function(i,o){if(i&1&&pr(Gle,5),i&2){let s;vn(s=_n())&&(o.canvasRef=s.first)}},decls:3,vars:3,consts:[["canvas",""],[1,"profile-card"],["alt","Profile photo","class","profile-photo",3,"src",4,"ngIf"],[4,"ngIf"],["hidden",""],[3,"click"],["alt","Profile photo",1,"profile-photo",3,"src"],[3,"ngSubmit","formGroup"],["formControlName","name"],["formControlName","email","type","email"],["formControlName","img"],["type","submit"],["type","button",3,"click"],["formControlName","role","type","role"],["type","file","accept","image/*",3,"change"]],template:function(i,o){i&1&&(Fn(0,Xle,22,5,"div",1),Fn(1,Qle,17,2),Fn(2,Zle,2,0)),i&2&&(Mn(!o.editing&&!o.editingPicture?0:-1),be(),Mn(o.editing?1:-1),be(),Mn(o.editingPicture?2:-1))},dependencies:[vu,yi,oo,Ws,Ko,io,Jo,So,ws,S5],styles:[".profile-card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:1rem;max-width:400px;border-radius:8px;text-align:center}.profile-photo[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;margin-bottom:1rem}"]});let n=e;return n})();var jn=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.alarmService=i,this.logger=o,this.dialog=s,this.localStorageService=a,this.session=wc(),this.solidLogin=l=>L(this,null,function*(){if(!this.isLoggedIn()&&this.oidcIssuer!=null&&this.oidcIssuer!=""){let c=this.getPathFromUrl(window.location.href);yield s8({oidcIssuer:this.oidcIssuer,redirectUrl:c,clientName:this.clientName})}}),this.getIdentityProvider=()=>L(this,null,function*(){ES(this.dialog).pipe(nn(l=>!!l)).subscribe(l=>{this.logger.debug(`SS: New identity provider: ${JSON.stringify(l)}`),this.oidcIssuer=l.oidcIssuer})}),this.handleSessionAfterLogin=()=>L(this,null,function*(){if(this.isLoggedIn())this.logger.info("Already logged in");else{let l=yield a8({url:window.location.href,restorePreviousSession:!0});l!=null&&(this.localStorageService.setItem("sessionInfo",l),this.alarmService.success(`Logged in with WebID [${l?.webId}]`,!0),l?this.sessionInfoSubject.next(l):this.sessionInfoSubject.next(null))}}),this.handleSessionRestore=()=>L(this,null,function*(){yield this.handleSessionAfterLogin()}),this.logoutApp=()=>L(this,null,function*(){this.logger.debug("AUTH: Logout"),yield uN({logoutType:"app"}).then(()=>{this.logoutCleanup()}).finally(()=>{this.router.navigate(["account/callback"])})}),this.solidLogoutIdp=()=>L(this,null,function*(){yield uN({logoutType:"idp",state:"my-state"}).then(()=>{this.logoutCleanup()}).finally(()=>{this.router.navigate(["account/callback"])})}),localStorage.getItem("sessionInfo")!=null&&this.localStorageService.removeItem("sessionInfo"),this.sessionInfoSubject=new yn(JSON.parse(localStorage.getItem("sessionInfo"))),this.sessionInfo=this.sessionInfoSubject.asObservable(),this.oidcIssuer="https://stage.graphmetrix.net",this.clientName="thetwin"}get sessionInfoValue(){return this.sessionInfoSubject.value}isLoggedIn(){let r=!1,i=wc();return i.info!=null&&(r=i.info.isLoggedIn),r}getWebId(){let r="",i=wc();return i.info.webId!=null&&(r=i.info.webId),r}logoutCleanup(){this.sessionInfoSubject.next(null),this.localStorageService.removeItem("sessionInfo")}getPathFromUrl(r){return r.split(/[?#]/)[0]}getDefaultSession(){return wc()}};e.\u0275fac=function(i){return new(i||e)(Ge(mr),Ge(Co),Ge(nr),Ge(vf),Ge(Xp))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var nO={};_k(nO,{getJsonLdParser:()=>uz,getTurtleParser:()=>Dx,solidDatasetAsTurtle:()=>kz});var lz=yo(tz(),1),cz=yo(ao(),1);var ki=class extends Error{};var rz="application/problem+json",iz=new URL("about:blank");function nz(n,e){if(n!==void 0)try{return new URL(n,e)}catch{}}function oz(n){let e,t,r,i,o;if(n.headers.get("Content-Type")===rz)try{let s=JSON.parse(n.body),a=nz(s.type,n.url);a!==void 0&&(e=a),typeof s.title=="string"&&(t=s.title),typeof s.status=="number"&&(r=s.status),typeof s.detail=="string"&&(i=s.detail);let l=nz(s.instance,n.url);l!==void 0&&(o=l)}catch{}return Object.freeze({type:e??iz,title:t??n.statusText,status:r??n.status,detail:i,instance:o})}var Ei=class extends ki{constructor(e,t,r,i){if(super(r,i),e.status>=200&&e.status<400)throw new ki(`A ClientHttpError cannot be built from a success response, got ${e.status} ${e.statusText}`);this.errorResponse=Object.freeze({status:e.status,statusText:e.statusText,headers:e.headers,url:e.url,body:t,ok:!1}),this.details=oz(this.errorResponse)}get response(){return this.errorResponse}get problemDetails(){return this.details}};function Gf(n){let e=n;return typeof e=="object"&&typeof e.internal_resourceInfo=="object"}function px(n){let e=n;return typeof e=="object"&&typeof e.internal_resourceInfo=="object"&&typeof e.internal_resourceInfo.linkedResources=="object"}function Wf(n){let e=n;return typeof e.internal_changeLog=="object"&&Array.isArray(e.internal_changeLog.additions)&&Array.isArray(e.internal_changeLog.deletions)}var Wu=class extends Error{};function Qr(n){return typeof n=="string"?n:n.value}function mx(n,e={}){let t=new URL(n);return t.pathname=t.pathname.replace(/\/\/+/g,"/"),e.trailingSlash===!1&&t.pathname.slice(-1)==="/"&&(t.pathname=t.pathname.slice(0,t.pathname.length-1)),e.trailingSlash===!0&&t.pathname.slice(-1)!=="/"&&(t.pathname=`${t.pathname}/`),t.href}var sz=yo(KS(),1);function gx(n){var e,t,r,i,o;let s=(t=(e=n.headers.get("Content-Type"))===null||e===void 0?void 0:e.split(";"))!==null&&t!==void 0?t:[],a=s.length>0&&["text/turtle","application/ld+json"].includes(s[0]),l={sourceIri:n.url,isRawData:!a,contentLocation:(r=n.headers.get("Content-Location"))!==null&&r!==void 0?r:void 0,contentType:(i=n.headers.get("Content-Type"))!==null&&i!==void 0?i:void 0,linkedResources:{},location:(o=n.headers.get("Location"))!==null&&o!==void 0?o:void 0},c=n.headers.get("Link");if(c){let h=sz.default.parse(c),m=h.get("rel","acl");m.length===1&&(l.aclUrl=new URL(m[0].uri,l.sourceIri).href),l.linkedResources=h.refs.reduce((g,b)=>{var v,E;return(v=g[E=b.rel])!==null&&v!==void 0||(g[E]=[]),g[b.rel].push(new URL(b.uri,l.sourceIri).href),g},l.linkedResources)}let u=n.headers.get("WAC-Allow");return u&&(l.permissions=qge(u)),l}function qge(n){function e(r){let i=r.split(" ");return i.includes("write")?{read:i.includes("read"),append:!0,write:!0,control:i.includes("control")}:{read:i.includes("read"),append:i.includes("append"),write:!1,control:i.includes("control")}}function t(r,i){let o=r.split(",").map(a=>a.split("=")).filter(a=>a.length===2&&a[0].trim()===i);if(o.length!==1)return"";let s=o[0][1].trim();return s.charAt(0)!=='"'||s.charAt(s.length-1)!=='"'?"":s.substring(1,s.length-1)}return{user:e(t(n,"user")),public:e(t(n,"public"))}}function bm(n){return!n.ok}function az(n){return n.status===401||n.status===403}var VM={BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",Container:"http://www.w3.org/ns/ldp#Container",Resource:"http://www.w3.org/ns/ldp#Resource",contains:"http://www.w3.org/ns/ldp#contains"};function $M(n,e={ignoreAuthenticationErrors:!1}){if(bm(n)&&(!az(n)||!e.ignoreAuthenticationErrors))throw new Ku(`Fetching the metadata of the Resource at [${n.url}] failed: [${n.status}] [${n.statusText}].`,n);return{internal_resourceInfo:gx(n)}}function Kf(n){return(Gf(n)?Zr(n):Qr(n)).endsWith("/")}function HM(n){var e;return(e=n.internal_resourceInfo.contentType)!==null&&e!==void 0?e:null}function Zr(n){return Gf(n)?n.internal_resourceInfo.sourceIri:null}var Ku=class extends Wu{constructor(e,t,r){super(e),this.response=t,typeof r=="string"?this.httpError=new Ei(t,r,e):this.httpError=new Ei(t,"",e)}get statusCode(){return this.response.status}get statusText(){return this.response.statusText}get problemDetails(){return this.httpError.problemDetails}};var uz=()=>{let n=[],e=[],t=[];return{onQuad:r=>{n.push(r)},onError:r=>{t.push(r)},onComplete:r=>{e.push(r)},parse:(r,i)=>new Promise(o=>{let s=new lz.JsonLdParser({baseIRI:Zr(i),documentLoader:new cz.FetchDocumentLoader((...c)=>fetch(...c))}),a=!1;function l(){a||(a=!0,e.forEach(c=>c()),o())}s.on("end",l),s.on("error",c=>{t.forEach(u=>u(c)),l()}),n.forEach(c=>s.on("data",c)),s.write(r),s.end()})}};var fz=yo(Ua());var Xv="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Yv="http://www.w3.org/2001/XMLSchema#",yx="http://www.w3.org/2000/10/swap/",$r={xsd:{decimal:`${Yv}decimal`,boolean:`${Yv}boolean`,double:`${Yv}double`,integer:`${Yv}integer`,string:`${Yv}string`},rdf:{type:`${Xv}type`,nil:`${Xv}nil`,first:`${Xv}first`,rest:`${Xv}rest`,langString:`${Xv}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${yx}reify#forSome`,forAll:`${yx}reify#forAll`},log:{implies:`${yx}log#implies`,isImpliedBy:`${yx}log#isImpliedBy`}};var{xsd:vx}=$r,zge=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,dz={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Gge=/[\x00-\x20<>\\"\{\}\|\^\`]/,Wge={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Kge=/$0^/,_x=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._isImpliedBy=e.isImpliedBy,this._lineMode=!!e.lineMode){this._n3Mode=!1;for(let t in this)!(t in Wge)&&this[t]instanceof RegExp&&(this[t]=Kge)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let r=this._input,i=r.length;for(;;){let a,l;for(;a=this._newline.exec(r);)this.comments&&(l=this._comment.exec(a[0]))&&o("comment",l[1],"",this._line,a[0].length),r=r.substr(a[0].length,r.length),i=r.length,this._line++;if(!a&&(a=this._whitespace.exec(r))&&(r=r.substr(a[0].length,r.length)),this._endOfFile.test(r))return t&&(this.comments&&(l=this._comment.exec(r))&&o("comment",l[1],"",this._line,r.length),r=null,o("eof","","",this._line,0)),this._input=r;let c=this._line,u=r[0],h="",m="",g="",b=null,v=0,E=!1;switch(u){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){E=!0;break}}else{this._n3Mode&&(v=1,h="^");break}case"<":if(b=this._unescapedIri.exec(r))h="IRI",m=b[1];else if(b=this._iri.exec(r)){if(m=this._unescape(b[1]),m===null||Gge.test(m))return s(this);h="IRI"}else r.length>1&&r[1]==="<"?(h="<<",v=2):this._n3Mode&&r.length>1&&r[1]==="="&&(v=2,this._isImpliedBy?(h="abbreviation",m="<"):(h="inverse",m=">"));break;case">":r.length>1&&r[1]===">"&&(h=">>",v=2);break;case"_":((b=this._blank.exec(r))||t&&(b=this._blank.exec(`${r} `)))&&(h="blank",g="_",m=b[1]);break;case'"':if(b=this._simpleQuotedString.exec(r))m=b[1];else if({value:m,matchLength:v}=this._parseLiteral(r),m===null)return s(this);(b!==null||v!==0)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(b=this._simpleApostropheString.exec(r))m=b[1];else if({value:m,matchLength:v}=this._parseLiteral(r),m===null)return s(this);(b!==null||v!==0)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(b=this._variable.exec(r))&&(h="var",m=b[0]);break;case"@":this._previousMarker==="literal"&&(b=this._langcode.exec(r))?(h="langcode",m=b[1]):(b=this._keyword.exec(r))&&(h=b[0]);break;case".":if(r.length===1?t:r[1]<"0"||r[1]>"9"){h=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(b=this._number.exec(r)||t&&(b=this._number.exec(`${r} `)))&&(h="literal",m=b[0],g=typeof b[1]=="string"?vx.double:typeof b[2]=="string"?vx.decimal:vx.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(b=this._sparqlKeyword.exec(r))?h=b[0].toUpperCase():E=!0;break;case"f":case"t":(b=this._boolean.exec(r))?(h="literal",m=b[0],g=vx.boolean):E=!0;break;case"a":(b=this._shortPredicates.exec(r))?(h="abbreviation",m="a"):E=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",r[1]!==">"?(v=1,m="="):(v=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(v=1,h=u);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(h="{|",v=2):(h=u,v=1));break;case"|":r.length>=2&&r[1]==="}"&&(h="|}",v=2);break;default:E=!0}if(E&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(b=this._prefix.exec(r))?(h="prefix",m=b[1]||""):((b=this._prefixed.exec(r))||t&&(b=this._prefixed.exec(`${r} `)))&&(h="prefixed",g=b[1]||"",m=this._unescape(b[2]))),this._previousMarker==="^^")switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?s(this):this._input=r;let C=v||b[0].length,R=o(h,m,g,c,C);this.previousToken=R,this._previousMarker=h,r=r.substr(C,r.length)}function o(a,l,c,u,h){let m=r?i-r.length:i,g=m+h,b={type:a,value:l,prefix:c,line:u,start:m,end:g};return e(null,b),b}function s(a){e(a._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let t=!1,r=e.replace(zge,(i,o,s,a)=>{if(typeof o=="string")return String.fromCharCode(Number.parseInt(o,16));if(typeof s=="string"){let l=Number.parseInt(s,16);return l<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return a in dz?dz[a]:(t=!0,"")});return t?null:r}_parseLiteral(e){if(e.length>=3){let t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length,i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(t,i))>0;){let o=0;for(;e[i-o-1]==="\\";)o++;if(o%2===0){let s=e.substring(r,i),a=s.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&a!==0||r===3&&this._lineMode)break;return this._line+=a,{value:this._unescape(s),matchLength:l}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;let t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,t){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof t=="function")queueMicrotask(()=>this._tokenizeToEnd(t,!0));else{let r=[],i;if(this._tokenizeToEnd((o,s)=>o?i=o:r.push(s),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=fz.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}};var{rdf:Jge,xsd:Jf}=$r,Em,Xge=0;var qM={namedNode:hz,blankNode:pz,variable:gz,literal:mz,defaultGraph:Yge,quad:zM,triple:zM,fromTerm:Qv,fromQuad:yz},cr=qM,Is=class n{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof n?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},Qf=class extends Is{get termType(){return"NamedNode"}},Yf=class n extends Is{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){let e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&e[t++]==="@"?e.substr(t).toLowerCase():""}get datatype(){return new Qf(this.datatypeString)}get datatypeString(){let e=this.id,t=e.lastIndexOf('"')+1,r=t<e.length?e[t]:"";return r==="^"?e.substr(t+2):r!=="@"?Jf.string:Jge.langString}equals(e){return e instanceof n?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},bx=class extends Is{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},wx=class extends Is{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Ex=class extends Is{constructor(){return super(""),Em||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Em=new Ex;function Xf(n,e,t){if(e=e||qM,!n)return e.defaultGraph();switch(n[0]){case"?":return e.variable(n.substr(1));case"_":return e.blankNode(n.substr(2));case'"':if(e===qM)return new Yf(n);if(n[n.length-1]==='"')return e.literal(n.substr(1,n.length-2));let r=n.lastIndexOf('"',n.length-1);return e.literal(n.substr(1,r-1),n[r+1]==="@"?n.substr(r+2):e.namedNode(n.substr(r+3)));case"[":n=JSON.parse(n);break;default:if(!t||!Array.isArray(n))return e.namedNode(n)}return e.quad(Xf(n[0],e,!0),Xf(n[1],e,!0),Xf(n[2],e,!0),n[3]&&Xf(n[3],e,!0))}function Ju(n,e){if(typeof n=="string")return n;if(n instanceof Is&&n.termType!=="Quad")return n.id;if(!n)return Em.id;switch(n.termType){case"NamedNode":return n.value;case"BlankNode":return`_:${n.value}`;case"Variable":return`?${n.value}`;case"DefaultGraph":return"";case"Literal":return`"${n.value}"${n.language?`@${n.language}`:n.datatype&&n.datatype.value!==Jf.string?`^^${n.datatype.value}`:""}`;case"Quad":let t=[Ju(n.subject,!0),Ju(n.predicate,!0),Ju(n.object,!0)];return n.graph&&n.graph.termType!=="DefaultGraph"&&t.push(Ju(n.graph,!0)),e?t:JSON.stringify(t);default:throw new Error(`Unexpected termType: ${n.termType}`)}}var wm=class extends Is{constructor(e,t,r,i){super(""),this._subject=e,this._predicate=t,this._object=r,this._graph=i||Em}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function hz(n){return new Qf(n)}function pz(n){return new bx(n||`n3-${Xge++}`)}function mz(n,e){if(typeof e=="string")return new Yf(`"${n}"@${e.toLowerCase()}`);let t=e?e.value:"";return t===""&&(typeof n=="boolean"?t=Jf.boolean:typeof n=="number"&&(Number.isFinite(n)?t=Number.isInteger(n)?Jf.integer:Jf.double:(t=Jf.double,Number.isNaN(n)||(n=n>0?"INF":"-INF")))),t===""||t===Jf.string?new Yf(`"${n}"`):new Yf(`"${n}"^^${t}`)}function gz(n){return new wx(n)}function Yge(){return Em}function zM(n,e,t,r){return new wm(n,e,t,r)}function Qv(n){if(n instanceof Is)return n;switch(n.termType){case"NamedNode":return hz(n.value);case"BlankNode":return pz(n.value);case"Variable":return gz(n.value);case"DefaultGraph":return Em;case"Literal":return mz(n.value,n.language||n.datatype);case"Quad":return yz(n);default:throw new Error(`Unexpected termType: ${n.termType}`)}}function yz(n){if(n instanceof wm)return n;if(n.termType!=="Quad")throw new Error(`Unexpected termType: ${n.termType}`);return zM(Qv(n.subject),Qv(n.predicate),Qv(n.object),Qv(n.graph))}var vz=0,Xu=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&_z(this,e.factory);let t=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(t),i=/trig/.test(t),o=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),l=o||s;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||o||a),this._isImpliedBy=e.isImpliedBy,this._supportsRDFStar=t===""||/star|\*$/.test(t),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new _x({lineMode:l,n3:a,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){vz=0}_setBase(e){if(!e)this._base="",this._basePath="";else{let t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,t,r,i,o){let s=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:o,graph:t,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){let r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let r;switch(e.type){case"IRI":case"typeIRI":let i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._factory.namedNode(i);break;case"type":case"prefixed":let o=this._prefixes[e.prefix];if(o===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._factory.namedNode(o+e.value);break;case"blank":r=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._factory.variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){let t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${t}`,e):(this._subject=null,t==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);let t=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,r=null,i=this._readListItem,o=this._subject,s=this._contextStack,a=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=t=this._factory.blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(t=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((t=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._factory.blankNode()),o===null?a.predicate===null?a.subject=r:a.object=r:this._emit(o,this.RDF_REST,r,this._graph),t!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":let r=this._readEntity(e);if(r===void 0)return;t=this._factory.literal(this._literalValue,r),e=null;break;case"langcode":t=this._factory.literal(this._literalValue,e.value),e=null;break}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){let r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,r=this._graph,i=this._subject,o=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,o&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);let s=this._predicate,a=this._object;this._subject=this._factory.quad(i,s,a,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){let s=this._predicate,a=this._object;o?this._emit(a,s,i,r):this._emit(i,s,a,r)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);let t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){let t=e.type==="IRI"&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if((t=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:let t=this._contextStack,r=t.length&&t[t.length-1];if(r&&r.type==="item"){let i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,r,i=this._factory.blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(t=this._subject,this._subject=i):(t=this._object,this._object=i),this._emit(t,r,i,this._graph),this._readPath}_readBackwardPath(e){let t=this._factory.blankNode(),r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=t):(i=this._object,this._object=t),this._emit(t,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);let t=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){let e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,r,i){this._callback(null,this._factory.quad(e,t,r,i||this.DEFAULTGRAPH))}_error(e,t){let r=new Error(`${e} on line ${t.line}.`);r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=Sx}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;let t=e.length,r="",i=-1,o=-1,s=0,a="/";for(;i<t;){switch(a){case":":if(o<0&&e[++i]==="/"&&e[++i]==="/")for(;(o=i+1)<t&&e[o]!=="/";)i=o;break;case"?":case"#":i=t;break;case"/":if(e[i+1]===".")switch(a=e[++i+1],a){case"/":r+=e.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return r+e.substring(s,i)+e.substr(i+1);case".":if(a=e[++i+1],a===void 0||a==="/"||a==="?"||a==="#"){if(r+=e.substring(s,i-2),(s=r.lastIndexOf("/"))>=o&&(r=r.substr(0,s)),a!=="/")return`${r}/${e.substr(i+1)}`;s=i+1}}}a=e[++i]}return r+e.substring(s)}parse(e,t,r){let i,o,s;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(i=t.onQuad,o=t.onPrefix,s=t.onComment):(i=t,o=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${vz++}_`,this._prefixCallback=o||Sx,this._inversePredicate=!1,this._quantified=Object.create(null),!i){let l=[],c;if(this._callback=(u,h)=>{u?c=u:h&&l.push(h)},this._lexer.tokenize(e).every(u=>this._readCallback=this._readCallback(u)),c)throw c;return l}let a=(l,c)=>{l!==null?(this._callback(l),this._callback=Sx):this._readCallback&&(this._readCallback=this._readCallback(c))};s&&(this._lexer.comments=!0,a=(l,c)=>{l!==null?(this._callback(l),this._callback=Sx):this._readCallback&&(c.type==="comment"?s(c.value):this._readCallback=this._readCallback(c))}),this._callback=i,this._lexer.tokenize(e,a)}};function Sx(){}function _z(n,e){n._factory=e,n.DEFAULTGRAPH=e.defaultGraph(),n.RDF_FIRST=e.namedNode($r.rdf.first),n.RDF_REST=e.namedNode($r.rdf.rest),n.RDF_NIL=e.namedNode($r.rdf.nil),n.N3_FORALL=e.namedNode($r.r.forAll),n.N3_FORSOME=e.namedNode($r.r.forSome),n.ABBREVIATIONS={a:e.namedNode($r.rdf.type),"=":e.namedNode($r.owl.sameAs),">":e.namedNode($r.log.implies),"<":e.namedNode($r.log.isImpliedBy)},n.QUANTIFIERS_GRAPH=e.namedNode("urn:n3:quantifiers")}_z(Xu.prototype,cr);function Zv(n){return!!n&&n.termType==="DefaultGraph"}function Sm(n){return n.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var Qge=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,Zge=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/,bz="./",eye="../",GM="?",wz="#",Cx=class n{constructor(e){this.base=e,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(e.length+1)}static supports(e){return!Qge.test(e)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!n.supports(this.base))return this._baseMatcher=/.^/;let e=/^[^:]*:\/*/.exec(this.base)[0],t=["^",Sm(e)],r=[],i=[],o=/[^/?#]*([/?#])/y,s,a=0,l=0,c=o.lastIndex=e.length;for(;!a&&!l&&(s=o.exec(this.base));)s[1]===wz?l=o.lastIndex-1:(t.push(Sm(s[0]),"(?:"),r.push(")?"),s[1]!==GM?i.push(c=o.lastIndex):(a=c=o.lastIndex,l=this.base.indexOf(wz,a),this._pathReplacements[a]=GM));for(let u=0;u<i.length;u++)this._pathReplacements[i[u]]=eye.repeat(i.length-u-1);return this._pathReplacements[i[i.length-1]]=bz,this._baseLength=l>0?l:this.base.length,t.push(Sm(this.base.substring(c,this._baseLength)),a?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...t,...r].join(""))}toRelative(e){let t=this._getBaseMatcher().exec(e);if(!t)return e;let r=t[0].length;if(r===this._baseLength&&r===e.length)return"";let i=this._pathReplacements[r];if(i){let o=e.substring(r);return i!==GM&&!Zge.test(o)?e:i===bz&&/^[^?#]/.test(o)?o:i+o}return e.substring(r-1)}};var e_=cr.defaultGraph(),{rdf:tye,xsd:Cm}=$r,Ez=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,Sz=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,nye={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},Zf=class extends Is{equals(e){return e===this}},jl=class{constructor(e,t){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=t.end===void 0?!0:!!t.end;else{let r="";this._outputStream={write(i,o,s){r+=i,s&&s()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=e_,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),t.baseIRI&&(this._baseIri=new Cx(t.baseIRI)))}get _inDefaultGraph(){return e_.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,r,i,o){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(e_.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,o):this._write(`;
    ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,o):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,o)}catch(s){o&&o(s)}}_writeQuadLine(e,t,r,i,o){delete this._prefixMatch,this._write(this.quadToString(e,t,r,i),o)}quadToString(e,t,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(t)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){let t="";for(let r of e)t+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return t}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let t=e.value;this._baseIri&&(t=this._baseIri.toRelative(t)),Ez.test(t)&&(t=t.replace(Sz,Cz));let r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:`<${t}>`}_encodeLiteral(e){let t=e.value;if(Ez.test(t)&&(t=t.replace(Sz,Cz)),e.language)return`"${t}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Cm.string)return`"${t}"`}else switch(e.datatype.value){case Cm.string:return`"${t}"`;case Cm.boolean:if(t==="true"||t==="false")return t;break;case Cm.integer:if(/^[+-]?\d+$/.test(t))return t;break;case Cm.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case Cm.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t;break}return`"${t}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===tye.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:t,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(t)} ${this._encodeObject(r)}${Zv(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,r,i,o){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):typeof i=="function"?this._writeQuad(e,t,r,e_,i):this._writeQuad(e,t,r,i||e_,o)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,r){let i={};i[e]=t,this.addPrefixes(i,r)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let r=!1;for(let i in e){let o=e[i];typeof o!="string"&&(o=o.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[o]=i+=":",this._write(`@prefix ${i} <${o}>.
`)}if(r){let i="",o="";for(let s in this._prefixIRIs)i+=i?`|${s}`:s,o+=(o?"|":"")+this._prefixIRIs[s];i=Sm(i,/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp(`^(?:${o})[^/]*$|^(${i})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",t)}blank(e,t){let r=e,i,o;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:t}]:"length"in e||(r=[e]),o=r.length){case 0:return new Zf("[]");case 1:if(i=r[0],!(i.object instanceof Zf))return new Zf(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let s="[";for(let a=0;a<o;a++)i=r[a],i.predicate.equals(e)?s+=`, ${this._encodeObject(i.object)}`:(s+=`${(a?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new Zf(`${s}
]`)}}list(e){let t=e&&e.length||0,r=new Array(t);for(let i=0;i<t;i++)r[i]=this._encodeObject(e[i]);return new Zf(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let t=e&&((r,i)=>{t=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(t)}catch{}t&&t()}};function Cz(n){let e=nye[n];return e===void 0&&(n.length===1?(e=n.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((n.charCodeAt(0)-55296)*1024+n.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}var KM=yo(uM());var WM=Symbol("iter");function t_(n,e,t=4){if(t===0)return Object.assign(n,e);for(let r in e)n[r]=t_(n[r]||Object.create(null),e[r],t-1);return n}function xz(n,e,t=4){let r=!1;for(let i in n)if(i in e){let o=t===0?null:xz(n[i],e[i],t-1);if(o!==!1)r=r||Object.create(null),r[i]=o;else if(t===3)return!1}return r}function Dz(n,e,t=4){let r=!1;for(let i in n)if(!(i in e))r=r||Object.create(null),r[i]=t===0?null:t_({},n[i],t-1);else if(t!==0){let o=Dz(n[i],e[i],t-1);if(o!==!1)r=r||Object.create(null),r[i]=o;else if(t===3)return!1}return r}var xx=class{constructor(e={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||cr}_termFromId(e){if(e[0]==="."){let t=this._entities,r=e.split(".");return this._factory.quad(this._termFromId(t[r[1]]),this._termFromId(t[r[2]]),this._termFromId(t[r[3]]),r[4]&&this._termFromId(t[r[4]]))}return Xf(e,this._factory)}_termToNumericId(e){if(e.termType==="Quad"){let t=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object),o;return t&&r&&i&&(Zv(e.graph)||(o=this._termToNumericId(e.graph)))&&this._ids[o?`.${t}.${r}.${i}.${o}`:`.${t}.${r}.${i}`]}return this._ids[Ju(e)]}_termToNewNumericId(e){let t=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${Zv(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:Ju(e);return this._ids[t]||(this._ids[this._entities[++this._id]=t]=this._id)}createBlankNode(e){let t,r;if(e)for(t=e=`_:${e}`,r=1;this._ids[t];)t=e+r++;else do t=`_:b${this._blankNodeIndex++}`;while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},Qu=class n{constructor(e,t){this._size=0,this._graphs=Object.create(null),!t&&e&&!e[0]&&typeof e.match!="function"&&(t=e,e=null),t=t||{},this._factory=t.factory||cr,this._entityIndex=t.entityIndex||new xx({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addAll(e)}get size(){let e=this._size;if(e!==null)return e;e=0;let t=this._graphs,r,i;for(let o in t)for(let s in r=t[o].subjects)for(let a in i=r[s])e+=Object.keys(i[a]).length;return this._size=e}_addToIndex(e,t,r,i){let o=e[t]||(e[t]={}),s=o[r]||(o[r]={}),a=i in s;return a||(s[i]=null),!a}_removeFromIndex(e,t,r,i){let o=e[t],s=o[r];delete s[i];for(let a in s)return;delete o[r];for(let a in o)return;delete e[t]}*_findInIndex(e,t,r,i,o,s,a,l){let c,u,h,m=this._entities,g=this._termFromId(m[l]),b={subject:null,predicate:null,object:null};t&&((c=e,e={})[t]=c[t]);for(let v in e)if(u=e[v]){b[o]=this._termFromId(m[v]),r&&((c=u,u={})[r]=c[r]);for(let E in u)if(h=u[E]){b[s]=this._termFromId(m[E]);let C=i?i in h?[i]:[]:Object.keys(h);for(let R=0;R<C.length;R++)b[a]=this._termFromId(m[C[R]]),yield this._factory.quad(b.subject,b.predicate,b.object,g)}}}_loop(e,t){for(let r in e)t(r)}_loopByKey0(e,t,r){let i,o;if(i=e[t])for(o in i)r(o)}_loopByKey1(e,t,r){let i,o;for(i in e)o=e[i],o[t]&&r(i)}_loopBy2Keys(e,t,r,i){let o,s,a;if((o=e[t])&&(s=o[r]))for(a in s)i(a)}_countInIndex(e,t,r,i){let o=0,s,a,l;t&&((s=e,e={})[t]=s[t]);for(let c in e)if(a=e[c]){r&&((s=a,a={})[r]=s[r]);for(let u in a)(l=a[u])&&(i?i in l&&o++:o+=Object.keys(l).length)}return o}_getGraphs(e){return e=e===""?1:e&&(this._termToNumericId(e)||-1),typeof e!="number"?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){let t=Object.create(null);return r=>{r in t||(t[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,t,r,i){t||(i=e.graph,r=e.object,t=e.predicate,e=e.subject),i=i?this._termToNewNumericId(i):1;let o=this._graphs[i];return o||(o=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(o)),e=this._termToNewNumericId(e),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),this._addToIndex(o.subjects,e,t,r)?(this._addToIndex(o.predicates,t,r,e),this._addToIndex(o.objects,r,e,t),this._size=null,!0):!1}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}delete(e){return this.removeQuad(e),this}has(e,t,r,i){return e&&e.subject&&({subject:e,predicate:t,object:r,graph:i}=e),!this.readQuads(e,t,r,i).next().done}import(e){return e.on("data",t=>{this.addQuad(t)}),e}removeQuad(e,t,r,i){t||({subject:e,predicate:t,object:r,graph:i}=e),i=i?this._termToNumericId(i):1;let o=this._graphs,s,a,l;if(!(e=e&&this._termToNumericId(e))||!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(s=o[i])||!(a=s.subjects[e])||!(l=a[t])||!(r in l))return!1;this._removeFromIndex(s.subjects,e,t,r),this._removeFromIndex(s.predicates,t,r,e),this._removeFromIndex(s.objects,r,e,t),this._size!==null&&this._size--;for(e in s.subjects)return!0;return delete o[i],!0}removeQuads(e){for(let t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){return e.on("data",t=>{this.removeQuad(t)}),e}removeMatches(e,t,r,i){let o=new KM.Readable({objectMode:!0}),s=this.readQuads(e,t,r,i);return o._read=a=>{for(;--a>=0;){let{done:l,value:c}=s.next();if(l){o.push(null);return}o.push(c)}},this.remove(o)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,r,i){return[...this.readQuads(e,t,r,i)]}*readQuads(e,t,r,i){let o=this._getGraphs(i),s,a,l,c;if(!(e&&!(a=this._termToNumericId(e))||t&&!(l=this._termToNumericId(t))||r&&!(c=this._termToNumericId(r))))for(let u in o)(s=o[u])&&(a?c?yield*Ls(this._findInIndex(s.objects,c,a,l,"object","subject","predicate",u)):yield*Ls(this._findInIndex(s.subjects,a,l,null,"subject","predicate","object",u)):l?yield*Ls(this._findInIndex(s.predicates,l,c,null,"predicate","object","subject",u)):c?yield*Ls(this._findInIndex(s.objects,c,null,null,"object","subject","predicate",u)):yield*Ls(this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",u)))}match(e,t,r,i){return new Yu(this,e,t,r,i,{entityIndex:this._entityIndex})}countQuads(e,t,r,i){let o=this._getGraphs(i),s=0,a,l,c,u;if(e&&!(l=this._termToNumericId(e))||t&&!(c=this._termToNumericId(t))||r&&!(u=this._termToNumericId(r)))return 0;for(let h in o)(a=o[h])&&(e?r?s+=this._countInIndex(a.objects,u,l,c):s+=this._countInIndex(a.subjects,l,c,u):t?s+=this._countInIndex(a.predicates,c,u,l):s+=this._countInIndex(a.objects,u,l,c));return s}forEach(e,t,r,i,o){this.some(s=>(e(s,this),!1),t,r,i,o)}every(e,t,r,i,o){return!this.some(s=>!e(s,this),t,r,i,o)}some(e,t,r,i,o){for(let s of this.readQuads(t,r,i,o))if(e(s,this))return!0;return!1}getSubjects(e,t,r){let i=[];return this.forSubjects(o=>{i.push(o)},e,t,r),i}forSubjects(e,t,r,i){let o=this._getGraphs(i),s,a,l;if(e=this._uniqueEntities(e),!(t&&!(a=this._termToNumericId(t))||r&&!(l=this._termToNumericId(r))))for(i in o)(s=o[i])&&(a?l?this._loopBy2Keys(s.predicates,a,l,e):this._loopByKey1(s.subjects,a,e):l?this._loopByKey0(s.objects,l,e):this._loop(s.subjects,e))}getPredicates(e,t,r){let i=[];return this.forPredicates(o=>{i.push(o)},e,t,r),i}forPredicates(e,t,r,i){let o=this._getGraphs(i),s,a,l;if(e=this._uniqueEntities(e),!(t&&!(a=this._termToNumericId(t))||r&&!(l=this._termToNumericId(r))))for(i in o)(s=o[i])&&(a?l?this._loopBy2Keys(s.objects,l,a,e):this._loopByKey0(s.subjects,a,e):l?this._loopByKey1(s.predicates,l,e):this._loop(s.predicates,e))}getObjects(e,t,r){let i=[];return this.forObjects(o=>{i.push(o)},e,t,r),i}forObjects(e,t,r,i){let o=this._getGraphs(i),s,a,l;if(e=this._uniqueEntities(e),!(t&&!(a=this._termToNumericId(t))||r&&!(l=this._termToNumericId(r))))for(i in o)(s=o[i])&&(a?l?this._loopBy2Keys(s.subjects,a,l,e):this._loopByKey1(s.objects,a,e):l?this._loopByKey0(s.predicates,l,e):this._loop(s.objects,e))}getGraphs(e,t,r){let i=[];return this.forGraphs(o=>{i.push(o)},e,t,r),i}forGraphs(e,t,r,i){for(let o in this._graphs)this.some(s=>(e(s.graph),!0),t,r,i,this._termFromId(this._entities[o]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists({remove:e=!1,ignoreErrors:t=!1}={}){let r={},i=t?()=>!0:(a,l)=>{throw new Error(`${a.value} ${l}`)},o=this.getQuads(null,$r.rdf.rest,$r.rdf.nil,null),s=e?[...o]:[];return o.forEach(a=>{let l=[],c=!1,u,h,m=a.graph,g=a.subject;for(;g&&!c;){let b=this.getQuads(null,null,g,null),v=this.getQuads(g,null,null,null),E,C=null,R=null,F=null;for(let M=0;M<v.length&&!c;M++)E=v[M],E.graph.equals(m)?u?c=i(g,"has non-list arcs out"):E.predicate.value===$r.rdf.first?C?c=i(g,"has multiple rdf:first arcs"):s.push(C=E):E.predicate.value===$r.rdf.rest?R?c=i(g,"has multiple rdf:rest arcs"):s.push(R=E):b.length?c=i(g,"can't be subject and object"):(u=E,h="subject"):c=i(g,"not confined to single graph");for(let M=0;M<b.length&&!c;++M)E=b[M],u?c=i(g,"can't have coreferences"):E.predicate.value===$r.rdf.rest?F?c=i(g,"has incoming rdf:rest arcs"):F=E:(u=E,h="object");C?l.unshift(C.object):c=i(g,"has no list head"),g=F&&F.subject}c?e=!1:u&&(r[u[h].value]=l)}),e&&this.removeQuads(s),r}addAll(e){if(e instanceof Yu&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof n&&e._entityIndex===this._entityIndex)e._size!==0&&(this._graphs=t_(this._graphs,e._graphs),this._size=null);else for(let t of e)this.add(t);return this}contains(e){if(e instanceof Yu&&(e=e.filtered),e===this)return!0;if(!(e instanceof n)||this._entityIndex!==e._entityIndex)return e.every(c=>this.has(c));let t=this._graphs,r=e._graphs,i,o,s,a,l;for(let c in r){if(!(i=t[c]))return!1;i=i.subjects;for(let u in o=r[c].subjects){if(!(s=i[u]))return!1;for(let h in a=o[u]){if(!(l=s[h]))return!1;for(let m in a[h])if(!(m in l))return!1}}}return!0}deleteMatches(e,t,r,i){for(let o of this.match(e,t,r,i))this.removeQuad(o);return this}difference(e){if(e&&e instanceof Yu&&(e=e.filtered),e===this)return new n({entityIndex:this._entityIndex});if(e instanceof n&&e._entityIndex===this._entityIndex){let t=new n({entityIndex:this._entityIndex}),r=Dz(this._graphs,e._graphs);return r&&(t._graphs=r,t._size=null),t}return this.filter(t=>!e.has(t))}equals(e){return e instanceof Yu&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){let t=new n({entityIndex:this._entityIndex});for(let r of this)e(r,this)&&t.add(r);return t}intersection(e){if(e instanceof Yu&&(e=e.filtered),e===this){let t=new n({entityIndex:this._entityIndex});return t._graphs=t_(Object.create(null),this._graphs),t._size=this._size,t}else if(e instanceof n&&this._entityIndex===e._entityIndex){let t=new n({entityIndex:this._entityIndex}),r=xz(e._graphs,this._graphs);return r&&(t._graphs=r,t._size=null),t}return this.filter(t=>e.has(t))}map(e){let t=new n({entityIndex:this._entityIndex});for(let r of this)t.add(e(r,this));return t}reduce(e,t){let r=this.readQuads(),i=t===void 0?r.next().value:t;for(let o of r)i=e(i,o,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new jl().quadsToString(this)}union(e){let t=new n({entityIndex:this._entityIndex});return t._graphs=t_(Object.create(null),this._graphs),t._size=this._size,t.addAll(e),t}*[Symbol.iterator](){yield*Ls(this.readQuads())}};function Ul(n,e,t=0){let r=e[t];if(r&&!(r in n))return!1;let i=!1;for(let o in r?{[r]:n[r]}:n){let s=t===2?null:Ul(n[o],e,t+1);s!==!1&&(i=i||Object.create(null),i[o]=s)}return i}var Yu=class n extends KM.Readable{constructor(e,t,r,i,o,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:t,predicate:r,object:i,graph:o,options:s})}get filtered(){if(!this._filtered){let{n3Store:e,graph:t,object:r,predicate:i,subject:o}=this,s=this._filtered=new Qu({factory:e._factory,entityIndex:this.options.entityIndex}),a,l,c;if(o&&!(a=s._termToNumericId(o))||i&&!(l=s._termToNumericId(i))||r&&!(c=s._termToNumericId(r)))return s;let u=e._getGraphs(t);for(let h in u){let m,g,b,v;(v=u[h])&&(!a&&l?(g=Ul(v.predicates,[l,c,a]))&&(m=Ul(v.subjects,[a,l,c]),b=Ul(v.objects,[c,a,l])):c?(b=Ul(v.objects,[c,a,l]))&&(m=Ul(v.subjects,[a,l,c]),g=Ul(v.predicates,[l,c,a])):(m=Ul(v.subjects,[a,l,c]))&&(g=Ul(v.predicates,[l,c,a]),b=Ul(v.objects,[c,a,l])),m&&(s._graphs[h]={subjects:m,predicates:g,objects:b}))}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[WM]&&(this[WM]=this[Symbol.iterator]());let t=this[WM];for(;--e>=0;){let{done:r,value:i}=t.next();if(r){this.push(null);return}this.push(i)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,t,r,i){return this.filtered.deleteMatches(e,t,r,i)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,t,r,i,o){return this.filtered.every(e,t,r,i,o)}filter(e){return this.filtered.filter(e)}forEach(e,t,r,i,o){return this.filtered.forEach(e,t,r,i,o)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,t,r,i,o){return this.filtered.some(e,t,r,i,o)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,t){return this.filtered.reduce(e,t)}toString(){return new jl().quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,t,r,i){return new n(this.filtered,e,t,r,i,this.options)}*[Symbol.iterator](){yield*Ls(this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph))}};var Dx=()=>{let n=[],e=[],t=[];return{onQuad:r=>{n.push(r)},onError:r=>{t.push(r)},onComplete:r=>{e.push(r)},parse:(r,i)=>{rye(Zr(i)).parse(r,(o,s)=>{o?t.forEach(a=>a(o)):s?n.forEach(a=>a(s)):e.forEach(a=>a())})}}};function rye(n){return new Xu({format:"text/turtle",baseIRI:n})}function Ix(n,e){return L(this,null,function*(){let t="text/turtle",r=new jl({format:t,prefixes:e?.prefixes}),i=n.map(a=>cr.quad(a.subject,a.predicate,a.object,void 0));return r.addQuads(i),yield new Promise((a,l)=>{r.end((c,u)=>{c?l(c):a(u)})})})}var Iz={acl:"http://www.w3.org/ns/auth/acl#",acp:"http://www.w3.org/ns/solid/acp#",cc:"http://creativecommons.org/ns#",cert:"http://www.w3.org/ns/auth/cert#",csvw:"http://www.w3.org/ns/csvw#",current:"#",dc:"http://purl.org/dc/terms/",dcam:"http://purl.org/dc/dcam/",dcat:"http://www.w3.org/ns/dcat#",dctype:"http://purl.org/dc/dcmitype/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",owl:"http://www.w3.org/2002/07/owl#",posixstat:"http://www.w3.org/ns/posix/stat#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",shacl:"http://www.w3.org/ns/shacl#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",solid:"http://www.w3.org/ns/solid/terms#",swapdoc:"http://www.w3.org/2000/10/swap/pim/doc#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",ws:"http://www.w3.org/ns/pim/space#",xsd:"http://www.w3.org/2001/XMLSchema#"};var Az=n=>new Qu(n),JM="https://inrupt.com/.well-known/sdk-local-node/",{freeze:kn}=Object;function Ao(n){return n.substring(0,JM.length)===JM}function To(n){return n.substring(JM.length)}function eh(n){return typeof n=="string"&&n.substring(0,2)==="_:"}function n_(n){return n.substring(2)}function Tz(n){return`_:${n.value}`}var Wa={boolean:"http://www.w3.org/2001/XMLSchema#boolean",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",date:"http://www.w3.org/2001/XMLSchema#date",time:"http://www.w3.org/2001/XMLSchema#time",decimal:"http://www.w3.org/2001/XMLSchema#decimal",integer:"http://www.w3.org/2001/XMLSchema#integer",string:"http://www.w3.org/2001/XMLSchema#string",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"};function XM(n){return n==="true"||n==="1"?!0:n==="false"||n==="0"?!1:null}function YM(n){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(n))return null;let[t,r]=n.split("T"),[i,o]=t.charAt(0)==="-"?[-1,t.substring(1)]:[1,t],[s,a,l]=o.split("-"),c=Number.parseInt(s,10)*i,u=Number.parseInt(a,10)-1,h=Number.parseInt(l,10),[m,g]=iye(r),[b,v]=typeof g=="string"?oye(g):[0,0],[E,C,R]=m.split(":"),F=Number.parseInt(E,10)+b,M=Number.parseInt(C,10)+v,[D,$]=R.split("."),Q=Number.parseInt(D,10),k=$?Number.parseInt($,10):0,oe=new Date(Date.UTC(c,u,h,F,M,Q,k));return c>=0&&c<100&&oe.setUTCFullYear(oe.getUTCFullYear()-1900),oe}function iye(n){if(n.endsWith("Z"))return[n.substring(0,n.length-1),"Z"];let e=n.split("+"),t=n.split("-");return e.length===1&&t.length===1?[e[0],void 0]:e.length>t.length?[e[0],`+${e[1]}`]:[t[0],`-${t[1]}`]}function oye(n){if(n==="Z")return[0,0];let e=n.charAt(0)==="+"?1:-1,[t,r]=n.substring(1).split(":"),i=Number.parseInt(t,10),o=Number.parseInt(r,10);return[i*e,o*e]}function QM(n){let e=Number.parseFloat(n);return Number.isNaN(e)?null:e}function ZM(n){let e=Number.parseInt(n,10);return Number.isNaN(e)?null:e}function Ro(n){return Nz(n)&&n.termType==="NamedNode"}function Rz(n){return Nz(n)&&n.termType==="Literal"}function Nz(n){return n!==null&&typeof n=="object"&&typeof n.termType=="string"&&typeof n.value=="string"&&typeof n.equals=="function"}function eO(n){return Ro(n)&&Ao(n.value)}function th(n){let e=Qr(n);if(typeof URL!="function")return!0;try{return new URL(e),!0}catch{return!1}}function tO(n,e){return cr.namedNode(r_(To(n.value),e))}function r_(n,e){if(typeof URL!="function")throw new Error("The URL interface is not available, so an IRI cannot be determined.");let t=new URL(e);return t.hash=n,t.href}function Fz(n,e){var t;if(!["NamedNode","DefaultGraph"].includes(e.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.graph.termType}] as their Graph node.`);let i=e.graph.termType==="DefaultGraph"?"default":e.graph.value,o=(t=n.graphs[i])!==null&&t!==void 0?t:{};return kn(Re(ne({},n),{graphs:kn(Re(ne({},n.graphs),{[i]:sye(o,e)}))}))}function sye(n,e){var t;if(!["NamedNode","BlankNode"].includes(e.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.subject.termType}] as their Subject node.`);let i=e.subject.termType==="BlankNode"?`_:${e.subject.value}`:e.subject.value,o=(t=n[i])!==null&&t!==void 0?t:{type:"Subject",url:i,predicates:{}};return kn(Re(ne({},n),{[i]:aye(o,e)}))}function aye(n,e){return kn(Re(ne({},n),{predicates:lye(n.predicates,e)}))}function lye(n,e){var t;if(!["NamedNode"].includes(e.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.predicate.termType}] as their Predicate node.`);let i=e.predicate.value,o=(t=n[i])!==null&&t!==void 0?t:{};return kn(Re(ne({},n),{[i]:cye(o,e)}))}function cye(n,e){var t,r,i,o,s,a,l,c;if(e.object.termType==="NamedNode"){let u=kn([...(t=n.namedNodes)!==null&&t!==void 0?t:[],e.object.value]);return kn(Re(ne({},n),{namedNodes:u}))}if(e.object.termType==="Literal"){if(e.object.datatype.value===Wa.langString){let m=e.object.language.toLowerCase(),g=kn([...(i=(r=n.langStrings)===null||r===void 0?void 0:r[m])!==null&&i!==void 0?i:[],e.object.value]),b=kn(Re(ne({},(o=n.langStrings)!==null&&o!==void 0?o:{}),{[m]:g}));return kn(Re(ne({},n),{langStrings:b}))}let u=kn([...(a=(s=n.literals)===null||s===void 0?void 0:s[e.object.datatype.value])!==null&&a!==void 0?a:[],e.object.value]),h=kn(Re(ne({},(l=n.literals)!==null&&l!==void 0?l:{}),{[e.object.datatype.value]:u}));return kn(Re(ne({},n),{literals:h}))}if(e.object.termType==="BlankNode"){let u=kn([...(c=n.blankNodes)!==null&&c!==void 0?c:[],Tz(e.object)]);return kn(Re(ne({},n),{blankNodes:u}))}throw new Error(`Objects of type [${e.object.termType}] are not supported.`)}function Ax(n,e={}){var t;let r=[],i=(t=e.dataFactory)!==null&&t!==void 0?t:cr;return Object.keys(n.graphs).forEach(o=>{let s=n.graphs[o],a=o==="default"?i.defaultGraph():i.namedNode(o);Object.keys(s).forEach(l=>{let{predicates:c}=s[l],u=eh(l)?i.blankNode(n_(l)):i.namedNode(l);r.push(...Tx(c,u,a,e))})}),r}function Tx(n,e,t,r={}){var i;let o=[],s=(i=r.dataFactory)!==null&&i!==void 0?i:cr;return Object.keys(n).forEach(a=>{var l,c,u,h;let m=s.namedNode(a),g=(l=n[a].langStrings)!==null&&l!==void 0?l:{},b=(c=n[a].namedNodes)!==null&&c!==void 0?c:[],v=(u=n[a].literals)!==null&&u!==void 0?u:{},E=(h=n[a].blankNodes)!==null&&h!==void 0?h:[];Object.keys(v).forEach(F=>{let M=s.namedNode(F);v[F].forEach($=>{let Q=s.literal($,M);o.push(s.quad(e,m,Q,t))})}),Object.keys(g).forEach(F=>{g[F].forEach(D=>{let $=s.literal(D,F);o.push(s.quad(e,m,$,t))})}),b.forEach(F=>{let M=s.namedNode(F);o.push(s.quad(e,m,M,t))}),E.forEach(F=>{if(eh(F)){let M=s.blankNode(n_(F));o.push(s.quad(e,m,M,t))}else{let M=s.blankNode(),D=s.quad(e,m,M,t),$=Tx(F,M,t);o.push(D),o.push(...$)}})}),o}function Mz(n){let e={graphs:{default:{}},type:"Dataset"};return Array.from(n).reduce((t,r)=>Fz(t,r),e)}function Oz(n,e={}){var t,r;return((r=(t=e.datasetFactory)===null||t===void 0?void 0:t.dataset)!==null&&r!==void 0?r:Az)(Ax(n,e))}function kz(n,e){return L(this,null,function*(){let{prefixes:t=Iz,thing:r}=ne({},e),i=new jl({format:"application/turtle",prefixes:t}),o=r?new Qf(r):void 0;for(let s of Oz(n).match(o))i.addQuad(s);return new Promise((s,a)=>{i.end((l,c)=>{l?a(l):s(c)})})})}function i_(n){var e,t,r,i,o,s,a,l;if(Ro(n))return`<${n.value}> (URL)`;if(Rz(n)){if(!Ro(n.datatype))return`[${n.value}] (RDF/JS Literal of unknown type)`;let c;switch(n.datatype.value){case Wa.boolean:return c=(t=(e=XM(n.value))===null||e===void 0?void 0:e.valueOf())!==null&&t!==void 0?t:`Invalid data: \`${n.value}\``,`${c} (boolean)`;case Wa.dateTime:return c=(i=(r=YM(n.value))===null||r===void 0?void 0:r.toUTCString())!==null&&i!==void 0?i:`Invalid data: \`${n.value}\``,`${c} (datetime)`;case Wa.decimal:return c=(s=(o=QM(n.value))===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:`Invalid data: \`${n.value}\``,`${c} (decimal)`;case Wa.integer:return c=(l=(a=ZM(n.value))===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:`Invalid data: \`${n.value}\``,`${c} (integer)`;case Wa.langString:return`"${n.value}" (${n.language} string)`;case Wa.string:return`"${n.value}" (string)`;default:return`[${n.value}] (RDF/JS Literal of type: \`${n.datatype.value}\`)`}}return n.termType==="BlankNode"?`[${n.value}] (RDF/JS BlankNode)`:n.termType==="Quad"?"??? (nested RDF* Quad)":n.termType==="Variable"?`?${n.value} (RDF/JS Variable)`:n}function xm(n){if(!rO(n))throw new o_(n)}function Pz(n,e){let t=Wf(n)?n.internal_changeLog:{additions:[],deletions:[]},[r,i]=e.filter(o=>!uye(o)).reduce(([o,s],a)=>typeof o.find(c=>c.equals(a))<"u"?[o.filter(c=>!c.equals(a)),s]:[o,s.concat(a)],[t.additions,t.deletions]);return kn(Re(ne({},n),{internal_changeLog:{additions:r,deletions:i}}))}function Lz(n){return Wf(n)?n:kn(Re(ne({},n),{internal_changeLog:{additions:[],deletions:[]}}))}function uye(n){return n.subject.termType==="BlankNode"||n.object.termType==="BlankNode"}function iO(n,e){var t,r,i;if(xm(n),!th(e))throw new nh(e);let o=Qr(e),s=(i=(r=(t=n.predicates[o])===null||t===void 0?void 0:t.namedNodes)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:null;return s===null?null:Ao(s)?`#${To(s)}`:s}function Bz(n,e){var t,r,i;if(xm(n),!th(e))throw new nh(e);let o=Qr(e);return(i=(r=(t=n.predicates[o])===null||t===void 0?void 0:t.namedNodes)===null||r===void 0?void 0:r.map(s=>Ao(s)?`#${To(s)}`:s))!==null&&i!==void 0?i:[]}var Rx=Bz;function oO(n,e){return xm(n),dye(n,e,Wa.string)}function jz(n,e){return Rx(n,e).map(r=>cr.namedNode(r))}function Uz(n,e){var t,r,i,o;if(xm(n),!th(e))throw new nh(e);let s=Qr(e),a=[],l=(r=(t=n.predicates[s])===null||t===void 0?void 0:t.langStrings)!==null&&r!==void 0?r:{},c=Object.keys(l);for(let m of c){let b=l[m].map(v=>cr.literal(v,m));a=a.concat(b)}let u=(o=(i=n.predicates[s])===null||i===void 0?void 0:i.literals)!==null&&o!==void 0?o:{},h=Object.keys(u);for(let m of h){let g=u[m],b=cr.namedNode(m),v=g.map(E=>cr.literal(E,b));a=a.concat(v)}return a}function sO(n,e){var t,r;xm(n);let i=jz(n,e),o=Uz(n,e),s=Qr(e),l=((r=(t=n.predicates[s])===null||t===void 0?void 0:t.blankNodes)!==null&&r!==void 0?r:[]).map(u=>{let h=eh(u)?n_(u):void 0;return cr.blankNode(h)});return i.concat(o).concat(l)}function dye(n,e,t){var r,i,o,s;if(!th(e))throw new nh(e);let a=Qr(e);return(s=(o=(i=(r=n.predicates[a])===null||r===void 0?void 0:r.literals)===null||i===void 0?void 0:i[t])===null||o===void 0?void 0:o[0])!==null&&s!==void 0?s:null}function s_(n,e,t={}){var r;if(!th(e)&&!e.match(/^_:/))throw new aO(e);let i=typeof t.scope<"u"?Qr(t.scope):"default",o=(r=n.graphs[i])!==null&&r!==void 0?r:{},s=Qr(e),a=Ao(s)&&px(n)?r_(To(s),Zr(n)):s,l=o[a];return typeof l>"u"?null:l}function a_(n,e={acceptBlankNodes:!1}){var t;let r=typeof e.scope<"u"?Qr(e.scope):"default",i=(t=n.graphs[r])!==null&&t!==void 0?t:{};return Object.values(i).filter(o=>!eh(o.url)||e.acceptBlankNodes)}function Nx(n,e){var t;let r;Ro(e)?r=e.value:typeof e=="string"?r=Ao(e)&&px(n)?r_(To(e),Zr(n)):e:Fx(e)?r=e.url:r=$z(e);let i=n.graphs.default,o=ne({},i);delete o[r];let s=kn(Re(ne({},n.graphs),{default:kn(o)})),a=cr.namedNode(r),l=(t=n.graphs.default[r])===null||t===void 0?void 0:t.predicates,c=typeof l<"u"?Tx(l,a,cr.defaultGraph()):[];return Pz(kn(Re(ne({},n),{graphs:s})),c)}function rO(n){return typeof n=="object"&&n!==null&&typeof n.type=="string"&&n.type==="Subject"}function Vz(n,e){if(Fx(n)){if(typeof e>"u")throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return r_(To(n.url),e)}return n.url}var $z=Vz;function lO(n){let e="";Fx(n)?e+=`## Thing (no URL yet \u2014 identifier: \`#${To(n.url)}\`)
`:e+=`## Thing: ${n.url}
`;let t=Object.keys(n.predicates);if(t.length===0)e+=`
<empty>
`;else for(let r of t){e+=`
Property: ${r}
`;let i=sO(n,r);e+=i.reduce((o,s)=>`${o}- ${i_(s)}
`,"")}return e}function Fx(n){return Ao(n.url)}var o_=class extends Wu{constructor(e){let t=`Expected a Thing, but received: [${e}].`;super(t),this.receivedValue=e}},nh=class extends Wu{constructor(e){let t=Ro(e)?e.value:e,r=`Expected a valid URL to identify a property, but received: [${t}].`;super(r),this.receivedProperty=t}};var aO=class extends Wu{constructor(e){let t=Ro(e)?e.value:e,r=`Expected a valid URL to identify a Thing, but received: [${t}].`;super(r),this.receivedValue=t}};function cO(n){let e=new URL(n);return e.hash="",e.href}function dO(){return kn({type:"Dataset",graphs:{default:{}}})}function zz(t){return L(this,arguments,function*(n,e={}){if(bm(n)){let h=yield n.clone().text();throw new Ku(`Fetching the SolidDataset at [${n.url}] failed: [${n.status}] [${n.statusText}] ${h}.`,n,h)}let r=$M(n),i=ne({"text/turtle":Dx()},e.parsers),o=HM(r);if(o===null)throw new Error(`Could not determine the content type of the Resource at [${Zr(r)}].`);let s=o.split(";")[0],a=i[s];if(typeof a>"u")throw new Error(`The Resource at [${Zr(r)}] has a MIME type of [${s}], but the only parsers available are for the following MIME types: [${Object.keys(i).join(", ")}].`);let l=yield n.text(),c=yield new Promise((h,m)=>{let g=new Qu;a.onError(b=>{m(new Error(`Encountered an error parsing the Resource at [${Zr(r)}] with content type [${o}]: ${b}`))}),a.onQuad(b=>{g.add(b)}),a.onComplete(()=>{h(g)}),a.parse(l,r)}),u=kn(Mz(c));return kn(ne(ne({},u),r))})}function Mx(n,e){return L(this,null,function*(){var t,r;let i=mx(Qr(n)),o=Object.keys((t=e?.parsers)!==null&&t!==void 0?t:{}),s=o.length>0?o.join(", "):"text/turtle",a=yield((r=e?.fetch)!==null&&r!==void 0?r:fetch)(i,{headers:{Accept:s}});if(bm(a)){let c=yield a.clone().text();throw new Ku(`Fetching the Resource at [${i}] failed: [${a.status}] [${a.statusText}] ${c}.`,a,c)}return yield zz(a,e)})}function pye(n){return L(this,null,function*(){let e=n.internal_changeLog.deletions.length>0?`DELETE DATA {${(yield Ix(n.internal_changeLog.deletions.map(uO))).trim()}};`:"",t=n.internal_changeLog.additions.length>0?`INSERT DATA {${(yield Ix(n.internal_changeLog.additions.map(uO))).trim()}};`:"";return{method:"PATCH",body:`${e} ${t}`,headers:{"Content-Type":"application/sparql-update"}}})}function mye(n,e){return L(this,null,function*(){return{method:"PUT",body:yield Ix(Ax(n).map(uO),e),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${VM.Resource}>; rel="type"`}}})}function fO(n,e,t){return L(this,null,function*(){var r;let i=mx(Qr(n)),o=Lz(e),s=Hz(o,i)?yield pye(o):yield mye(o,t),a=yield((r=t?.fetch)!==null&&r!==void 0?r:fetch)(i,s);if(bm(a)){let h=Hz(o,i)?`The changes that were sent to the Pod are listed below.

${Wz(o)}`:`The SolidDataset that was sent to the Pod is listed below.

${Gz(o)}`,m=yield a.clone().text();throw new Ku(`Storing the Resource at [${i}] failed: [${a.status}] [${a.statusText}] ${m}.

${h}`,a,m)}let l=Re(ne({},gx(a)),{isRawData:!1}),c=kn(Re(ne({},e),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:l}));return bye(c)})}function gye(n,e){return cO(n.internal_resourceInfo.sourceIri)===cO(e)}function Hz(n,e){return Wf(n)&&Gf(n)&&typeof n.internal_resourceInfo.sourceIri=="string"&&gye(n,e)}function yye(n,e){let t=new URL(e),r=new URL(n),i=r.href.startsWith(t.href),o=r.pathname.substring(t.pathname.length,r.pathname.length).replace(/(^\/)|(\/$)/g,"");return i&&o.length>=1&&!o.includes("/")}function hO(n){let e=Zr(n),t=s_(n,e);return t===null?[]:Rx(t,VM.contains).filter(r=>yye(r,e))}function Gz(n){let e="";Gf(n)?e+=`# SolidDataset: ${Zr(n)}
`:e+=`# SolidDataset (no URL yet)
`;let t=a_(n);return t.length===0?e+=`
<empty>
`:t.forEach(r=>{e+=`
${lO(r)}`,Wf(n)&&(e+=`
${_ye(n,r)}
`)}),e}function Wz(n){if(!Gf(n))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!Wf(n)||n.internal_changeLog.additions.length===0&&n.internal_changeLog.deletions.length===0)return`## Changes compared to ${Zr(n)}

This SolidDataset has not been modified since it was fetched from ${Zr(n)}.
`;let e=`## Changes compared to ${Zr(n)}
`,t=vye(n);return Object.keys(t).forEach(r=>{e+=`
### Thing: ${r}
`;let i=t[r];Object.keys(i).forEach(o=>{e+=`
Property: ${o}
`;let{deleted:s}=i[o],{added:a}=i[o];s.length>0&&(e+=`- Removed:
`,e+=s.reduce((l,c)=>`${l}  - ${i_(c)}
`,"")),a.length>0&&(e+=`- Added:
`,e+=a.reduce((l,c)=>`${l}  - ${i_(c)}
`,""))})}),e}function vye(n){let e=Object.create(null);return n.internal_changeLog.deletions.forEach(t=>{var r,i,o;let s=eO(t.subject)?tO(t.subject,Zr(n)):t.subject;if(!Ro(s)||!Ro(t.predicate))return;let a=Qr(s),l=Qr(t.predicate);(r=e[a])!==null&&r!==void 0||(e[a]=Object.create(null)),(i=(o=e[a])[l])!==null&&i!==void 0||(o[l]={added:[],deleted:[]}),e[a][l].deleted.push(t.object)}),n.internal_changeLog.additions.forEach(t=>{var r,i,o;let s=eO(t.subject)?tO(t.subject,Zr(n)):t.subject;if(!Ro(s)||!Ro(t.predicate))return;let a=Qr(s),l=Qr(t.predicate);(r=e[a])!==null&&r!==void 0||(e[a]=Object.create(null)),(i=(o=e[a])[l])!==null&&i!==void 0||(o[l]={added:[],deleted:[]}),e[a][l].added.push(t.object)}),e}function _ye(n,e){let t=cr.namedNode(e.url),r=n.internal_changeLog.additions.reduce((a,l)=>l.subject.equals(t)?a+1:a,0),i=n.internal_changeLog.deletions.reduce((a,l)=>l.subject.equals(t)?a+1:a,0),o=r===1?"1 new value added":`${r} new values added`,s=i===1?"1 value removed":`${i} values removed`;return`(${o} / ${s})`}function uO(n){let e=Ro(n.subject)?qz(n.subject):n.subject,t=Ro(n.object)?qz(n.object):n.object;return cr.quad(e,n.predicate,t,n.graph)}function qz(n){return Ao(n.value)?cr.namedNode(`#${To(n.value)}`):n}function bye(n){let e=Zr(n),t=n.graphs.default,i=Object.keys(t).reduce((s,a)=>{let l=wye(s[a],e),c=Ao(a)?`${e}#${To(a)}`:a,u=ne({},s);return delete u[a],u[c]=l,kn(u)},t),o=kn(Re(ne({},n.graphs),{default:i}));return kn(Re(ne({},n),{graphs:o}))}function wye(n,e){let r=Object.keys(n.predicates).reduce((i,o)=>{var s;let a=(s=i[o].namedNodes)!==null&&s!==void 0?s:[];if(a.every(u=>!Ao(u)))return i;let l=kn(a.map(u=>Ao(u)?`${e}#${To(u)}`:u)),c=kn(Re(ne({},i[o]),{namedNodes:l}));return kn(Re(ne({},i),{[o]:c}))},n.predicates);return kn(Re(ne({},n),{predicates:r,url:Ao(n.url)?`${e}#${To(n.url)}`:n.url}))}var{getJsonLdParser:wXe,getTurtleParser:EXe,solidDatasetAsTurtle:SXe}=nO;var Kz="http://www.w3.org/ns/auth/acl#";function ei(n){return Kz+n}var TXe={PREFIX:"acl",NAMESPACE:Kz,PREFIX_AND_NAMESPACE:{acl:"http://www.w3.org/ns/auth/acl#"},NS:ei,Access:ei("Access"),Append:ei("Append"),Write:ei("Write"),AuthenticatedAgent:ei("AuthenticatedAgent"),Authorization:ei("Authorization"),Control:ei("Control"),Origin:ei("Origin"),Read:ei("Read"),accessControl:ei("accessControl"),accessTo:ei("accessTo"),accessToClass:ei("accessToClass"),agent:ei("agent"),agentClass:ei("agentClass"),agentGroup:ei("agentGroup"),default:ei("default"),defaultForNew:ei("defaultForNew"),delegates:ei("delegates"),mode:ei("mode"),origin:ei("origin"),owner:ei("owner")},Jz="http://www.w3.org/ns/dx/conneg/altr#";function Ox(n){return Jz+n}var RXe={PREFIX:"altr",NAMESPACE:Jz,PREFIX_AND_NAMESPACE:{altr:"http://www.w3.org/ns/dx/conneg/altr#"},NS:Ox,Representation:Ox("Representation"),hasRepresentation:Ox("hasRepresentation"),hasDefaultRepresentation:Ox("hasDefaultRepresentation")},Xz="https://www.w3.org/ns/activitystreams#";function Me(n){return Xz+n}var NXe={PREFIX:"as",NAMESPACE:Xz,PREFIX_AND_NAMESPACE:{as:"https://www.w3.org/ns/activitystreams#"},NS:Me,Activity:Me("Activity"),Object:Me("Object"),Link:Me("Link"),OrderedItems:Me("OrderedItems"),Collection:Me("Collection"),CollectionPage:Me("CollectionPage"),Image:Me("Image"),Document:Me("Document"),Relationship:Me("Relationship"),Question:Me("Question"),IntransitiveActivity:Me("IntransitiveActivity"),Profile:Me("Profile"),Tombstone:Me("Tombstone"),Place:Me("Place"),OrderedCollectionPage:Me("OrderedCollectionPage"),OrderedCollection:Me("OrderedCollection"),Accept:Me("Accept"),Block:Me("Block"),Ignore:Me("Ignore"),Add:Me("Add"),Announce:Me("Announce"),Application:Me("Application"),Arrive:Me("Arrive"),Article:Me("Article"),Audio:Me("Audio"),Create:Me("Create"),Delete:Me("Delete"),Dislike:Me("Dislike"),Event:Me("Event"),Flag:Me("Flag"),Follow:Me("Follow"),Group:Me("Group"),Invite:Me("Invite"),Offer:Me("Offer"),Join:Me("Join"),Leave:Me("Leave"),Like:Me("Like"),View:Me("View"),Listen:Me("Listen"),Read:Me("Read"),Move:Me("Move"),Travel:Me("Travel"),Mention:Me("Mention"),Note:Me("Note"),Page:Me("Page"),Person:Me("Person"),Organization:Me("Organization"),Reject:Me("Reject"),Remove:Me("Remove"),Service:Me("Service"),TentativeAccept:Me("TentativeAccept"),TentativeReject:Me("TentativeReject"),Undo:Me("Undo"),Update:Me("Update"),Video:Me("Video"),actor:Me("actor"),attributedTo:Me("attributedTo"),attachment:Me("attachment"),attachments:Me("attachments"),author:Me("author"),bcc:Me("bcc"),bto:Me("bto"),cc:Me("cc"),context:Me("context"),current:Me("current"),first:Me("first"),generator:Me("generator"),icon:Me("icon"),image:Me("image"),inReplyTo:Me("inReplyTo"),items:Me("items"),last:Me("last"),location:Me("location"),next:Me("next"),object:Me("object"),oneOf:Me("oneOf"),anyOf:Me("anyOf"),prev:Me("prev"),preview:Me("preview"),provider:Me("provider"),replies:Me("replies"),result:Me("result"),audience:Me("audience"),partOf:Me("partOf"),tag:Me("tag"),tags:Me("tags"),target:Me("target"),origin:Me("origin"),instrument:Me("instrument"),to:Me("to"),url:Me("url"),subject:Me("subject"),relationship:Me("relationship"),describes:Me("describes"),formerType:Me("formerType"),accuracy:Me("accuracy"),altitude:Me("altitude"),content:Me("content"),name:Me("name"),downstreamDuplicates:Me("downstreamDuplicates"),duration:Me("duration"),endTime:Me("endTime"),height:Me("height"),href:Me("href"),hreflang:Me("hreflang"),id:Me("id"),latitude:Me("latitude"),longitude:Me("longitude"),mediaType:Me("mediaType"),objectType:Me("objectType"),published:Me("published"),radius:Me("radius"),rating:Me("rating"),rel:Me("rel"),startIndex:Me("startIndex"),startTime:Me("startTime"),summary:Me("summary"),totalItems:Me("totalItems"),units:Me("units"),updated:Me("updated"),upstreamDuplicates:Me("upstreamDuplicates"),verb:Me("verb"),width:Me("width"),deleted:Me("deleted")},Yz="http://www.w3.org/2002/01/bookmark#";function Oc(n){return Yz+n}var FXe={PREFIX:"bookmark",NAMESPACE:Yz,PREFIX_AND_NAMESPACE:{bookmark:"http://www.w3.org/2002/01/bookmark#"},NS:Oc,Topic:Oc("Topic"),Shortcut:Oc("Shortcut"),Bookmark:Oc("Bookmark"),hasTopic:Oc("hasTopic"),leadsTo:Oc("leadsTo"),bookmarks:Oc("bookmarks"),recalls:Oc("recalls"),subTopicOf:Oc("subTopicOf")},Qz="https://www.w3.org/2018/credentials#";function Si(n){return Qz+n}var MXe={PREFIX:"cred",NAMESPACE:Qz,PREFIX_AND_NAMESPACE:{cred:"https://www.w3.org/2018/credentials#"},NS:Si,VerifiableCredential:Si("VerifiableCredential"),JsonSchemaValidator2018:Si("JsonSchemaValidator2018"),ManualRefreshService2018:Si("ManualRefreshService2018"),VerifiablePresentation:Si("VerifiablePresentation"),verifiableCredential:Si("verifiableCredential"),credentialSchema:Si("credentialSchema"),credentialStatus:Si("credentialStatus"),credentialSubject:Si("credentialSubject"),evidence:Si("evidence"),expirationDate:Si("expirationDate"),holder:Si("holder"),issued:Si("issued"),issuer:Si("issuer"),issuanceDate:Si("issuanceDate"),refreshService:Si("refreshService"),termsOfUse:Si("termsOfUse"),validFrom:Si("validFrom"),validUntil:Si("validUntil")},Zz="http://www.w3.org/ns/dcat#";function Cn(n){return Zz+n}var OXe={PREFIX:"dcat",NAMESPACE:Zz,PREFIX_AND_NAMESPACE:{dcat:"http://www.w3.org/ns/dcat#"},NS:Cn,Catalog:Cn("Catalog"),Dataset:Cn("Dataset"),Resource:Cn("Resource"),CatalogRecord:Cn("CatalogRecord"),DataService:Cn("DataService"),Distribution:Cn("Distribution"),Relationship:Cn("Relationship"),Role:Cn("Role"),hadRole:Cn("hadRole"),accessService:Cn("accessService"),accessURL:Cn("accessURL"),endpointURL:Cn("endpointURL"),bbox:Cn("bbox"),byteSize:Cn("byteSize"),catalog:Cn("catalog"),centroid:Cn("centroid"),compressFormat:Cn("compressFormat"),contactPoint:Cn("contactPoint"),dataset:Cn("dataset"),distribution:Cn("distribution"),downloadURL:Cn("downloadURL"),endDate:Cn("endDate"),endpointDescription:Cn("endpointDescription"),keyword:Cn("keyword"),landingPage:Cn("landingPage"),mediaType:Cn("mediaType"),packageFormat:Cn("packageFormat"),qualifiedRelation:Cn("qualifiedRelation"),record:Cn("record"),servesDataset:Cn("servesDataset"),service:Cn("service"),spatialResolutionInMeters:Cn("spatialResolutionInMeters"),startDate:Cn("startDate"),temporalResolution:Cn("temporalResolution"),theme:Cn("theme"),themeTaxonomy:Cn("themeTaxonomy")},eG="http://purl.org/dc/terms/";function We(n){return eG+n}var kXe={PREFIX:"dcterms",NAMESPACE:eG,PREFIX_AND_NAMESPACE:{dcterms:"http://purl.org/dc/terms/"},NS:We,Agent:We("Agent"),AgentClass:We("AgentClass"),BibliographicResource:We("BibliographicResource"),FileFormat:We("FileFormat"),MediaType:We("MediaType"),MediaTypeOrExtent:We("MediaTypeOrExtent"),Frequency:We("Frequency"),Jurisdiction:We("Jurisdiction"),LocationPeriodOrJurisdiction:We("LocationPeriodOrJurisdiction"),LicenseDocument:We("LicenseDocument"),RightsStatement:We("RightsStatement"),LinguisticSystem:We("LinguisticSystem"),Location:We("Location"),MethodOfAccrual:We("MethodOfAccrual"),MethodOfInstruction:We("MethodOfInstruction"),PeriodOfTime:We("PeriodOfTime"),PhysicalMedium:We("PhysicalMedium"),PhysicalResource:We("PhysicalResource"),Policy:We("Policy"),ProvenanceStatement:We("ProvenanceStatement"),SizeOrDuration:We("SizeOrDuration"),Standard:We("Standard"),modified:We("modified"),publisher:We("publisher"),title:We("title"),hasVersion:We("hasVersion"),issued:We("issued"),date:We("date"),description:We("description"),relation:We("relation"),Box:We("Box"),ISO3166:We("ISO3166"),ISO639_2:We("ISO639-2"),ISO639_3:We("ISO639-3"),Period:We("Period"),Point:We("Point"),RFC1766:We("RFC1766"),RFC3066:We("RFC3066"),RFC4646:We("RFC4646"),RFC5646:We("RFC5646"),URI:We("URI"),W3CDTF:We("W3CDTF"),abstract:We("abstract"),accessRights:We("accessRights"),rights:We("rights"),accrualMethod:We("accrualMethod"),accrualPeriodicity:We("accrualPeriodicity"),accrualPolicy:We("accrualPolicy"),alternative:We("alternative"),audience:We("audience"),available:We("available"),bibliographicCitation:We("bibliographicCitation"),identifier:We("identifier"),conformsTo:We("conformsTo"),contributor:We("contributor"),coverage:We("coverage"),created:We("created"),creator:We("creator"),dateAccepted:We("dateAccepted"),dateCopyrighted:We("dateCopyrighted"),dateSubmitted:We("dateSubmitted"),educationLevel:We("educationLevel"),extent:We("extent"),format:We("format"),hasFormat:We("hasFormat"),hasPart:We("hasPart"),instructionalMethod:We("instructionalMethod"),isFormatOf:We("isFormatOf"),isPartOf:We("isPartOf"),isReferencedBy:We("isReferencedBy"),isReplacedBy:We("isReplacedBy"),isRequiredBy:We("isRequiredBy"),isVersionOf:We("isVersionOf"),language:We("language"),license:We("license"),mediator:We("mediator"),medium:We("medium"),provenance:We("provenance"),references:We("references"),replaces:We("replaces"),requires:We("requires"),rightsHolder:We("rightsHolder"),source:We("source"),spatial:We("spatial"),subject:We("subject"),tableOfContents:We("tableOfContents"),temporal:We("temporal"),type:We("type"),valid:We("valid")},tG="http://usefulinc.com/ns/doap#";function Ft(n){return tG+n}var PXe={PREFIX:"doap",NAMESPACE:tG,PREFIX_AND_NAMESPACE:{doap:"http://usefulinc.com/ns/doap#"},NS:Ft,Project:Ft("Project"),Version:Ft("Version"),Specification:Ft("Specification"),Repository:Ft("Repository"),SVNRepository:Ft("SVNRepository"),GitRepository:Ft("GitRepository"),BKRepository:Ft("BKRepository"),CVSRepository:Ft("CVSRepository"),ArchRepository:Ft("ArchRepository"),BazaarBranch:Ft("BazaarBranch"),GitBranch:Ft("GitBranch"),HgRepository:Ft("HgRepository"),DarcsRepository:Ft("DarcsRepository"),name:Ft("name"),homepage:Ft("homepage"),old_homepage:Ft("old-homepage"),created:Ft("created"),shortdesc:Ft("shortdesc"),description:Ft("description"),release:Ft("release"),mailing_list:Ft("mailing-list"),support_forum:Ft("support-forum"),developer_forum:Ft("developer-forum"),category:Ft("category"),license:Ft("license"),repository:Ft("repository"),repositoryOf:Ft("repositoryOf"),anon_root:Ft("anon-root"),browse:Ft("browse"),module:Ft("module"),location:Ft("location"),download_page:Ft("download-page"),download_mirror:Ft("download-mirror"),revision:Ft("revision"),file_release:Ft("file-release"),wiki:Ft("wiki"),bug_database:Ft("bug-database"),screenshots:Ft("screenshots"),maintainer:Ft("maintainer"),developer:Ft("developer"),documenter:Ft("documenter"),translator:Ft("translator"),tester:Ft("tester"),helper:Ft("helper"),programming_language:Ft("programming-language"),os:Ft("os"),implements:Ft("implements"),service_endpoint:Ft("service-endpoint"),language:Ft("language"),vendor:Ft("vendor"),platform:Ft("platform"),audience:Ft("audience"),blog:Ft("blog")},nG="http://www.w3.org/ns/earl#";function Ir(n){return nG+n}var LXe={PREFIX:"earl",NAMESPACE:nG,PREFIX_AND_NAMESPACE:{earl:"http://www.w3.org/ns/earl#"},NS:Ir,Assertion:Ir("Assertion"),Assertor:Ir("Assertor"),TestSubject:Ir("TestSubject"),TestCriterion:Ir("TestCriterion"),TestRequirement:Ir("TestRequirement"),TestCase:Ir("TestCase"),TestResult:Ir("TestResult"),TestMode:Ir("TestMode"),OutcomeValue:Ir("OutcomeValue"),Pass:Ir("Pass"),Fail:Ir("Fail"),CannotTell:Ir("CannotTell"),NotApplicable:Ir("NotApplicable"),NotTested:Ir("NotTested"),Software:Ir("Software"),assertedBy:Ir("assertedBy"),subject:Ir("subject"),test:Ir("test"),result:Ir("result"),mode:Ir("mode"),mainAssertor:Ir("mainAssertor"),outcome:Ir("outcome"),pointer:Ir("pointer"),info:Ir("info")},rG="http://xmlns.com/foaf/0.1/";function ot(n){return rG+n}var l_={PREFIX:"foaf",NAMESPACE:rG,PREFIX_AND_NAMESPACE:{foaf:"http://xmlns.com/foaf/0.1/"},NS:ot,Agent:ot("Agent"),Document:ot("Document"),Organization:ot("Organization"),Project:ot("Project"),Person:ot("Person"),Group:ot("Group"),Image:ot("Image"),LabelProperty:ot("LabelProperty"),OnlineAccount:ot("OnlineAccount"),OnlineChatAccount:ot("OnlineChatAccount"),OnlineEcommerceAccount:ot("OnlineEcommerceAccount"),OnlineGamingAccount:ot("OnlineGamingAccount"),PersonalProfileDocument:ot("PersonalProfileDocument"),account:ot("account"),accountName:ot("accountName"),accountServiceHomepage:ot("accountServiceHomepage"),age:ot("age"),aimChatID:ot("aimChatID"),nick:ot("nick"),based_near:ot("based_near"),birthday:ot("birthday"),currentProject:ot("currentProject"),depiction:ot("depiction"),depicts:ot("depicts"),dnaChecksum:ot("dnaChecksum"),familyName:ot("familyName"),family_name:ot("family_name"),firstName:ot("firstName"),focus:ot("focus"),fundedBy:ot("fundedBy"),geekcode:ot("geekcode"),gender:ot("gender"),givenName:ot("givenName"),givenname:ot("givenname"),holdsAccount:ot("holdsAccount"),homepage:ot("homepage"),page:ot("page"),isPrimaryTopicOf:ot("isPrimaryTopicOf"),topic:ot("topic"),primaryTopic:ot("primaryTopic"),icqChatID:ot("icqChatID"),img:ot("img"),interest:ot("interest"),jabberID:ot("jabberID"),knows:ot("knows"),lastName:ot("lastName"),logo:ot("logo"),made:ot("made"),maker:ot("maker"),mbox:ot("mbox"),mbox_sha1sum:ot("mbox_sha1sum"),member:ot("member"),membershipClass:ot("membershipClass"),msnChatID:ot("msnChatID"),myersBriggs:ot("myersBriggs"),name:ot("name"),openid:ot("openid"),pastProject:ot("pastProject"),phone:ot("phone"),plan:ot("plan"),publications:ot("publications"),schoolHomepage:ot("schoolHomepage"),sha1:ot("sha1"),skypeID:ot("skypeID"),status:ot("status"),surname:ot("surname"),theme:ot("theme"),thumbnail:ot("thumbnail"),tipjar:ot("tipjar"),title:ot("title"),topic_interest:ot("topic_interest"),weblog:ot("weblog"),workInfoHomepage:ot("workInfoHomepage"),workplaceHomepage:ot("workplaceHomepage"),yahooChatID:ot("yahooChatID")},iG="http://www.w3.org/2011/http#";function pn(n){return iG+n}var BXe={PREFIX:"http",NAMESPACE:iG,PREFIX_AND_NAMESPACE:{http:"http://www.w3.org/2011/http#"},NS:pn,Connection:pn("Connection"),EntityHeader:pn("EntityHeader"),MessageHeader:pn("MessageHeader"),GeneralHeader:pn("GeneralHeader"),HeaderElement:pn("HeaderElement"),HeaderName:pn("HeaderName"),Message:pn("Message"),Method:pn("Method"),Parameter:pn("Parameter"),Request:pn("Request"),RequestHeader:pn("RequestHeader"),Response:pn("Response"),ResponseHeader:pn("ResponseHeader"),StatusCode:pn("StatusCode"),absoluteURI:pn("absoluteURI"),requestURI:pn("requestURI"),absolutePath:pn("absolutePath"),authority:pn("authority"),body:pn("body"),connectionAuthority:pn("connectionAuthority"),elementName:pn("elementName"),elementValue:pn("elementValue"),fieldName:pn("fieldName"),fieldValue:pn("fieldValue"),headerElements:pn("headerElements"),hdrName:pn("hdrName"),headers:pn("headers"),httpVersion:pn("httpVersion"),mthd:pn("mthd"),methodName:pn("methodName"),paramName:pn("paramName"),params:pn("params"),paramValue:pn("paramValue"),reasonPhrase:pn("reasonPhrase"),requests:pn("requests"),resp:pn("resp"),sc:pn("sc"),statusCodeNumber:pn("statusCodeNumber"),statusCodeValue:pn("statusCodeValue")},oG="http://www.w3.org/2007/ont/httph#";function kx(n){return oG+n}var jXe={PREFIX:"httph-inrupt",NAMESPACE:oG,PREFIX_AND_NAMESPACE:{"httph-inrupt":"http://www.w3.org/2007/ont/httph#"},NS:kx,content_type:kx("content-type"),accept:kx("accept"),accept_language:kx("accept-language")},sG="http://www.w3.org/ns/hydra/core#";function Sn(n){return sG+n}var UXe={PREFIX:"hydra",NAMESPACE:sG,PREFIX_AND_NAMESPACE:{hydra:"http://www.w3.org/ns/hydra/core#"},NS:Sn,Class:Sn("Class"),Link:Sn("Link"),ApiDocumentation:Sn("ApiDocumentation"),TemplatedLink:Sn("TemplatedLink"),Error:Sn("Error"),Collection:Sn("Collection"),PartialCollectionView:Sn("PartialCollectionView"),BaseUriSource:Sn("BaseUriSource"),HeaderSpecification:Sn("HeaderSpecification"),property:Sn("property"),required:Sn("required"),readable:Sn("readable"),writable:Sn("writable"),writeable:Sn("writeable"),method:Sn("method"),statusCode:Sn("statusCode"),title:Sn("title"),description:Sn("description"),manages:Sn("manages"),totalItems:Sn("totalItems"),freetextQuery:Sn("freetextQuery"),template:Sn("template"),Rfc6570Template:Sn("Rfc6570Template"),variableRepresentation:Sn("variableRepresentation"),mapping:Sn("mapping"),variable:Sn("variable"),resolveRelativeUsing:Sn("resolveRelativeUsing"),offset:Sn("offset"),limit:Sn("limit"),pageIndex:Sn("pageIndex"),pageReference:Sn("pageReference"),returnsHeader:Sn("returnsHeader"),expectsHeader:Sn("expectsHeader"),headerName:Sn("headerName"),possibleValue:Sn("possibleValue"),closedSet:Sn("closedSet"),extension:Sn("extension")},aG="https://www.w3.org/2002/12/cal/ical#";function Ct(n){return aG+n}var VXe={PREFIX:"ical",NAMESPACE:aG,PREFIX_AND_NAMESPACE:{ical:"https://www.w3.org/2002/12/cal/ical#"},NS:Ct,Valarm:Ct("Valarm"),Value_DURATION:Ct("Value_DURATION"),Value_CAL_ADDRESS:Ct("Value_CAL-ADDRESS"),Value_DATE:Ct("Value_DATE"),Value_DATE_TIME:Ct("Value_DATE-TIME"),Value_PERIOD:Ct("Value_PERIOD"),Value_RECUR:Ct("Value_RECUR"),Vevent:Ct("Vevent"),Vfreebusy:Ct("Vfreebusy"),Vjournal:Ct("Vjournal"),Vtimezone:Ct("Vtimezone"),Vtodo:Ct("Vtodo"),attach:Ct("attach"),description:Ct("description"),summary:Ct("summary"),duration:Ct("duration"),attendee:Ct("attendee"),action:Ct("action"),repeat:Ct("repeat"),trigger:Ct("trigger"),categories:Ct("categories"),class:Ct("class"),comment:Ct("comment"),geo:Ct("geo"),location:Ct("location"),priority:Ct("priority"),resources:Ct("resources"),status:Ct("status"),dtend:Ct("dtend"),dtstart:Ct("dtstart"),transp:Ct("transp"),contact:Ct("contact"),organizer:Ct("organizer"),relatedTo:Ct("relatedTo"),url:Ct("url"),uid:Ct("uid"),exrule:Ct("exrule"),rdate:Ct("rdate"),rrule:Ct("rrule"),created:Ct("created"),dtstamp:Ct("dtstamp"),lastModified:Ct("lastModified"),sequence:Ct("sequence"),requestStatus:Ct("requestStatus"),freebusy:Ct("freebusy"),tzid:Ct("tzid"),tzname:Ct("tzname"),tzoffsetfrom:Ct("tzoffsetfrom"),tzoffsetto:Ct("tzoffsetto"),tzurl:Ct("tzurl"),percentComplete:Ct("percentComplete"),completed:Ct("completed"),due:Ct("due"),X_:Ct("X-"),calscale:Ct("calscale"),exdate:Ct("exdate"),method:Ct("method"),prodid:Ct("prodid"),recurrenceId:Ct("recurrenceId"),version:Ct("version")},lG="http://www.w3.org/ns/json-ld#";function gr(n){return lG+n}var $Xe={PREFIX:"jsonld",NAMESPACE:lG,PREFIX_AND_NAMESPACE:{jsonld:"http://www.w3.org/ns/json-ld#"},NS:gr,Context:gr("Context"),PrefixDefinition:gr("PrefixDefinition"),TermDefinition:gr("TermDefinition"),base:gr("base"),container:gr("container"),context:gr("context"),definition:gr("definition"),direction:gr("direction"),id:gr("id"),import:gr("import"),language:gr("language"),nest:gr("nest"),prefix:gr("prefix"),propagate:gr("propagate"),protected:gr("protected"),reverse:gr("reverse"),term:gr("term"),type:gr("type"),version:gr("version"),vocab:gr("vocab"),compacted:gr("compacted"),expanded:gr("expanded"),flattened:gr("flattened"),frame:gr("frame"),framed:gr("framed"),streaming:gr("streaming")},cG="http://www.w3.org/ns/ldp#";function jr(n){return cG+n}var HXe={PREFIX:"ldp",NAMESPACE:cG,PREFIX_AND_NAMESPACE:{ldp:"http://www.w3.org/ns/ldp#"},NS:jr,Resource:jr("Resource"),RDFSource:jr("RDFSource"),NonRDFSource:jr("NonRDFSource"),Container:jr("Container"),BasicContainer:jr("BasicContainer"),DirectContainer:jr("DirectContainer"),IndirectContainer:jr("IndirectContainer"),Page:jr("Page"),PageSortCriterion:jr("PageSortCriterion"),hasMemberRelation:jr("hasMemberRelation"),isMemberOfRelation:jr("isMemberOfRelation"),membershipResource:jr("membershipResource"),insertedContentRelation:jr("insertedContentRelation"),member:jr("member"),contains:jr("contains"),constrainedBy:jr("constrainedBy"),pageSortCriteria:jr("pageSortCriteria"),pageSortPredicate:jr("pageSortPredicate"),pageSortOrder:jr("pageSortOrder"),pageSortCollation:jr("pageSortCollation"),pageSequence:jr("pageSequence"),inbox:jr("inbox")},uG="http://www.w3.org/ns/odrl/2/";function ue(n){return uG+n}var qXe={PREFIX:"odrl",NAMESPACE:uG,PREFIX_AND_NAMESPACE:{odrl:"http://www.w3.org/ns/odrl/2/"},NS:ue,Policy:ue("Policy"),uid:ue("uid"),profile:ue("profile"),inheritFrom:ue("inheritFrom"),Rule:ue("Rule"),relation:ue("relation"),function:ue("function"),failure:ue("failure"),Asset:ue("Asset"),Party:ue("Party"),ConflictTerm:ue("ConflictTerm"),conflict:ue("conflict"),perm:ue("perm"),prohibit:ue("prohibit"),invalid:ue("invalid"),Agreement:ue("Agreement"),Offer:ue("Offer"),Set:ue("Set"),Assertion:ue("Assertion"),Privacy:ue("Privacy"),Request:ue("Request"),Ticket:ue("Ticket"),AssetCollection:ue("AssetCollection"),target:ue("target"),hasPolicy:ue("hasPolicy"),output:ue("output"),PartyCollection:ue("PartyCollection"),assignee:ue("assignee"),assigner:ue("assigner"),assigneeOf:ue("assigneeOf"),assignerOf:ue("assignerOf"),attributedParty:ue("attributedParty"),attributingParty:ue("attributingParty"),compensatedParty:ue("compensatedParty"),compensatingParty:ue("compensatingParty"),consentingParty:ue("consentingParty"),consentedParty:ue("consentedParty"),contractingParty:ue("contractingParty"),contractedParty:ue("contractedParty"),informedParty:ue("informedParty"),informingParty:ue("informingParty"),trackingParty:ue("trackingParty"),trackedParty:ue("trackedParty"),partOf:ue("partOf"),source:ue("source"),Action:ue("Action"),action:ue("action"),includedIn:ue("includedIn"),implies:ue("implies"),Permission:ue("Permission"),permission:ue("permission"),Prohibition:ue("Prohibition"),Duty:ue("Duty"),prohibition:ue("prohibition"),use:ue("use"),transfer:ue("transfer"),acceptTracking:ue("acceptTracking"),aggregate:ue("aggregate"),annotate:ue("annotate"),anonymize:ue("anonymize"),archive:ue("archive"),attribute:ue("attribute"),compensate:ue("compensate"),concurrentUse:ue("concurrentUse"),delete:ue("delete"),derive:ue("derive"),digitize:ue("digitize"),display:ue("display"),distribute:ue("distribute"),ensureExclusivity:ue("ensureExclusivity"),execute:ue("execute"),extract:ue("extract"),give:ue("give"),grantUse:ue("grantUse"),include:ue("include"),index:ue("index"),inform:ue("inform"),install:ue("install"),modify:ue("modify"),move:ue("move"),nextPolicy:ue("nextPolicy"),obtainConsent:ue("obtainConsent"),play:ue("play"),present:ue("present"),print:ue("print"),read:ue("read"),reproduce:ue("reproduce"),reviewPolicy:ue("reviewPolicy"),sell:ue("sell"),stream:ue("stream"),synchronize:ue("synchronize"),textToSpeech:ue("textToSpeech"),transform:ue("transform"),translate:ue("translate"),uninstall:ue("uninstall"),watermark:ue("watermark"),obligation:ue("obligation"),duty:ue("duty"),consequence:ue("consequence"),remedy:ue("remedy"),Constraint:ue("Constraint"),constraint:ue("constraint"),refinement:ue("refinement"),Operator:ue("Operator"),operator:ue("operator"),RightOperand:ue("RightOperand"),rightOperand:ue("rightOperand"),rightOperandReference:ue("rightOperandReference"),LeftOperand:ue("LeftOperand"),leftOperand:ue("leftOperand"),dataType:ue("dataType"),status:ue("status"),LogicalConstraint:ue("LogicalConstraint"),operand:ue("operand"),absolutePosition:ue("absolutePosition"),absoluteSpatialPosition:ue("absoluteSpatialPosition"),absoluteTemporalPosition:ue("absoluteTemporalPosition"),absoluteSize:ue("absoluteSize"),count:ue("count"),dateTime:ue("dateTime"),delayPeriod:ue("delayPeriod"),deliveryChannel:ue("deliveryChannel"),elapsedTime:ue("elapsedTime"),event:ue("event"),fileFormat:ue("fileFormat"),industry:ue("industry"),language:ue("language"),media:ue("media"),meteredTime:ue("meteredTime"),payAmount:ue("payAmount"),percentage:ue("percentage"),product:ue("product"),purpose:ue("purpose"),recipient:ue("recipient"),relativePosition:ue("relativePosition"),relativeSpatialPosition:ue("relativeSpatialPosition"),relativeTemporalPosition:ue("relativeTemporalPosition"),relativeSize:ue("relativeSize"),resolution:ue("resolution"),spatial:ue("spatial"),spatialCoordinates:ue("spatialCoordinates"),systemDevice:ue("systemDevice"),timeInterval:ue("timeInterval"),unitOfCount:ue("unitOfCount"),version:ue("version"),virtualLocation:ue("virtualLocation"),device:ue("device"),system:ue("system"),or:ue("or"),xone:ue("xone"),and:ue("and"),andSequence:ue("andSequence"),eq:ue("eq"),gt:ue("gt"),gteq:ue("gteq"),lt:ue("lt"),lteq:ue("lteq"),neq:ue("neq"),isA:ue("isA"),hasPart:ue("hasPart"),isPartOf:ue("isPartOf"),isAllOf:ue("isAllOf"),isAnyOf:ue("isAnyOf"),isNoneOf:ue("isNoneOf"),policyUsage:ue("policyUsage"),proximity:ue("proximity"),append:ue("append"),appendTo:ue("appendTo"),copy:ue("copy"),export:ue("export"),lease:ue("lease"),license:ue("license"),lend:ue("lend"),pay:ue("pay"),payeeParty:ue("payeeParty"),preview:ue("preview"),secondaryUse:ue("secondaryUse"),write:ue("write"),writeTo:ue("writeTo"),adHocShare:ue("adHocShare"),extractChar:ue("extractChar"),extractPage:ue("extractPage"),extractWord:ue("extractWord"),timedCount:ue("timedCount"),inheritRelation:ue("inheritRelation"),inheritAllowed:ue("inheritAllowed"),UndefinedTerm:ue("UndefinedTerm"),undefined:ue("undefined"),ignore:ue("ignore"),support:ue("support"),AssetScope:ue("AssetScope"),PartyScope:ue("PartyScope"),scope:ue("scope"),Group:ue("Group"),Individual:ue("Individual"),All:ue("All"),AllConnections:ue("AllConnections"),All2ndConnections:ue("All2ndConnections"),AllGroups:ue("AllGroups"),attachPolicy:ue("attachPolicy"),attachSource:ue("attachSource"),shareAlike:ue("shareAlike"),commercialize:ue("commercialize"),share:ue("share"),core:ue("core"),unit:ue("unit")},dG="http://purl.org/ontology/olo/core#";function Vl(n){return dG+n}var zXe={PREFIX:"olo",NAMESPACE:dG,PREFIX_AND_NAMESPACE:{olo:"http://purl.org/ontology/olo/core#"},NS:Vl,OrderedList:Vl("OrderedList"),Slot:Vl("Slot"),length:Vl("length"),next:Vl("next"),index:Vl("index"),ordered_list:Vl("ordered_list"),previous:Vl("previous"),slot:Vl("slot"),item:Vl("item")},fG="http://www.w3.org/2002/07/owl#";function st(n){return fG+n}var GXe={PREFIX:"owl",NAMESPACE:fG,PREFIX_AND_NAMESPACE:{owl:"http://www.w3.org/2002/07/owl#"},NS:st,Ontology:st("Ontology"),OntologyProperty:st("OntologyProperty"),AnnotationProperty:st("AnnotationProperty"),AllDifferent:st("AllDifferent"),AllDisjointClasses:st("AllDisjointClasses"),AllDisjointProperties:st("AllDisjointProperties"),Annotation:st("Annotation"),AsymmetricProperty:st("AsymmetricProperty"),ObjectProperty:st("ObjectProperty"),Axiom:st("Axiom"),Class:st("Class"),DataRange:st("DataRange"),DatatypeProperty:st("DatatypeProperty"),DeprecatedClass:st("DeprecatedClass"),DeprecatedProperty:st("DeprecatedProperty"),FunctionalProperty:st("FunctionalProperty"),InverseFunctionalProperty:st("InverseFunctionalProperty"),IrreflexiveProperty:st("IrreflexiveProperty"),NamedIndividual:st("NamedIndividual"),Thing:st("Thing"),NegativePropertyAssertion:st("NegativePropertyAssertion"),Nothing:st("Nothing"),ReflexiveProperty:st("ReflexiveProperty"),Restriction:st("Restriction"),SymmetricProperty:st("SymmetricProperty"),TransitiveProperty:st("TransitiveProperty"),versionInfo:st("versionInfo"),allValuesFrom:st("allValuesFrom"),annotatedProperty:st("annotatedProperty"),annotatedSource:st("annotatedSource"),annotatedTarget:st("annotatedTarget"),assertionProperty:st("assertionProperty"),backwardCompatibleWith:st("backwardCompatibleWith"),bottomDataProperty:st("bottomDataProperty"),bottomObjectProperty:st("bottomObjectProperty"),cardinality:st("cardinality"),complementOf:st("complementOf"),datatypeComplementOf:st("datatypeComplementOf"),deprecated:st("deprecated"),differentFrom:st("differentFrom"),disjointUnionOf:st("disjointUnionOf"),disjointWith:st("disjointWith"),distinctMembers:st("distinctMembers"),equivalentClass:st("equivalentClass"),equivalentProperty:st("equivalentProperty"),hasKey:st("hasKey"),hasSelf:st("hasSelf"),hasValue:st("hasValue"),incompatibleWith:st("incompatibleWith"),intersectionOf:st("intersectionOf"),inverseOf:st("inverseOf"),maxCardinality:st("maxCardinality"),maxQualifiedCardinality:st("maxQualifiedCardinality"),members:st("members"),minCardinality:st("minCardinality"),minQualifiedCardinality:st("minQualifiedCardinality"),onClass:st("onClass"),onDataRange:st("onDataRange"),onDatatype:st("onDatatype"),oneOf:st("oneOf"),onProperties:st("onProperties"),onProperty:st("onProperty"),priorVersion:st("priorVersion"),propertyChainAxiom:st("propertyChainAxiom"),propertyDisjointWith:st("propertyDisjointWith"),qualifiedCardinality:st("qualifiedCardinality"),sameAs:st("sameAs"),someValuesFrom:st("someValuesFrom"),sourceIndividual:st("sourceIndividual"),targetIndividual:st("targetIndividual"),targetValue:st("targetValue"),topDataProperty:st("topDataProperty"),topObjectProperty:st("topObjectProperty"),unionOf:st("unionOf"),withRestrictions:st("withRestrictions")},hG="http://www.w3.org/ns/posix/stat#";function ts(n){return hG+n}var WXe={PREFIX:"posix",NAMESPACE:hG,PREFIX_AND_NAMESPACE:{posix:"http://www.w3.org/ns/posix/stat#"},NS:ts,atime:ts("atime"),blksize:ts("blksize"),blocks:ts("blocks"),ctime:ts("ctime"),dev:ts("dev"),gid:ts("gid"),ino:ts("ino"),mode:ts("mode"),mtime:ts("mtime"),nlink:ts("nlink"),rdev:ts("rdev"),size:ts("size"),uid:ts("uid")},pG="http://www.w3.org/ns/prov#";function ze(n){return pG+n}var KXe={PREFIX:"prov-o",NAMESPACE:pG,PREFIX_AND_NAMESPACE:{"prov-o":"http://www.w3.org/ns/prov#"},NS:ze,Entity:ze("Entity"),Revision:ze("Revision"),Activity:ze("Activity"),InstantaneousEvent:ze("InstantaneousEvent"),ActivityInfluence:ze("ActivityInfluence"),EntityInfluence:ze("EntityInfluence"),Influence:ze("Influence"),Agent:ze("Agent"),AgentInfluence:ze("AgentInfluence"),Association:ze("Association"),Attribution:ze("Attribution"),Bundle:ze("Bundle"),Collection:ze("Collection"),Communication:ze("Communication"),Delegation:ze("Delegation"),Derivation:ze("Derivation"),EmptyCollection:ze("EmptyCollection"),End:ze("End"),Generation:ze("Generation"),Invalidation:ze("Invalidation"),Location:ze("Location"),Organization:ze("Organization"),Person:ze("Person"),Plan:ze("Plan"),PrimarySource:ze("PrimarySource"),Quotation:ze("Quotation"),Role:ze("Role"),SoftwareAgent:ze("SoftwareAgent"),Start:ze("Start"),Usage:ze("Usage"),wasRevisionOf:ze("wasRevisionOf"),specializationOf:ze("specializationOf"),category:ze("category"),component:ze("component"),wasDerivedFrom:ze("wasDerivedFrom"),inverse:ze("inverse"),qualifiedForm:ze("qualifiedForm"),qualifiedRevision:ze("qualifiedRevision"),alternateOf:ze("alternateOf"),constraints:ze("constraints"),definition:ze("definition"),dm:ze("dm"),n:ze("n"),activity:ze("activity"),editorsDefinition:ze("editorsDefinition"),influencer:ze("influencer"),editorialNote:ze("editorialNote"),entity:ze("entity"),unqualifiedForm:ze("unqualifiedForm"),wasInfluencedBy:ze("wasInfluencedBy"),hadActivity:ze("hadActivity"),sharesDefinitionWith:ze("sharesDefinitionWith"),qualifiedInfluence:ze("qualifiedInfluence"),agent:ze("agent"),wasAssociatedWith:ze("wasAssociatedWith"),qualifiedAssociation:ze("qualifiedAssociation"),wasAttributedTo:ze("wasAttributedTo"),qualifiedAttribution:ze("qualifiedAttribution"),wasInformedBy:ze("wasInformedBy"),qualifiedCommunication:ze("qualifiedCommunication"),actedOnBehalfOf:ze("actedOnBehalfOf"),qualifiedDelegation:ze("qualifiedDelegation"),qualifiedDerivation:ze("qualifiedDerivation"),wasEndedBy:ze("wasEndedBy"),qualifiedEnd:ze("qualifiedEnd"),wasGeneratedBy:ze("wasGeneratedBy"),qualifiedGeneration:ze("qualifiedGeneration"),wasInvalidatedBy:ze("wasInvalidatedBy"),qualifiedInvalidation:ze("qualifiedInvalidation"),atLocation:ze("atLocation"),hadPrimarySource:ze("hadPrimarySource"),qualifiedPrimarySource:ze("qualifiedPrimarySource"),wasQuotedFrom:ze("wasQuotedFrom"),qualifiedQuotation:ze("qualifiedQuotation"),hadRole:ze("hadRole"),wasStartedBy:ze("wasStartedBy"),qualifiedStart:ze("qualifiedStart"),used:ze("used"),qualifiedUsage:ze("qualifiedUsage"),aq:ze("aq"),atTime:ze("atTime"),endedAtTime:ze("endedAtTime"),generatedAtTime:ze("generatedAtTime"),invalidatedAtTime:ze("invalidatedAtTime"),startedAtTime:ze("startedAtTime"),generated:ze("generated"),influenced:ze("influenced"),hadGeneration:ze("hadGeneration"),hadMember:ze("hadMember"),hadPlan:ze("hadPlan"),hadUsage:ze("hadUsage"),invalidated:ze("invalidated"),order:ze("order"),todo:ze("todo"),value:ze("value")},mG="http://purl.org/linked-data/cube#";function xn(n){return mG+n}var JXe={PREFIX:"qb",NAMESPACE:mG,PREFIX_AND_NAMESPACE:{qb:"http://purl.org/linked-data/cube#"},NS:xn,DataSet:xn("DataSet"),Attachable:xn("Attachable"),Observation:xn("Observation"),ObservationGroup:xn("ObservationGroup"),Slice:xn("Slice"),ComponentProperty:xn("ComponentProperty"),DimensionProperty:xn("DimensionProperty"),CodedProperty:xn("CodedProperty"),MeasureProperty:xn("MeasureProperty"),AttributeProperty:xn("AttributeProperty"),DataStructureDefinition:xn("DataStructureDefinition"),ComponentSet:xn("ComponentSet"),ComponentSpecification:xn("ComponentSpecification"),SliceKey:xn("SliceKey"),HierarchicalCodeList:xn("HierarchicalCodeList"),dataSet:xn("dataSet"),observation:xn("observation"),observationGroup:xn("observationGroup"),slice:xn("slice"),measureType:xn("measureType"),structure:xn("structure"),component:xn("component"),componentProperty:xn("componentProperty"),order:xn("order"),componentRequired:xn("componentRequired"),componentAttachment:xn("componentAttachment"),dimension:xn("dimension"),measure:xn("measure"),attribute:xn("attribute"),measureDimension:xn("measureDimension"),sliceStructure:xn("sliceStructure"),sliceKey:xn("sliceKey"),concept:xn("concept"),codeList:xn("codeList"),hierarchyRoot:xn("hierarchyRoot"),parentChildProperty:xn("parentChildProperty")},gG="http://www.w3.org/1999/02/22-rdf-syntax-ns#";function Ur(n){return gG+n}var XXe={PREFIX:"rdf",NAMESPACE:gG,PREFIX_AND_NAMESPACE:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#"},NS:Ur,Property:Ur("Property"),HTML:Ur("HTML"),langString:Ur("langString"),PlainLiteral:Ur("PlainLiteral"),Statement:Ur("Statement"),Bag:Ur("Bag"),Seq:Ur("Seq"),Alt:Ur("Alt"),List:Ur("List"),XMLLiteral:Ur("XMLLiteral"),JSON:Ur("JSON"),CompoundLiteral:Ur("CompoundLiteral"),type:Ur("type"),subject:Ur("subject"),predicate:Ur("predicate"),object:Ur("object"),value:Ur("value"),nil:Ur("nil"),first:Ur("first"),rest:Ur("rest"),language:Ur("language"),direction:Ur("direction")},yG="http://www.w3.org/2000/01/rdf-schema#";function uo(n){return yG+n}var YXe={PREFIX:"rdfs",NAMESPACE:yG,PREFIX_AND_NAMESPACE:{rdfs:"http://www.w3.org/2000/01/rdf-schema#"},NS:uo,Resource:uo("Resource"),Class:uo("Class"),Literal:uo("Literal"),Container:uo("Container"),ContainerMembershipProperty:uo("ContainerMembershipProperty"),Datatype:uo("Datatype"),seeAlso:uo("seeAlso"),isDefinedBy:uo("isDefinedBy"),label:uo("label"),comment:uo("comment"),range:uo("range"),domain:uo("domain"),subClassOf:uo("subClassOf"),subPropertyOf:uo("subPropertyOf"),member:uo("member")},vG="http://persistence.uni-leipzig.org/nlp2rdf/ontologies/rlog#";function li(n){return vG+n}var QXe={PREFIX:"rlog",NAMESPACE:vG,PREFIX_AND_NAMESPACE:{rlog:"http://persistence.uni-leipzig.org/nlp2rdf/ontologies/rlog#"},NS:li,Level:li("Level"),Entry:li("Entry"),StatusCode:li("StatusCode"),ALL:li("ALL"),priority:li("priority"),DEBUG:li("DEBUG"),ERROR:li("ERROR"),FATAL:li("FATAL"),INFO:li("INFO"),OFF:li("OFF"),TRACE:li("TRACE"),WARN:li("WARN"),className:li("className"),codeId:li("codeId"),date:li("date"),hasCode:li("hasCode"),level:li("level"),message:li("message"),resource:li("resource")},_G="http://schema.org/";function Wt(n){return _G+n}var bG={PREFIX:"schema-inrupt",NAMESPACE:_G,PREFIX_AND_NAMESPACE:{"schema-inrupt":"http://schema.org/"},NS:Wt,Organization:Wt("Organization"),Person:Wt("Person"),ImageObject:Wt("ImageObject"),URL:Wt("URL"),MedicalTherapy:Wt("MedicalTherapy"),EducationalOccupationalCredential:Wt("EducationalOccupationalCredential"),PostalAddress:Wt("PostalAddress"),Product:Wt("Product"),Event:Wt("Event"),alternateName:Wt("alternateName"),givenName:Wt("givenName"),familyName:Wt("familyName"),additionalName:Wt("additionalName"),license:Wt("license"),name:Wt("name"),text:Wt("text"),identifier:Wt("identifier"),description:Wt("description"),image:Wt("image"),url:Wt("url"),startTime:Wt("startTime"),endTime:Wt("endTime"),startDate:Wt("startDate"),endDate:Wt("endDate"),email:Wt("email"),primaryPrevention:Wt("primaryPrevention"),qualifications:Wt("qualifications"),attendee:Wt("attendee"),address:Wt("address"),streetAddress:Wt("streetAddress"),addressLocality:Wt("addressLocality"),addressRegion:Wt("addressRegion"),postalCode:Wt("postalCode"),addressCountry:Wt("addressCountry"),accessCode:Wt("accessCode"),accountId:Wt("accountId"),serialNumber:Wt("serialNumber"),productID:Wt("productID"),brand:Wt("brand"),model:Wt("model"),value:Wt("value"),distance:Wt("distance"),latitude:Wt("latitude"),longitude:Wt("longitude"),dateModified:Wt("dateModified")},wG="http://www.w3.org/ns/sparql-service-description#";function qn(n){return wG+n}var ZXe={PREFIX:"sd",NAMESPACE:wG,PREFIX_AND_NAMESPACE:{sd:"http://www.w3.org/ns/sparql-service-description#"},NS:qn,Service:qn("Service"),Feature:qn("Feature"),EntailmentRegime:qn("EntailmentRegime"),NamedGraph:qn("NamedGraph"),EntailmentProfile:qn("EntailmentProfile"),Function:qn("Function"),Aggregate:qn("Aggregate"),Language:qn("Language"),Dataset:qn("Dataset"),GraphCollection:qn("GraphCollection"),Graph:qn("Graph"),endpoint:qn("endpoint"),feature:qn("feature"),defaultEntailmentRegime:qn("defaultEntailmentRegime"),entailmentRegime:qn("entailmentRegime"),defaultSupportedEntailmentProfile:qn("defaultSupportedEntailmentProfile"),supportedEntailmentProfile:qn("supportedEntailmentProfile"),extensionFunction:qn("extensionFunction"),extensionAggregate:qn("extensionAggregate"),languageExtension:qn("languageExtension"),supportedLanguage:qn("supportedLanguage"),propertyFeature:qn("propertyFeature"),defaultDataset:qn("defaultDataset"),availableGraphs:qn("availableGraphs"),resultFormat:qn("resultFormat"),inputFormat:qn("inputFormat"),defaultGraph:qn("defaultGraph"),namedGraph:qn("namedGraph"),name:qn("name"),graph:qn("graph")},EG="http://purl.org/linked-data/sdmx/2009/dimension#";function Ka(n){return EG+n}var eYe={PREFIX:"sdmx-dimension",NAMESPACE:EG,PREFIX_AND_NAMESPACE:{"sdmx-dimension":"http://purl.org/linked-data/sdmx/2009/dimension#"},NS:Ka,age:Ka("age"),civilStatus:Ka("civilStatus"),currency:Ka("currency"),educationLev:Ka("educationLev"),freq:Ka("freq"),occupation:Ka("occupation"),refArea:Ka("refArea"),refPeriod:Ka("refPeriod"),sex:Ka("sex"),timePeriod:Ka("timePeriod")},SG="https://w3id.org/security#";function ft(n){return SG+n}var tYe={PREFIX:"sec",NAMESPACE:SG,PREFIX_AND_NAMESPACE:{sec:"https://w3id.org/security#"},NS:ft,EcdsaSecp256k1Signature2019:ft("EcdsaSecp256k1Signature2019"),EcdsaSecp256k1RecoverySignature2020:ft("EcdsaSecp256k1RecoverySignature2020"),EcdsaSecp256k1VerificationKey2019:ft("EcdsaSecp256k1VerificationKey2019"),EcdsaSecp256k1RecoveryMethod2020:ft("EcdsaSecp256k1RecoveryMethod2020"),RsaSignature2018:ft("RsaSignature2018"),RsaVerificationKey2018:ft("RsaVerificationKey2018"),SchnorrSecp256k1Signature2019:ft("SchnorrSecp256k1Signature2019"),SchnorrSecp256k1VerificationKey2019:ft("SchnorrSecp256k1VerificationKey2019"),ServiceEndpointProxyService:ft("ServiceEndpointProxyService"),Digest:ft("Digest"),EncryptedMessage:ft("EncryptedMessage"),Signature:ft("Signature"),LinkedDataSignature2015:ft("LinkedDataSignature2015"),X25519KeyAgreementKey2019:ft("X25519KeyAgreementKey2019"),Ed25519VerificationKey2018:ft("Ed25519VerificationKey2018"),BbsBlsSignature2020:ft("BbsBlsSignature2020"),BbsBlsSignatureProof2020:ft("BbsBlsSignatureProof2020"),Bls12381G1Key2020:ft("Bls12381G1Key2020"),Bls12381G2Key2020:ft("Bls12381G2Key2020"),Key:ft("Key"),cipherAlgorithm:ft("cipherAlgorithm"),cipherData:ft("cipherData"),digestAlgorithm:ft("digestAlgorithm"),digestValue:ft("digestValue"),cipherKey:ft("cipherKey"),blockchainAccountId:ft("blockchainAccountId"),ethereumAddress:ft("ethereumAddress"),expires:ft("expires"),initializationVector:ft("initializationVector"),nonce:ft("nonce"),canonicalizationAlgorithm:ft("canonicalizationAlgorithm"),owner:ft("owner"),password:ft("password"),privateKeyPem:ft("privateKeyPem"),verificationMethod:ft("verificationMethod"),publicKey:ft("publicKey"),assertionMethod:ft("assertionMethod"),authenticationMethod:ft("authenticationMethod"),capabilityDelegationMethod:ft("capabilityDelegationMethod"),capabilityInvocationMethod:ft("capabilityInvocationMethod"),keyAgreementMethod:ft("keyAgreementMethod"),publicKeyBase58:ft("publicKeyBase58"),publicKeyJwk:ft("publicKeyJwk"),publicKeyPem:ft("publicKeyPem"),publicKeyHex:ft("publicKeyHex"),publicKeyMultibase:ft("publicKeyMultibase"),publicKeyService:ft("publicKeyService"),revoked:ft("revoked"),proof:ft("proof"),jws:ft("jws"),proofPurpose:ft("proofPurpose"),challenge:ft("challenge"),domain:ft("domain"),expiration:ft("expiration"),proofValue:ft("proofValue"),signature:ft("signature"),signatureValue:ft("signatureValue"),signatureAlgorithm:ft("signatureAlgorithm"),service:ft("service"),serviceEndpoint:ft("serviceEndpoint"),x509CertificateChain:ft("x509CertificateChain"),x509CertificateFingerprint:ft("x509CertificateFingerprint"),allowedAction:ft("allowedAction"),capability:ft("capability"),capabilityAction:ft("capabilityAction"),capabilityChain:ft("capabilityChain"),caveat:ft("caveat"),delegator:ft("delegator"),invocationTarget:ft("invocationTarget"),invoker:ft("invoker")},CG="http://www.w3.org/ns/shex#";function yt(n){return CG+n}var nYe={PREFIX:"shex",NAMESPACE:CG,PREFIX_AND_NAMESPACE:{shex:"http://www.w3.org/ns/shex#"},NS:yt,Annotation:yt("Annotation"),EachOf:yt("EachOf"),TripleExpression:yt("TripleExpression"),IriStem:yt("IriStem"),Stem:yt("Stem"),IriStemRange:yt("IriStemRange"),StemRange:yt("StemRange"),Language:yt("Language"),LanguageStem:yt("LanguageStem"),LanguageStemRange:yt("LanguageStemRange"),LiteralStem:yt("LiteralStem"),LiteralStemRange:yt("LiteralStemRange"),NodeConstraint:yt("NodeConstraint"),ShapeExpression:yt("ShapeExpression"),NodeKind:yt("NodeKind"),OneOf:yt("OneOf"),Schema:yt("Schema"),SemAct:yt("SemAct"),Shape:yt("Shape"),ShapeAnd:yt("ShapeAnd"),ShapeExternal:yt("ShapeExternal"),ShapeNot:yt("ShapeNot"),ShapeOr:yt("ShapeOr"),TripleConstraint:yt("TripleConstraint"),Wildcard:yt("Wildcard"),annotation:yt("annotation"),closed:yt("closed"),code:yt("code"),datatype:yt("datatype"),exclusion:yt("exclusion"),expression:yt("expression"),expressions:yt("expressions"),extra:yt("extra"),flags:yt("flags"),fractiondigits:yt("fractiondigits"),numericFacet:yt("numericFacet"),xsFacet:yt("xsFacet"),inverse:yt("inverse"),languageTag:yt("languageTag"),length:yt("length"),stringFacet:yt("stringFacet"),max:yt("max"),maxexclusive:yt("maxexclusive"),maxinclusive:yt("maxinclusive"),maxlength:yt("maxlength"),min:yt("min"),minexclusive:yt("minexclusive"),mininclusive:yt("mininclusive"),minlength:yt("minlength"),name:yt("name"),nodeKind:yt("nodeKind"),object:yt("object"),pattern:yt("pattern"),predicate:yt("predicate"),semActs:yt("semActs"),shapeExpr:yt("shapeExpr"),shapeExprs:yt("shapeExprs"),shapes:yt("shapes"),start:yt("start"),startActs:yt("startActs"),stem:yt("stem"),totaldigits:yt("totaldigits"),valueExpr:yt("valueExpr"),values:yt("values")},xG="http://rdfs.org/sioc/ns#";function qe(n){return xG+n}var rYe={PREFIX:"sioc",NAMESPACE:xG,PREFIX_AND_NAMESPACE:{sioc:"http://rdfs.org/sioc/ns#"},NS:qe,Community:qe("Community"),Item:qe("Item"),Role:qe("Role"),UserAccount:qe("UserAccount"),Container:qe("Container"),Usergroup:qe("Usergroup"),Space:qe("Space"),Forum:qe("Forum"),Post:qe("Post"),Site:qe("Site"),Thread:qe("Thread"),User:qe("User"),about:qe("about"),account_of:qe("account_of"),addressed_to:qe("addressed_to"),administrator_of:qe("administrator_of"),has_administrator:qe("has_administrator"),attachment:qe("attachment"),avatar:qe("avatar"),container_of:qe("container_of"),has_container:qe("has_container"),content:qe("content"),creator_of:qe("creator_of"),has_creator:qe("has_creator"),delivered_at:qe("delivered_at"),discussion_of:qe("discussion_of"),has_discussion:qe("has_discussion"),email:qe("email"),email_sha1:qe("email_sha1"),embeds_knowledge:qe("embeds_knowledge"),feed:qe("feed"),follows:qe("follows"),function_of:qe("function_of"),has_function:qe("has_function"),generator:qe("generator"),has_host:qe("has_host"),host_of:qe("host_of"),has_space:qe("has_space"),space_of:qe("space_of"),has_member:qe("has_member"),member_of:qe("member_of"),has_moderator:qe("has_moderator"),moderator_of:qe("moderator_of"),has_modifier:qe("has_modifier"),modifier_of:qe("modifier_of"),has_owner:qe("has_owner"),owner_of:qe("owner_of"),has_parent:qe("has_parent"),parent_of:qe("parent_of"),has_reply:qe("has_reply"),reply_of:qe("reply_of"),related_to:qe("related_to"),has_scope:qe("has_scope"),scope_of:qe("scope_of"),has_subscriber:qe("has_subscriber"),subscriber_of:qe("subscriber_of"),has_usergroup:qe("has_usergroup"),usergroup_of:qe("usergroup_of"),id:qe("id"),ip_address:qe("ip_address"),last_activity_date:qe("last_activity_date"),last_item_date:qe("last_item_date"),last_reply_date:qe("last_reply_date"),latest_version:qe("latest_version"),likes:qe("likes"),link:qe("link"),links_to:qe("links_to"),mentions:qe("mentions"),name:qe("name"),next_by_date:qe("next_by_date"),previous_by_date:qe("previous_by_date"),next_version:qe("next_version"),previous_version:qe("previous_version"),note:qe("note"),num_authors:qe("num_authors"),num_items:qe("num_items"),num_replies:qe("num_replies"),num_threads:qe("num_threads"),num_views:qe("num_views"),read_at:qe("read_at"),respond_to:qe("respond_to"),shared_by:qe("shared_by"),topic:qe("topic"),title:qe("title"),content_encoded:qe("content_encoded"),created_at:qe("created_at"),description:qe("description"),first_name:qe("first_name"),group_of:qe("group_of"),has_group:qe("has_group"),has_part:qe("has_part"),part_of:qe("part_of"),last_name:qe("last_name"),modified_at:qe("modified_at"),reference:qe("reference"),subject:qe("subject")},DG="http://www.w3.org/2004/02/skos/core#";function Bn(n){return DG+n}var iYe={PREFIX:"skos",NAMESPACE:DG,PREFIX_AND_NAMESPACE:{skos:"http://www.w3.org/2004/02/skos/core#"},NS:Bn,Concept:Bn("Concept"),ConceptScheme:Bn("ConceptScheme"),Collection:Bn("Collection"),OrderedCollection:Bn("OrderedCollection"),definition:Bn("definition"),note:Bn("note"),scopeNote:Bn("scopeNote"),example:Bn("example"),inScheme:Bn("inScheme"),hasTopConcept:Bn("hasTopConcept"),topConceptOf:Bn("topConceptOf"),prefLabel:Bn("prefLabel"),altLabel:Bn("altLabel"),hiddenLabel:Bn("hiddenLabel"),notation:Bn("notation"),changeNote:Bn("changeNote"),editorialNote:Bn("editorialNote"),historyNote:Bn("historyNote"),semanticRelation:Bn("semanticRelation"),broader:Bn("broader"),broaderTransitive:Bn("broaderTransitive"),narrower:Bn("narrower"),narrowerTransitive:Bn("narrowerTransitive"),related:Bn("related"),member:Bn("member"),memberList:Bn("memberList"),mappingRelation:Bn("mappingRelation"),broadMatch:Bn("broadMatch"),narrowMatch:Bn("narrowMatch"),relatedMatch:Bn("relatedMatch"),exactMatch:Bn("exactMatch"),closeMatch:Bn("closeMatch")},IG="http://www.w3.org/2008/05/skos-xl#";function rh(n){return IG+n}var oYe={PREFIX:"skos-xl",NAMESPACE:IG,PREFIX_AND_NAMESPACE:{"skos-xl":"http://www.w3.org/2008/05/skos-xl#"},NS:rh,Label:rh("Label"),literalForm:rh("literalForm"),prefLabel:rh("prefLabel"),altLabel:rh("altLabel"),hiddenLabel:rh("hiddenLabel"),labelRelation:rh("labelRelation")},AG="http://www.w3.org/ns/ui#";function ct(n){return AG+n}var sYe={PREFIX:"ui",NAMESPACE:AG,PREFIX_AND_NAMESPACE:{ui:"http://www.w3.org/ns/ui#"},NS:ct,BooleanField:ct("BooleanField"),NumericField:ct("NumericField"),ValueField:ct("ValueField"),Form:ct("Form"),Single:ct("Single"),Group:ct("Group"),Choice:ct("Choice"),Classifier:ct("Classifier"),ColorField:ct("ColorField"),TextField:ct("TextField"),Comment:ct("Comment"),DateField:ct("DateField"),DateTimeField:ct("DateTimeField"),DecimalField:ct("DecimalField"),EmailField:ct("EmailField"),Heading:ct("Heading"),SingleLineTextField:ct("SingleLineTextField"),Options:ct("Options"),IntegerField:ct("IntegerField"),FloatField:ct("FloatField"),PhoneField:ct("PhoneField"),Multiple:ct("Multiple"),MultiLineTextField:ct("MultiLineTextField"),NamedNodeURIField:ct("NamedNodeURIField"),TriStateField:ct("TriStateField"),parts:ct("parts"),creationForm:ct("creationForm"),from:ct("from"),label:ct("label"),property:ct("property"),for:ct("for"),prompt:ct("prompt"),use:ct("use"),Color:ct("Color"),contents:ct("contents"),size:ct("size"),style:ct("style"),category:ct("category"),dependingOn:ct("dependingOn"),maxLength:ct("maxLength"),part:ct("part"),TimeField:ct("TimeField"),annotationForm:ct("annotationForm"),backgroundColor:ct("backgroundColor"),backgroundImage:ct("backgroundImage"),base:ct("base"),color:ct("color"),defaultError:ct("defaultError"),initialProperties:ct("initialProperties"),maxDateOffset:ct("maxDateOffset"),maxDatetimeOffset:ct("maxDatetimeOffset"),maxValue:ct("maxValue"),minDateOffset:ct("minDateOffset"),minDatetimeOffset:ct("minDatetimeOffset"),minLength:ct("minLength"),minValue:ct("minValue"),name:ct("name"),oldValue:ct("oldValue"),parentProperty:ct("parentProperty"),partsClone:ct("partsClone"),pattern:ct("pattern"),reference:ct("reference"),required:ct("required"),requiredError:ct("requiredError"),seqeunce:ct("seqeunce"),sortBy:ct("sortBy"),sortPriority:ct("sortPriority"),tableProperties:ct("tableProperties"),valid:ct("valid"),validationError:ct("validationError"),value:ct("value"),values:ct("values")},TG="http://www.w3.org/ns/ui#";function ut(n){return TG+n}var aYe={PREFIX:"ui-inrupt",NAMESPACE:TG,PREFIX_AND_NAMESPACE:{"ui-inrupt":"http://www.w3.org/ns/ui#"},NS:ut,BooleanField:ut("BooleanField"),NumericField:ut("NumericField"),ValueField:ut("ValueField"),Form:ut("Form"),Single:ut("Single"),TextField:ut("TextField"),TriStateField:ut("TriStateField"),Group:ut("Group"),Choice:ut("Choice"),Classifier:ut("Classifier"),ColorField:ut("ColorField"),Comment:ut("Comment"),DateField:ut("DateField"),DateTimeField:ut("DateTimeField"),DecimalField:ut("DecimalField"),EmailField:ut("EmailField"),Heading:ut("Heading"),SingleLineTextField:ut("SingleLineTextField"),Options:ut("Options"),IntegerField:ut("IntegerField"),FloatField:ut("FloatField"),PhoneField:ut("PhoneField"),Multiple:ut("Multiple"),MultiLineTextField:ut("MultiLineTextField"),NamedNodeURIField:ut("NamedNodeURIField"),creationForm:ut("creationForm"),parts:ut("parts"),from:ut("from"),label:ut("label"),property:ut("property"),for:ut("for"),prompt:ut("prompt"),use:ut("use"),category:ut("category"),Color:ut("Color"),contents:ut("contents"),size:ut("size"),style:ut("style"),dependingOn:ut("dependingOn"),part:ut("part"),maxLength:ut("maxLength"),TimeField:ut("TimeField"),annotationForm:ut("annotationForm"),backgroundColor:ut("backgroundColor"),backgroundImage:ut("backgroundImage"),base:ut("base"),color:ut("color"),defaultError:ut("defaultError"),initialProperties:ut("initialProperties"),maxDateOffset:ut("maxDateOffset"),maxDatetimeOffset:ut("maxDatetimeOffset"),maxValue:ut("maxValue"),minDateOffset:ut("minDateOffset"),minDatetimeOffset:ut("minDatetimeOffset"),minLength:ut("minLength"),minValue:ut("minValue"),name:ut("name"),oldValue:ut("oldValue"),parentProperty:ut("parentProperty"),partsClone:ut("partsClone"),pattern:ut("pattern"),reference:ut("reference"),required:ut("required"),requiredError:ut("requiredError"),seqeunce:ut("seqeunce"),sortBy:ut("sortBy"),sortPriority:ut("sortPriority"),tableProperties:ut("tableProperties"),valid:ut("valid"),validationError:ut("validationError"),value:ut("value"),values:ut("values")},RG="http://purl.org/vocab/vann/";function ih(n){return RG+n}var lYe={PREFIX:"vann",NAMESPACE:RG,PREFIX_AND_NAMESPACE:{vann:"http://purl.org/vocab/vann/"},NS:ih,preferredNamespacePrefix:ih("preferredNamespacePrefix"),preferredNamespaceUri:ih("preferredNamespaceUri"),changes:ih("changes"),example:ih("example"),termGroup:ih("termGroup"),usageNote:ih("usageNote")},NG="http://www.w3.org/2006/vcard/ns#";function Se(n){return NG+n}var c_={PREFIX:"vcard",NAMESPACE:NG,PREFIX_AND_NAMESPACE:{vcard:"http://www.w3.org/2006/vcard/ns#"},NS:Se,Acquaintance:Se("Acquaintance"),RelatedType:Se("RelatedType"),Agent:Se("Agent"),BBS:Se("BBS"),TelephoneType:Se("TelephoneType"),Car:Se("Car"),Cell:Se("Cell"),Child:Se("Child"),Colleague:Se("Colleague"),Contact:Se("Contact"),Coresident:Se("Coresident"),Coworker:Se("Coworker"),Crush:Se("Crush"),Date:Se("Date"),Dom:Se("Dom"),Type:Se("Type"),Emergency:Se("Emergency"),Fax:Se("Fax"),Female:Se("Female"),Gender:Se("Gender"),Friend:Se("Friend"),Home:Se("Home"),ISDN:Se("ISDN"),Internet:Se("Internet"),Intl:Se("Intl"),Kin:Se("Kin"),Label:Se("Label"),Male:Se("Male"),Me:Se("Me"),Met:Se("Met"),Modem:Se("Modem"),Msg:Se("Msg"),Muse:Se("Muse"),Neighbor:Se("Neighbor"),None:Se("None"),Other:Se("Other"),PCS:Se("PCS"),Pager:Se("Pager"),Parcel:Se("Parcel"),Parent:Se("Parent"),Postal:Se("Postal"),Pref:Se("Pref"),Sibling:Se("Sibling"),Spouse:Se("Spouse"),Sweetheart:Se("Sweetheart"),Tel:Se("Tel"),Text:Se("Text"),TextPhone:Se("TextPhone"),Unknown:Se("Unknown"),Video:Se("Video"),Voice:Se("Voice"),Work:Se("Work"),X400:Se("X400"),Address:Se("Address"),Email:Se("Email"),Group:Se("Group"),Kind:Se("Kind"),Individual:Se("Individual"),Location:Se("Location"),Organization:Se("Organization"),VCard:Se("VCard"),Name:Se("Name"),adr:Se("adr"),hasAddress:Se("hasAddress"),agent:Se("agent"),anniversary:Se("anniversary"),bday:Se("bday"),category:Se("category"),class:Se("class"),email:Se("email"),hasEmail:Se("hasEmail"),extended_address:Se("extended-address"),geo:Se("geo"),hasGeo:Se("hasGeo"),hasAdditionalName:Se("hasAdditionalName"),hasCalendarBusy:Se("hasCalendarBusy"),hasCalendarLink:Se("hasCalendarLink"),hasCalendarRequest:Se("hasCalendarRequest"),hasCategory:Se("hasCategory"),hasCountryName:Se("hasCountryName"),hasFN:Se("hasFN"),hasFamilyName:Se("hasFamilyName"),hasGender:Se("hasGender"),hasGivenName:Se("hasGivenName"),hasHonorificPrefix:Se("hasHonorificPrefix"),hasHonorificSuffix:Se("hasHonorificSuffix"),hasInstantMessage:Se("hasInstantMessage"),hasLanguage:Se("hasLanguage"),hasLocality:Se("hasLocality"),hasNickname:Se("hasNickname"),nickname:Se("nickname"),hasNote:Se("hasNote"),hasOrganizationName:Se("hasOrganizationName"),hasOrganizationUnit:Se("hasOrganizationUnit"),hasPostalCode:Se("hasPostalCode"),hasRegion:Se("hasRegion"),hasRelated:Se("hasRelated"),hasRole:Se("hasRole"),hasSource:Se("hasSource"),hasStreetAddress:Se("hasStreetAddress"),hasTitle:Se("hasTitle"),hasUID:Se("hasUID"),hasValue:Se("hasValue"),label:Se("label"),language:Se("language"),latitude:Se("latitude"),longitude:Se("longitude"),mailer:Se("mailer"),note:Se("note"),org:Se("org"),organization_name:Se("organization-name"),organization_unit:Se("organization-unit"),post_office_box:Se("post-office-box"),prodid:Se("prodid"),rev:Se("rev"),role:Se("role"),sort_string:Se("sort-string"),title:Se("title"),tz:Se("tz"),value:Se("value"),country_name:Se("country-name"),locality:Se("locality"),postal_code:Se("postal-code"),region:Se("region"),street_address:Se("street-address"),fn:Se("fn"),hasMember:Se("hasMember"),additional_name:Se("additional-name"),family_name:Se("family-name"),given_name:Se("given-name"),honorific_prefix:Se("honorific-prefix"),honorific_suffix:Se("honorific-suffix"),hasKey:Se("hasKey"),key:Se("key"),hasLogo:Se("hasLogo"),logo:Se("logo"),hasName:Se("hasName"),n:Se("n"),hasPhoto:Se("hasPhoto"),photo:Se("photo"),hasSound:Se("hasSound"),sound:Se("sound"),hasTelephone:Se("hasTelephone"),tel:Se("tel"),hasURL:Se("hasURL"),url:Se("url")},FG="http://rdfs.org/ns/void#";function Un(n){return FG+n}var cYe={PREFIX:"void",NAMESPACE:FG,PREFIX_AND_NAMESPACE:{void:"http://rdfs.org/ns/void#"},NS:Un,Dataset:Un("Dataset"),Linkset:Un("Linkset"),TechnicalFeature:Un("TechnicalFeature"),DatasetDescription:Un("DatasetDescription"),feature:Un("feature"),subset:Un("subset"),target:Un("target"),sparqlEndpoint:Un("sparqlEndpoint"),linkPredicate:Un("linkPredicate"),exampleResource:Un("exampleResource"),vocabulary:Un("vocabulary"),subjectsTarget:Un("subjectsTarget"),objectsTarget:Un("objectsTarget"),dataDump:Un("dataDump"),uriLookupEndpoint:Un("uriLookupEndpoint"),uriRegexPattern:Un("uriRegexPattern"),class:Un("class"),classes:Un("classes"),classPartition:Un("classPartition"),distinctObjects:Un("distinctObjects"),distinctSubjects:Un("distinctSubjects"),documents:Un("documents"),entities:Un("entities"),inDataset:Un("inDataset"),openSearchDescription:Un("openSearchDescription"),properties:Un("properties"),property:Un("property"),propertyPartition:Un("propertyPartition"),rootResource:Un("rootResource"),triples:Un("triples"),uriSpace:Un("uriSpace")},MG="http://www.w3.org/2003/06/sw-vocab-status/ns#";function Px(n){return MG+n}var uYe={PREFIX:"vs",NAMESPACE:MG,PREFIX_AND_NAMESPACE:{vs:"http://www.w3.org/2003/06/sw-vocab-status/ns#"},NS:Px,term_status:Px("term_status"),moreinfo:Px("moreinfo"),userdocs:Px("userdocs")},OG="http://www.w3.org/2001/XMLSchema#";function Kt(n){return OG+n}var dYe={PREFIX:"xsd",NAMESPACE:OG,PREFIX_AND_NAMESPACE:{xsd:"http://www.w3.org/2001/XMLSchema#"},NS:Kt,changes:Kt("changes"),string:Kt("string"),boolean:Kt("boolean"),float:Kt("float"),double:Kt("double"),decimal:Kt("decimal"),dateTime:Kt("dateTime"),duration:Kt("duration"),hexBinary:Kt("hexBinary"),base64Binary:Kt("base64Binary"),anyURI:Kt("anyURI"),ID:Kt("ID"),IDREF:Kt("IDREF"),ENTITY:Kt("ENTITY"),NOTATION:Kt("NOTATION"),normalizedString:Kt("normalizedString"),token:Kt("token"),language:Kt("language"),IDREFS:Kt("IDREFS"),ENTITIES:Kt("ENTITIES"),NMTOKEN:Kt("NMTOKEN"),NMTOKENS:Kt("NMTOKENS"),Name:Kt("Name"),QName:Kt("QName"),NCName:Kt("NCName"),integer:Kt("integer"),nonNegativeInteger:Kt("nonNegativeInteger"),positiveInteger:Kt("positiveInteger"),nonPositiveInteger:Kt("nonPositiveInteger"),negativeInteger:Kt("negativeInteger"),byte:Kt("byte"),int:Kt("int"),long:Kt("long"),short:Kt("short"),unsignedByte:Kt("unsignedByte"),unsignedInt:Kt("unsignedInt"),unsignedLong:Kt("unsignedLong"),unsignedShort:Kt("unsignedShort"),date:Kt("date"),time:Kt("time"),gYearMonth:Kt("gYearMonth"),gYear:Kt("gYear"),gMonthDay:Kt("gMonthDay"),gDay:Kt("gDay"),gMonth:Kt("gMonth")};var BG=yo(tf(),1);function Eye(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++)if(arguments[e])for(let r in arguments[e])n[r]=arguments[e][r];return n}var Ci=Eye;typeof Object.assign=="function"&&(Ci=Object.assign);function sa(n,e,t,r){let i=n._nodes.get(e),o=null;return i&&(r==="mixed"?o=i.out&&i.out[t]||i.undirected&&i.undirected[t]:r==="directed"?o=i.out&&i.out[t]:o=i.undirected&&i.undirected[t]),o}function Xi(n){return typeof n=="object"&&n!==null}function jG(n){let e;for(e in n)return!1;return!0}function oa(n,e,t){Object.defineProperty(n,e,{enumerable:!1,configurable:!1,writable:!0,value:t})}function Ja(n,e,t){let r={enumerable:!0,configurable:!0};typeof t=="function"?r.get=t:(r.value=t,r.writable=!1),Object.defineProperty(n,e,r)}function kG(n){return!(!Xi(n)||n.attributes&&!Array.isArray(n.attributes))}function Sye(){let n=Math.floor(Math.random()*256)&255;return()=>n++}function kc(){let n=arguments,e=null,t=-1;return{[Symbol.iterator](){return this},next(){let r=null;do{if(e===null){if(t++,t>=n.length)return{done:!0};e=n[t][Symbol.iterator]()}if(r=e.next(),r.done){e=null;continue}break}while(!0);return r}}}function Im(){return{[Symbol.iterator](){return this},next(){return{done:!0}}}}var f_=class extends Error{constructor(e){super(),this.name="GraphError",this.message=e}},ht=class n extends f_{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n.prototype.constructor)}},Xe=class n extends f_{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n.prototype.constructor)}},Pt=class n extends f_{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,n.prototype.constructor)}};function UG(n,e){this.key=n,this.attributes=e,this.clear()}UG.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function VG(n,e){this.key=n,this.attributes=e,this.clear()}VG.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function $G(n,e){this.key=n,this.attributes=e,this.clear()}$G.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function Am(n,e,t,r,i){this.key=e,this.attributes=i,this.undirected=n,this.source=t,this.target=r}Am.prototype.attach=function(){let n="out",e="in";this.undirected&&(n=e="undirected");let t=this.source.key,r=this.target.key;this.source[n][r]=this,!(this.undirected&&t===r)&&(this.target[e][t]=this)};Am.prototype.attachMulti=function(){let n="out",e="in",t=this.source.key,r=this.target.key;this.undirected&&(n=e="undirected");let i=this.source[n],o=i[r];if(typeof o>"u"){i[r]=this,this.undirected&&t===r||(this.target[e][t]=this);return}o.previous=this,this.next=o,i[r]=this,this.target[e][t]=this};Am.prototype.detach=function(){let n=this.source.key,e=this.target.key,t="out",r="in";this.undirected&&(t=r="undirected"),delete this.source[t][e],delete this.target[r][n]};Am.prototype.detachMulti=function(){let n=this.source.key,e=this.target.key,t="out",r="in";this.undirected&&(t=r="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[t][e],delete this.target[r][n]):(this.next.previous=void 0,this.source[t][e]=this.next,this.target[r][n]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};var HG=0,qG=1,Cye=2,zG=3;function Pc(n,e,t,r,i,o,s){let a,l,c,u;if(r=""+r,t===HG){if(a=n._nodes.get(r),!a)throw new Xe(`Graph.${e}: could not find the "${r}" node in the graph.`);c=i,u=o}else if(t===zG){if(i=""+i,l=n._edges.get(i),!l)throw new Xe(`Graph.${e}: could not find the "${i}" edge in the graph.`);let h=l.source.key,m=l.target.key;if(r===h)a=l.target;else if(r===m)a=l.source;else throw new Xe(`Graph.${e}: the "${r}" node is not attached to the "${i}" edge (${h}, ${m}).`);c=o,u=s}else{if(l=n._edges.get(r),!l)throw new Xe(`Graph.${e}: could not find the "${r}" edge in the graph.`);t===qG?a=l.source:a=l.target,c=i,u=o}return[a,c,u]}function xye(n,e,t){n.prototype[e]=function(r,i,o){let[s,a]=Pc(this,e,t,r,i,o);return s.attributes[a]}}function Dye(n,e,t){n.prototype[e]=function(r,i){let[o]=Pc(this,e,t,r,i);return o.attributes}}function Iye(n,e,t){n.prototype[e]=function(r,i,o){let[s,a]=Pc(this,e,t,r,i,o);return s.attributes.hasOwnProperty(a)}}function Aye(n,e,t){n.prototype[e]=function(r,i,o,s){let[a,l,c]=Pc(this,e,t,r,i,o,s);return a.attributes[l]=c,this.emit("nodeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:l}),this}}function Tye(n,e,t){n.prototype[e]=function(r,i,o,s){let[a,l,c]=Pc(this,e,t,r,i,o,s);if(typeof c!="function")throw new ht(`Graph.${e}: updater should be a function.`);let u=a.attributes,h=c(u[l]);return u[l]=h,this.emit("nodeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:l}),this}}function Rye(n,e,t){n.prototype[e]=function(r,i,o){let[s,a]=Pc(this,e,t,r,i,o);return delete s.attributes[a],this.emit("nodeAttributesUpdated",{key:s.key,type:"remove",attributes:s.attributes,name:a}),this}}function Nye(n,e,t){n.prototype[e]=function(r,i,o){let[s,a]=Pc(this,e,t,r,i,o);if(!Xi(a))throw new ht(`Graph.${e}: provided attributes are not a plain object.`);return s.attributes=a,this.emit("nodeAttributesUpdated",{key:s.key,type:"replace",attributes:s.attributes}),this}}function Fye(n,e,t){n.prototype[e]=function(r,i,o){let[s,a]=Pc(this,e,t,r,i,o);if(!Xi(a))throw new ht(`Graph.${e}: provided attributes are not a plain object.`);return Ci(s.attributes,a),this.emit("nodeAttributesUpdated",{key:s.key,type:"merge",attributes:s.attributes,data:a}),this}}function Mye(n,e,t){n.prototype[e]=function(r,i,o){let[s,a]=Pc(this,e,t,r,i,o);if(typeof a!="function")throw new ht(`Graph.${e}: provided updater is not a function.`);return s.attributes=a(s.attributes),this.emit("nodeAttributesUpdated",{key:s.key,type:"update",attributes:s.attributes}),this}}var Oye=[{name:n=>`get${n}Attribute`,attacher:xye},{name:n=>`get${n}Attributes`,attacher:Dye},{name:n=>`has${n}Attribute`,attacher:Iye},{name:n=>`set${n}Attribute`,attacher:Aye},{name:n=>`update${n}Attribute`,attacher:Tye},{name:n=>`remove${n}Attribute`,attacher:Rye},{name:n=>`replace${n}Attributes`,attacher:Nye},{name:n=>`merge${n}Attributes`,attacher:Fye},{name:n=>`update${n}Attributes`,attacher:Mye}];function kye(n){Oye.forEach(function({name:e,attacher:t}){t(n,e("Node"),HG),t(n,e("Source"),qG),t(n,e("Target"),Cye),t(n,e("Opposite"),zG)})}function Pye(n,e,t){n.prototype[e]=function(r,i){let o;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Pt(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Pt(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let s=""+r,a=""+i;if(i=arguments[2],o=sa(this,s,a,t),!o)throw new Xe(`Graph.${e}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(t!=="mixed")throw new Pt(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new Xe(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return o.attributes[i]}}function Lye(n,e,t){n.prototype[e]=function(r){let i;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Pt(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new Pt(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let o=""+r,s=""+arguments[1];if(i=sa(this,o,s,t),!i)throw new Xe(`Graph.${e}: could not find an edge for the given path ("${o}" - "${s}").`)}else{if(t!=="mixed")throw new Pt(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,i=this._edges.get(r),!i)throw new Xe(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return i.attributes}}function Bye(n,e,t){n.prototype[e]=function(r,i){let o;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Pt(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Pt(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let s=""+r,a=""+i;if(i=arguments[2],o=sa(this,s,a,t),!o)throw new Xe(`Graph.${e}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(t!=="mixed")throw new Pt(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new Xe(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return o.attributes.hasOwnProperty(i)}}function jye(n,e,t){n.prototype[e]=function(r,i,o){let s;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Pt(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new Pt(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let a=""+r,l=""+i;if(i=arguments[2],o=arguments[3],s=sa(this,a,l,t),!s)throw new Xe(`Graph.${e}: could not find an edge for the given path ("${a}" - "${l}").`)}else{if(t!=="mixed")throw new Pt(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,s=this._edges.get(r),!s)throw new Xe(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return s.attributes[i]=o,this.emit("edgeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:i}),this}}function Uye(n,e,t){n.prototype[e]=function(r,i,o){let s;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Pt(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new Pt(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let a=""+r,l=""+i;if(i=arguments[2],o=arguments[3],s=sa(this,a,l,t),!s)throw new Xe(`Graph.${e}: could not find an edge for the given path ("${a}" - "${l}").`)}else{if(t!=="mixed")throw new Pt(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,s=this._edges.get(r),!s)throw new Xe(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof o!="function")throw new ht(`Graph.${e}: updater should be a function.`);return s.attributes[i]=o(s.attributes[i]),this.emit("edgeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:i}),this}}function Vye(n,e,t){n.prototype[e]=function(r,i){let o;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Pt(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Pt(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let s=""+r,a=""+i;if(i=arguments[2],o=sa(this,s,a,t),!o)throw new Xe(`Graph.${e}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(t!=="mixed")throw new Pt(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new Xe(`Graph.${e}: could not find the "${r}" edge in the graph.`)}return delete o.attributes[i],this.emit("edgeAttributesUpdated",{key:o.key,type:"remove",attributes:o.attributes,name:i}),this}}function $ye(n,e,t){n.prototype[e]=function(r,i){let o;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Pt(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Pt(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let s=""+r,a=""+i;if(i=arguments[2],o=sa(this,s,a,t),!o)throw new Xe(`Graph.${e}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(t!=="mixed")throw new Pt(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new Xe(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Xi(i))throw new ht(`Graph.${e}: provided attributes are not a plain object.`);return o.attributes=i,this.emit("edgeAttributesUpdated",{key:o.key,type:"replace",attributes:o.attributes}),this}}function Hye(n,e,t){n.prototype[e]=function(r,i){let o;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Pt(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Pt(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let s=""+r,a=""+i;if(i=arguments[2],o=sa(this,s,a,t),!o)throw new Xe(`Graph.${e}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(t!=="mixed")throw new Pt(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new Xe(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(!Xi(i))throw new ht(`Graph.${e}: provided attributes are not a plain object.`);return Ci(o.attributes,i),this.emit("edgeAttributesUpdated",{key:o.key,type:"merge",attributes:o.attributes,data:i}),this}}function qye(n,e,t){n.prototype[e]=function(r,i){let o;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Pt(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Pt(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);let s=""+r,a=""+i;if(i=arguments[2],o=sa(this,s,a,t),!o)throw new Xe(`Graph.${e}: could not find an edge for the given path ("${s}" - "${a}").`)}else{if(t!=="mixed")throw new Pt(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(r=""+r,o=this._edges.get(r),!o)throw new Xe(`Graph.${e}: could not find the "${r}" edge in the graph.`)}if(typeof i!="function")throw new ht(`Graph.${e}: provided updater is not a function.`);return o.attributes=i(o.attributes),this.emit("edgeAttributesUpdated",{key:o.key,type:"update",attributes:o.attributes}),this}}var zye=[{name:n=>`get${n}Attribute`,attacher:Pye},{name:n=>`get${n}Attributes`,attacher:Lye},{name:n=>`has${n}Attribute`,attacher:Bye},{name:n=>`set${n}Attribute`,attacher:jye},{name:n=>`update${n}Attribute`,attacher:Uye},{name:n=>`remove${n}Attribute`,attacher:Vye},{name:n=>`replace${n}Attributes`,attacher:$ye},{name:n=>`merge${n}Attributes`,attacher:Hye},{name:n=>`update${n}Attributes`,attacher:qye}];function Gye(n){zye.forEach(function({name:e,attacher:t}){t(n,e("Edge"),"mixed"),t(n,e("DirectedEdge"),"directed"),t(n,e("UndirectedEdge"),"undirected")})}var Wye=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Kye(n,e,t,r){let i=!1;for(let o in e){if(o===r)continue;let s=e[o];if(i=t(s.key,s.attributes,s.source.key,s.target.key,s.source.attributes,s.target.attributes,s.undirected),n&&i)return s.key}}function Jye(n,e,t,r){let i,o,s,a=!1;for(let l in e)if(l!==r){i=e[l];do{if(o=i.source,s=i.target,a=t(i.key,i.attributes,o.key,s.key,o.attributes,s.attributes,i.undirected),n&&a)return i.key;i=i.next}while(i!==void 0)}}function pO(n,e){let t=Object.keys(n),r=t.length,i,o=0;return{[Symbol.iterator](){return this},next(){do if(i)i=i.next;else{if(o>=r)return{done:!0};let s=t[o++];if(s===e){i=void 0;continue}i=n[s]}while(!i);return{done:!1,value:{edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected}}}}}function Xye(n,e,t,r){let i=e[t];if(!i)return;let o=i.source,s=i.target;if(r(i.key,i.attributes,o.key,s.key,o.attributes,s.attributes,i.undirected)&&n)return i.key}function Yye(n,e,t,r){let i=e[t];if(!i)return;let o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),n&&o)return i.key;i=i.next}while(i!==void 0)}function mO(n,e){let t=n[e];if(t.next!==void 0)return{[Symbol.iterator](){return this},next(){if(!t)return{done:!0};let i={edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected};return t=t.next,{done:!1,value:i}}};let r=!1;return{[Symbol.iterator](){return this},next(){return r===!0?{done:!0}:(r=!0,{done:!1,value:{edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected}})}}}function Qye(n,e){if(n.size===0)return[];if(e==="mixed"||e===n.type)return Array.from(n._edges.keys());let t=e==="undirected"?n.undirectedSize:n.directedSize,r=new Array(t),i=e==="undirected",o=n._edges.values(),s=0,a,l;for(;a=o.next(),a.done!==!0;)l=a.value,l.undirected===i&&(r[s++]=l.key);return r}function GG(n,e,t,r){if(e.size===0)return;let i=t!=="mixed"&&t!==e.type,o=t==="undirected",s,a,l=!1,c=e._edges.values();for(;s=c.next(),s.done!==!0;){if(a=s.value,i&&a.undirected!==o)continue;let{key:u,attributes:h,source:m,target:g}=a;if(l=r(u,h,m.key,g.key,m.attributes,g.attributes,a.undirected),n&&l)return u}}function Zye(n,e){if(n.size===0)return Im();let t=e!=="mixed"&&e!==n.type,r=e==="undirected",i=n._edges.values();return{[Symbol.iterator](){return this},next(){let o,s;for(;;){if(o=i.next(),o.done)return o;if(s=o.value,!(t&&s.undirected!==r))break}return{value:{edge:s.key,attributes:s.attributes,source:s.source.key,target:s.target.key,sourceAttributes:s.source.attributes,targetAttributes:s.target.attributes,undirected:s.undirected},done:!1}}}}function gO(n,e,t,r,i,o){let s=e?Jye:Kye,a;if(t!=="undirected"&&(r!=="out"&&(a=s(n,i.in,o),n&&a)||r!=="in"&&(a=s(n,i.out,o,r?void 0:i.key),n&&a))||t!=="directed"&&(a=s(n,i.undirected,o),n&&a))return a}function eve(n,e,t,r){let i=[];return gO(!1,n,e,t,r,function(o){i.push(o)}),i}function tve(n,e,t){let r=Im();return n!=="undirected"&&(e!=="out"&&typeof t.in<"u"&&(r=kc(r,pO(t.in))),e!=="in"&&typeof t.out<"u"&&(r=kc(r,pO(t.out,e?void 0:t.key)))),n!=="directed"&&typeof t.undirected<"u"&&(r=kc(r,pO(t.undirected))),r}function yO(n,e,t,r,i,o,s){let a=t?Yye:Xye,l;if(e!=="undirected"&&(typeof i.in<"u"&&r!=="out"&&(l=a(n,i.in,o,s),n&&l)||typeof i.out<"u"&&r!=="in"&&(r||i.key!==o)&&(l=a(n,i.out,o,s),n&&l))||e!=="directed"&&typeof i.undirected<"u"&&(l=a(n,i.undirected,o,s),n&&l))return l}function nve(n,e,t,r,i){let o=[];return yO(!1,n,e,t,r,i,function(s){o.push(s)}),o}function rve(n,e,t,r){let i=Im();return n!=="undirected"&&(typeof t.in<"u"&&e!=="out"&&r in t.in&&(i=kc(i,mO(t.in,r))),typeof t.out<"u"&&e!=="in"&&r in t.out&&(e||t.key!==r)&&(i=kc(i,mO(t.out,r)))),n!=="directed"&&typeof t.undirected<"u"&&r in t.undirected&&(i=kc(i,mO(t.undirected,r))),i}function ive(n,e){let{name:t,type:r,direction:i}=e;n.prototype[t]=function(o,s){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];if(!arguments.length)return Qye(this,r);if(arguments.length===1){o=""+o;let a=this._nodes.get(o);if(typeof a>"u")throw new Xe(`Graph.${t}: could not find the "${o}" node in the graph.`);return eve(this.multi,r==="mixed"?this.type:r,i,a)}if(arguments.length===2){o=""+o,s=""+s;let a=this._nodes.get(o);if(!a)throw new Xe(`Graph.${t}:  could not find the "${o}" source node in the graph.`);if(!this._nodes.has(s))throw new Xe(`Graph.${t}:  could not find the "${s}" target node in the graph.`);return nve(r,this.multi,i,a,s)}throw new ht(`Graph.${t}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function ove(n,e){let{name:t,type:r,direction:i}=e,o="forEach"+t[0].toUpperCase()+t.slice(1,-1);n.prototype[o]=function(c,u,h){if(!(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)){if(arguments.length===1)return h=c,GG(!1,this,r,h);if(arguments.length===2){c=""+c,h=u;let m=this._nodes.get(c);if(typeof m>"u")throw new Xe(`Graph.${o}: could not find the "${c}" node in the graph.`);return gO(!1,this.multi,r==="mixed"?this.type:r,i,m,h)}if(arguments.length===3){c=""+c,u=""+u;let m=this._nodes.get(c);if(!m)throw new Xe(`Graph.${o}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(u))throw new Xe(`Graph.${o}:  could not find the "${u}" target node in the graph.`);return yO(!1,r,this.multi,i,m,u,h)}throw new ht(`Graph.${o}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};let s="map"+t[0].toUpperCase()+t.slice(1);n.prototype[s]=function(){let c=Array.prototype.slice.call(arguments),u=c.pop(),h;if(c.length===0){let m=0;r!=="directed"&&(m+=this.undirectedSize),r!=="undirected"&&(m+=this.directedSize),h=new Array(m);let g=0;c.push((b,v,E,C,R,F,M)=>{h[g++]=u(b,v,E,C,R,F,M)})}else h=[],c.push((m,g,b,v,E,C,R)=>{h.push(u(m,g,b,v,E,C,R))});return this[o].apply(this,c),h};let a="filter"+t[0].toUpperCase()+t.slice(1);n.prototype[a]=function(){let c=Array.prototype.slice.call(arguments),u=c.pop(),h=[];return c.push((m,g,b,v,E,C,R)=>{u(m,g,b,v,E,C,R)&&h.push(m)}),this[o].apply(this,c),h};let l="reduce"+t[0].toUpperCase()+t.slice(1);n.prototype[l]=function(){let c=Array.prototype.slice.call(arguments);if(c.length<2||c.length>4)throw new ht(`Graph.${l}: invalid number of arguments (expecting 2, 3 or 4 and got ${c.length}).`);if(typeof c[c.length-1]=="function"&&typeof c[c.length-2]!="function")throw new ht(`Graph.${l}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let u,h;c.length===2?(u=c[0],h=c[1],c=[]):c.length===3?(u=c[1],h=c[2],c=[c[0]]):c.length===4&&(u=c[2],h=c[3],c=[c[0],c[1]]);let m=h;return c.push((g,b,v,E,C,R,F)=>{m=u(m,g,b,v,E,C,R,F)}),this[o].apply(this,c),m}}function sve(n,e){let{name:t,type:r,direction:i}=e,o="find"+t[0].toUpperCase()+t.slice(1,-1);n.prototype[o]=function(l,c,u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return!1;if(arguments.length===1)return u=l,GG(!0,this,r,u);if(arguments.length===2){l=""+l,u=c;let h=this._nodes.get(l);if(typeof h>"u")throw new Xe(`Graph.${o}: could not find the "${l}" node in the graph.`);return gO(!0,this.multi,r==="mixed"?this.type:r,i,h,u)}if(arguments.length===3){l=""+l,c=""+c;let h=this._nodes.get(l);if(!h)throw new Xe(`Graph.${o}:  could not find the "${l}" source node in the graph.`);if(!this._nodes.has(c))throw new Xe(`Graph.${o}:  could not find the "${c}" target node in the graph.`);return yO(!0,r,this.multi,i,h,c,u)}throw new ht(`Graph.${o}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};let s="some"+t[0].toUpperCase()+t.slice(1,-1);n.prototype[s]=function(){let l=Array.prototype.slice.call(arguments),c=l.pop();return l.push((h,m,g,b,v,E,C)=>c(h,m,g,b,v,E,C)),!!this[o].apply(this,l)};let a="every"+t[0].toUpperCase()+t.slice(1,-1);n.prototype[a]=function(){let l=Array.prototype.slice.call(arguments),c=l.pop();return l.push((h,m,g,b,v,E,C)=>!c(h,m,g,b,v,E,C)),!this[o].apply(this,l)}}function ave(n,e){let{name:t,type:r,direction:i}=e,o=t.slice(0,-1)+"Entries";n.prototype[o]=function(s,a){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Im();if(!arguments.length)return Zye(this,r);if(arguments.length===1){s=""+s;let l=this._nodes.get(s);if(!l)throw new Xe(`Graph.${o}: could not find the "${s}" node in the graph.`);return tve(r,i,l)}if(arguments.length===2){s=""+s,a=""+a;let l=this._nodes.get(s);if(!l)throw new Xe(`Graph.${o}:  could not find the "${s}" source node in the graph.`);if(!this._nodes.has(a))throw new Xe(`Graph.${o}:  could not find the "${a}" target node in the graph.`);return rve(r,i,l,a)}throw new ht(`Graph.${o}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function lve(n){Wye.forEach(e=>{ive(n,e),ove(n,e),sve(n,e),ave(n,e)})}var cve=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function $x(){this.A=null,this.B=null}$x.prototype.wrap=function(n){this.A===null?this.A=n:this.B===null&&(this.B=n)};$x.prototype.has=function(n){return this.A!==null&&n in this.A||this.B!==null&&n in this.B};function u_(n,e,t,r,i){for(let o in r){let s=r[o],a=s.source,l=s.target,c=a===t?l:a;if(e&&e.has(c.key))continue;let u=i(c.key,c.attributes);if(n&&u)return c.key}}function vO(n,e,t,r,i){if(e!=="mixed"){if(e==="undirected")return u_(n,null,r,r.undirected,i);if(typeof t=="string")return u_(n,null,r,r[t],i)}let o=new $x,s;if(e!=="undirected"){if(t!=="out"){if(s=u_(n,null,r,r.in,i),n&&s)return s;o.wrap(r.in)}if(t!=="in"){if(s=u_(n,o,r,r.out,i),n&&s)return s;o.wrap(r.out)}}if(e!=="directed"&&(s=u_(n,o,r,r.undirected,i),n&&s))return s}function uve(n,e,t){if(n!=="mixed"){if(n==="undirected")return Object.keys(t.undirected);if(typeof e=="string")return Object.keys(t[e])}let r=[];return vO(!1,n,e,t,function(i){r.push(i)}),r}function d_(n,e,t){let r=Object.keys(t),i=r.length,o=0;return{[Symbol.iterator](){return this},next(){let s=null;do{if(o>=i)return n&&n.wrap(t),{done:!0};let a=t[r[o++]],l=a.source,c=a.target;if(s=l===e?c:l,n&&n.has(s.key)){s=null;continue}}while(s===null);return{done:!1,value:{neighbor:s.key,attributes:s.attributes}}}}}function dve(n,e,t){if(n!=="mixed"){if(n==="undirected")return d_(null,t,t.undirected);if(typeof e=="string")return d_(null,t,t[e])}let r=Im(),i=new $x;return n!=="undirected"&&(e!=="out"&&(r=kc(r,d_(i,t,t.in))),e!=="in"&&(r=kc(r,d_(i,t,t.out)))),n!=="directed"&&(r=kc(r,d_(i,t,t.undirected))),r}function fve(n,e){let{name:t,type:r,direction:i}=e;n.prototype[t]=function(o){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return[];o=""+o;let s=this._nodes.get(o);if(typeof s>"u")throw new Xe(`Graph.${t}: could not find the "${o}" node in the graph.`);return uve(r==="mixed"?this.type:r,i,s)}}function hve(n,e){let{name:t,type:r,direction:i}=e,o="forEach"+t[0].toUpperCase()+t.slice(1,-1);n.prototype[o]=function(c,u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;c=""+c;let h=this._nodes.get(c);if(typeof h>"u")throw new Xe(`Graph.${o}: could not find the "${c}" node in the graph.`);vO(!1,r==="mixed"?this.type:r,i,h,u)};let s="map"+t[0].toUpperCase()+t.slice(1);n.prototype[s]=function(c,u){let h=[];return this[o](c,(m,g)=>{h.push(u(m,g))}),h};let a="filter"+t[0].toUpperCase()+t.slice(1);n.prototype[a]=function(c,u){let h=[];return this[o](c,(m,g)=>{u(m,g)&&h.push(m)}),h};let l="reduce"+t[0].toUpperCase()+t.slice(1);n.prototype[l]=function(c,u,h){if(arguments.length<3)throw new ht(`Graph.${l}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let m=h;return this[o](c,(g,b)=>{m=u(m,g,b)}),m}}function pve(n,e){let{name:t,type:r,direction:i}=e,o=t[0].toUpperCase()+t.slice(1,-1),s="find"+o;n.prototype[s]=function(c,u){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return;c=""+c;let h=this._nodes.get(c);if(typeof h>"u")throw new Xe(`Graph.${s}: could not find the "${c}" node in the graph.`);return vO(!0,r==="mixed"?this.type:r,i,h,u)};let a="some"+o;n.prototype[a]=function(c,u){return!!this[s](c,u)};let l="every"+o;n.prototype[l]=function(c,u){return!this[s](c,(m,g)=>!u(m,g))}}function mve(n,e){let{name:t,type:r,direction:i}=e,o=t.slice(0,-1)+"Entries";n.prototype[o]=function(s){if(r!=="mixed"&&this.type!=="mixed"&&r!==this.type)return Im();s=""+s;let a=this._nodes.get(s);if(typeof a>"u")throw new Xe(`Graph.${o}: could not find the "${s}" node in the graph.`);return dve(r==="mixed"?this.type:r,i,a)}}function gve(n){cve.forEach(e=>{fve(n,e),hve(n,e),pve(n,e),mve(n,e)})}function Lx(n,e,t,r,i){let o=r._nodes.values(),s=r.type,a,l,c,u,h,m,g;for(;a=o.next(),a.done!==!0;){let b=!1;if(l=a.value,s!=="undirected"){u=l.out;for(c in u){h=u[c];do{if(m=h.target,b=!0,g=i(l.key,m.key,l.attributes,m.attributes,h.key,h.attributes,h.undirected),n&&g)return h;h=h.next}while(h)}}if(s!=="directed"){u=l.undirected;for(c in u)if(!(e&&l.key>c)){h=u[c];do{if(m=h.target,m.key!==c&&(m=h.source),b=!0,g=i(l.key,m.key,l.attributes,m.attributes,h.key,h.attributes,h.undirected),n&&g)return h;h=h.next}while(h)}}if(t&&!b&&(g=i(l.key,null,l.attributes,null,null,null,null),n&&g))return null}}function yve(n,e){let t={key:n};return jG(e.attributes)||(t.attributes=Ci({},e.attributes)),t}function vve(n,e,t){let r={key:e,source:t.source.key,target:t.target.key};return jG(t.attributes)||(r.attributes=Ci({},t.attributes)),n==="mixed"&&t.undirected&&(r.undirected=!0),r}function _ve(n){if(!Xi(n))throw new ht('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in n))throw new ht("Graph.import: serialized node is missing its key.");if("attributes"in n&&(!Xi(n.attributes)||n.attributes===null))throw new ht("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function bve(n){if(!Xi(n))throw new ht('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in n))throw new ht("Graph.import: serialized edge is missing its source.");if(!("target"in n))throw new ht("Graph.import: serialized edge is missing its target.");if("attributes"in n&&(!Xi(n.attributes)||n.attributes===null))throw new ht("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in n&&typeof n.undirected!="boolean")throw new ht("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}var wve=Sye(),Eve=new Set(["directed","undirected","mixed"]),PG=new Set(["domain","_events","_eventsCount","_maxListeners"]),Sve=[{name:n=>`${n}Edge`,generateKey:!0},{name:n=>`${n}DirectedEdge`,generateKey:!0,type:"directed"},{name:n=>`${n}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:n=>`${n}EdgeWithKey`},{name:n=>`${n}DirectedEdgeWithKey`,type:"directed"},{name:n=>`${n}UndirectedEdgeWithKey`,type:"undirected"}],Cve={allowSelfLoops:!0,multi:!1,type:"mixed"};function xve(n,e,t){if(t&&!Xi(t))throw new ht(`Graph.addNode: invalid attributes. Expecting an object but got "${t}"`);if(e=""+e,t=t||{},n._nodes.has(e))throw new Pt(`Graph.addNode: the "${e}" node already exist in the graph.`);let r=new n.NodeDataClass(e,t);return n._nodes.set(e,r),n.emit("nodeAdded",{key:e,attributes:t}),r}function LG(n,e,t){let r=new n.NodeDataClass(e,t);return n._nodes.set(e,r),n.emit("nodeAdded",{key:e,attributes:t}),r}function WG(n,e,t,r,i,o,s,a){if(!r&&n.type==="undirected")throw new Pt(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(r&&n.type==="directed")throw new Pt(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(a&&!Xi(a))throw new ht(`Graph.${e}: invalid attributes. Expecting an object but got "${a}"`);if(o=""+o,s=""+s,a=a||{},!n.allowSelfLoops&&o===s)throw new Pt(`Graph.${e}: source & target are the same ("${o}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let l=n._nodes.get(o),c=n._nodes.get(s);if(!l)throw new Xe(`Graph.${e}: source node "${o}" not found.`);if(!c)throw new Xe(`Graph.${e}: target node "${s}" not found.`);let u={key:null,undirected:r,source:o,target:s,attributes:a};if(t)i=n._edgeKeyGenerator();else if(i=""+i,n._edges.has(i))throw new Pt(`Graph.${e}: the "${i}" edge already exists in the graph.`);if(!n.multi&&(r?typeof l.undirected[s]<"u":typeof l.out[s]<"u"))throw new Pt(`Graph.${e}: an edge linking "${o}" to "${s}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);let h=new Am(r,i,l,c,a);n._edges.set(i,h);let m=o===s;return r?(l.undirectedDegree++,c.undirectedDegree++,m&&(l.undirectedLoops++,n._undirectedSelfLoopCount++)):(l.outDegree++,c.inDegree++,m&&(l.directedLoops++,n._directedSelfLoopCount++)),n.multi?h.attachMulti():h.attach(),r?n._undirectedSize++:n._directedSize++,u.key=i,n.emit("edgeAdded",u),i}function Dve(n,e,t,r,i,o,s,a,l){if(!r&&n.type==="undirected")throw new Pt(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(r&&n.type==="directed")throw new Pt(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(a){if(l){if(typeof a!="function")throw new ht(`Graph.${e}: invalid updater function. Expecting a function but got "${a}"`)}else if(!Xi(a))throw new ht(`Graph.${e}: invalid attributes. Expecting an object but got "${a}"`)}o=""+o,s=""+s;let c;if(l&&(c=a,a=void 0),!n.allowSelfLoops&&o===s)throw new Pt(`Graph.${e}: source & target are the same ("${o}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let u=n._nodes.get(o),h=n._nodes.get(s),m,g;if(!t&&(m=n._edges.get(i),m)){if((m.source.key!==o||m.target.key!==s)&&(!r||m.source.key!==s||m.target.key!==o))throw new Pt(`Graph.${e}: inconsistency detected when attempting to merge the "${i}" edge with "${o}" source & "${s}" target vs. ("${m.source.key}", "${m.target.key}").`);g=m}if(!g&&!n.multi&&u&&(g=r?u.undirected[s]:u.out[s]),g){let R=[g.key,!1,!1,!1];if(l?!c:!a)return R;if(l){let F=g.attributes;g.attributes=c(F),n.emit("edgeAttributesUpdated",{type:"replace",key:g.key,attributes:g.attributes})}else Ci(g.attributes,a),n.emit("edgeAttributesUpdated",{type:"merge",key:g.key,attributes:g.attributes,data:a});return R}a=a||{},l&&c&&(a=c(a));let b={key:null,undirected:r,source:o,target:s,attributes:a};if(t)i=n._edgeKeyGenerator();else if(i=""+i,n._edges.has(i))throw new Pt(`Graph.${e}: the "${i}" edge already exists in the graph.`);let v=!1,E=!1;u||(u=LG(n,o,{}),v=!0,o===s&&(h=u,E=!0)),h||(h=LG(n,s,{}),E=!0),m=new Am(r,i,u,h,a),n._edges.set(i,m);let C=o===s;return r?(u.undirectedDegree++,h.undirectedDegree++,C&&(u.undirectedLoops++,n._undirectedSelfLoopCount++)):(u.outDegree++,h.inDegree++,C&&(u.directedLoops++,n._directedSelfLoopCount++)),n.multi?m.attachMulti():m.attach(),r?n._undirectedSize++:n._directedSize++,b.key=i,n.emit("edgeAdded",b),[i,!0,v,E]}function Dm(n,e){n._edges.delete(e.key);let{source:t,target:r,attributes:i}=e,o=e.undirected,s=t===r;o?(t.undirectedDegree--,r.undirectedDegree--,s&&(t.undirectedLoops--,n._undirectedSelfLoopCount--)):(t.outDegree--,r.inDegree--,s&&(t.directedLoops--,n._directedSelfLoopCount--)),n.multi?e.detachMulti():e.detach(),o?n._undirectedSize--:n._directedSize--,n.emit("edgeDropped",{key:e.key,attributes:i,source:t.key,target:r.key,undirected:o})}var wr=class n extends BG.EventEmitter{constructor(e){if(super(),e=Ci({},Cve,e),typeof e.multi!="boolean")throw new ht(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${e.multi}".`);if(!Eve.has(e.type))throw new ht(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${e.type}".`);if(typeof e.allowSelfLoops!="boolean")throw new ht(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${e.allowSelfLoops}".`);let t=e.type==="mixed"?UG:e.type==="directed"?VG:$G;oa(this,"NodeDataClass",t);let r="geid_"+wve()+"_",i=0,o=()=>{let s;do s=r+i++;while(this._edges.has(s));return s};oa(this,"_attributes",{}),oa(this,"_nodes",new Map),oa(this,"_edges",new Map),oa(this,"_directedSize",0),oa(this,"_undirectedSize",0),oa(this,"_directedSelfLoopCount",0),oa(this,"_undirectedSelfLoopCount",0),oa(this,"_edgeKeyGenerator",o),oa(this,"_options",e),PG.forEach(s=>oa(this,s,this[s])),Ja(this,"order",()=>this._nodes.size),Ja(this,"size",()=>this._edges.size),Ja(this,"directedSize",()=>this._directedSize),Ja(this,"undirectedSize",()=>this._undirectedSize),Ja(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Ja(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Ja(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Ja(this,"multi",this._options.multi),Ja(this,"type",this._options.type),Ja(this,"allowSelfLoops",this._options.allowSelfLoops),Ja(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,t){if(this.type==="undirected")return!1;if(arguments.length===1){let r=""+e,i=this._edges.get(r);return!!i&&!i.undirected}else if(arguments.length===2){e=""+e,t=""+t;let r=this._nodes.get(e);return r?r.out.hasOwnProperty(t):!1}throw new ht(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(e,t){if(this.type==="directed")return!1;if(arguments.length===1){let r=""+e,i=this._edges.get(r);return!!i&&i.undirected}else if(arguments.length===2){e=""+e,t=""+t;let r=this._nodes.get(e);return r?r.undirected.hasOwnProperty(t):!1}throw new ht(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(e,t){if(arguments.length===1){let r=""+e;return this._edges.has(r)}else if(arguments.length===2){e=""+e,t=""+t;let r=this._nodes.get(e);return r?typeof r.out<"u"&&r.out.hasOwnProperty(t)||typeof r.undirected<"u"&&r.undirected.hasOwnProperty(t):!1}throw new ht(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(e,t){if(this.type==="undirected")return;if(e=""+e,t=""+t,this.multi)throw new Pt("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");let r=this._nodes.get(e);if(!r)throw new Xe(`Graph.directedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(t))throw new Xe(`Graph.directedEdge: could not find the "${t}" target node in the graph.`);let i=r.out&&r.out[t]||void 0;if(i)return i.key}undirectedEdge(e,t){if(this.type==="directed")return;if(e=""+e,t=""+t,this.multi)throw new Pt("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");let r=this._nodes.get(e);if(!r)throw new Xe(`Graph.undirectedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(t))throw new Xe(`Graph.undirectedEdge: could not find the "${t}" target node in the graph.`);let i=r.undirected&&r.undirected[t]||void 0;if(i)return i.key}edge(e,t){if(this.multi)throw new Pt("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,t=""+t;let r=this._nodes.get(e);if(!r)throw new Xe(`Graph.edge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(t))throw new Xe(`Graph.edge: could not find the "${t}" target node in the graph.`);let i=r.out&&r.out[t]||r.undirected&&r.undirected[t]||void 0;if(i)return i.key}areDirectedNeighbors(e,t){e=""+e,t=""+t;let r=this._nodes.get(e);if(!r)throw new Xe(`Graph.areDirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:t in r.in||t in r.out}areOutNeighbors(e,t){e=""+e,t=""+t;let r=this._nodes.get(e);if(!r)throw new Xe(`Graph.areOutNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:t in r.out}areInNeighbors(e,t){e=""+e,t=""+t;let r=this._nodes.get(e);if(!r)throw new Xe(`Graph.areInNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:t in r.in}areUndirectedNeighbors(e,t){e=""+e,t=""+t;let r=this._nodes.get(e);if(!r)throw new Xe(`Graph.areUndirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="directed"?!1:t in r.undirected}areNeighbors(e,t){e=""+e,t=""+t;let r=this._nodes.get(e);if(!r)throw new Xe(`Graph.areNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&(t in r.in||t in r.out)||this.type!=="directed"&&t in r.undirected}areInboundNeighbors(e,t){e=""+e,t=""+t;let r=this._nodes.get(e);if(!r)throw new Xe(`Graph.areInboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&t in r.in||this.type!=="directed"&&t in r.undirected}areOutboundNeighbors(e,t){e=""+e,t=""+t;let r=this._nodes.get(e);if(!r)throw new Xe(`Graph.areOutboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&t in r.out||this.type!=="directed"&&t in r.undirected}inDegree(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.inDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree}outDegree(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.outDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.outDegree}directedDegree(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.directedDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree+t.outDegree}undirectedDegree(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.undirectedDegree: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:t.undirectedDegree}inboundDegree(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.inboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=t.undirectedDegree),this.type!=="undirected"&&(r+=t.inDegree),r}outboundDegree(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.outboundDegree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=t.undirectedDegree),this.type!=="undirected"&&(r+=t.outDegree),r}degree(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.degree: could not find the "${e}" node in the graph.`);let r=0;return this.type!=="directed"&&(r+=t.undirectedDegree),this.type!=="undirected"&&(r+=t.inDegree+t.outDegree),r}inDegreeWithoutSelfLoops(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.inDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree-t.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.outDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.outDegree-t.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.directedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree+t.outDegree-t.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:t.undirectedDegree-t.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=t.undirectedDegree,i+=t.undirectedLoops*2),this.type!=="undirected"&&(r+=t.inDegree,i+=t.directedLoops),r-i}outboundDegreeWithoutSelfLoops(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=t.undirectedDegree,i+=t.undirectedLoops*2),this.type!=="undirected"&&(r+=t.outDegree,i+=t.directedLoops),r-i}degreeWithoutSelfLoops(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.degreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let r=0,i=0;return this.type!=="directed"&&(r+=t.undirectedDegree,i+=t.undirectedLoops*2),this.type!=="undirected"&&(r+=t.inDegree+t.outDegree,i+=t.directedLoops*2),r-i}source(e){e=""+e;let t=this._edges.get(e);if(!t)throw new Xe(`Graph.source: could not find the "${e}" edge in the graph.`);return t.source.key}target(e){e=""+e;let t=this._edges.get(e);if(!t)throw new Xe(`Graph.target: could not find the "${e}" edge in the graph.`);return t.target.key}extremities(e){e=""+e;let t=this._edges.get(e);if(!t)throw new Xe(`Graph.extremities: could not find the "${e}" edge in the graph.`);return[t.source.key,t.target.key]}opposite(e,t){e=""+e,t=""+t;let r=this._edges.get(t);if(!r)throw new Xe(`Graph.opposite: could not find the "${t}" edge in the graph.`);let i=r.source.key,o=r.target.key;if(e===i)return o;if(e===o)return i;throw new Xe(`Graph.opposite: the "${e}" node is not attached to the "${t}" edge (${i}, ${o}).`)}hasExtremity(e,t){e=""+e,t=""+t;let r=this._edges.get(e);if(!r)throw new Xe(`Graph.hasExtremity: could not find the "${e}" edge in the graph.`);return r.source.key===t||r.target.key===t}isUndirected(e){e=""+e;let t=this._edges.get(e);if(!t)throw new Xe(`Graph.isUndirected: could not find the "${e}" edge in the graph.`);return t.undirected}isDirected(e){e=""+e;let t=this._edges.get(e);if(!t)throw new Xe(`Graph.isDirected: could not find the "${e}" edge in the graph.`);return!t.undirected}isSelfLoop(e){e=""+e;let t=this._edges.get(e);if(!t)throw new Xe(`Graph.isSelfLoop: could not find the "${e}" edge in the graph.`);return t.source===t.target}addNode(e,t){return xve(this,e,t).key}mergeNode(e,t){if(t&&!Xi(t))throw new ht(`Graph.mergeNode: invalid attributes. Expecting an object but got "${t}"`);e=""+e,t=t||{};let r=this._nodes.get(e);return r?(t&&(Ci(r.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:r.attributes,data:t})),[e,!1]):(r=new this.NodeDataClass(e,t),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:t}),[e,!0])}updateNode(e,t){if(t&&typeof t!="function")throw new ht(`Graph.updateNode: invalid updater function. Expecting a function but got "${t}"`);e=""+e;let r=this._nodes.get(e);if(r){if(t){let o=r.attributes;r.attributes=t(o),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:r.attributes})}return[e,!1]}let i=t?t({}):{};return r=new this.NodeDataClass(e,i),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:i}),[e,!0]}dropNode(e){e=""+e;let t=this._nodes.get(e);if(!t)throw new Xe(`Graph.dropNode: could not find the "${e}" node in the graph.`);let r;if(this.type!=="undirected"){for(let i in t.out){r=t.out[i];do Dm(this,r),r=r.next;while(r)}for(let i in t.in){r=t.in[i];do Dm(this,r),r=r.next;while(r)}}if(this.type!=="directed")for(let i in t.undirected){r=t.undirected[i];do Dm(this,r),r=r.next;while(r)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:t.attributes})}dropEdge(e){let t;if(arguments.length>1){let r=""+arguments[0],i=""+arguments[1];if(t=sa(this,r,i,this.type),!t)throw new Xe(`Graph.dropEdge: could not find the "${r}" -> "${i}" edge in the graph.`)}else if(e=""+e,t=this._edges.get(e),!t)throw new Xe(`Graph.dropEdge: could not find the "${e}" edge in the graph.`);return Dm(this,t),this}dropDirectedEdge(e,t){if(arguments.length<2)throw new Pt("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Pt("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,t=""+t;let r=sa(this,e,t,"directed");if(!r)throw new Xe(`Graph.dropDirectedEdge: could not find a "${e}" -> "${t}" edge in the graph.`);return Dm(this,r),this}dropUndirectedEdge(e,t){if(arguments.length<2)throw new Pt("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Pt("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");let r=sa(this,e,t,"undirected");if(!r)throw new Xe(`Graph.dropUndirectedEdge: could not find a "${e}" -> "${t}" edge in the graph.`);return Dm(this,r),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){let e=this._nodes.values(),t;for(;t=e.next(),t.done!==!0;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,t){if(typeof t!="function")throw new ht("Graph.updateAttribute: updater should be a function.");let r=this._attributes[e];return this._attributes[e]=t(r),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!Xi(e))throw new ht("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!Xi(e))throw new ht("Graph.mergeAttributes: provided attributes are not a plain object.");return Ci(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new ht("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,t){if(typeof e!="function")throw new ht("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!kG(t))throw new ht("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");let r=this._nodes.values(),i,o;for(;i=r.next(),i.done!==!0;)o=i.value,o.attributes=e(o.key,o.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})}updateEachEdgeAttributes(e,t){if(typeof e!="function")throw new ht("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!kG(t))throw new ht("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");let r=this._edges.values(),i,o,s,a;for(;i=r.next(),i.done!==!0;)o=i.value,s=o.source,a=o.target,o.attributes=e(o.key,o.attributes,s.key,a.key,s.attributes,a.attributes,o.undirected);this.emit("eachEdgeAttributesUpdated",{hints:t||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new ht("Graph.forEachAdjacencyEntry: expecting a callback.");Lx(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new ht("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Lx(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new ht("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Lx(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new ht("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Lx(!1,!0,!0,this,e)}nodes(){return Array.from(this._nodes.keys())}forEachNode(e){if(typeof e!="function")throw new ht("Graph.forEachNode: expecting a callback.");let t=this._nodes.values(),r,i;for(;r=t.next(),r.done!==!0;)i=r.value,e(i.key,i.attributes)}findNode(e){if(typeof e!="function")throw new ht("Graph.findNode: expecting a callback.");let t=this._nodes.values(),r,i;for(;r=t.next(),r.done!==!0;)if(i=r.value,e(i.key,i.attributes))return i.key}mapNodes(e){if(typeof e!="function")throw new ht("Graph.mapNode: expecting a callback.");let t=this._nodes.values(),r,i,o=new Array(this.order),s=0;for(;r=t.next(),r.done!==!0;)i=r.value,o[s++]=e(i.key,i.attributes);return o}someNode(e){if(typeof e!="function")throw new ht("Graph.someNode: expecting a callback.");let t=this._nodes.values(),r,i;for(;r=t.next(),r.done!==!0;)if(i=r.value,e(i.key,i.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new ht("Graph.everyNode: expecting a callback.");let t=this._nodes.values(),r,i;for(;r=t.next(),r.done!==!0;)if(i=r.value,!e(i.key,i.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new ht("Graph.filterNodes: expecting a callback.");let t=this._nodes.values(),r,i,o=[];for(;r=t.next(),r.done!==!0;)i=r.value,e(i.key,i.attributes)&&o.push(i.key);return o}reduceNodes(e,t){if(typeof e!="function")throw new ht("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new ht("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let r=t,i=this._nodes.values(),o,s;for(;o=i.next(),o.done!==!0;)s=o.value,r=e(r,s.key,s.attributes);return r}nodeEntries(){let e=this._nodes.values();return{[Symbol.iterator](){return this},next(){let t=e.next();if(t.done)return t;let r=t.value;return{value:{node:r.key,attributes:r.attributes},done:!1}}}}export(){let e=new Array(this._nodes.size),t=0;this._nodes.forEach((i,o)=>{e[t++]=yve(o,i)});let r=new Array(this._edges.size);return t=0,this._edges.forEach((i,o)=>{r[t++]=vve(this.type,o,i)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}}import(e,t=!1){if(e instanceof n)return e.forEachNode((l,c)=>{t?this.mergeNode(l,c):this.addNode(l,c)}),e.forEachEdge((l,c,u,h,m,g,b)=>{t?b?this.mergeUndirectedEdgeWithKey(l,u,h,c):this.mergeDirectedEdgeWithKey(l,u,h,c):b?this.addUndirectedEdgeWithKey(l,u,h,c):this.addDirectedEdgeWithKey(l,u,h,c)}),this;if(!Xi(e))throw new ht("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!Xi(e.attributes))throw new ht("Graph.import: invalid attributes. Expecting a plain object.");t?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let r,i,o,s,a;if(e.nodes){if(o=e.nodes,!Array.isArray(o))throw new ht("Graph.import: invalid nodes. Expecting an array.");for(r=0,i=o.length;r<i;r++){s=o[r],_ve(s);let{key:l,attributes:c}=s;t?this.mergeNode(l,c):this.addNode(l,c)}}if(e.edges){let l=!1;if(this.type==="undirected"&&(l=!0),o=e.edges,!Array.isArray(o))throw new ht("Graph.import: invalid edges. Expecting an array.");for(r=0,i=o.length;r<i;r++){a=o[r],bve(a);let{source:c,target:u,attributes:h,undirected:m=l}=a,g;"key"in a?(g=t?m?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:m?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,g.call(this,a.key,c,u,h)):(g=t?m?this.mergeUndirectedEdge:this.mergeDirectedEdge:m?this.addUndirectedEdge:this.addDirectedEdge,g.call(this,c,u,h))}}return this}nullCopy(e){let t=new n(Ci({},this._options,e));return t.replaceAttributes(Ci({},this.getAttributes())),t}emptyCopy(e){let t=this.nullCopy(e);return this._nodes.forEach((r,i)=>{let o=Ci({},r.attributes);r=new t.NodeDataClass(i,o),t._nodes.set(i,r)}),t}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new Pt(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${e.type}" because this would mean losing information about the current graph.`);if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new Pt("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new Pt("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");let t=this.emptyCopy(e),r=this._edges.values(),i,o;for(;i=r.next(),i.done!==!0;)o=i.value,WG(t,"copy",!1,o.undirected,o.key,o.source.key,o.target.key,Ci({},o.attributes));return t}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){let e={};this._nodes.forEach((o,s)=>{e[s]=o.attributes});let t={},r={};this._edges.forEach((o,s)=>{let a=o.undirected?"--":"->",l="",c=o.source.key,u=o.target.key,h;o.undirected&&c>u&&(h=c,c=u,u=h);let m=`(${c})${a}(${u})`;s.startsWith("geid_")?this.multi&&(typeof r[m]>"u"?r[m]=0:r[m]++,l+=`${r[m]}. `):l+=`[${s}]: `,l+=m,t[l]=o.attributes});let i={};for(let o in this)this.hasOwnProperty(o)&&!PG.has(o)&&typeof this[o]!="function"&&typeof o!="symbol"&&(i[o]=this[o]);return i.attributes=this._attributes,i.nodes=e,i.edges=t,oa(i,"constructor",this.constructor),i}};typeof Symbol<"u"&&(wr.prototype[Symbol.for("nodejs.util.inspect.custom")]=wr.prototype.inspect);Sve.forEach(n=>{["add","merge","update"].forEach(e=>{let t=n.name(e),r=e==="add"?WG:Dve;n.generateKey?wr.prototype[t]=function(i,o,s){return r(this,t,!0,(n.type||this.type)==="undirected",null,i,o,s,e==="update")}:wr.prototype[t]=function(i,o,s,a){return r(this,t,!1,(n.type||this.type)==="undirected",i,o,s,a,e==="update")}})});kye(wr);Gye(wr);lve(wr);gve(wr);var oh=class extends wr{constructor(e){let t=Ci({type:"directed"},e);if("multi"in t&&t.multi!==!1)throw new ht("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(t.type!=="directed")throw new ht('DirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}},Bx=class extends wr{constructor(e){let t=Ci({type:"undirected"},e);if("multi"in t&&t.multi!==!1)throw new ht("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(t.type!=="undirected")throw new ht('UndirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}},jx=class extends wr{constructor(e){let t=Ci({multi:!0},e);if("multi"in t&&t.multi!==!0)throw new ht("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(t)}},Ux=class extends wr{constructor(e){let t=Ci({type:"directed",multi:!0},e);if("multi"in t&&t.multi!==!0)throw new ht("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(t.type!=="directed")throw new ht('MultiDirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}},Vx=class extends wr{constructor(e){let t=Ci({type:"undirected",multi:!0},e);if("multi"in t&&t.multi!==!0)throw new ht("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(t.type!=="undirected")throw new ht('MultiUndirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}};function Tm(n){n.from=function(e,t){let r=Ci({},e.options,t),i=new n(r);return i.import(e),i}}Tm(wr);Tm(oh);Tm(Bx);Tm(jx);Tm(Ux);Tm(Vx);wr.Graph=wr;wr.DirectedGraph=oh;wr.UndirectedGraph=Bx;wr.MultiGraph=jx;wr.MultiDirectedGraph=Ux;wr.MultiUndirectedGraph=Vx;wr.InvalidArgumentsGraphError=ht;wr.NotFoundGraphError=Xe;wr.UsageGraphError=Pt;var Ss=(()=>{let e=class e{constructor(r,i,o,s){this.logger=r,this.solidAuthService=i,this.localStorageService=o,this.rdfService=s,this._assets=new oh,this.assets=new yn(this._assets),localStorage.getItem("containedResources")!=null&&this.localStorageService.removeItem("containedResources"),localStorage.getItem("things")!=null&&this.localStorageService.removeItem("things"),localStorage.getItem("turtle")!=null&&this.localStorageService.removeItem("turtle"),this.containedResourcesSubject=new yn(JSON.parse(localStorage.getItem("containedResources"))),this.containedResources=this.containedResourcesSubject.asObservable(),this.thingsSubject=new yn(JSON.parse(localStorage.getItem("things"))),this.things=this.thingsSubject.asObservable(),this.turtleSubject=new yn(JSON.parse(localStorage.getItem("turtle"))),this.turtle=this.thingsSubject.asObservable(),this.assetsGraphSubject=new yn(JSON.parse(localStorage.getItem("assetsGraph"))),this.assetsGraph=this.assetsGraphSubject.asObservable(),this.initAssetsGraph()}get assetsGraphValue(){return this.assetsGraphSubject.value}initAssetsGraph(){let r=new oh;this.assetsGraphSubject.next(r)}getAllPods(r){return L(this,null,function*(){let i=[{}];try{this.solidAuthService.isLoggedIn()&&r!=null&&(i=yield this.rdfService.findMembershipContainers(r))}catch(o){this.logger.error(o)}return i})}getSolidDataset(r){return L(this,null,function*(){let i={};try{if(this.solidAuthService.isLoggedIn()&&r!=null){this.selectedPod=r;let o=yield Mx(r,{fetch:cN});this.dataset=o,i=o}}catch(o){this.logger.error(o),i=dO()}return i})}solidDataSetAsTurtle(r){return L(this,null,function*(){try{if(this.solidAuthService.isLoggedIn()&&r!=null){let i=yield this.solidDataSetAsTurtle(r);this.localStorageService.setItem("turtle",i)}}catch(i){this.logger.error(i)}})}getDataset(r){return L(this,null,function*(){return this.getSolidDataset(r)})}saveDataset(r,i){return L(this,null,function*(){let o={};try{this.solidAuthService.isLoggedIn()&&r!=null&&(o=yield fO(r,i,{fetch:cN}))}catch(s){this.logger.error(s)}return o})}setContainedResources(r){try{let i=this.getContainedResources(r);this.containedResourcesSubject.next(i)}catch(i){this.logger.error(i)}}getContainedResources(r){let i=[];if(this.solidAuthService.isLoggedIn()&&r!=null&&this.selectedPod){let o=this.selectedPod.toString().length;i=hO(r).sort(this.compareResourceUrls).map(s=>{let a=s.substring(o);return{url:s,name:a}})}return i}setAssetsGraph(r,i){try{let o=this.assetsGraphValue;o.hasNode(r.url)||o.addNode(r.url,{name:r.name,url:r.url});for(let s=0;s<i.length;s++){let a=i[s];o.hasNode(a.url)||(o.addNode(a.url,{name:a.name,url:a.url}),r!=null&&o.addEdge(r.url,a.url))}this.logger.info(`SDS: Serialized graph: ${JSON.stringify(o.export())}`),this.assetsGraphSubject.next(o)}catch(o){this.logger.error(o)}}getThingAll(r){let i={};try{if(this.solidAuthService.isLoggedIn()&&r!=null){let o=a_(r);this.thingsSubject.next(o),i=o}}catch(o){this.logger.error(o)}return i}addThing(r,i){let o={};try{this.solidAuthService.isLoggedIn()&&r!=null&&(o=Nx(r,i))}catch(s){this.logger.error(s)}return o}removeThing(r,i){let o={};try{this.solidAuthService.isLoggedIn()&&r!=null&&(o=Nx(r,i))}catch(s){this.logger.error(s)}return o}getStringNoLocale(r){let i={};try{if(this.solidAuthService.isLoggedIn()&&r!=null){let o=oO(r,bG.name);o!==null&&(i=o)}}catch(o){this.logger.error(o)}return i}compareResourceUrls(r,i){return Kf(r)&&!Kf(i)?-1:!Kf(r)&&Kf(i)?1:r.localeCompare(i)}logoutCleanup(){let r=[];this.containedResourcesSubject.next(r),this.localStorageService.removeItem("containedResources")}getStorageRoot(r){return L(this,null,function*(){let i=r.info.webId,o="",s=yield Mx(i,{fetch:r.fetch}),a=s_(s,i);if(!a)throw new Error("Profile not found");let l=iO(a,"http://www.w3.org/ns/pim/space#storage");return l&&(o=l),o})}};e.\u0275fac=function(i){return new(i||e)(Ge(nr),Ge(jn),Ge(Xp),Ge(ea))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var C5=(()=>{let e=class e{constructor(r,i,o,s,a){this.logger=r,this.solidAuthService=i,this.solidDataService=o,this.rdfService=s,this.localStorageService=a}getProfileUrl(r){let i="";return i=this.rdfService.getProfileUrl(r),i}readProfile(){return L(this,null,function*(){let r=this.solidAuthService.getDefaultSession(),i=this.solidAuthService.getWebId(),o=this.solidAuthService.isLoggedIn(),s={webId:i,name:"",email:"",role:"",org:"",img:""};if(this.logger.info(`SDS: Reading profile logged in: ${o} ${i}`),o&&r!=null&&i!=""){yield this.rdfService.loadResource(i);let a=this.rdfService.getProfileUrl(i)??"";if(a!=""){let l=this.rdfService.getOwnerWebId(a);s.name=this.rdfService.getValue(l,l_.name)??"",s.email=this.rdfService.getValue(l,c_.hasEmail)??"",s.role=this.rdfService.getValue(l,c_.role)??"",s.org=this.rdfService.getValue(l,c_.organization_name)??"",s.img=(yield this.rdfService.getProfileImageUrlsContaining(i,"/public/images/profile-picture"))??""}this.logger.info(`SDS: Name, email, photo: ${s.name}, ${s.email}, ${s.img}`)}return s})}updateProfile(r){return L(this,null,function*(){let i=this.solidAuthService.getDefaultSession(),o=this.solidAuthService.getWebId(),s=this.solidAuthService.isLoggedIn(),a=r.name??"",l=`mailto:${r.email}`,c=r.img??"";if(s&&i!=null&&o!=""){yield this.rdfService.loadResource(o);let u=this.rdfService.getProfileUrl(o)??"",h=this.rdfService.getOwnerWebId(u);yield this.rdfService.setValues(o,u,[{predicate:l_.name,value:a,lang:"en"},{predicate:c_.email,value:l,isLiteral:!1},{predicate:l_.img,value:c,isLiteral:!1}])}})}updateProfileImage(r){return L(this,null,function*(){let i=this.solidAuthService.getDefaultSession(),o=this.solidAuthService.getWebId(),s=this.solidAuthService.isLoggedIn(),a=r.img??"";if(s&&i!=null&&o!=""){let l=this.rdfService.getProfileUrl(o)??"";l!=""?yield this.rdfService.setValues(o,l,[{predicate:l_.img,value:a,isLiteral:!1}]):this.logger.info("PS: Profile Picture not updated")}})}deleteProfileImage(){return L(this,null,function*(){let r=this.solidAuthService.getDefaultSession(),i=this.solidAuthService.getWebId();this.solidAuthService.isLoggedIn()&&r!=null&&i!=""&&(yield this.rdfService.loadResource(i),(this.rdfService.getProfileUrl(i)??"")!=""?this.rdfService.deleteProfileImage(i):this.logger.info("PS: Profile Picture not deleted."))})}uploadImage(r,i){return L(this,null,function*(){let o=!1;return o=yield this.rdfService.uploadImage(i,r),o})}};e.\u0275fac=function(i){return new(i||e)(Ge(nr),Ge(jn),Ge(Ss),Ge(ea),Ge(Xp))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function IYe(n,e){let t=B(mr),r=B(jn),i=B(nr),o=r.sessionInfoValue,s=!1;return o?.isLoggedIn?s=!0:t.navigate(["/account/callback"],{queryParams:{returnUrl:e.url}}),s}var Hx=class{constructor(){this.None=0,this.Info=1,this.Debug=2,this.Warn=3,this.Error=4}};var nr=(()=>{let e=class e{constructor(r){this.http=r,this.logLevel=new Hx,this.httpOptions={headers:new Oa({"Content-Type":"application/json"})},this.httpPayloadOptions={headers:new Oa({"Content-Type":"application/x-www-form-urlencoded"})}}info(r){this.logWith(this.logLevel.Info,r)}debug(r){this.logWith(this.logLevel.Debug,r)}warn(r){this.logWith(this.logLevel.Warn,r)}error(r){this.logWith(this.logLevel.Error,r)}logWith(r,i){if(r<=this.logLevel.Error)switch(r){case this.logLevel.None:return console.log(i);case this.logLevel.Info:return console.info(i);case this.logLevel.Debug:return console.debug(i);case this.logLevel.Warn:return console.warn(i);case this.logLevel.Error:return console.error(i)}}sendToServer(r,i){let o=`${ZU.settings.apiUrl}/api/logs`,s=new URLSearchParams;s.set("logEntry",i),this.http.post(o,s,this.httpPayloadOptions).pipe($o(this.handleError()))}handleError(r="operation",i){return o=>(o(`${r} failed: ${o.message}`),Ke(i))}};e.\u0275fac=function(i){return new(i||e)(Ge(vl))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function sh(n){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(n)}function KG(n,e){if(sh(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function JG(n){var e=KG(n,"string");return sh(e)=="symbol"?e:e+""}function Ue(n,e,t){return(e=JG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Ive={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7},Yi=Ive;var rr=class{constructor(e){Ue(this,"termType",void 0),Ue(this,"classOrder",void 0),Ue(this,"value",void 0),this.value=e}substitute(e){return this}compareTerm(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}equals(e){return e?this.termType===e.termType&&this.value===e.value:!1}hashString(){return this.toCanonical()}sameTerm(e){return this.equals(e)}toCanonical(){return this.toNT()}toNT(){return this.toString()}toNQ(){return this.toNT()}toString(){throw new Error("Node.toString() is abstract - see the subclasses instead")}};Ue(rr,"fromValue",void 0);Ue(rr,"toJS",void 0);var Xa="NamedNode",Ya="BlankNode",$l="Literal",aa="Variable",la="DefaultGraph",As="Collection",qx="Empty",Lc="Graph",_O="text/html",h_="application/ld+json",zx="text/n3",XG="application/n3",p_="application/nquads",m_="application/n-quads",YG="application/n-triples",Zu="application/rdf+xml",QG="application/sparql-update",ZG="application/sparql-update-single-match",Hl="text/turtle",e7="application/x-turtle",g_="application/xhtml+xml";var Qi=class n extends rr{static getId(e){if(e){if(typeof e!="string")throw new Error("Bad id argument to new blank node: "+e);if(e.includes("#")){let t=e.split("#");return t[t.length-1]}return e}return"n"+n.nextId++}constructor(e){super(n.getId(e)),Ue(this,"termType",Ya),Ue(this,"classOrder",Yi.BlankNode),Ue(this,"isBlank",1),Ue(this,"isVar",1)}get id(){return this.value}set id(e){this.value=e}compareTerm(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0}copy(e){var t=new n;return e.copyTo(this,t),t}toCanonical(){return n.NTAnonymousNodePrefix+this.value}toString(){return n.NTAnonymousNodePrefix+this.id}};Ue(Qi,"nextId",0);Ue(Qi,"NTAnonymousNodePrefix","_:");function ql(n){return typeof n=="string"?n:n.value}function t7(n){return typeof n=="object"&&n!==null&&"subject"in n}function Rm(n){return typeof n=="object"&&n!==null&&"statements"in n}function Nm(n){return Ts(n)&&n.termType===As}function n7(n){return n&&Object.prototype.hasOwnProperty.call(n,"termType")&&(n.termType===Xa||n.termType===aa||n.termType===Ya||n.termType===As||n.termType===$l||n.termType===Lc)}function r7(n){return n&&Object.prototype.hasOwnProperty.call(n,"termType")&&(n.termType===Xa||n.termType===aa||n.termType===Ya||n.termType===As||n.termType===$l||n.termType===Lc)}function i7(n){return Ts(n)&&(n.termType===Xa||n.termType===Ya||n.termType===aa)}function o7(n){return Ts(n)&&n.termType===aa}function Ts(n){return typeof n=="object"&&n!==null&&"termType"in n}function Gx(n){return n.termType===$l}function ed(n){return typeof n=="object"&&n!==null&&"subject"in n&&"predicate"in n&&"object"in n}function y_(n){return Ts(n)&&n.termType==="NamedNode"}function s7(n){return Ts(n)&&"termType"in n&&n.termType==="BlankNode"}function a7(n){return Ts(n)&&(n.termType===Xa||n.termType===aa||n.termType===Ya||n.termType===la)}var zn=class n extends rr{constructor(e){if(super(ql(e)),Ue(this,"termType",Xa),Ue(this,"classOrder",Yi.NamedNode),!this.value)throw new Error("Missing IRI for NamedNode");if(!this.value.includes(":"))throw new Error('NamedNode IRI "'+e+'" must be absolute.');if(this.value.includes(" ")){var t='Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.';throw new Error(t)}}dir(){var e=this.value.split("#")[0],t=e.slice(0,-1).lastIndexOf("/"),r=e.indexOf("//");return r>=0&&t<r+2||t<0?null:new n(e.slice(0,t+1))}site(){var e=this.value.split("#")[0],t=e.indexOf("//");if(t<0)throw new Error("This URI does not have a web site part (origin)");var r=e.indexOf("/",t+2);return r<0?new n(e.slice(0)+"/"):new n(e.slice(0,r+1))}doc(){return this.value.indexOf("#")<0?this:new n(this.value.split("#")[0])}toString(){return"<"+this.value+">"}id(){return this.value.split("#")[1]}get uri(){return this.value}set uri(e){this.value=e}static fromValue(e){return typeof e>"u"||e===null||Ts(e)?e:new n(e)}};var zl={boolean:new zn("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new zn("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new zn("http://www.w3.org/2001/XMLSchema#decimal"),double:new zn("http://www.w3.org/2001/XMLSchema#double"),integer:new zn("http://www.w3.org/2001/XMLSchema#integer"),langString:new zn("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new zn("http://www.w3.org/2001/XMLSchema#string")};var fo=class n extends rr{constructor(e,t,r){super(e),Ue(this,"termType",$l),Ue(this,"classOrder",Yi.Literal),Ue(this,"datatype",zl.string),Ue(this,"isVar",0),Ue(this,"language",""),t?(this.language=t,this.datatype=zl.langString):r?this.datatype=zn.fromValue(r):this.datatype=zl.string}copy(){return new n(this.value,this.lang,this.datatype)}equals(e){return e?this.termType===e.termType&&this.value===e.value&&this.language===e.language&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.equals(e.datatype)):!1}get lang(){return this.language}set lang(e){this.language=e||""}toNT(){return n.toNT(this)}static toNT(e){if(typeof e.value=="number")return""+e.value;if(typeof e.value!="string")throw new Error("Value of RDF literal is not string or number: "+e.value);var t=e.value;return t=t.replace(/\\/g,"\\\\"),t=t.replace(/\"/g,'\\"'),t=t.replace(/\n/g,"\\n"),t=t.replace(/\r/g,"\\r"),t='"'+t+'"',e.language?t+="@"+e.language:e.datatype.equals(zl.string)||(t+="^^"+e.datatype.toCanonical()),t}toString(){return""+this.value}static fromBoolean(e){let t=e?"1":"0";return new n(t,null,zl.boolean)}static fromDate(e){if(!(e instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");let t=function(i){return(""+(100+i)).slice(1,3)},r=""+e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z";return new n(r,null,zl.dateTime)}static fromNumber(e){if(typeof e!="number")throw new TypeError("Invalid argument to Literal.fromNumber()");let t,r=e.toString();return r.indexOf("e")<0&&Math.abs(e)<=Number.MAX_SAFE_INTEGER?t=Number.isInteger(e)?zl.integer:zl.decimal:t=zl.double,new n(r,null,t)}static fromValue(e){if(Gx(e))return e;switch(typeof e){case"object":if(e instanceof Date)return n.fromDate(e);case"boolean":return n.fromBoolean(e);case"number":return n.fromNumber(e);case"string":return new n(e)}throw new Error("Can't make literal from "+e+" of type "+typeof e)}};function bO(n){return typeof n>"u"||n===null||Ts(n)?n:Array.isArray(n)?new Rs(n):fo.fromValue(n)}var Rs=class n extends rr{constructor(e){super((Qi.nextId++).toString()),Ue(this,"termType",As),Ue(this,"classOrder",Yi.Collection),Ue(this,"closed",!1),Ue(this,"compareTerm",Qi.prototype.compareTerm),Ue(this,"elements",[]),Ue(this,"isVar",0),e&&e.length>0&&e.forEach(t=>{this.elements.push(bO(t))})}get id(){return this.value}set id(e){this.value=e}append(e){return this.elements.push(e)}close(){return this.closed=!0,this.closed}shift(){return this.elements.shift()}substitute(e){let t=this.elements.map(r=>r.substitute(e));return new n(t)}toNT(){return n.toNT(this)}static toNT(e){return Qi.NTAnonymousNodePrefix+e.id}toString(){return"("+this.elements.join(" ")+")"}unshift(e){return this.elements.unshift(e)}};Ue(Rs,"termType",As);var Bc="chrome:theSession",NQe=new zn(Bc);var td=class extends rr{constructor(){super(""),Ue(this,"value",""),Ue(this,"termType",la),Ue(this,"uri",Bc)}toCanonical(){return this.value}toString(){return"DefaultGraph"}};function wO(n){return!!n&&n.termType===la}var Ave=new td,Qa=class n{constructor(e,t,r,i){Ue(this,"subject",void 0),Ue(this,"predicate",void 0),Ue(this,"object",void 0),Ue(this,"graph",void 0),this.subject=rr.fromValue(e),this.predicate=rr.fromValue(t),this.object=rr.fromValue(r),this.graph=i==null?Ave:rr.fromValue(i)}get why(){return this.graph}set why(e){this.graph=e}equals(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}substitute(e){return new n(this.subject.substitute(e),this.predicate.substitute(e),this.object.substitute(e),wO(this.graph)?this.graph:this.graph.substitute(e))}toCanonical(){let e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==la&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}toNT(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}toNQ(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),wO(this.graph)?"":this.graph.toNT()].join(" ")+" ."}toString(){return this.toNT()}};var Za={};_k(Za,{docpart:()=>ca,document:()=>Tve,hostpart:()=>EO,join:()=>ti,protocol:()=>Wx,refTo:()=>SO});var l7=l7||console.log;function ca(n){var e;return e=n.indexOf("#"),e<0?n:n.slice(0,e)}function Tve(n){return new zn(ca(n))}function EO(n){var e=/[^\/]*\/\/([^\/]*)\//.exec(n);return e?e[1]:""}function ti(n,e){var t,r,i,o,s,a,l=e.indexOf("#");if(l>0&&(e=e.slice(0,l)),n.length===0)return e;if(n.indexOf("#")===0)return e+n;if(o=n.indexOf(":"),o>=0||(t=e.indexOf(":"),e.length===0))return n;if(t<0)return l7("Invalid base: "+e+" in join with given: "+n),n;if(r=e.slice(0,+t+1||9e9),n.indexOf("//")===0)return r+n;if(e.indexOf("//",t)===t+1){if(i=e.indexOf("/",t+3),i<0)return e.length-t-3>0?e+"/"+n:r+n}else if(i=e.indexOf("/",t+1),i<0)return e.length-t-1>0?e+"/"+n:r+n;if(n.indexOf("/")===0)return e.slice(0,i)+n;if(a=e.slice(i),s=a.lastIndexOf("/"),s<0)return r+n;for(s>=0&&s<a.length-1&&(a=a.slice(0,+s+1||9e9)),a+=n;a.match(/[^\/]*\/\.\.\//);)a=a.replace(/[^\/]*\/\.\.\//,"");return a=a.replace(/\.\//g,""),a=a.replace(/\/\.$/,"/"),e.slice(0,i)+a}function Wx(n){let e=n.indexOf(":");return e<0?null:n.slice(0,e)}function SO(n,e){var t,r,i,o,s,a,l,c,u,h,m,g,b,v=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!n)return e;if(n===e)return"";for(r=c=0,s=e.length;c<s&&e[r]===n[r];r=++c);if(n.slice(0,r).match(v)&&(i=e.indexOf("//"),i<0&&(i=-2),o=e.indexOf("/",i+2),e[o+1]!=="/"&&n[o+1]!=="/"&&e.slice(0,o)===n.slice(0,o)))return e.slice(o);if(e[r]==="#"&&n.length===r)return e.slice(r);for(;r>0&&e[r-1]!=="/";)r--;if(r<3||n.indexOf("//",r-2)>0||e.indexOf("//",r-2)>0||n.indexOf(":",r)>0)return e;for(l=0,m=n.slice(r),u=0,a=m.length;u<a;u++)t=m[u],t==="/"&&l++;if(l===0&&r<e.length&&e[r]==="#")return"./"+e.slice(r);if(l===0&&r===e.length)return"./";if(b="",l>0)for(h=1,g=l;g>=1?h<=g:h>=g;g>=1?++h:--h)b+="../";return b+e.slice(r)}var Ns=class n extends rr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";super(e),Ue(this,"termType",aa),Ue(this,"base","varid:"),Ue(this,"classOrder",Yi.Variable),Ue(this,"isVar",1),Ue(this,"uri",void 0),this.base="varid:",this.uri=ti(e,this.base)}equals(e){return e?this.termType===e.termType&&this.value===e.value:!1}hashString(){return this.toString()}substitute(e){var t;return(t=e[this.toNT()])!=null?t:this}toString(){return n.toString(this)}static toString(e){return e.uri.slice(0,e.base.length)===e.base?`?${e.uri.slice(e.base.length)}`:`?${e.uri}`}};var ho=function(n){return n.collections="COLLECTIONS",n.defaultGraphType="DEFAULT_GRAPH_TYPE",n.equalsMethod="EQUALS_METHOD",n.id="ID",n.identity="IDENTITY",n.reversibleId="REVERSIBLE_ID",n.variableType="VARIABLE_TYPE",n}({});var c7=new td,Rve={supports:{[ho.collections]:!1,[ho.defaultGraphType]:!1,[ho.equalsMethod]:!0,[ho.identity]:!1,[ho.id]:!0,[ho.reversibleId]:!1,[ho.variableType]:!0},blankNode(n){return new Qi(n)},defaultGraph:()=>c7,equals(n,e){return n===e||!n||!e?!0:ed(n)||ed(e)?ed(n)&&ed(e)?this.equals(n.subject,e.subject)&&this.equals(n.predicate,e.predicate)&&this.equals(n.object,e.object)&&this.equals(n.graph,e.graph):!1:Ts(n)&&Ts(e)?this.id(n)===this.id(e):!1},id(n){if(!n)return"undefined";if(ed(n))return this.quadToNQ(n);switch(n.termType){case la:return"defaultGraph";case aa:return Ns.toString(n);default:let e=this.termToNQ(n);if(e)return e;throw new Error(`Can't id term with type '${n.termType}'`)}},isQuad(n){return n instanceof Qa},literal(n,e){if(typeof n!="string"&&!e)return fo.fromValue(n);let t=typeof n=="string"?n:""+n;return typeof e=="string"?e.indexOf(":")===-1?new fo(t,e):new fo(t,null,this.namedNode(e)):new fo(t,null,e)},namedNode(n){return new zn(n)},quad(n,e,t,r){return new Qa(n,e,t,r||c7)},triple(n,e,t,r){return this.quad(n,e,t,r)},quadToNQ(n){return`${this.termToNQ(n.subject)} ${this.termToNQ(n.predicate)} ${this.termToNQ(n.object)} ${this.termToNQ(n.graph)} .`},termToNQ(n){switch(n.termType){case Ya:return"_:"+n.value;case la:return"";case qx:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case $l:return fo.toNT(n);case Lc:case Xa:return"<"+n.value+">";case As:return"("+n.elements.map(e=>this.termToNQ(e)).join(" ")+")";default:throw new Error(`Can't serialize nonstandard term type (was '${n.termType}')`)}},toNQ(n){return this.isQuad(n)?this.quadToNQ(n):this.termToNQ(n)},variable(n){return new Ns(n)}},po=Rve;var Nve={debug(n){},warn(n){},info(n){},error(n){},success(n){},msg(n){}},ni=Nve;function bn(n,e){let t=e||{namedNode:r=>new zn(r)};return function(r){return t.namedNode(n+(r||""))}}var UO=yo(rW());function iW(n){return n=n.split(";")[0].trim(),new zn("http://www.w3.org/ns/iana/media-types/"+n+"#Resource")}function oW(n,e){n.callbacks={};for(var t=e.length-1;t>=0;t--)n.callbacks[e[t]]=[];n.addHook=function(r){n.callbacks[r]||(n.callbacks[r]=[])},n.addCallback=function(r,i){n.callbacks[r].push(i)},n.removeCallback=function(r,i){for(var o=0;o<n.callbacks[r].length;o++)if(n.callbacks[r][o].name===i)return n.callbacks[r].splice(o,1),!0;return!1},n.insertCallback=function(r,i){n.callbacks[r].unshift(i)},n.fireCallbacks=function(i,o){var s=[],a=[],l=n.callbacks[i].length,c;let u;for(c=l-1;c>=0;c--)u=n.callbacks[i][c],u&&u.apply(n,o)&&s.push(u);for(c=s.length-1;c>=0;c--)a.push(s[c]);for(c=l;c<n.callbacks[i].length;c++)a.push(n.callbacks[i][c]);n.callbacks[i]=a}}function sW(n,e){e=e||{};var t=[];e&&e.selfClosing&&e.selfClosing.split(" ").forEach(function(i){t[i]=!0});var r=[];return e&&e.skipAttributes&&e.skipAttributes.split(" ").forEach(function(i){r[i]=!0}),aW(n,e,t,r)}function aW(n,e,t,r){var i,o="",s=[!1];if(typeof n.nodeType>"u")return o;if(n.nodeType===1){if(n.hasAttribute("class")&&e&&e.classWithChildText&&n.matches(e.classWithChildText.class))o+=n.querySelector(e.classWithChildText.element).textContent;else if(!(e&&e.skipNodeWithClass&&n.matches("."+e.skipNodeWithClass))){var a=n.nodeName.toLowerCase();o+="<"+a;var l=[];for(i=n.attributes.length-1;i>=0;i--){var c=n.attributes[i];if(!(r&&r.length>0&&r[c.name])&&!/^\d+$/.test(c.name)){if(c.name==="class"&&e&&e.replaceClassItemWith&&c.value.split(" ").indexOf(e.replaceClassItemWith.source)>-1){var u=new RegExp(e.replaceClassItemWith.source,"g");c.value=c.value.replace(u,e.replaceClassItemWith.target).trim()}c.name==="class"&&e&&e.skipClassWithValue&&e.skipClassWithValue===c.value||l.push(c.name+"='"+c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(l.length>0&&(e&&e.sortAttributes&&l.sort(function(m,g){return m.toLowerCase().localeCompare(g.toLowerCase())}),o+=" "+l.join(" ")),t&&t.ename)o+=" />";else{for(o+=">",o+=a==="html"?`
  `:"",s.push(a==="style"||a==="script"),i=0;i<n.childNodes.length;i++)o+=aW(n.childNodes[i]);s.pop(),o+=a==="body"?"</"+a+`>
`:"</"+a+">"}}}else if(n.nodeType===8)o+="<!--"+n.nodeValue+"-->";else if(n.nodeType===3||n.nodeType===4){var h=n.nodeValue.replace(/\n+$/,"");o+=s[s.length-1]?h:h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+n.nodeType),console.log(n);return o}function jO(n,e,t,r){var i=function(a){return a.termType==="BlankNode"?null:a},o=function(a){var l=t.statementsMatching(a).map(function(c){return""+i(c.subject)+" "+i(c.predicate)+" "+i(c.object)}).concat(t.statementsMatching(void 0,void 0,a).map(function(c){return""+i(c.subject)+" "+i(c.predicate)+" "+i(c.object)}));return l.sort(),l.join(`
`)};let s=Object.prototype.hasOwnProperty.call(t,"compareTerms")?t.compareTerms(n,e):n.compareTerm(e);return n.termType==="BlankNode"&&e.termType==="BlankNode"?s===0?0:o(n)>o(e)?1:o(n)<o(e)?-1:s:r&&n.uri&&e.uri?(r[n.uri]||n.uri).localeCompare(r[e.uri]||e.uri):s}function lW(n,e,t,r){return jO(n.subject,e.subject,t,r)||jO(n.predicate,e.predicate,t,r)||jO(n.object,e.object,t,r)}function id(n,e){var t;if(e=e||{},typeof module<"u"&&module&&module.exports){var r=new UO.DOMParser().parseFromString(n,e.contentType||"application/xhtml+xml");return r}else typeof window<"u"&&window.DOMParser?t=new window.DOMParser:t=new UO.DOMParser;return t.parseFromString(n,"application/xml")}function R_(n,e){for(var t=0;t<n.length;t++)if(n[t].subject.equals(e.subject)&&n[t].predicate.equals(e.predicate)&&n[t].object.equals(e.object)&&n[t].why.equals(e.why)){n.splice(t,1);return}throw new Error("RDFArrayRemove: Array did not contain "+e+" "+e.why)}function cW(n){var e=""+n+`
`;if(!n.stack)return e+`No stack available.
`;for(var t=n.stack.toString().split(`
`),r=[],i=0;i<t.length;i++){var o=t[i];if(o.indexOf("ecmaunit.js")>-1)break;o.charAt(0)=="("&&(o="function"+o);var s=o.split("@");r.push(s)}for(var i=0;i<r.length;i++)e+="  "+r[i][1]+`
    `+r[i][0];return e}function VO(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:po;return{boolean:n.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:n.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:n.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),double:n.namedNode("http://www.w3.org/2001/XMLSchema#double"),integer:n.namedNode("http://www.w3.org/2001/XMLSchema#integer"),langString:n.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:n.namedNode("http://www.w3.org/2001/XMLSchema#string")}}var RZe=VO(po);var $O=yo(fW()),mW=yo(pW());function F_(n){return new HO(n)}var HO=class n{constructor(e){Ue(this,"_notQNameChars",`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`),Ue(this,"_notNameChars",this._notQNameChars+":"),Ue(this,"validPrefix",new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/)),Ue(this,"forbidden1",new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm)),Ue(this,"forbidden3",new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm)),this.flags="",this.base=null,this.prefixes=[],this.namespaces=[];let t=Object.keys((0,$O.default)());for(let r in t){let i=(0,$O.default)()[t[r]](""),o=t[r];this.prefixes[i]=o,this.namespaces[o]=i}this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||po,this.xsd=VO(this.rdfFactory)}setBase(e){return this.base=e,this}setFlags(e){return this.flags=e||"",this}toStr(e){var t=e.toNT();return e.termType==="Graph"&&(this.formulas[t]=e),t}fromStr(e){if(e[0]==="{"){var t=this.formulas[e];return t||console.log("No formula object for "+e),t}return this.store.fromNT(e)}setNamespaces(e){for(var t in e)this.setPrefix(t,e[t]);return this}setPrefix(e,t){if(e.slice(0,7)!=="default"&&e.slice(0,2)!=="ns"&&!(!e||!t)){for(let r in this.prefixes)this.prefixes[r]==e&&delete this.prefixes[r];this.prefixes[t]=e,this.namespaces[e]=t}}suggestPrefix(e,t){e.slice(0,7)!=="default"&&e.slice(0,2)!=="ns"&&(!e||!t||e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))}suggestNamespaces(e){for(var t in e)this.suggestPrefix(t,e[t]);return this}checkIntegrity(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw new Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")}makeUpPrefix(e){var t=e;function r(l){return!this.validPrefix.test(l)||l==="ns"||l in this.namespaces?!1:(this.prefixes[e]=l,this.namespaces[l]=e,l)}var i=r.bind(this);"#/".indexOf(t[t.length-1])>=0&&(t=t.slice(0,-1));var o=t.lastIndexOf("/");o>=0&&(t=t.slice(o+1));for(var s=0;s<t.length&&this.prefixchars.indexOf(t[s]);)s++;if(t=t.slice(0,s),t.length<6&&i(t))return t;if(i(t.slice(0,3)))return t.slice(0,3);if(i(t.slice(0,2)))return t.slice(0,2);if(i(t.slice(0,4)))return t.slice(0,4);if(i(t.slice(0,1)))return t.slice(0,1);if(i(t.slice(0,5)))return t.slice(0,5);this.validPrefix.test(t)||(t="n");for(var a=0;;a++)if(i(t.slice(0,3)+a))return t.slice(0,3)+a}rootSubjects(e){for(var t={},r={},i={},o=0;o<e.length;o++){var s=e[o],a=function(v){t.hasOwnProperty(v)||(t[v]=[]),t[v].push(s.subject)},l=[s.subject,s.predicate,s.object];l.map(function(v){v.termType==="BlankNode"?i[v.toNT()]=!0:v.termType==="Collection"&&v.elements.forEach(function(E){a(E)})}),a(e[o].object);var c=r[this.toStr(s.subject)];c||(c=[]),c.push(s),r[this.toStr(s.subject)]=c}var u=[];for(var h in r)if(r.hasOwnProperty(h)){var m=this.fromStr(h);if(m.termType!=="BlankNode"||!t[m]||t[m].length!==1){u.push(m);continue}}this.incoming=t;for(var g={},b=0;b<u.length;b++)g[u[b].toNT()]=!0;return{roots:u,subjects:r,rootsHash:g,incoming:t}}toN3(e){return this.statementsToN3(e.statements)}explicitURI(e){return this.flags.indexOf("r")<0&&this.base?e=SO(this.base,e):this.flags.indexOf("u")>=0?e=l_e(e):e=a_e(decodeURI(e)),"<"+e+">"}statementsToNTriples(e){var t=e.slice();t.sort();for(var r="",i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o=this,s=this.store,a=this.rdfFactory,l=function(m){if(m.termType!=="Collection")return o.atomicTermToN3(m);for(var g=m.elements,b=s.sym(i+"nill"),v=g.length-1;v>=0;v--){var E=a.blankNode();r+=l(E)+" "+l(s.sym(i+"first"))+" "+l(g[v])+`.
`,r+=l(E)+" "+l(s.sym(i+"rest"))+" "+l(b)+`.
`,b=E}return o.atomicTermToN3(b)},c=0;c<t.length;c++){var u=t[c],h="";h+=l(u.subject)+" ",h+=l(u.predicate)+" ",h+=l(u.object)+" ",this.flags.indexOf("q")>=0&&(h+=l(u.why)+" "),h+=`.
`,r+=h}return r}statementsToN3(e){var t=4,r=80,i=this.store,o={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"},s=function(Q,k){return lW(Q,k,i,o)};e.sort(s),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var a={};this.flags.indexOf("s")<0&&(a["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(a["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(a["http://www.w3.org/2000/10/swap/log#implies"]="=>");var l=function(Q){for(var k="",oe=0;oe<Q;oe++)k+=" ";return k},c=function(Q){for(var k="",oe=0;oe<Q.length;oe++){var Ce=Q[oe],z=typeof Ce=="string"?Ce:c(Ce);if(oe!==0){var ae=k.slice(-1)||" ";z===","||z===";"||z==="."&&!"0123456789.:".includes(ae)||(k+=" ")}k+=z}return k},u=function(Q,k){var oe="",Ce=1e5;k===void 0&&(k=-1);for(var z=0;z<Q.length;z++){var ae=Q[z];if(typeof ae!="string"){var Te=u(ae,k+1);if(Te.length<10*(r-t*k)&&Te.indexOf('"""')<0){var Oe=c(ae);Oe.length<r-t*k&&(ae=Oe,Te="")}Te&&(Ce=1e4),oe+=Te}if(typeof ae=="string"){if(ae.length===1&&oe.slice(-1)===`
`&&",.;".indexOf(ae)>=0){oe=oe.slice(0,-1),ae=="."&&"0123456789.:".includes(oe.charAt(oe.length-1))&&(oe+=" ",Ce+=1),oe+=ae+`
`,Ce+=1;continue}if(Ce<t*k+4||Ce+ae.length+1<r&&";.".indexOf(oe[oe.length-2])<0)oe=oe.slice(0,-1)+" "+ae+`
`,Ce+=ae.length+1;else{let _e=l(t*k)+ae;oe+=_e+`
`,Ce=_e.length,k<0&&(oe+=`
`,Ce=1e5)}}}return oe};function h(Q){for(var k=this.rootSubjects(Q),oe=k.roots,Ce=[],z=0;z<oe.length;z++){var ae=oe[z];Ce.push(g(ae,k))}return Ce}var m=h.bind(this);function g(Q,k){return Q.termType==="BlankNode"&&!k.incoming[Q]?C(Q,k,!0).concat(["."]):[F(Q,k)].concat([v(Q,k)]).concat(["."])}function b(Q,k){var oe=[],Ce=null,z=k.subjects[this.toStr(Q)]||[];if(typeof z>"u")throw new Error("Cant find statements for "+Q);for(var ae=[],Te=0;Te<z.length;Te++){var Oe=z[Te];Oe.predicate.uri===Ce?ae.push(","):(Ce&&(oe=oe.concat([ae]).concat([";"]),ae=[]),oe.push(a[Oe.predicate.uri]?a[Oe.predicate.uri]:F(Oe.predicate,k))),Ce=Oe.predicate.uri,ae.push(C(Oe.object,k))}return oe=oe.concat([ae]),oe}var v=b.bind(this);function E(Q,k,oe){return Q.termType==="BlankNode"&&(oe||k.rootsHash[Q.toNT()]===void 0)?k.subjects[this.toStr(Q)]?["[",v(Q,k),"]"]:"[]":F(Q,k)}var C=E.bind(this);function R(Q,k){var oe,Ce;switch(Q.termType){case"Graph":return Ce=["{"],Ce=Ce.concat(m(Q.statements)),Ce.concat(["}"]);case"Collection":for(Ce=["("],oe=0;oe<Q.elements.length;oe++)Ce.push([C(Q.elements[oe],k)]);return Ce.push(")"),Ce;default:return this.atomicTermToN3(Q)}}n.prototype.termToN3=F;var F=R.bind(this);function M(){var Q="";this.flags.indexOf("d")<0&&this.defaultNamespace&&(Q+="@prefix : "+this.explicitURI(this.defaultNamespace)+`.
`);for(var k in this.prefixes)this.prefixes.hasOwnProperty(k)&&this.namespacesUsed[k]&&(Q+="@prefix "+this.prefixes[k]+": "+this.explicitURI(k)+`.
`);return Q+`
`}var D=M.bind(this),$=m(e);return D()+u($)}atomicTermToN3(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var r=e.value;if(typeof r!="string")throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return r;case"http://www.w3.org/2001/XMLSchema#decimal":return r.indexOf(".")<0&&(r+=".0"),r;case"http://www.w3.org/2001/XMLSchema#double":{let o=r.toLowerCase().indexOf("e")>0;return r.indexOf(".")<0&&!o&&(r+=".0"),o||(r+="e0"),r}case"http://www.w3.org/2001/XMLSchema#boolean":return e.value==="1"?"true":"false"}var i=this.stringToN3(e.value,this.flags);return e.language?i+="@"+e.language:e.datatype.equals(this.xsd.string)||(i+="^^"+this.atomicTermToN3(e.datatype,t)),i;case"NamedNode":return this.symbolToN3(e);case"DefaultGraph":return"";default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}}stringToN3(e,t){t||(t="e");var r="",i,o,s,a,l;for(e.length>20&&e.slice(-1)!=='"'&&t.indexOf("n")<0&&(e.indexOf(`
`)>0||e.indexOf('"')>0)?(a='"""',l=this.forbidden3):(a='"',l=this.forbidden1),i=0;i<e.length;){l.lastIndex=0;var c=l.exec(e.slice(i));if(c==null)break;o=i+l.lastIndex-1,r+=e.slice(i,o);var u=e[o];u==='"'&&a==='"""'&&e.slice(o,o+3)!=='"""'?r+=u:(s=`\b\f\r	\v
\\"`.indexOf(u),s>=0?r+="\\"+'bfrtvn\\"'[s]:t.indexOf("e")>=0?r+="\\u"+("000"+u.charCodeAt(0).toString(16).toLowerCase()).slice(-4):r+=u),i=o+1}return a+r+e.slice(i)+a}symbolToN3(e){var t=e.uri,r=t.indexOf("#");if(r<0&&this.flags.indexOf("/")<0&&(r=t.lastIndexOf("/")),r>=0&&this.flags.indexOf("p")<0&&(t.indexOf("http")===0||t.indexOf("ws")===0||t.indexOf("file")===0)){for(var i=!0,o=r+1;o<t.length;o++)if(this._notNameChars.indexOf(t[o])>=0){i=!1;break}if(i){var s=t.slice(r+1),a=t.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace===a&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(s)<0?s:":"+s;var l=this.prefixes[a];if(l||(l=this.makeUpPrefix(a)),l)return this.namespacesUsed[a]=!0,l+":"+s}}return this.explicitURI(t)}writeStore(e){var t=this.store,r=t.fetcher,i=r&&r.appNode,o=this.store.index[3];for(var s in o){var a=t.fromNT(s);i&&a.equals(i)||e(`
`+this.atomicTermToN3(a)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,a))+` }.
`)}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(u){e(`
<`+u.object.value+`> log:metadata {
`);var h=t.statementsMatching(void 0,void 0,void 0,u.subject);e(this.statementsToN3(this.statementsToN3(h))),e(`}.
`)});var l=[];i&&l.push(i);var c=[];l.map(function(u){c=c.concat(t.statementsMatching(void 0,void 0,void 0,u))}),e(this.statementsToN3(c))}statementsToXML(e){var t=4,r=80,i=[];i["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var o="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",s=function(Ce){for(var z="",ae=0;ae<Ce;ae++)z+=" ";return z},a=function(Ce){for(var z="",ae=0;ae<Ce.length;ae++){var Te=Ce[ae],Oe=typeof Te=="string"?Te:a(Te);z+=Oe}return z},l=function(Ce,z){var ae="",Te,Oe=1e5;z||(z=0);for(var _e=0;_e<Ce.length;_e++){var De=Ce[_e];if(typeof De!="string"){var Be=l(De,z+1);Be.length<10*(r-t*z)&&Be.indexOf('"""')<0&&(Te=a(De),Te.length<r-t*z&&(De="   "+Te,Be="")),Be&&(Oe=1e4),ae+=Be}typeof De=="string"&&(Oe<t*z+4?(ae=ae.slice(0,-1)+" "+De+`
`,Oe+=De.length+1):(Te=s(t*z)+De,ae+=Te+`
`,Oe=Te.length))}return ae};function c(Ce){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var z=this.rootSubjects(Ce),ae=z.roots,Te=[],Oe=0;Oe<ae.length;Oe++){var _e=ae[Oe];Te.push(v(_e,z))}return Te}var u=c.bind(this);function h(Ce){return typeof Ce>"u"?"@@@undefined@@@@":Ce.replace(/[&<"]/g,function(z){switch(z[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}function m(Ce){return h(this.base?Za.refTo(this.base,Ce.uri):Ce.uri)}var g=m.bind(this);function b(Ce,z){var ae=[],Te,Oe,_e,De,Be=z.subjects[this.toStr(Ce)];if(typeof Be>"u")return R(Ce,z);Be.sort(function(Dn,Rn){var mn=Dn.predicate.uri,an=Rn.predicate.uri;if(mn.substring(0,o.length)===o||an.substring(0,o.length)===o)return mn.localeCompare(an);var Nn=mn.substring(o.length),qt=an.substring(o.length),ie=parseInt(Nn,10),A=parseInt(qt,10);return isNaN(ie)||isNaN(A)||ie!==Nn||A!==qt?mn.localeCompare(an):ie-A});for(var pt=0;pt<Be.length;pt++){if(_e=Be[pt],_e.predicate.uri==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"&&!Te&&_e.object.termType==="NamedNode"){Te=_e.object;continue}if(De=_e.predicate,De.uri.substr(0,o.length)===o){var Tt=De.uri.substr(o.length),bt=parseInt(Tt,10);Tt===bt.toString()&&(De=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(Oe=M(De),_e.object.termType){case"BlankNode":z.incoming[_e.object].length===1?ae=ae.concat(["<"+Oe+' rdf:parseType="Resource">',v(_e.object,z),"</"+Oe+">"]):ae=ae.concat(["<"+Oe+' rdf:nodeID="'+_e.object.toNT().slice(2)+'"/>']);break;case"NamedNode":ae=ae.concat(["<"+Oe+' rdf:resource="'+g(_e.object)+'"/>']);break;case"Literal":ae=ae.concat(["<"+Oe+(_e.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+h(_e.object.datatype.uri)+'"')+(_e.object.language?' xml:lang="'+_e.object.language+'"':"")+">"+h(_e.object.value)+"</"+Oe+">"]);break;case"Collection":ae=ae.concat(["<"+Oe+' rdf:parseType="Collection">',E(_e.object,z),"</"+Oe+">"]);break;default:throw new Error("Can't serialize object of type "+_e.object.termType+" into XML")}}var At=Te?M(Te):"rdf:Description",sn="";return Ce.termType==="BlankNode"?(!z.incoming[Ce]||z.incoming[Ce].length!==1)&&(sn=' rdf:nodeID="'+Ce.toNT().slice(2)+'"'):sn=' rdf:about="'+g(Ce)+'"',["<"+At+sn+">"].concat([ae]).concat(["</"+At+">"])}var v=b.bind(this);function E(Ce,z){for(var ae=[],Te=0;Te<Ce.elements.length;Te++)ae.push(v(Ce.elements[Te],z));return ae}function C(Ce,z){var ae=[],Te=z.subjects[this.toStr(Ce)];if(!Te)return ae;Te.sort();for(var Oe=0;Oe<Te.length;Oe++){var _e=Te[Oe];switch(_e.object.termType){case"BlankNode":z.rootsHash[_e.object.toNT()]?ae=ae.concat(["<"+M(_e.predicate)+' rdf:nodeID="'+_e.object.toNT().slice(2)+'">',"</"+M(_e.predicate)+">"]):ae=ae.concat(["<"+M(_e.predicate)+' rdf:parseType="Resource">',R(_e.object,z),"</"+M(_e.predicate)+">"]);break;case"NamedNode":ae=ae.concat(["<"+M(_e.predicate)+' rdf:resource="'+g(_e.object)+'"/>']);break;case"Literal":ae=ae.concat(["<"+M(_e.predicate)+(_e.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+h(_e.object.datatype.value)+'"')+(_e.object.language?' xml:lang="'+_e.object.language+'"':"")+">"+h(_e.object.value)+"</"+M(_e.predicate)+">"]);break;case"Collection":ae=ae.concat(["<"+M(_e.predicate)+' rdf:parseType="Collection">',E(_e.object,z),"</"+M(_e.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+_e.object.termType+" into XML")}}return ae}var R=C.bind(this);function F(Ce){var z=Ce.uri,ae=z.indexOf("#");if(ae<0&&this.flags.indexOf("/")<0&&(ae=z.lastIndexOf("/")),ae<0)throw new Error("Cannot make qname out of <"+z+">");for(var Te=ae+1;Te<z.length;Te++)if(this._notNameChars.indexOf(z[Te])>=0)throw new Error('Invalid character "'+z[Te]+'" cannot be in XML qname for URI: '+z);var Oe=z.slice(ae+1),_e=z.slice(0,ae+1);if(this.defaultNamespace&&this.defaultNamespace===_e&&this.flags.indexOf("d")<0)return Oe;var De=this.prefixes[_e];return De||(De=this.makeUpPrefix(_e)),i[_e]=!0,De+":"+Oe}var M=F.bind(this),D=u(e),$="<rdf:RDF";this.defaultNamespace&&($+=' xmlns="'+h(this.defaultNamespace)+'"');for(var Q in i)if(i.hasOwnProperty(Q)){var k=this.base&&this.flags.includes("z")?Za.refTo(this.base,Q):Q;$+=`
 xmlns:`+this.prefixes[Q]+'="'+h(k)+'"'}$+=">";var oe=[$,D,"</rdf:RDF>"];return l(oe,-1)}statementsToJsonld(e){let t=this.statementsToN3(e),r=mW.parse(t);return JSON.stringify(r,null,2)}};function a_e(n){return encodeURI(n)}function l_e(n){for(var e="",t,r=0;r<n.length;r++)t=n.charCodeAt(r),t>65535?e+="\\U"+("00000000"+t.toString(16)).slice(-8):t>126?e+="\\u"+("0000"+t.toString(16)).slice(-4):e+=n[r];return e}function tl(n,e,t,r,i,o){t=t||n?.value;let s=o||{};r=r||Hl;var a=void 0;try{var l=F_(e);s.flags&&l.setFlags(s.flags);var c=e.statementsMatching(void 0,void 0,void 0,n);switch("namespaces"in e&&l.suggestNamespaces(e.namespaces),s.namespaces&&l.setNamespaces(s.namespaces),l.setBase(t),r){case Zu:return a=l.statementsToXML(c),u(null,a);case zx:case XG:return a=l.statementsToN3(c),u(null,a);case Hl:case e7:return l.setFlags("si"),a=l.statementsToN3(c),u(null,a);case YG:return l.setFlags("deinprstux"),a=l.statementsToNTriples(c),u(null,a);case h_:return l.setFlags("si dr"),a=l.statementsToJsonld(c),u(null,a);case m_:case p_:return l.setFlags("deinprstux q"),a=l.statementsToNTriples(c),u(null,a);default:throw new Error("Serialize: Content-type "+r+" not supported for data write.")}}catch(h){if(i)return i(h,void 0);throw h}function u(h,m){if(i){i(h,m);return}else return m}}var gW=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"],oD={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function sD(n,e,t){let r=[];return t.reduce((i,o,s,a)=>{r.push(n.quad(i,n.namedNode(oD.first),a[s]));let l;return s<a.length-1?(l=n.blankNode(),r.push(n.quad(i,n.namedNode(oD.rest),l))):r.push(n.quad(i,n.namedNode(oD.rest),n.namedNode(oD.nil))),l},e),r}function os(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;var r=n.length;for(t<0&&(t=r+t);t<r;t++)if(n[t]===e)return t;return-1}var Vm=class n extends rr{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};super(""),e=this,this.statements=t,this.constraints=r,this.initBindings=i,this.optional=o,Ue(this,"termType",Lc),Ue(this,"classOrder",Yi.Graph),Ue(this,"fetcher",void 0),Ue(this,"isVar",0),Ue(this,"ns",bn),Ue(this,"rdfFactory",void 0),this.rdfFactory=s&&s.rdfFactory||po;for(let a of gW)this[a]=function(){return e.rdfFactory[a](...arguments)}}add(e,t,r,i){return arguments.length===1&&e.forEach(o=>this.add(o.subject,o.predicate,o.object,o.graph)),this.statements.push(this.rdfFactory.quad(e,t,r,i))}addStatement(e){return this.add(e)}bnode(e){return this.rdfFactory.blankNode(e)}addAll(e){e.forEach(t=>{this.add(t.subject,t.predicate,t.object,t.graph)})}any(e,t,r,i){let o=this.anyStatementMatching(e,t,r,i);return o==null?null:e==null?o.subject:t==null?o.predicate:r==null?o.object:null}anyValue(e,t,r,i){let o=this.any(e,t,r,i);return o?o.value:void 0}anyJS(e,t,r,i){let o=this.any(e,t,r,i);return o?rr.toJS(o):void 0}anyStatementMatching(e,t,r,i){let o=this.statementsMatching(e,t,r,i,!0);if(!(!o||o.length===0))return o[0]}id(e){return this.rdfFactory.id(e)}statementsMatching(e,t,r,i,o){let s=this.statements.filter(a=>(!e||e.equals(a.subject))&&(!t||t.equals(a.predicate))&&(!r||r.equals(a.object))&&(!i||i.equals(a.graph)));return o?s.length===0?[]:[s[0]]:s}bottomTypeURIs(e){let t,r,i,o,s,a,l,c;t=[];for(let u in e)if(e.hasOwnProperty(u)){for(c=e[u],l=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(u)),r=!0,o=0,s=l.length;o<s;o++)if(i=l[o],a=i.uri,a in e){r=!1;break}r&&(t[u]=c)}return t}collection(){return new Rs}each(e,t,r,i){let o=[],s=this.statementsMatching(e,t,r,i,!1);if(e==null)for(let a=0,l=s.length;a<l;a++)o.push(s[a].subject);else if(t==null)for(let a=0,l=s.length;a<l;a++)o.push(s[a].predicate);else if(r==null)for(let a=0,l=s.length;a<l;a++)o.push(s[a].object);else if(i==null)for(let a=0,l=s.length;a<l;a++)o.push(new zn(s[a].graph.value));return o}equals(e){return e?this.hashString()===e.hashString():!1}findMembersNT(e){let t,r,i,o,s,a,l,c,u,h,m,g,b,v;g={},g[e.toNT()]=!0,o={},a=this.transitiveClosure(g,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(let E in a)if(a.hasOwnProperty(E)){l=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(E));for(let C=0,R=l.length;C<R;C++)b=l[C],o[b.subject.toNT()]=b;c=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(E));for(let C=0,R=c.length;C<R;C++)for(s=c[C],u=this.statementsMatching(void 0,s),i=0,t=u.length;i<t;i++)b=u[i],o[b.subject.toNT()]=b;h=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(E));for(let C=0,R=h.length;C<R;C++)for(s=h[C],m=this.statementsMatching(void 0,s),v=0,r=m.length;v<r;v++)b=m[v],o[b.object.toNT()]=b}return o}findMemberURIs(e){return this.NTtoURI(this.findMembersNT(e))}findSubClassesNT(e){let t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}findSuperClassesNT(e){let t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}findTypesNT(e){let t,r,i,o,s,a,l,c,u;i="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",u=[],o=this.statementsMatching(e,void 0,void 0);for(let h=0,m=o.length;h<m;h++)if(c=o[h],c.predicate.uri===i)u[c.object.toNT()]=c;else{s=this.each(c.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(let g=0,b=s.length;g<b;g++)r=s[g],u[r.toNT()]=c}a=this.statementsMatching(void 0,void 0,e);for(let h=0,m=a.length;h<m;h++){c=a[h],l=this.each(c.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(let g=0,b=l.length;g<b;g++)t=l[g],u[t.toNT()]=c}return this.transitiveClosure(u,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}findTypeURIs(e){return this.NTtoURI(this.findTypesNT(e))}connectedStatements(e,t,r){r=r||[];let i=[e],o={},s={},a=[],l=this,c=function(u){let h=function(g){g.termType==="BlankNode"&&!o[g.value]&&(o[g.value]=!0,i.push(g))},m=l.statementsMatching(null,null,u,t).concat(l.statementsMatching(u,null,null,t));m=m.filter(function(g){if(r[g.predicate.value])return!1;let b=g.toNT();return s[b]?!1:(s[b]=!0,!0)}),m.forEach(function(g){h(g.subject),h(g.object)}),a=a.concat(m)};for(;i.length;)c(i.shift());return a}formula(e){return new n}fromNT(e){let t,r,i;switch(e[0]){case"<":return this.sym(e.slice(1,-1));case'"':if(i=void 0,t=void 0,r=e.lastIndexOf('"'),r<e.length-1)if(e[r+1]==="@")i=e.slice(r+2);else if(e.slice(r+1,r+3)==="^^")t=this.fromNT(e.slice(r+3));else throw new Error("Can't convert string from NT: "+e);return e=e.slice(1,r),e=e.replace(/\\"/g,'"'),e=e.replace(/\\n/g,`
`),e=e.replace(/\\\\/g,"\\"),this.rdfFactory.literal(e,i||t);case"_":return this.rdfFactory.blankNode(e.slice(2));case"?":return new Ns(e.slice(1))}throw new Error("Can't convert from NT: "+e)}holds(e,t,r,i){let o;if(arguments.length===1){if(!e)return!0;if(e instanceof Array){for(o=0;o<e.length;o++)if(!this.holds(e[o]))return!1;return!0}else{if(t7(e))return this.holds(e.subject,e.predicate,e.object,e.graph);if(e.statements)return this.holds(e.statements)}}return this.anyStatementMatching(e,t,r,i)!=null}holdsStatement(e){return this.holds(e.subject,e.predicate,e.object,e.graph)}list(e,t){if(t.rdfFactory.supports.COLLECTIONS){let r=t.rdfFactory.collection();return e.forEach(function(i){r.append(i)}),r}else{let r=t.rdfFactory.blankNode(),i=sD(t.rdfFactory,r,e);return t.addAll(i),r}}NTtoURI(e){let t,r,i={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],t[0]==="<"&&(i[t.slice(1,-1)]=r));return i}serialize(e,t,r,i){return tl(r,this,e,t,void 0,i)}substitute(e){let t=this.statements.map(function(i){return i.substitute(e)}),r=new n;return r.addAll(t),r}sym(e,t){if(t)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(e)}the(e,t,r,i){let o=this.any(e,t,r,i);return o==null&&ni.error("No value found for the() {"+e+" "+t+" "+r+"}."),o}transitiveClosure(e,t,r){let i,o,s,a,l,c,u={};Object.assign(u,e);let h={};for(;;){if(c=function(){for(let m in u)if(u.hasOwnProperty(m))return m}(),c==null)return h;for(l=r?this.each(void 0,t,this.fromNT(c)):this.each(this.fromNT(c),t),o=0,s=l.length;o<s;o++)i=l[o],a=i.toNT(),!(a in h)&&(a in u||(u[a]=u[c]));h[c]=u[c],delete u[c]}}topTypeURIs(e){let t,r,i,o,s,a,l,c;l=[];for(i in e)if(e.hasOwnProperty(i)){for(c=e[i],s=0,a=this.each(this.rdfFactory.namedNode(i),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),t=0,o=a.length;t<o;t++)if(r=a[t],r.uri!=="http://www.w3.org/2000/01/rdf-schema#Resource"){s++;break}s||(l[i]=c)}return l["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete l["http://www.w3.org/2000/01/rdf-schema#Resource"],l["http://www.w3.org/2002/07/owl#Thing"]&&delete l["http://www.w3.org/2002/07/owl#Thing"],l}toString(){return"{"+this.statements.join(`
`)+"}"}variable(e){return new Ns(e)}whether(e,t,r,i){return this.statementsMatching(e,t,r,i,!1).length}};rr.fromValue=bO;var nl=rr,$m={xsd:bn("http://www.w3.org/2001/XMLSchema#")};rr.toJS=function(n){return Nm(n)?n.elements.map(rr.toJS):Gx(n)?n.datatype.equals($m.xsd("boolean"))?n.value==="1"||n.value==="true":n.datatype.equals($m.xsd("dateTime"))||n.datatype.equals($m.xsd("date"))?new Date(n.value):n.datatype.equals($m.xsd("integer"))||n.datatype.equals($m.xsd("float"))||n.datatype.equals($m.xsd("decimal"))?Number(n.value):n.value:n};var aD=class{constructor(e,t){this.pat=new No,this.vars=[],this.name=e,this.id=t}};function qO(n,e,t,r){function i(D){var $="",Q;for(Q in D)D.hasOwnProperty(Q)&&($+="    "+Q+" -> "+D[Q]);return $}function o(D){var $="Bindings: ",Q,k=D.length;for(Q=0;Q<k;Q++)$+=i(D[Q][0])+`;
	`;return $}function s(D,$,Q,k){var oe=Q[D];if(oe===void 0){if(D.isVar){var Ce=[];return Ce[D]=$,[[Ce,null]]}oe=D}if(!oe.complexType)return k.redirections[oe]&&(oe=k.redirections[oe]),k.redirections[$]&&($=k.redirections[$]),oe.equals($)||oe.uri&&oe.uri===Bc?[[[],null]]:[];if(D instanceof Array)return $ instanceof Array?a(D,$,Q):[];throw new Error("query.js: oops - code not written yet")}function a(D,$,Q,k){var oe;if(D.length!==$.length)return[];if(!D.length)return[[[],null]];var Ce=s(D[0],$[0],Q,k);if(Ce.length===0)return Ce;var z=[],ae,Te=Ce.length,Oe,_e,De,Be,pt,Tt;for(ae=0;ae<Te;ae++){Oe=Ce[ae][0],Tt=[];for(Be in Oe)Oe.hasOwnProperty(Be)&&(Tt[Be]=Oe[Be]);for(Be in Q)Q.hasOwnProperty(Be)&&(Tt[Be]=Q[Be]);for(oe=a(D.slice(1),$.slice(1),Tt,k),De=oe.length,_e=0;_e<De;_e++){pt=oe[_e][0];for(Be in Oe)Oe.hasOwnProperty(Be)&&(pt[Be]=Oe[Be]);z.push([pt,null])}}return z}function l(D,$){var Q=$[D];return Q===void 0?D:Q}function c(D,$){var Q={},k;for(k in D)D.hasOwnProperty(k)&&(Q[k]=D[k]);for(k in $)$.hasOwnProperty(k)&&(Q[k]=$[k]);return Q}function u(D,$){return this.trunkBindings=$,this.originalCallback=D,this.branches=[],this}u.prototype.checkAllDone=function(){var D;for(D=0;D<this.branches.length;D++)if(!this.branches[D].done)return;ni.debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},u.prototype.doCallBacks=function(D,$){var Q;if(D<0)return this.originalCallback($);for(Q=0;Q<this.branches[D].results.length;Q++)this.doCallBacks(D-1,c($,this.branches[D].results[Q]))};function h(D,$){return this.count=0,this.success=!1,this.done=!1,this.callback=D,this.onDone=$,this}h.prototype.reportMatch=function(D){this.callback(D),this.success=!0},h.prototype.reportDone=function(){this.done=!0,ni.info("Mandatory query branch finished.***"),this.onDone!==void 0&&this.onDone()};var m=function(D){return this.count=0,this.done=!1,this.results=[],this.junction=D,D.branches.push(this),this};m.prototype.reportMatch=function(D){this.results.push(D)},m.prototype.reportDone=function(){ni.debug("Optional branch finished - results.length = "+this.results.length),this.results.length===0&&(this.results.push({}),ni.debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};function g(D,$,Q){var k,oe,Ce,z;for($.nvars=0,$.index=null,k=[$.subject,$.predicate,$.object,$.why],z=[D.subjectIndex,D.predicateIndex,D.objectIndex,D.whyIndex],Ce=0;Ce<4;Ce++){let ae=k[Ce];if(!(ae.uri&&ae.uri===Bc))if(ae.isVar&&Q[ae]===void 0)$.nvars++;else{if(ae=l(k[Ce],Q),D.redirections[D.id(ae)]&&(ae=D.redirections[D.id(ae)]),oe=z[Ce][D.id(ae)],!oe)return $.index=[],!1;($.index===null||$.index.length>oe.length)&&($.index=oe)}}return $.index===null&&($.index=D.statements),!0}function b(D,$){return D.nvars!==$.nvars?D.nvars-$.nvars:D.index.length-$.index.length}var v=0,E=function(D,$,Q,k,oe,Ce,z){ni.debug("Match begins, Branch count now: "+z.count+" for "+z.pattern_debug);var ae=$.statements;if(ae.length===0){if(ni.debug("FOUND MATCH WITH BINDINGS:"+i(Q)),$.optional.length===0)z.reportMatch(Q);else{ni.debug("OPTIONAL: "+$.optional);var Te=new u(e,Q),Oe=[],_e;for(_e=0;_e<$.optional.length;_e++)Oe[_e]=new m(Te),Oe[_e].pattern_debug=$.optional[_e];for(_e=0;_e<$.optional.length;_e++)Oe[_e].count=Oe[_e].count+1,E(D,$.optional[_e],Q,"",oe,e,Oe[_e])}z.count--,ni.debug("Match ends -- success , Branch count now: "+z.count+" for "+z.pattern_debug);return}var De,Be,pt=ae.length;if(oe){var Tt="match"+v++,bt=function(At,sn){var Dn=At.uri.split("#")[0];oe.nowOrWhenFetched(Dn,void 0,function(Rn,mn,an){Rn||console.log("Error following link to <"+At.uri+"> in query: "+mn),E(D,$,Q,k,oe,Ce,z)})};for(Be=0;Be<pt;Be++){if(De=ae[Be],Q[De.subject]!==void 0&&Q[De.subject].uri&&oe&&oe.getState(ca(Q[De.subject].uri))==="unrequested"){bt(Q[De.subject],Tt);return}if(Q[De.object]!==void 0&&Q[De.object].uri&&oe&&oe.getState(ca(Q[De.object].uri))==="unrequested"){bt(Q[De.object],Tt);return}}}R(D,$,Q,k,oe,Ce,z)},C=function(D,$){var Q=!0,k,oe;for(k in D)D.hasOwnProperty(k)&&$[k]&&(oe=$[k].test,oe&&!oe(D[k])&&(Q=!1));return Q},R=function(D,$,Q,k,oe,Ce,z){var ae=$.statements,Te=ae.length,Oe,_e,De,Be,pt,Tt,bt;for(Oe=0;Oe<Te;Oe++)bt=ae[Oe],g(D,bt,Q);ae.sort(b),bt=ae[0];var At=D.formula();At.optional=$.optional,At.constraints=$.constraints,At.statements=ae.slice(1),ni.debug(k+"match2 searching "+bt.index.length+" for "+bt+"; bindings so far="+i(Q));var sn,Dn=bt.index.length,Rn,mn,an=0;for(sn=0;sn<Dn;sn++)for(mn=bt.index[sn],Rn=a([bt.subject,bt.predicate,bt.object,bt.why],[mn.subject,mn.predicate,mn.object,mn.why],Q,D),ni.info(k+" From first: "+Rn.length+": "+o(Rn)),De=Rn.length,_e=0;_e<De;_e++)if(pt=[],Tt=Rn[_e][0],!C(Tt,$.constraints))ni.debug("Branch count CS: "+z.count);else{for(Be in Tt)Tt.hasOwnProperty(Be)&&(pt[Be]=Tt[Be]);for(Be in Q)Q.hasOwnProperty(Be)&&(pt[Be]=Q[Be]);z.count++,an++,E(D,At,pt,k+"  ",oe,Ce,z)}z.count--,an===0&&ni.debug("Match2 fails completely on "+bt),ni.debug("Match2 ends, Branch count: "+z.count+" for "+z.pattern_debug),z.count===0&&(ni.debug("Branch finished."),z.reportDone())},F=this;ni.debug("Query on "+this.statements.length);var M=new h(e,r);M.count++,n.sync?E(F,n.pat,n.pat.initBindings,"",t,e,M):setTimeout(function(){E(F,n.pat,n.pat.initBindings,"",t,e,M)},0)}var zO="http://www.w3.org/2002/07/owl#";function c_e(n,e,t,r){var i=n.any(e,t,void 0);return i?(n.equate(i,r),!0):!1}function u_e(n,e,t,r){var i=n.any(void 0,t,r);return i?(n.equate(i,e),!0):!1}function yW(n,e,t,r,i){n.typeCallback&&n.typeCallback(n,r,i);var o=n.classActions[n.id(r)],s=!1;if(o)for(var a=0;a<o.length;a++)s=s||o[a](n,e,t,r,i);return s}var No=class n extends Vm{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(void 0,void 0,void 0,void 0,t),Ue(this,"updater",void 0),Ue(this,"namespaces",void 0),Ue(this,"classActions",void 0),Ue(this,"propertyActions",void 0),Ue(this,"redirections",void 0),Ue(this,"aliases",void 0),Ue(this,"HTTPRedirects",void 0),Ue(this,"subjectIndex",void 0),Ue(this,"predicateIndex",void 0),Ue(this,"objectIndex",void 0),Ue(this,"whyIndex",void 0),Ue(this,"index",void 0),Ue(this,"features",void 0),Ue(this,"_universalVariables",void 0),Ue(this,"_existentialVariables",void 0),Ue(this,"rdfArrayRemove",void 0),Ue(this,"dataCallbacks",void 0),this.propertyActions={},this.classActions={},this.redirections=[],this.aliases=[],this.HTTPRedirects=[],this.subjectIndex=[],this.predicateIndex=[],this.objectIndex=[],this.whyIndex=[],this.index=[this.subjectIndex,this.predicateIndex,this.objectIndex,this.whyIndex],this.namespaces={},this.features=e||[],this.rdfArrayRemove=t.rdfArrayRemove||R_,t.dataCallback&&(this.dataCallbacks=[t.dataCallback]),this.initPropertyActions(this.features)}static get defaultGraphURI(){return Bc}substitute(e){var t=this.statements.map(function(i){return i.substitute(e)}),r=new n;return r.add(t),r}addDataCallback(e){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(e)}applyPatch(e,t,r){var i=this,o,s=null;function a(u){if(e.delete){o=e.delete,s&&(o=o.substitute(s)),o=o.statements;var h=[],m=o.map(function(g){var b=i.statementsMatching(g.subject,g.predicate,g.object,t);return b.length===0?(h.push(g),null):b[0]});if(h.length)return r("Could not find to delete: "+h.join(`
 or `));m.map(function(g){i.remove(g)})}e.insert&&(o=e.insert,s&&(o=o.substitute(s)),o=o.statements,o.map(function(g){g.graph=t,i.add(g.subject,g.predicate,g.object,g.graph)})),u()}if(e.where){var l=new aD("patch");l.pat=e.where,l.pat.statements.map(function(u){u.graph=Ht(t.value)}),l.sync=!0;var c=[];i.query(l,function(h){c.push(h)},i.fetcher,function(){if(c.length===0)return r("No match found to be patched:"+e.where);if(c.length>1)return r("Patch ambiguous. No patch done.");s=c[0],a(r)})}else a(r)}declareExistential(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e}initPropertyActions(e){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[yW],os(e,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${zO}sameAs`))]=[function(t,r,i,o,s){return t.equate(r,o),!0}]),os(e,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${zO}InverseFunctionalProperty`))]=[function(t,r,i,o,s){return t.newPropertyAction(r,u_e)}]),os(e,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode(`${zO}FunctionalProperty`))]=[function(t,r,i,o,s){return t.newPropertyAction(r,c_e)}])}addStatement(e){return this.add(e.subject,e.predicate,e.object,e.graph),this.statements.length}add(e,t,r,i){var o;if(arguments.length===1){if(e instanceof Array)for(o=0;o<e.length;o++)this.add(e[o]);else ed(e)?this.add(e.subject,e.predicate,e.object,e.graph):Rm(e)&&this.add(e.statements);return this}var s,a;i||(i=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),typeof e=="string"&&(e=this.rdfFactory.namedNode(e)),t=nl.fromValue(t);let l=nl.fromValue(r);if(i=nl.fromValue(i),!r7(e))throw new Error("Subject is not a subject type");if(!i7(t))throw new Error(`Predicate ${t} is not a predicate type`);if(!n7(l))throw new Error(`Object ${l} is not an object type`);if(!a7(i))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,t,i);var c=this.id(this.canon(t));s=this.propertyActions[c];var u=!1;if(s)for(o=0;o<s.length;o++)u=u||s[o](this,e,t,l,i);if(this.holds(e,t,l,i))return null;var h=[this.id(this.canon(e)),c,this.id(this.canon(l)),this.id(this.canon(i))];for(a=this.rdfFactory.quad(e,t,l,i),o=0;o<4;o++){var m=this.index[o],g=h[o];m[g]||(m[g]=[]),m[g].push(a)}if(this.statements.push(a),this.dataCallbacks)for(let b of this.dataCallbacks)b(a);return a}canon(e){if(!e)return e;let t=this.redirections[this.id(e)];if(t)return t;switch(e.termType){case Ya:return new Qi(e.value);case As:return e;case la:return new td;case qx:return e;case Lc:return e;case $l:return new fo(e.value,e.language,e.datatype);case Xa:return new zn(e.value);case aa:return new Ns(e.value);default:throw new Error(`Term Type not recognized for canonization: ${e.termType}`)}}check(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var r in t)t.hasOwnProperty(r)&&this.checkStatementList(t[r],e)}}checkStatementList(e,t){t===void 0&&(t=0);for(var r=["subject","predicate","object","why"],i=" found in "+r[t]+" index.",o,s=0;s<e.length;s++){o=e[s];for(var a=[o.subject,o.predicate,o.object,o.graph],l=function(m,g){for(var b=0;b<m.length;b++)if(m[b].subject.equals(g.subject)&&m[b].predicate.equals(g.predicate)&&m[b].object.equals(g.object)&&m[b].why.equals(g.graph))return!0},c=0;c<4;c++){var u=this.canon(a[c]),h=this.id(u);this.index[c][h]&&l(this.index[c][h],o)}if(!l(this.statements,o))throw new Error("Statement list does not statement "+o+"@"+o.graph+i)}}close(){return this}compareTerms(e,t){return Object.prototype.hasOwnProperty.call(e,"compareTerm")?e.compareTerm(t):Yi[e.termType]<Yi[t.termType]?-1:Yi[e.termType]>Yi[t.termType]?1:e.value<t.value?-1:e.value>t.value?1:0}copyTo(e,t,r){r||(r=[]);var i=this.statementsMatching(e);os(r,"two-direction")!==-1&&i.concat(this.statementsMatching(void 0,void 0,e));for(var o=0;o<i.length;o++){var s=i[o];switch(s.object.termType){case"NamedNode":this.add(t,s.predicate,s.object);break;case"Literal":case"BlankNode":case"Collection":this.add(t,s.predicate,s.object.copy(this))}os(r,"delete")!==-1&&this.remove(s)}}equate(e,t){let r=this.canon(e),i=this.canon(t);var o=this.compareTerms(r,i);return o?o<0?this.replaceWith(i,r):this.replaceWith(r,i):!0}formula(e){return new n(e)}get length(){return this.statements.length}match(e,t,r,i){return this.statementsMatching(nl.fromValue(e),nl.fromValue(t),nl.fromValue(r),nl.fromValue(i))}mentionsURI(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]}newExistential(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)}newPropertyAction(e,t){var r=this.id(e);this.propertyActions[r]||(this.propertyActions[r]=[]),this.propertyActions[r].push(t);for(var i=this.statementsMatching(void 0,e,void 0),o=!1,s=0;s<i.length;s++)o=o||t(this,i[s].subject,e,i[s].object);return o}newUniversal(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t}variable(e){return new Ns(e)}nextSymbol(e){for(var t=0;;t++){var r=e.value+"#n"+t;if(!this.mentionsURI(r))return this.sym(r)}}query(e,t,r,i){return qO.call(this,e,t,r,i)}querySync(e){var t=[];function r(s){t.push(s)}function i(){o=!0}var o=!1;if(e.sync=!0,qO.call(this,e,r,null,i),!o)throw new Error("Sync query should have called done function");return t}remove(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}if(Rm(e))return this.remove(e.statements);var r=this.statementsMatching(e.subject,e.predicate,e.object,e.graph);if(!r.length)throw new Error("Statement to be removed is not on store: "+e);return this.removeStatement(r[0]),this}removeDocument(e){this.removeMetadata(e);for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),r=0;r<t.length;r++)this.removeStatement(t[r]);return this.removeMatches(e,null,null),this}removeMetadata(e){let t=this.sym("chrome://TheCurrentSession"),r="http://www.w3.org/2007/ont/link#",i=this.statementsMatching(void 0,this.sym(`${r}requestedURI`),this.rdfFactory.literal(e.value),t).map(a=>a.subject);for(var o=0;o<i.length;o++){let a=i[o];if(a!=null){let l,c=this.any(a,this.sym(`${r}status`),null,t);if(c!=null){l=this.statementsMatching(c,this.sym(`${r}status`),null,t).slice();for(var s=0;s<l.length;s++)this.removeStatement(l[s])}let u=this.any(a,this.sym(`${r}response`),null,t);if(u!=null){l=this.statementsMatching(u,null,null,t).slice();for(var s=0;s<l.length;s++)this.removeStatement(l[s])}l=this.statementsMatching(a,null,null,t).slice();for(var s=0;s<l.length;s++)this.removeStatement(l[s])}}return this.removeMatches(this.sym(e.value),null,null,t),this}removeMany(e,t,r,i,o){for(var s=this.statementsMatching(e,t,r,i,!1),a=[],l=0;l<s.length;l++)a.push(s[l]);for(o&&(a=a.slice(0,o)),l=0;l<a.length;l++)this.remove(a[l])}removeMatches(e,t,r,i){return this.removeMany(e,t,r,i),this}removeStatement(e){for(var t=[e.subject,e.predicate,e.object,e.graph],r=0;r<4;r++){var i=this.canon(t[r]),o=this.id(i);this.index[r][o]&&this.rdfArrayRemove(this.index[r][o],e)}return this.rdfArrayRemove(this.statements,e),this}removeStatements(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}replaceWith(e,t){for(var r=this.id(e),i=this.id(t),o=function(a){var l=a[r];if(l){var c=a[i];c?a[i]=l.concat(c):a[i]=l,delete a[r]}},s=0;s<4;s++)o(this.index[s]);if(this.redirections[r]=t,e.value){if(this.aliases[i]||(this.aliases[i]=[]),this.aliases[i].push(e),this.aliases[r])for(s=0;s<this.aliases[r].length;s++)this.redirections[this.id(this.aliases[r][s])]=t,this.aliases[i].push(this.aliases[r][s]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return o(this.classActions),o(this.propertyActions),!0}allAliases(e){var t=this.aliases[this.id(this.canon(e))]||[];return t.push(this.canon(e)),t}sameThings(e,t){if(e.equals(t))return!0;var r=this.canon(e);if(!r)return!1;var i=this.canon(t);return i?r.value===i.value:!1}setPrefixForURI(e,t){if(!(e==="tab"&&this.namespaces.tab)&&!(e.slice(0,2)==="ns"||e.slice(0,7)==="default")){for(let r in this.namespaces)this.namespaces[r]==t&&delete this.namespaces[r];this.namespaces[e]=t}}statementsMatching(e,t,r,i,o){var s=[e,t,r,i],a=[],l=[],c=[],u=[],h,m;for(h=0;h<4;h++)a[h]=this.canon(nl.fromValue(s[h])),a[h]?(u.push(h),l[h]=this.id(a[h])):c.push(h);if(u.length===0)return this.statements;if(u.length===1)return h=u[0],m=this.index[h][l[h]],m&&o&&m.length>1&&(m=m.slice(0,1)),m=m||[],m;var g=1e10,b,v;for(v=0;v<u.length;v++){if(h=u[v],m=this.index[h][l[h]],!m)return[];m.length<g&&(g=m.length,b=v)}for(var E=u[b],C=this.index[E][l[E]],R=u.slice(0,b).concat(u.slice(b+1)),F=[],M=["subject","predicate","object","why"],D=0;D<C.length;D++){var $=C[D];for(v=0;v<R.length;v++)if(h=R[v],!this.canon($[M[h]]).equals(a[h])){$=null;break}if($!=null&&(F.push($),o))break}return F}uris(e){var t=this.canon(e),r=this.aliases[this.id(t)];if(!t.value)return[];var i=[t.value];if(r)for(var o=0;o<r.length;o++)i.push(r[o].uri);return i}serialize(e,t,r,i){let o=i?.namespaces?ne(ne({},this.namespaces),i.namespaces):ne({},this.namespaces);return i=Re(ne({},i||{}),{namespaces:o}),tl(r,this,e,t,void 0,i)}};Ue(No,"handleRDFType",void 0);No.handleRDFType=yW;var lh=bn("http://www.w3.org/1999/02/22-rdf-syntax-ns#");function d_e(n,e,t,r){for(let i of n.statementsMatching(t,null,null,r)){let o=new Qa(e,i.predicate,i.object,r);n.remove(i),n.add(o)}for(let i of n.statementsMatching(null,t,null,r))n.remove(i),n.add(new Qa(i.subject,e,i.object,r));for(let i of n.statementsMatching(null,null,t,r))n.remove(i),n.add(new Qa(i.subject,i.predicate,e,r))}function f_e(n,e){let t=lh("nil");for(let r of n.statementsMatching(t,null,null,e)){n.remove(r);let i=new Rs;n.add(new Qa(i,r.predicate,r.object,e))}for(let r of n.statementsMatching(null,null,t,e))if(!r.predicate.sameTerm(lh("rest"))){n.remove(r);let i=new Rs;n.add(new Qa(r.subject,r.predicate,i,e))}}function vW(n,e){function t(i,o,s){let a=n.statementsMatching(i,lh("rest"),null,e);if(a.length!==1)throw new Error(`Bad list structure: no rest at ${i}`);let l=n.statementsMatching(i,lh("first"),null,e);if(l.length!==1)throw new Error(`Bad list structure: rest but ${l.length} firsts at ${i}`);let u=[l[0].object].concat(o),h=s.concat(a).concat(l),m=n.statementsMatching(null,lh("rest"),i,e);if(m.length===0){let b=new Rs(u);n.remove(h),d_e(n,b,i,e);return}if(m.length!==1)throw new Error(`Bad list structure: ${m.length} pres at ${i}`);let g=m[0].subject;if(g.termType!=="BlankNode")throw new Error(`Bad list element node ${g} type: ${g.termType} `);t(g,u,h)}f_e(n,e),n.statementsMatching(null,lh("rest"),lh("nil"),e).forEach(i=>{if(i.subject.termType!=="BlankNode")throw new Error(`Bad list element node ${i.subject} type: ${i.subject.termType} `);t(i.subject,[],[])})}function h_e(n){return encodeURI(n)}var p_e={encode:function(n){n=n.replace(/\r\n/g,`
`);for(var e="",t=0;t<n.length;t++){var r=n.charCodeAt(t);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(r&63|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(r&63|128))}return e},decode:function(n){for(var e="",t=0;t<n.length;){var r=n.charCodeAt(t);r<128?(e+=String.fromCharCode(r),t++):r>191&&r<224?(e+=String.fromCharCode((r&31)<<6|n.charCodeAt(t+1)&63),t+=2):(e+=String.fromCharCode((r&15)<<12|(n.charCodeAt(t+1)&63)<<6|n.charCodeAt(t+2)&63),t+=3)}return e}};var GO="http://www.w3.org/2000/10/swap/log#",xi=function(n){return n},Li=function(n){return n},M_=function(n){if(n.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},Fs=function(n){return n.length},WO=function(n,e,t){if(typeof n.slice>"u")throw"@@ mising.js: No .slice function for "+n+" of type "+typeof n;return typeof t>"u"||t==null?n.slice(e):n.slice(e,t)},O_=Error("dummy error stop iteration"),lD=function(n){return this.last=0,this.li=n,this.next=function(){if(this.last==this.li.length)throw O_;return this.li[this.last++]},this};var KO=function(n,e){return n.indexOf(e)},ch=function(n,e){if(!n)throw e?"python Assertion failed: "+e:"(python) Assertion failed."},m_e=function(n){return String.fromCharCode(n)};String.prototype.encode=function(n){if(n!="utf-8")throw"UTF8_converter: can only do utf-8";return p_e.encode(this)};String.prototype.decode=function(n){if(n!="utf-8")throw"UTF8_converter: can only do utf-8";return this};var JO=function(n,e){return ti(e,n)},g_e=null,y_e=0,v_e=0,_W=function(n){},__e="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",bW="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",wW="http://www.w3.org/2002/07/owl#sameAs";var b_e="#";var w_e="http://www.w3.org/2001/XMLSchema#integer",E_e="http://www.w3.org/2001/XMLSchema#double",S_e="http://www.w3.org/2001/XMLSchema#decimal",C_e="http://www.w3.org/2001/XMLSchema#date",x_e="http://www.w3.org/2001/XMLSchema#dateTime";var SW=`	\r
 !"#$%&'()*.,+/;<=>?@[\\]^\`{|}~`,uh=SW+":";var Bet=new RegExp("^[ \\t]*(#[^\\n]*)?\\r?\\n","g"),jet=new RegExp("^[ \\t]*(#[^\\n]*)?$","g"),Uet=new RegExp("^[ \\t]*","g"),Vet=new RegExp("^[-+]?[0-9]+","g"),XO=new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?([eE][-+]?[0-9]+)?","g"),EW=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),$et=new RegExp("^[0-9]+","g"),YO=new RegExp('[\\\\\\r\\n\\"]',"g"),QO=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function D_e(n,e,t,r,i,o,s,a){return new ZO(n,e,t,r,i,o,s,a)}var Hm=D_e,ZO=class{constructor(e,t,r,i,o,s,a,l){typeof t>"u"&&(t=null),typeof r>"u"&&(r=""),typeof i>"u"&&(i=null),typeof o>"u"&&(o=""),typeof s>"u"&&(s=null),typeof a>"u"&&(a=""),typeof l>"u"&&(l=null),this._bindings=new M_([]),this._flags=a,r!=""&&(ch(r.indexOf(":")>=0,"Document URI not absolute: "+r),this._bindings[""]=r+"#"),this._store=e,o&&e.setGenPrefix(o),this._thisDoc=r,this.source=e.sym(r),this.lines=0,this.statementCount=0,this.hasNil=!1,this.startOfLine=0,this.previousLine=0,this._genPrefix=o,this.keywords=new Li(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new M_([]),this._variables=new M_([]),this._parentVariables=new M_([]),this._reason=l,this._reason2=null,y_e&&(this._reason2=why_BecauseOfData(e.sym(r),this._reason)),i?this._baseURI=i:r?this._baseURI=r:this._baseURI=null,ch(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),t==null?this._thisDoc?this._formula=e.formula(r+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}here(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)}formula(){return this._formula}loadStream(e){return this.loadBuf(e.read())}loadBuf(e){return this.startDoc(),this.feed(e),this.endDoc()}feed(e){for(var t=e.decode("utf-8"),r=0;r>=0;){var i=this.skipSpace(t,r);if(i<0)return;var r=this.directiveOrStatement(t,i);if(r<0)throw Mt(this._thisDoc,this.lines,t,i,"expected directive or statement")}}directiveOrStatement(e,t){var r=this.skipSpace(e,t);if(r<0)return r;var i=this.directive(e,r);if(i>=0)return this.checkDot(e,i);var i=this.statement(e,r);return i>=0?this.checkDot(e,i):i}tok(e,t,r){var i=`	
\v\f\r `;if(t.slice(r,r+1)=="@")var r=r+1;else if(os(this.keywords,e)<0)return-1;var o=r+Fs(e);return t.slice(r,o)==e&&SW.indexOf(t.charAt(o))>=0?o:-1}directive(e,t){var l=this.skipSpace(e,t);if(l<0)return l;var r=new Li([]),l=this.tok("bind",e,t);if(l>0)throw Mt(this._thisDoc,this.lines,e,t,"keyword bind is obsolete: use @prefix");var l=this.tok("keywords",e,t);if(l>0){var t=this.commaSeparatedList(e,l,r,!1);if(t<0)throw Mt(this._thisDoc,this.lines,e,t,"'@keywords' needs comma separated list of words");return this.setKeywords(WO(r,null,null)),v_e>80&&_W("Keywords ",this.keywords),t}var l=this.tok("forAll",e,t);if(l>0){var t=this.commaSeparatedList(e,l,r,!0);if(t<0)throw Mt(this._thisDoc,this.lines,e,t,"Bad variable list after @forAll");var i=new lD(r);try{for(;;){var o=i.next();(os(this._variables,o)<0||os(this._parentVariables,o)>=0)&&(this._variables[o]=this._context.newUniversal(o))}}catch(u){if(u!=O_)throw u}return t}var l=this.tok("forSome",e,t);if(l>0){var t=this.commaSeparatedList(e,l,r,this.uri_ref2);if(t<0)throw Mt(this._thisDoc,this.lines,e,t,"Bad variable list after @forSome");var i=new lD(r);try{for(;;){var o=i.next();this._context.declareExistential(o)}}catch(h){if(h!=O_)throw h}return t}var l=this.tok("prefix",e,t);if(l>=0){var s=new Li([]),t=this.qname(e,l,s);if(t<0)throw Mt(this._thisDoc,this.lines,e,l,"expected qname after @prefix");var l=this.uri_ref2(e,t,s);if(l<0)throw Mt(this._thisDoc,this.lines,e,t,"expected <uriref> after @prefix _qname_");var a=s[1].uri;if(this._baseURI)var a=JO(this._baseURI,a);else ch(a.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return ch(a.indexOf(":")>=0),this._bindings[s[0][0]]=a,this.bind(s[0][0],h_e(a)),l}var l=this.tok("base",e,t);if(l>=0){var s=new Li([]),t=this.uri_ref2(e,l,s);if(t<0)throw Mt(this._thisDoc,this.lines,e,l,"expected <uri> after @base ");var a=s[0].uri;if(this._baseURI)var a=JO(this._baseURI,a);else throw Mt(this._thisDoc,this.lines,e,l,"With no previous base URI, cannot use relative URI in @base  <"+a+">");return ch(a.indexOf(":")>=0),this._baseURI=a,t}return-1}bind(e,t){e==""||this._store.setPrefixForURI(e,t)}setKeywords(e){e==null?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)}startDoc(){}endDoc(){return this.hasNil&&this._store.rdfFactory.supports.COLLECTIONS&&vW(this._store,this.source),this._formula}makeStatement(e){e[0].add(e[2],e[1],e[3],this.source),(e[2].uri&&e[2].uri===bW||e[3].uri&&e[3].uri===bW)&&(this.hasNil=!0),this.statementCount+=1}statement(e,i){var r=new Li([]),i=this.object(e,i,r);if(i<0)return i;var o=this.property_list(e,i,r[0]);if(o<0)throw Mt(this._thisDoc,this.lines,e,i,"expected propertylist");return o}subject(e,t,r){return this.item(e,t,r)}verb(e,t,r){var o=this.skipSpace(e,t);if(o<0)return o;var i=new Li([]),o=this.tok("has",e,t);if(o>=0){var t=this.prop(e,o,i);if(t<0)throw Mt(this._thisDoc,this.lines,e,o,"expected property after 'has'");return r.push(new xi(["->",i[0]])),t}var o=this.tok("is",e,t);if(o>=0){var t=this.prop(e,o,i);if(t<0)throw Mt(this._thisDoc,this.lines,e,o,"expected <property> after 'is'");var o=this.skipSpace(e,t);if(o<0)throw Mt(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");var t=o,o=this.tok("of",e,t);if(o<0)throw Mt(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return r.push(new xi(["<-",i[0]])),o}var o=this.tok("a",e,t);if(o>=0)return r.push(new xi(["->",this._store.sym(__e)])),o;if(e.slice(t,t+2)=="<=")return r.push(new xi(["<-",this._store.sym(GO+"implies")])),t+2;if(e.slice(t,t+1)=="=")return e.slice(t+1,t+2)==">"?(r.push(new xi(["->",this._store.sym(GO+"implies")])),t+2):(r.push(new xi(["->",this._store.sym(wW)])),t+1);if(e.slice(t,t+2)==":=")return r.push(new xi(["->",GO+"becomes"])),t+2;var o=this.prop(e,t,i);if(o>=0)return r.push(new xi(["->",i[0]])),o;if(e.slice(t,t+2)==">-"||e.slice(t,t+2)=="<-")throw Mt(this._thisDoc,this.lines,e,o,">- ... -> syntax is obsolete.");return-1}prop(e,t,r){return this.item(e,t,r)}item(e,t,r){return this.path(e,t,r)}blankNode(e){return this._context.bnode(e,this._reason2)}path(e,t,r){var i=this.nodeOrLiteral(e,t,r);if(i<0)return i;for(;"!^.".indexOf(e.slice(i,i+1))>=0;){var o=e.slice(i,i+1);if(o=="."){var s=e.slice(i+1,i+2);if(!s||uh.indexOf(s)>=0&&":?<[{(".indexOf(s)<0)break}var a=r.pop(),l=this.blankNode(this.here(i)),i=this.node(e,i+1,r);if(i<0)throw Mt(this._thisDoc,this.lines,e,i,"EOF found in middle of path syntax");var c=r.pop();o=="^"?this.makeStatement(new xi([this._context,c,l,a])):this.makeStatement(new xi([this._context,c,a,l])),r.push(l)}return i}anonymousNode(e){var t=this._anonymousNodes[e];if(t)return t;var t=this._store.bnode(e);return this._anonymousNodes[e]=t,t}node(e,s,r,i){typeof i>"u"&&(i=null);var o=i,D=this.skipSpace(e,s);if(D<0)return D;var s=D,a=e.slice(s,s+1);if(a=="["){var l=this.here(s),D=this.skipSpace(e,s+1);if(D<0)throw Mt(this._thisDoc,this.lines,e,s,"EOF after '['");if(e.slice(D,D+1)=="="){var s=D+1,c=new Li([]),D=this.objectList(e,s,c);if(D>=0){var o=c[0];if(Fs(c)>1){var u=new lD(c);try{for(;;){var h=u.next();this.makeStatement(new xi([this._context,this._store.sym(wW),o,h]))}}catch(ae){if(ae!=O_)throw ae}}var D=this.skipSpace(e,D);if(D<0)throw Mt(this._thisDoc,this.lines,e,s,"EOF when objectList expected after [ = ");if(e.slice(D,D+1)==";")var D=D+1}else throw Mt(this._thisDoc,this.lines,e,s,"objectList expected after [= ")}if(o==null)var o=this.blankNode(l);var s=this.property_list(e,D,o);if(s<0)throw Mt(this._thisDoc,this.lines,e,D,"property_list expected");var D=this.skipSpace(e,s);if(D<0)throw Mt(this._thisDoc,this.lines,e,s,"EOF when ']' expected after [ <propertyList>");if(e.slice(D,D+1)!="]")throw Mt(this._thisDoc,this.lines,e,D,"']' expected");return r.push(o),D+1}if(a=="{"){var m=e.slice(s+1,s+2);if(m=="$"){s+=1;for(var D=s+1,g=new Li([]),b=!0;;){var s=this.skipSpace(e,D);if(s<0)throw Mt(this._thisDoc,this.lines,e,s,"needed '$}', found end.");if(e.slice(s,s+2)=="$}"){var D=s+2;break}if(b)var b=!1;else if(e.slice(s,s+1)==",")s+=1;else throw Mt(this._thisDoc,this.lines,e,s,"expected: ','");var v=new Li([]),D=this.item(e,s,v);if(D<0)throw Mt(this._thisDoc,this.lines,e,s,"expected item in set or '$}'");g.push(v[0])}return r.push(this._store.newSet(g,this._context)),D}else{var D=s+1,E=this._parentContext;this._parentContext=this._context;var C=this._anonymousNodes,R=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new M_([]),this._variables=this._variables.slice();var F=this._reason2;if(this._reason2=g_e,o==null)var o=this._store.formula();for(this._context=o;;){var s=this.skipSpace(e,D);if(s<0)throw Mt(this._thisDoc,this.lines,e,s,"needed '}', found end.");if(e.slice(s,s+1)=="}"){var D=s+1;break}var D=this.directiveOrStatement(e,s);if(D<0)throw Mt(this._thisDoc,this.lines,e,s,"expected statement or '}'")}return this._anonymousNodes=C,this._variables=this._parentVariables,this._parentVariables=R,this._context=this._parentContext,this._reason2=F,this._parentContext=E,r.push(o.close()),D}}if(a=="("){var M=this._store.list,m=e.slice(s+1,s+2);if(m=="$"){var M=this._store.newSet;s+=1}for(var D=s+1,g=new Li([]);;){var s=this.skipSpace(e,D);if(s<0)throw Mt(this._thisDoc,this.lines,e,s,"needed ')', found end.");if(e.slice(s,s+1)==")"){var D=s+1;break}var v=new Li([]),D=this.item(e,s,v);if(D<0)throw Mt(this._thisDoc,this.lines,e,s,"expected item in list or ')'");g.push(v[0])}return r.push(M(g,this._context)),D}var D=this.tok("this",e,s);if(D>=0)throw Mt(this._thisDoc,this.lines,e,s,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");var D=this.tok("true",e,s);if(D>=0)return r.push(!0),D;var D=this.tok("false",e,s);if(D>=0)return r.push(!1),D;if(o==null){var D=this.uri_ref2(e,s,r);if(D>=0)return D}return-1}property_list(e,t,r){for(;;){var m=this.skipSpace(e,t);if(m<0)throw Mt(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(e.slice(m,m+2)==":-"){var t=m+2,i=new Li([]),m=this.node(e,t,i,r);if(m<0)throw Mt(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=m;continue}var t=m,o=new Li([]),m=this.verb(e,t,o);if(m<=0)return t;var s=new Li([]),t=this.objectList(e,m,s);if(t<0)throw Mt(this._thisDoc,this.lines,e,m,"objectList expected");var a=new lD(s);try{for(;;){var l=a.next(),c=o[0],u=c[0],h=c[1];u=="->"?this.makeStatement(new xi([this._context,h,r,l])):this.makeStatement(new xi([this._context,h,l,r]))}}catch(b){if(b!=O_)throw b}var m=this.skipSpace(e,t);if(m<0)throw Mt(this._thisDoc,this.lines,e,m,"EOF found in list of objects");if(e.slice(t,t+1)!=";")return t;var t=t+1}}commaSeparatedList(e,t,r,i){var o=this.skipSpace(e,t);if(o<0)throw Mt(this._thisDoc,this.lines,e,o,"EOF found expecting comma sep list");if(e.charAt(o)==".")return t;if(i)var o=this.uri_ref2(e,o,r);else var o=this.bareWord(e,o,r);if(o<0)return-1;for(;;){var t=this.skipSpace(e,o);if(t<0)return t;var s=e.slice(t,t+1);if(s!=",")return s!="."?-1:t;if(i)var o=this.uri_ref2(e,t+1,r);else var o=this.bareWord(e,t+1,r);if(o<0)throw Mt(this._thisDoc,this.lines,e,o,"bad list content")}}objectList(e,i,r){var i=this.object(e,i,r);if(i<0)return-1;for(;;){var o=this.skipSpace(e,i);if(o<0)throw Mt(this._thisDoc,this.lines,e,o,"EOF found after object");if(e.slice(o,o+1)!=",")return o;var i=this.object(e,o+1,r);if(i<0)return i}}checkDot(e,t){var r=this.skipSpace(e,t);if(r<0)return r;if(e.slice(r,r+1)==".")return r+1;if(e.slice(r,r+1)=="}"||e.slice(r,r+1)=="]")return r;throw Mt(this._thisDoc,this.lines,e,r,"expected '.' or '}' or ']' at end of statement")}uri_ref2(e,h,r){var i=new Li([]),o=this.qname(e,h,i);if(o>=0){var s=i[0],a=s[0],l=s[1];if(a==null){ch(0,"not used?");var c=this._baseURI+b_e}else{var c=this._bindings[a];if(!c){if(a=="_")return r.push(this.anonymousNode(l)),o;throw Mt(this._thisDoc,this.lines,e,h,"Prefix "+a+" not bound.")}}var u=this._store.sym(c+l);return os(this._variables,u)>=0?r.push(this._variables[u]):r.push(u),o}var h=this.skipSpace(e,h);if(h<0)return-1;if(e.charAt(h)=="?"){var m=new Li([]),o=this.variable(e,h,m);return o>0?(r.push(m[0]),o):-1}else if(e.charAt(h)=="<"){for(var h=h+1,g=h;h<Fs(e);){if(e.charAt(h)==">"){var b=e.slice(g,h);if(this._baseURI)var b=JO(this._baseURI,b);else ch(b.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if(e.slice(h-1,h)=="#"&&WO(b,-1,null)!="#")var b=b+"#";var u=this._store.sym(b);return os(this._variables,u)>=0?r.push(this._variables[u]):r.push(u),h+1}var h=h+1}throw Mt(this._thisDoc,this.lines,e,o,"unterminated URI reference")}else if(this.keywordsSet){var m=new Li([]),o=this.bareWord(e,h,m);if(o<0)return-1;if(os(this.keywords,m[0])>=0)throw Mt(this._thisDoc,this.lines,e,h,'Keyword "'+m[0]+'" not allowed here.');return r.push(this._store.sym(this._bindings[""]+m[0])),o}else return-1}skipSpace(e,t){for(var r=` 
\r	\f\v\xA0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u200B\u2028\u2029\u3000`,i=t||0;i<e.length;i++){var o=e.charAt(i);if(r.indexOf(o)<0)if(e.charAt(i)==="#")for(;;i++){if(i===e.length)return-1;if(e.charAt(i)===`
`){this.lines=this.lines+1;break}}else return i;else e.charAt(i)===`
`&&(this.lines=this.lines+1)}return-1}variable(e,o,r){var i=this.skipSpace(e,o);if(i<0||e.slice(i,i+1)!="?")return-1;var i=i+1,o=i;if("0123456789-".indexOf(e.charAt(i))>=0)throw Mt(this._thisDoc,this.lines,e,i,"Varible name can't start with '"+e.charAt(i)+"s'");for(;o<Fs(e)&&uh.indexOf(e.charAt(o))<0;)var o=o+1;if(this._parentContext==null)throw Mt(this._thisDoc,this.lines,e,i,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(i-1,o));return r.push(this._store.variable(e.slice(i,o))),o}bareWord(e,s,r){var i=this.skipSpace(e,s);if(i<0)return-1;var o=e.charAt(i);if("0123456789-".indexOf(o)>=0||uh.indexOf(o)>=0)return-1;for(var s=i;s<Fs(e)&&uh.indexOf(e.charAt(s))<0;)var s=s+1;return r.push(e.slice(i,s)),s}qname(e,i,r){var i=this.skipSpace(e,i);if(i<0)return-1;var o=e.charAt(i);if("0123456789-+".indexOf(o)>=0)return-1;if(uh.indexOf(o)<0)for(var s=o,i=i+1;i<Fs(e);){var o=e.charAt(i);if(uh.indexOf(o)<0)var s=s+o,i=i+1;else break}else var s="";if(i<Fs(e)&&e.charAt(i)==":"){for(var a=s,i=i+1,s="";i<Fs(e);){var o=e.charAt(i);if(uh.indexOf(o)<0)var s=s+o,i=i+1;else break}return r.push(new xi([a,s])),i}else return s&&this.keywordsSet&&os(this.keywords,s)<0?(r.push(new xi(["",s])),i):-1}object(e,t,r){var i=this.subject(e,t,r);if(i>=0)return i;{var i=this.skipSpace(e,t);if(i<0)return-1;var t=i,o=null;let c=e.charAt(t);if(c=='"'||c=="'"){e.slice(t,t+3==c+c)?o=c+c+c:o=c;var t=t+Fs(o),s=this.strconst(e,t,o),i=s[0],a=s[1];return r.push(this._store.literal(a)),_W("New string const ",a,i),i}else return-1}}nodeOrLiteral(e,t,r){var i=this.node(e,t,r);if(i>=0)return i;var i=this.skipSpace(e,t);if(i<0)return-1;var t=i,o=e.charAt(t);if("-+0987654321".indexOf(o)>=0){EW.lastIndex=0;var s=EW.exec(e.slice(t));if(s!=null){var a=s[0];i=t+a.length,a.indexOf("T")>=0?r.push(this._store.literal(a,this._store.sym(x_e))):r.push(this._store.literal(a,this._store.sym(C_e)))}else{XO.lastIndex=0;var s=XO.exec(e.slice(t));if(s==null)throw Mt(this._thisDoc,this.lines,e,t,"Bad number or date syntax");i=t+XO.lastIndex;var a=e.slice(t,i);a.indexOf("e")>=0?r.push(this._store.literal(parseFloat(a),this._store.sym(E_e))):e.slice(t,i).indexOf(".")>=0?r.push(this._store.literal(parseFloat(a),this._store.sym(S_e))):r.push(this._store.literal(parseInt(a),this._store.sym(w_e)))}return i}if(e.charAt(t)=='"'){if(e.slice(t,t+3)=='"""')var l='"""';else var l='"';var t=t+Fs(l),c=null,u=this.strconst(e,t,l),i=u[0],h=u[1],m=null;if(e.slice(i,i+1)=="@"){QO.lastIndex=0;var s=QO.exec(e.slice(i+1));if(s==null)throw Mt(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");var t=QO.lastIndex+i+1,m=e.slice(i+1,t),i=t}if(e.slice(i,i+2)=="^^")var g=new Li([]),i=this.uri_ref2(e,i+2,g),c=g[0];return r.push(this._store.literal(h,m||c)),i}else return-1}strconst(e,t,r){for(var i=t,o="",s=this.lines;i<Fs(e);){var t=i+Fs(r);if(e.slice(i,t)==r)return new xi([t,o]);if(e.charAt(i)=='"'){var o=o+'"',i=i+1;continue}YO.lastIndex=0;var a=YO.exec(e.slice(i));if(!a)throw Mt(this._thisDoc,s,e,i,"Closing quote missing in string at ^ in "+e.slice(i-20,i)+"^"+e.slice(i,i+20));var t=i+YO.lastIndex-1,o=o+e.slice(i,t),l=e.charAt(t);if(l=='"'){var i=t;continue}else if(l=="\r"){var i=t+1;continue}else if(l==`
`){if(r=='"')throw Mt(this._thisDoc,s,e,t,"newline found in string literal");this.lines=this.lines+1;var o=o+l,i=t+1;this.previousLine=this.startOfLine,this.startOfLine=i}else if(l=="\\"){var i=t+1,l=e.slice(i,i+1);if(!l)throw Mt(this._thisDoc,s,e,t,"unterminated string literal (2)");var c=KO('abfrtvn\\"',l);if(c>=0)var u=`a\b\f\r	\v
\\"`.charAt(c),o=o+u,i=i+1;else if(l=="u")var h=this.uEscape(e,i+1,s),i=h[0],l=h[1],o=o+l;else if(l=="U")var h=this.UEscape(e,i+1,s),i=h[0],l=h[1],o=o+l;else throw Mt(this._thisDoc,this.lines,e,t,"bad escape")}}throw Mt(this._thisDoc,this.lines,e,t,"unterminated string literal")}uEscape(e,t,r){for(var i=t,o=0,s=0;o<4;){var a=e.slice(i,i+1),l=a.toLowerCase(),i=i+1;if(l=="")throw Mt(this._thisDoc,r,e,t,"unterminated string literal(3)");var c=KO("0123456789abcdef",l);if(c<0)throw Mt(this._thisDoc,r,e,t,"bad string literal hex escape");var s=s*16+c,o=o+1}var u=String.fromCharCode(s);return new xi([i,u])}UEscape(e,t,r){for(var i=t,o=0,s="\\U";o<8;){var a=e.slice(i,i+1),l=a.toLowerCase(),i=i+1;if(l=="")throw Mt(this._thisDoc,r,e,t,"unterminated string literal(3)");var c=KO("0123456789abcdef",l);if(c<0)throw Mt(this._thisDoc,r,e,t,"bad string literal hex escape");var s=s+l,o=o+1}var u=m_e("0x"+WO(s,2,10)-0);return new xi([i,u])}};function I_e(n,e,t,r,i){this._str=t.encode("utf-8"),this._str=t,this._i=r,this._why=i,this.lines=e,this._uri=n}I_e.prototype.toString=function(){var n=this._str,e=this._i,t=0;if(e>60)var r="...",t=e-60;else var r="";if(Fs(n)-e>60)var i="...";else var i="";return`Line %i of <%s>: Bad syntax (%s) at ^ in:
"%s%s^%s%s"`%new xi([this.lines+1,this._uri,this._why,r,n.slice(t,e),n.slice(e,e+60),i])};function Mt(n,e,t,r,i){let o=e+1,s="Line "+o+" of <"+n+">: Bad syntax: "+i+`
at: "`+t.slice(r,r+30)+'"',a=new SyntaxError(s,n,o);return a.lineNo=o,a.characterInFile=r,a.syntaxProblem=i,a}var A_e=Re(ne({},po),{supports:{[ho.collections]:!0,[ho.defaultGraphType]:!1,[ho.equalsMethod]:!0,[ho.identity]:!1,[ho.id]:!0,[ho.reversibleId]:!1,[ho.variableType]:!0},collection(n){return new Rs(n)},id(n){return Nm(n)?`( ${n.elements.map(e=>this.id(e)).join(", ")} )`:o7(n)?Ns.toString(n):po.id(n)},termToNQ(n){return n.termType===As?Rs.toNT(n):po.termToNQ(n)}}),k_=A_e;function ek(n,e){return typeof e=="string"?n.rdfFactory.literal(e):Object.prototype.hasOwnProperty.call(e,"@list")?n.rdfFactory.supports.COLLECTIONS===!0?R_e(n,e["@list"]):T_e(n,e):Object.prototype.hasOwnProperty.call(e,"@id")?tk(n,e):Object.prototype.hasOwnProperty.call(e,"@language")?n.rdfFactory.literal(e["@value"],e["@language"]):Object.prototype.hasOwnProperty.call(e,"@type")?n.rdfFactory.literal(e["@value"],n.rdfFactory.namedNode(e["@type"])):Object.prototype.hasOwnProperty.call(e,"@value")?n.rdfFactory.literal(e["@value"]):n.rdfFactory.literal(e)}function T_e(n,e){let t=e["@id"]?tk(n,e):n.rdfFactory.blankNode(),r=e["@list"].map(o=>ek(n,o)),i=sD(n.rdfFactory,t,r);return n.addAll(i),t}function R_e(n,e){if(!Array.isArray(e))throw new TypeError("Object must be an array");return n.rdfFactory.collection(e.map(t=>ek(n,t)))}function P_(n,e,t,r){let i=t&&Object.prototype.hasOwnProperty.call(t,"termType")?t.value:t;return import("./chunk-YYVUM2I2.js").then(o=>o.flatten(JSON.parse(n),null,{base:i})).then(o=>o.reduce((s,a)=>(e=xW(e,t,a),e),e)).then(r).catch(r)}function tk(n,e){return e["@id"].startsWith("_:")?n.rdfFactory.blankNode(e["@id"].substring(2)):n.rdfFactory.namedNode(e["@id"])}function xW(n,e,t){let r=t["@id"]?tk(n,t):n.rdfFactory.blankNode();for(let i of Object.keys(t)){if(i==="@id")continue;if(i=="@graph"){let s=r,a=t[i];for(let l=0;l<a.length;l++)n=xW(n,s,a[l])}let o=t[i];if(Array.isArray(o))for(let s=0;s<o.length;s++)n.addStatement(CW(n,r,i,o[s],e));else n.addStatement(CW(n,r,i,o,e))}return n}function CW(n,e,t,r,i){let o,s;return t==="@type"?(o=n.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),s=n.rdfFactory.namedNode(r)):(o=n.rdfFactory.namedNode(t),s=ek(n,r)),n.rdfFactory.quad(e,o,s,n.rdfFactory.namedNode(i))}typeof $c>"u"&&($c={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12});var $c,Fo=class n{constructor(e,t){this.options=t||{},this.kb=e,this.target=t.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+new Date().getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}addTriple(e,t,r,i){var o,s,a,l;typeof t>"u"?o=po.namedNode(this.options.base):o=this.toRDFNodeObject(t),a=this.toRDFNodeObject(r),s=this.toRDFNodeObject(i),l=po.namedNode(this.options.base),this.kb.add(o,a,s,l)}ancestorPath(e){for(var t="";e&&e.nodeType!==$c.DOCUMENT_NODE;)t="/"+e.localName+t,e=e.parentNode;return t}copyMappings(e){var t={};for(var r in e)t[r]=e[r];return t}copyProperties(){}deriveDateTimeType(e){for(var t=0;t<n.dateTimeTypes.length;t++){var r=n.dateTimeTypes[t].pattern.exec(e);if(r&&r[0].length===e.length)return n.dateTimeTypes[t].type}return null}init(){}newBlankNode(){return this.blankCounter++,"_:"+this.blankCounter}newSubjectOrigin(e,t){}parseCURIE(e,t,r){var i=e.indexOf(":"),o;if(i>=0){var s=e.substring(0,i);if(s==="")return o=t[""],o?o+e.substring(i+1):null;if(s==="_")return"_:"+e.substring(i+1);if(n.NCNAME.test(s)&&(o=t[s],o))return o+e.substring(i+1)}return null}parseCURIEOrURI(e,t,r){var i=this.parseCURIE(e,t,r);return i||this.resolveAndNormalize(r,e)}parsePredicate(e,t,r,i,o,s){if(e==="")return null;var a=this.parseTermOrCURIEOrAbsURI(e,t,s?null:r,i,o);return a&&a.indexOf("_:")===0?null:a}parsePrefixMappings(e,t){for(var r=this.tokenize(e),i=null,o=0;o<r.length;o++)r[o][r[o].length-1]===":"?i=r[o].substring(0,r[o].length-1):i&&(t[i]=this.options.base?ti(r[o],this.options.base):r[o],i=null)}static parseRDFaDOM(e,t,r){var i=new n(t,{base:r});e.baseURI||(e.baseURI=r),i.process(e,{baseURI:r})}parseSafeCURIEOrCURIEOrURI(e,t,r){return e=this.trim(e),e.charAt(0)==="["&&e.charAt(e.length-1)==="]"?(e=e.substring(1,e.length-1),e=e.trim(e),e.length===0?null:e==="_:"?this.theOne:this.parseCURIE(e,t,r)):this.parseCURIEOrURI(e,t,r)}parseTermOrCURIEOrAbsURI(e,t,r,i,o){e=this.trim(e);var s=this.parseCURIE(e,i,o);if(s)return s;if(r){if(t&&!this.absURIRE.exec(e))return t+e;var a=r[e];if(a)return a;var l=e.toLowerCase();if(a=r[l],a)return a}return this.absURIRE.exec(e)?this.resolveAndNormalize(o,e):null}parseTermOrCURIEOrURI(e,t,r,i,o){e=this.trim(e);var s=this.parseCURIE(e,i,o);if(s)return s;var a=r[e];if(a)return a;var l=e.toLowerCase();return a=r[l],a||(t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(o,e))}parseURI(e){return e}process(e,t){t=t||{};var r;e.nodeType===$c.DOCUMENT_NODE?(e.baseURI&&!t.baseURI&&(t.baseURI=e.baseURI),r=e.baseURI,e=e.documentElement,e.baseURI||(e.baseURI=r),this.setContext(e)):e.parentNode.nodeType===$c.DOCUMENT_NODE&&this.setContext(e);var i=[],o=function(Fe){if(!Fe&&t&&t.baseURI)return t.baseURI;var wt=Fe.indexOf("#");return wt>=0&&(Fe=Fe.substring(0,wt)),t&&t.baseURIMap&&(Fe=t.baseURIMap(Fe)),Fe};for(i.push({current:e,context:this.push(null,o(e.baseURI))});i.length>0;){var s=i.shift();if(s.parent){if(s.context.parent&&s.context.parent.listMapping===s.listMapping)continue;for(let Fe in s.listMapping){var a=s.listMapping[Fe];if(a.length===0){this.addTriple(s.parent,s.subject,Fe,{type:n.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});continue}var l=[];for(let wt=0;wt<a.length;wt++)l.push(this.newBlankNode());for(let wt=0;wt<l.length;wt++)this.addTriple(s.parent,l[wt],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",a[wt]),this.addTriple(s.parent,l[wt],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:n.objectURI,value:wt+1<l.length?l[wt+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(s.parent,s.subject,Fe,{type:n.objectURI,value:l[0]})}continue}var c=s.current,u=s.context,h=!1,m=null,g=null,b=null,v=u.prefixes,E=!1,C=[],R=u.listMapping,F=!u.parent,M=u.language,D=u.vocabulary;r=this.parseURI(o(c.baseURI)),c.item=null;var $=c.getAttributeNode("vocab");if($){let Fe=this.trim($.value);if(Fe.length>0){D=Fe;var Q=r.spec;this.addTriple(c,Q,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:n.objectURI,value:D})}else D=this.vocabulary}for(var k=0;k<c.attributes.length;k++){var oe=c.attributes[k];if(oe.nodeName.charAt(0)==="x"&&oe.nodeName.indexOf("xmlns:")===0){E||(v=this.copyMappings(v),E=!0);var Ce=oe.nodeName.substring(6),z=n.trim(oe.value);v[Ce]=this.options.base?ti(z,this.options.base):z}}var ae=c.getAttributeNode("prefix");ae&&(E||(v=this.copyMappings(v),E=!0),this.parsePrefixMappings(ae.value,v));var Te=null;for(let Fe=0;!Te&&Fe<this.langAttributes.length;Fe++)Te=c.getAttributeNodeNS(this.langAttributes[Fe].namespaceURI,this.langAttributes[Fe].localName);if(Te){let Fe=n.trim(Te.value);Fe.length>0?M=Fe:M=null}var Oe=c.getAttributeNode("rel"),_e=c.getAttributeNode("rev"),De=c.getAttributeNode("typeof"),Be=c.getAttributeNode("property"),pt=c.getAttributeNode("datatype"),Tt=this.inHTMLMode?c.getAttributeNode("datetime"):null,bt=c.getAttributeNode("content"),At=c.getAttributeNode("about"),sn=c.getAttributeNode("src"),Dn=c.getAttributeNode("resource"),Rn=c.getAttributeNode("href"),mn=c.getAttributeNode("inlist"),an=[],Nn,qt;if(Oe){qt=this.tokenize(Oe.value);for(let Fe=0;Fe<qt.length;Fe++)Nn=this.parsePredicate(qt[Fe],D,u.terms,v,r,this.inHTMLMode&&Be!==null),Nn&&an.push(Nn)}var ie=[];if(_e){qt=this.tokenize(_e.value);for(let Fe=0;Fe<qt.length;Fe++)Nn=this.parsePredicate(qt[Fe],D,u.terms,v,r,this.inHTMLMode&&Be),Nn&&ie.push(Nn)}if(this.inHTMLMode&&(Oe||_e)&&Be&&(an.length===0&&(Oe=null),ie.length===0&&(_e=null)),Oe||_e?(At&&(m=this.parseSafeCURIEOrCURIEOrURI(At.value,v,r)),De&&(b=m),m||(c.parentNode.nodeType===$c.DOCUMENT_NODE?m=o(c.baseURI):u.parentObject&&(m=o(c.parentNode.baseURI)===u.parentObject?o(c.baseURI):u.parentObject)),Dn&&(g=this.parseSafeCURIEOrCURIEOrURI(Dn.value,v,r)),g||(Rn?g=this.resolveAndNormalize(r,encodeURI(Rn.value)):sn?g=this.resolveAndNormalize(r,encodeURI(sn.value)):De&&!At&&!(this.inXHTMLMode&&(c.localName==="head"||c.localName==="body"))&&(g=this.newBlankNode())),De&&!At&&this.inXHTMLMode&&(c.localName==="head"||c.localName==="body")?b=m:De&&!At&&(b=g)):Be&&!bt&&!pt?(At&&(m=this.parseSafeCURIEOrCURIEOrURI(At.value,v,r),De&&(b=m)),!m&&c.parentNode.nodeType===$c.DOCUMENT_NODE?(m=o(c.baseURI),De&&(b=m)):!m&&u.parentObject&&(m=o(c.parentNode.baseURI)===u.parentObject?o(c.baseURI):u.parentObject),De&&!b&&(Dn&&(b=this.parseSafeCURIEOrCURIEOrURI(Dn.value,v,r)),!b&&Rn&&(b=this.resolveAndNormalize(r,encodeURI(Rn.value))),!b&&sn&&(b=this.resolveAndNormalize(r,encodeURI(sn.value))),!b&&(this.inXHTMLMode||this.inHTMLMode)&&(c.localName==="head"||c.localName==="body")&&(b=m),b||(b=this.newBlankNode()),g=b)):(At&&(m=this.parseSafeCURIEOrCURIEOrURI(At.value,v,r)),!m&&Dn&&(m=this.parseSafeCURIEOrCURIEOrURI(Dn.value,v,r)),!m&&Rn&&(m=this.resolveAndNormalize(r,encodeURI(Rn.value))),!m&&sn&&(m=this.resolveAndNormalize(r,encodeURI(sn.value))),m||(c.parentNode.nodeType===$c.DOCUMENT_NODE?m=o(c.baseURI):(this.inXHTMLMode||this.inHTMLMode)&&(c.localName==="head"||c.localName==="body")?m=o(c.parentNode.baseURI)===u.parentObject?o(c.baseURI):u.parentObject:De?m=this.newBlankNode():u.parentObject&&(m=o(c.parentNode.baseURI)===u.parentObject?o(c.baseURI):u.parentObject,Be||(h=!0))),De&&(b=m)),m&&(At||Dn||b)){var A=m;De&&!At&&!Dn&&g&&(A=g),this.newSubjectOrigin(c,A)}if(b){qt=this.tokenize(De.value);for(let Fe=0;Fe<qt.length;Fe++){var T=this.parseTermOrCURIEOrAbsURI(qt[Fe],D,u.terms,v,r);T&&this.addTriple(c,b,n.typeURI,{type:n.objectURI,value:T})}}if(m&&m!==u.parentObject&&(R={},F=!0),g){if(Oe&&mn)for(let Fe=0;Fe<an.length;Fe++){let wt=R[an[Fe]];wt||(wt=[],R[an[Fe]]=wt),wt.push({type:n.objectURI,value:g})}else if(Oe)for(let Fe=0;Fe<an.length;Fe++)this.addTriple(c,m,an[Fe],{type:n.objectURI,value:g});if(_e)for(let Fe=0;Fe<ie.length;Fe++)this.addTriple(c,g,ie[Fe],{type:n.objectURI,value:m})}else{if(m&&!g&&(Oe||_e)&&(g=this.newBlankNode()),Oe&&mn)for(let Fe=0;Fe<an.length;Fe++){let wt=R[an[Fe]];wt||(wt=[],R[Nn]=wt),C.push({predicate:an[Fe],list:wt})}else if(Oe)for(let Fe=0;Fe<an.length;Fe++)C.push({predicate:an[Fe],forward:!0});if(_e)for(let Fe=0;Fe<ie.length;Fe++)C.push({predicate:ie[Fe],forward:!1})}if(Be){var X=null,re=null;pt?(X=pt.value===""?n.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(pt.value,D,u.terms,v,r),Tt&&!bt?re=Tt.value:re=X===n.XMLLiteralURI||X===n.HTMLLiteralURI?null:bt?bt.value:c.textContent):bt?(X=n.PlainLiteralURI,re=bt.value):Tt?(re=Tt.value,X=n.deriveDateTimeType(re),X||(X=n.PlainLiteralURI)):!Oe&&!_e&&(Dn&&(re=this.parseSafeCURIEOrCURIEOrURI(Dn.value,v,r)),!re&&Rn?re=this.resolveAndNormalize(r,encodeURI(Rn.value)):!re&&sn&&(re=this.resolveAndNormalize(r,encodeURI(sn.value))),re&&(X=n.objectURI)),X||(De&&!At?(X=n.objectURI,re=b):(re=c.textContent,this.inHTMLMode&&c.localName==="time"&&(X=n.deriveDateTimeType(re)),X||(X=n.PlainLiteralURI))),qt=this.tokenize(Be.value);for(let Fe=0;Fe<qt.length;Fe++){let wt=this.parsePredicate(qt[Fe],D,u.terms,v,r);if(wt)if(mn){let ln=R[wt];ln||(ln=[],R[wt]=ln),ln.push(X===n.XMLLiteralURI||X===n.HTMLLiteralURI?{type:X,value:c.childNodes}:{type:X||n.PlainLiteralURI,value:re,language:M})}else X===n.XMLLiteralURI||X===n.HTMLLiteralURI?this.addTriple(c,m,wt,{type:X,value:c.childNodes}):this.addTriple(c,m,wt,{type:X||n.PlainLiteralURI,value:re,language:M})}}if(m&&!h)for(let Fe=0;Fe<u.incomplete.length;Fe++)u.incomplete[Fe].list?u.incomplete[Fe].list.push({type:n.objectURI,value:m}):u.incomplete[Fe].forward?this.addTriple(c,u.subject,u.incomplete[Fe].predicate,{type:n.objectURI,value:m}):this.addTriple(c,m,u.incomplete[Fe].predicate,{type:n.objectURI,value:u.subject});var pe=null,xe=m;h?(pe=this.push(u,u.subject),pe.parentObject=o(c.parentNode.baseURI)===u.parentObject?o(c.baseURI):u.parentObject,pe.incomplete=u.incomplete,pe.language=M,pe.prefixes=v,pe.vocabulary=D):(pe=this.push(u,m),pe.parentObject=g||m||u.subject,pe.prefixes=v,pe.incomplete=C,g&&(xe=g,R={},F=!0),pe.listMapping=R,pe.language=M,pe.vocabulary=D),F&&i.unshift({parent:c,context:u,subject:xe,listMapping:R});for(var gt=c.lastChild;gt;gt=gt.previousSibling)gt.nodeType===$c.ELEMENT_NODE&&i.unshift({current:gt,context:pe})}this.inHTMLMode&&this.copyProperties();for(let Fe=0;Fe<this.finishedHandlers.length;Fe++)this.finishedHandlers[Fe](e)}push(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}resolveAndNormalize(e,t){return ti(t,e)}setContext(e){e.localName==="html"&&e.getAttribute("version")==="XHTML+RDFa 1.1"?this.setXHTMLContext():e.localName==="html"||e.namespaceURI==="http://www.w3.org/1999/xhtml"?typeof document<"u"&&document.doctype?document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.0//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):document.doctype.publicId==="-//W3C//DTD XHTML+RDFa 1.1//EN"&&document.doctype.systemId==="http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}setHTMLContext(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}setInitialContext(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}setXHTMLContext(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}setXMLContext(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}tokenize(e){return this.trim(e).split(/\s+/)}static tokenize(e){return this.trim(e).split(/\s+/)}toRDFNodeObject(e){if(!(typeof e>"u")){if(typeof e=="string")return e.substring(0,2)==="_:"?(typeof this.blankNodes[e.substring(2)]>"u"&&(this.blankNodes[e.substring(2)]=new Qi(e.substring(2))),this.blankNodes[e.substring(2)]):po.namedNode(e);switch(e.type){case n.objectURI:return e.value.substring(0,2)==="_:"?(typeof this.blankNodes[e.value.substring(2)]>"u"&&(this.blankNodes[e.value.substring(2)]=new Qi(e.value.substring(2))),this.blankNodes[e.value.substring(2)]):po.namedNode(e.value);case n.PlainLiteralURI:return new fo(e.value,e.language||"");case n.XMLLiteralURI:case n.HTMLLiteralURI:var t="";return Object.keys(e.value).forEach(r=>{t+=sW(e.value[r],this.htmlOptions)}),new fo(t,"",new zn(e.type));default:return new fo(e.value,"",new zn(e.type))}}}trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}static trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}};Fo.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral";Fo.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML";Fo.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral";Fo.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object";Fo.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";Fo.nameChar="[-A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u10000-\uEFFFF.0-9\xB7\u0300-\u036F\u203F-\u2040]";Fo.nameStartChar="[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u0131\u0134-\u013E\u0141-\u0148\u014A-\u017E\u0180-\u01C3\u01CD-\u01F0\u01F4-\u01F5\u01FA-\u0217\u0250-\u02A8\u02BB-\u02C1\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03D6\u03DA\u03DC\u03DE\u03E0\u03E2-\u03F3\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E-\u0481\u0490-\u04C4\u04C7-\u04C8\u04CB-\u04CC\u04D0-\u04EB\u04EE-\u04F5\u04F8-\u04F9\u0531-\u0556\u0559\u0561-\u0586\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0641-\u064A\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D3\u06D5\u06E5-\u06E6\u0905-\u0939\u093D\u0958-\u0961\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8B\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AE0\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B36-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB5\u0BB7-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0E01-\u0E2E\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EAE\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0F40-\u0F47\u0F49-\u0F69\u10A0-\u10C5\u10D0-\u10F6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110B-\u110C\u110E-\u1112\u113C\u113E\u1140\u114C\u114E\u1150\u1154-\u1155\u1159\u115F-\u1161\u1163\u1165\u1167\u1169\u116D-\u116E\u1172-\u1173\u1175\u119E\u11A8\u11AB\u11AE-\u11AF\u11B7-\u11B8\u11BA\u11BC-\u11C2\u11EB\u11F0\u11F9\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A-\u212B\u212E\u2180-\u2182\u3041-\u3094\u30A1-\u30FA\u3105-\u312C\uAC00-\uD7A3\u4E00-\u9FA5\u3007\u3021-\u3029_]";Fo.NCNAME=new RegExp("^"+Fo.nameStartChar+Fo.nameChar+"*$");Fo.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var qm=Fo.parseRDFaDOM;var od=class n{constructor(e){this.store=e,this.bnodes={},this.why=null,this.reify=!1}frameFactory(e,t,r){return{NODE:1,ARC:2,parent:t,parser:e,store:e.store,element:r,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(i,o){o=ti(o,this.base),this.node=this.store.sym(o),this.nodeType=i},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),this.parent.rdfid!=null){var i=this.store.sym(ti("#"+this.parent.rdfid,this.base));this.store.add(i,this.store.sym(n.ns.RDF+"type"),this.store.sym(n.ns.RDF+"Statement"),this.parser.why),this.store.add(i,this.store.sym(n.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(i,this.store.sym(n.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(i,this.store.sym(n.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return this.parent!=null&&this.parent.parent!=null&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(i){this.addSymbol(this.NODE,i),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(i){i!=null?this.parser.bnodes[i]!=null?this.node=this.parser.bnodes[i]:this.node=this.parser.bnodes[i]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(i){i===n.ns.RDF+"li"&&(i=n.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,i)},addLiteral:function(i){this.parent.datatype&&this.parent.datatype!==n.ns.RDF+"langString"?this.node=this.store.literal(i,this.store.sym(this.parent.datatype)):this.node=this.store.literal(i,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}}getAttributeNodeNS(e,t,r){var i=null;if(e.getAttributeNodeNS)i=e.getAttributeNodeNS(t,r);else for(var o=e.attributes,s,a,l=0;l<o.length;++l)if(s=o[l],s.namespaceURI===t&&(a=s.prefix?s.prefix+":"+r:r,a===s.nodeName)){i=s;break}return i}parse(e,t,r){var i=e.childNodes;this.cleanParser();var o;if(e.nodeType===n.nodeType.DOCUMENT){for(var s=0;s<i.length;s++)if(i[s].nodeType===n.nodeType.ELEMENT){o=i[s];break}}else if(e.nodeType===n.nodeType.ELEMENT)o=e;else throw new Error("RDFParser: can't find root in "+t+". Halting. ");this.why=r;var a=this.frameFactory(this);return this.base=t,a.base=t,a.lang=null,this.parseDOM(this.buildFrame(a,o)),!0}parseDOM(e){for(var t,r=(function(M){var D="";if(M.namespaceURI==null)throw new Error("RDF/XML syntax error: No namespace for "+M.localName+" in "+this.base);return M.namespaceURI&&(D=D+M.namespaceURI),M.localName?D=D+M.localName:M.nodeName&&(M.nodeName.indexOf(":")>=0?D=D+M.nodeName.split(":")[1]:D=D+M.nodeName),D}).bind(this),i=!0;e.parent;){var o=e.element,s=o.attributes;if(o.nodeType===n.nodeType.TEXT||o.nodeType===n.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(n.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(o.nodeValue);else if(r(o)!==n.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),e=this.buildFrame(e,e.element),e.parent.element=null),!e.parent||!e.parent.nodeType||e.parent.nodeType===e.ARC){var a=this.getAttributeNodeNS(o,n.ns.RDF,"about");if(t=this.getAttributeNodeNS(o,n.ns.RDF,"ID"),a&&t)throw new Error("RDFParser: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!a&&t)e.addNode("#"+t.nodeValue),o.removeAttributeNode(t);else if(a==null&&t==null){var l=this.getAttributeNodeNS(o,n.ns.RDF,"nodeID");l?(e.addBNode(l.nodeValue),o.removeAttributeNode(l)):e.addBNode()}else e.addNode(a.nodeValue),o.removeAttributeNode(a);var c=this.getAttributeNodeNS(o,n.ns.RDF,"type");n.ns.RDF+"Description"!==r(o)&&(c={nodeValue:r(o)}),c!=null&&(this.store.add(e.node,this.store.sym(n.ns.RDF+"type"),this.store.sym(ti(c.nodeValue,e.base)),this.why),c.nodeName&&o.removeAttributeNode(c));for(var u=s.length-1;u>=0;u--)this.store.add(e.node,this.store.sym(r(s[u])),this.store.literal(s[u].nodeValue,e.lang),this.why)}else{e.addArc(r(o)),this.reify&&(t=this.getAttributeNodeNS(o,n.ns.RDF,"ID"),t&&(e.rdfid=t.nodeValue,o.removeAttributeNode(t)));var h=this.getAttributeNodeNS(o,n.ns.RDF,"parseType"),m=this.getAttributeNodeNS(o,n.ns.RDF,"datatype");if(m&&(e.datatype=m.nodeValue,o.removeAttributeNode(m)),h){var g=h.nodeValue;g==="Literal"?(e.datatype=n.ns.RDF+"XMLLiteral",e=this.buildFrame(e),e.addLiteral(o.innerHTML||o.childNodes),i=!1):g==="Resource"?(e=this.buildFrame(e,e.element),e.parent.element=null,e.addBNode()):g==="Collection"&&(e=this.buildFrame(e,e.element),e.parent.element=null,e.addCollection()),o.removeAttributeNode(h)}if(s.length!==0){var b=this.getAttributeNodeNS(o,n.ns.RDF,"resource"),v=this.getAttributeNodeNS(o,n.ns.RDF,"nodeID");e=this.buildFrame(e),b?(e.addNode(b.nodeValue),o.removeAttributeNode(b)):v?(e.addBNode(v.nodeValue),o.removeAttributeNode(v)):e.addBNode();for(var E=s.length-1;E>=0;E--){var C=this.buildFrame(e);C.addArc(r(s[E])),r(s[E])===n.ns.RDF+"type"?this.buildFrame(C).addNode(s[E].nodeValue):this.buildFrame(C).addLiteral(s[E].nodeValue)}}else o.childNodes.length===0&&this.buildFrame(e).addLiteral("")}for(o=e.element;e.parent;){for(var R=e;o==null;)e=e.parent,o=e.element;var F=o.childNodes&&o.childNodes[e.lastChild];if(!F||!i){if(e.terminateFrame(),!(e=e.parent))break;o=e.element,i=!0}else if(F.nodeType!==n.nodeType.ELEMENT&&F.nodeType!==n.nodeType.TEXT&&F.nodeType!==n.nodeType.CDATA_SECTION||(F.nodeType===n.nodeType.TEXT||F.nodeType===n.nodeType.CDATA_SECTION)&&o.childNodes.length!==1)e.lastChild++;else{e.lastChild++,e=this.buildFrame(R,o.childNodes[e.lastChild-1]);break}}}}cleanParser(){this.bnodes={},this.why=null}buildFrame(e,t){var r=this.frameFactory(this,e,t);if(e&&(r.base=e.base,r.lang=e.lang),!t||t.nodeType===n.nodeType.TEXT||t.nodeType===n.nodeType.CDATA_SECTION)return r;var i=t.attributes,o=t.getAttributeNode("xml:base");o!=null&&(r.base=o.nodeValue,t.removeAttribute("xml:base"));var s=t.getAttributeNode("xml:lang");s!=null&&(r.lang=s.nodeValue,t.removeAttribute("xml:lang"));for(var a=i.length-1;a>=0;a--)if(i[a].nodeName.substr(0,3)==="xml"){if(i[a].name.slice(0,6)==="xmlns:"){var l=i[a].nodeValue;this.base&&(l=ti(l,this.base)),this.store.setPrefixForURI(i[a].name.slice(6),l)}t.removeAttributeNode(i[a])}return r}};Ue(od,"ns",{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"});Ue(od,"nodeType",{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12});function nk(n,e,t){var r,i,o,s=["INSERT","DELETE","WHERE"],a=bn("http://www.w3.org/ns/pim/patch#"),l=Hm(e,e,t,t,null,null,"",null),c={},u=function(v,E,C,R,F){return"Line "+(E+1)+" of <"+v+`>: Bad syntax:
   `+F+`
   at: "`+C.slice(R,R+30)+'"'};r=0;var h=e.sym(t+"#query");for(c.query=h;;){if(i=l.skipSpace(n,r),i<0)return c;if(n[i]===";"){if(r=l.skipSpace(n,i+1),r<0)return c;i=r}var m=!1;for(o=0;o<s.length;o++){var g=s[o];if(n.slice(i,i+g.length)===g){if(r=l.skipSpace(n,i+g.length),r<0)throw u(l._thisDoc,l.lines,n,i+g.length,"found EOF, needed {...} after "+g);if((g==="INSERT"||g==="DELETE")&&n.slice(r,r+4)==="DATA"){if(i=l.skipSpace(n,r+4),i<0)throw u(l._thisDoc,l.lines,n,r+4,"needed {...} after INSERT DATA "+g);r=i}var b=[];if(i=l.node(n,r,b),i<0)throw u(l._thisDoc,l.lines,n,r,"bad syntax or EOF in {...} after "+g);c[g.toLowerCase()]=b[0],e.add(h,a(g.toLowerCase()),b[0]),m=!0,r=i}}if(!m&&n.slice(i,i+7)==="@prefix"){if(r=l.directive(n,i),r<0)throw u(l._thisDoc,l.lines,n,r,"bad syntax or EOF after @prefix ");r=l.checkDot(n,r),m=!0}if(!m)throw u(l._thisDoc,l.lines,n,i,"Unknown syntax at start of statememt: '"+n.slice(i).slice(0,20)+"'")}}function sd(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"text/turtle",i=arguments.length>4?arguments[4]:void 0;r=r||Hl,r=r.split(";")[0];try{if(r===zx||r===Hl){var o=Hm(e,e,t,t,null,null,"",null);o.loadBuf(n),l()}else if(r===Zu){var s=new od(e);s.parse(id(n),t,e.sym(t)),l()}else if(r===g_)qm(id(n,{contentType:g_}),e,t),l();else if(r===_O)qm(id(n,{contentType:_O}),e,t),l();else if(r===QG||r===ZG)nk(n,e,t),l();else if(r===h_)P_(n,e,t,l);else if(r===m_||r===p_){var a=new Xu({factory:k_});u(null,n)}else throw r===void 0?new Error("contentType is undefined"):new Error("Don't know how to parse "+r+" yet")}catch(m){c(m)}sd.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/sparql-update-single-match":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0};function l(){if(i)i(null,e);else return}function c(m){if(r!==h_||r!==m_||r!==p_)if(i)i(m,e);else{let g=new Error(""+m+" while trying to parse <"+t+"> as "+r);throw g.cause=m,g}}function u(m,g){m&&i(m,e);try{a.parse(g,h)}catch(b){i(b,e)}}function h(m,g){g?e.add(g.subject,g.predicate,g.object,g.graph):i(m,e)}}var Gm=yo(IW());var N_e={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},AW={rdf:Zu,owl:Zu,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},TW=n=>({link:bn("http://www.w3.org/2007/ont/link#",n),http:bn("http://www.w3.org/2007/ont/http#",n),httph:bn("http://www.w3.org/2007/ont/httph#",n),rdf:bn("http://www.w3.org/1999/02/22-rdf-syntax-ns#",n),rdfs:bn("http://www.w3.org/2000/01/rdf-schema#",n),dc:bn("http://purl.org/dc/elements/1.1/",n),ldp:bn("http://www.w3.org/ns/ldp#",n)}),Kl=TW(),Jl=class{constructor(e,t){Ue(this,"response",void 0),Ue(this,"dom",void 0),this.response=e,this.dom=t}};Ue(Jl,"pattern",void 0);var L_=class extends Jl{static toString(){return"RDFXMLHandler"}static register(e){e.mediatypes[Zu]={q:.9}}parse(e,t,r){let i=e.store;if(this.dom||(this.dom=id(t)),this.dom.documentElement.nodeName==="parsererror")return e.failFetch(r,"Badly formed XML in "+r.resource.value,"parse_error");let s=new od(i);try{s.parse(this.dom,r.original.value,r.original)}catch(a){return e.failFetch(r,"Syntax error parsing RDF/XML! "+a,"parse_error")}return r.noMeta||i.add(r.original,Kl.rdf("type"),Kl.link("RDFDocument"),e.appNode),e.doneFetch(r,this.response)}};L_.pattern=new RegExp("application/rdf\\+xml");var Hc=class extends Jl{static toString(){return"XHTMLHandler"}static register(e){e.mediatypes[g_]={}}parse(e,t,r){let i,o;this.dom||(this.dom=id(t));let s=e.store,a=this.dom.getElementsByTagName("title");a.length>0&&s.add(r.resource,Kl.dc("title"),s.rdfFactory.literal(a[0].textContent),r.resource);let l=this.dom.getElementsByTagName("link");for(let u=l.length-1;u>=0;u--)i=l[u].getAttribute("rel"),o=!1,i||(i=l[u].getAttribute("rev"),o=!0),i&&e.linkData(r.original,i,l[u].getAttribute("href"),r.resource,o);let c=this.dom.getElementsByTagName("script");for(let u=0;u<c.length;u++){let h=c[u].getAttribute("type");N_e[h]&&(sd(c[u].textContent,s,r.original.value,h),sd(c[u].textContent,s,r.original.value,h))}if(r.noMeta||s.add(r.resource,Kl.rdf("type"),Kl.link("WebPage"),e.appNode),!r.noRDFa&&qm)try{qm(this.dom,s,r.original.value)}catch(u){let h="Error trying to parse "+r.resource+` as RDFa:
`+u+`:
`+u.stack;return e.failFetch(r,h,"parse_error")}return e.doneFetch(r,this.response)}};Hc.pattern=new RegExp("application/xhtml");var Wm=class n extends Jl{static toString(){return"XMLHandler"}static register(e){e.mediatypes["text/xml"]={q:.5},e.mediatypes["application/xml"]={q:.5}}static isElement(e){return e.nodeType===Node.ELEMENT_NODE}parse(e,t,r){let i=id(t);for(let s=0;s<i.childNodes.length;s++){let a=i.childNodes[s];if(n.isElement(a)){let l=a.namespaceURI;if(l&&l===l.rdf)return e.addStatus(r.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),new L_(this.response,i).parse(e,t,r);break}}if(i.doctype&&i.doctype.name==="html"&&i.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&i.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/))return e.addStatus(r.req,`Has XHTML DOCTYPE. Switching to XHTML Handler.
`),new Hc(this.response,i).parse(e,t,r);let o=i.getElementsByTagName("html")[0];if(o){let s=o.getAttribute("xmlns");if(s&&s.match(/^http:\/\/www.w3.org\/1999\/xhtml/))return e.addStatus(r.req,`Has a default namespace for XHTML. Switching to XHTMLHandler.
`),new Hc(this.response,i).parse(e,t,r)}return e.failFetch(r,`Unsupported dialect of XML: not RDF or XHTML namespace, etc.
`+t.slice(0,80),901)}};Wm.pattern=new RegExp("(text|application)/(.*)xml");var dD=class extends Jl{static toString(){return"HTMLHandler"}static register(e){e.mediatypes["text/html"]={q:.9}}parse(e,t,r){let i=e.store;if(RW(t))return e.addStatus(r.req,`Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.
`),new Hc(this.response).parse(e,t,r);if(M_e(t))return e.addStatus(r.req,`Has XHTML DOCTYPE. Switching to XHTMLHandler.
`),new Hc(this.response).parse(e,t,r);if(O_e(t))return e.addStatus(r.req,`Has default namespace for XHTML, so switching to XHTMLHandler.
`),new Hc(this.response).parse(e,t,r);let o=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(t);return o&&i.add(r.resource,Kl.dc("title"),i.rdfFactory.literal(o[1]),r.resource),i.add(r.resource,Kl.rdf("type"),Kl.link("WebPage"),e.appNode),e.addStatus(r.req,"non-XML HTML document, not parsed for data."),e.doneFetch(r,this.response)}};dD.pattern=new RegExp("text/html");var F_e=(()=>{class n extends Jl{static toString(){return"JsonLdHandler"}static register(t){t.mediatypes["application/ld+json"]={q:.9}}parse(t,r,i,o){let s=t.store;return new Promise((a,l)=>{try{P_(r,s,i.original.value,()=>{a(t.doneFetch(i,o))})}catch(c){let u="Error trying to parse "+i.resource+` as JSON-LD:
`+c;a(t.failFetch(i,u,"parse_error",o))}})}}return n.pattern=/application\/ld\+json/,n})(),fD=class extends Jl{static toString(){return"TextHandler"}static register(e){e.mediatypes["text/plain"]={q:.5}}parse(e,t,r){return RW(t)?(e.addStatus(r.req,"Warning: "+r.resource+` has an XML declaration. We'll assume it's XML but its content-type wasn't XML.
`),new Wm(this.response).parse(e,t,r)):t.slice(0,500).match(/xmlns:/)?(e.addStatus(r.req,`May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.
`),new Wm(this.response).parse(e,t,r)):(e.addStatus(r.req,"Plain text document, no known RDF semantics."),e.doneFetch(r,this.response))}};fD.pattern=new RegExp("text/plain");var hD=class extends Jl{static toString(){return"N3Handler"}static register(e){e.mediatypes["text/n3"]={q:"1.0"},e.mediatypes["text/turtle"]={q:1}}parse(e,t,r,i){let o=e.store,s=Hm(o,o,r.original.value,r.original.value,null,null,"",null);try{s.loadBuf(t)}catch(a){let l="Error trying to parse "+r.resource+` as Notation3:
`+a;return e.failFetch(r,l,"parse_error",i)}return e.addStatus(r.req,"N3 parsed: "+s.statementCount+" triples in "+s.lines+" lines."),e.store.add(r.original,Kl.rdf("type"),Kl.link("RDFDocument"),e.appNode),e.doneFetch(r,this.response)}};hD.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var rk={RDFXMLHandler:L_,XHTMLHandler:Hc,XMLHandler:Wm,HTMLHandler:dD,TextHandler:fD,N3Handler:hD,JsonLdHandler:F_e};function M_e(n){let e=n.indexOf("<!DOCTYPE html"),t=n.indexOf(">");return e===-1||t===-1||e>t?!1:n.substr(e,t-e).indexOf("XHTML")!==-1}function RW(n){return!!n.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)}function O_e(n){return!!n.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/)}var go=class n{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ue(this,"store",void 0),Ue(this,"timeout",void 0),Ue(this,"_fetch",void 0),Ue(this,"mediatypes",void 0),Ue(this,"appNode",void 0),Ue(this,"requested",void 0),Ue(this,"timeouts",void 0),Ue(this,"redirectedTo",void 0),Ue(this,"fetchQueue",void 0),Ue(this,"fetchCallbacks",void 0),Ue(this,"nonexistent",void 0),Ue(this,"lookedUp",void 0),Ue(this,"handlers",void 0),Ue(this,"ns",void 0),Ue(this,"fireCallbacks",void 0),this.store=e||new No,this.ns=TW(this.store.rdfFactory),this.timeout=t.timeout||3e4,this._fetch=t.fetch||typeof global<"u"&&(global.solidFetcher||global.solidFetch)||typeof window<"u"&&(window.solidFetcher||window.solidFetch)||Gm.default,!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.sym("chrome://TheCurrentSession"),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},oW(this,["request","fail","refresh","retract","done"]),Object.keys(t.handlers||rk).map(r=>this.addHandler(rk[r]))}static crossSiteProxy(e){if(n.crossSiteProxyTemplate)return n.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e))}static offlineOverride(e){let t=e;var r;return typeof window<"u"&&window.panes&&(r=window.panes.UI)&&r.preferences&&r.preferences.get("offlineModeUsingLocalhost")&&t.slice(0,7)==="http://"&&t.slice(7,17)!=="localhost/"&&(t="http://localhost/"+t.slice(7),ni.warn("Localhost kludge for offline use: actually getting <"+t+">")),t}static proxyIfNecessary(e){var t;if(typeof window<"u"&&window.panes&&(t=window.panes.UI)&&t.isExtension)return e;if(typeof $SolidTestEnvironment<"u"&&$SolidTestEnvironment.localSiteMap){let r=e.split("/").slice(2),i=(s,a)=>{let l=a[s.shift()];return l?typeof l=="string"?l+s.join("/"):s?i(s,l):null:null},o=i(r,$SolidTestEnvironment.localSiteMap);if(o)return o}return n.crossSiteProxyTemplate&&typeof document<"u"&&document.location&&(""+document.location).slice(0,6)==="https:"&&e.slice(0,5)==="http:"?n.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e}static unsupportedProtocol(e){let t=Wx(e);return t==="tel"||t==="mailto"||t==="urn"}static setCredentials(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.credentials===void 0&&(t.withCredentials!==void 0?t.credentials=t.withCredentials?"include":"omit":t.credentials="include")}load(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t=Object.assign({},t),e instanceof Array)return Promise.all(e.map(c=>this.load(c,Object.assign({},t))));let i=ql(e);i=i.split("#")[0],t=this.initFetchOptions(i,t);let o=this.appNode,s=this.store,a=s.statementsMatching(void 0,this.ns.link("requestedURI"),s.sym(i),o).map(c=>c.subject);for(let c of a){let u=s.any(c,this.ns.link("response"),null,o);if(u!=null){let h=s.statementsMatching(u,this.ns.link("outOfDate"),!0,o);s.remove(h),t.force=!0,t.clearPreviousData=!0}}let l=this.initFetchOptions(i,t);return this.pendingFetchPromise(i,l.baseURI,l)}pendingFetchPromise(e,t,r){return L(this,null,function*(){let i;return!r.force&&(yield this.fetchQueue[t])?i=this.fetchQueue[t]:(i=Promise.race([this.setRequestTimeout(e,r),this.fetchUri(e,r)]),this.fetchQueue[t]=i,this.cleanupFetchRequest(t,void 0,this.timeout)),i.then(o=>(e in this.timeouts&&(this.timeouts[e].forEach(clearTimeout),delete this.timeouts[e]),o))})}cleanupFetchRequest(e,t,r){t!==void 0&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(()=>{this.isPending(e)||delete this.fetchQueue[e]},r))}initFetchOptions(e,t){let r=this.store;!t.method||t.method.toUpperCase()==="GET"||(t.force=!0),t.resource=r.rdfFactory.namedNode(e),t.baseURI=t.baseURI||e,t.original=r.rdfFactory.namedNode(t.baseURI),t.req=r.bnode(),t.headers=t.headers||new Gm.Headers,t.contentType&&(t.headers["content-type"]=t.contentType),t.force&&(t.cache="no-cache");let o=this.acceptString();t.headers.accept=o;let s=n.offlineOverride(e);t.requestedURI=s,n.setCredentials(s,t);let a=n.proxyIfNecessary(s);return s!==a&&(t.proxyUsed=!0),t.actualProxyURI=a,t}fetchUri(e,t){if(!e)return Promise.reject(new Error("Cannot fetch an empty uri"));if(n.unsupportedProtocol(e))return this.failFetch(t,"fetcher: Unsupported protocol","unsupported_protocol");let r=this.getState(e);if(t.force)delete this.nonexistent[e];else{if(r==="fetched")return Promise.resolve(this.doneFetch(t,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if(r==="failed"&&this.requested[e]===404){let o="Previously failed: "+this.requested[e],s={url:e,status:this.requested[e],statusText:o,responseText:o,headers:new Gm.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(t,o,this.requested[e],s)}}this.fireCallbacks("request",[e]),this.requested[e]=!0,t.noMeta||this.saveRequestMetadata(e,t);let{actualProxyURI:i}=t;return this._fetch(i,t).then(o=>this.handleResponse(o,e,t),o=>{let s={url:i,status:999,statusText:(o.name||"network failure")+": "+(o.errno||o.code||o.type),responseText:o.message,headers:new Gm.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.handleError(s,e,t)})}nowOrWhenFetched(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=ql(e);typeof t=="function"?r=t:typeof t>"u"||(y_(t)?i.referringTerm=t:i=t),this.load(o,i).then(s=>{if(r)if(s)if(s.ok)r(!0,"OK",s);else{let a="HTTP error: Status "+s.status+" ("+s.statusText+")";s.responseText&&(a+=" "+s.responseText),r(!1,a,s)}else r(!1,"@@ nowOrWhenFetched:  no response object!")},function(s){var a=s.message||s.statusText;a="Failed to load  <"+o+"> "+a,s.response&&s.response.status&&(a+=" status: "+s.response.status),r(!1,a,s.response)})}addStatus(e,t){let r=new Date;t="["+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"."+r.getMilliseconds()+"] "+t;let i=this.store,o=i.the(e,this.ns.link("status"));Nm(o)?o.append(i.rdfFactory.literal(t)):ni.warn("web.js: No list to add to: "+o+","+t)}failFetch(e,t,r,i){this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(t));let o=(e.method||"GET").toUpperCase();(o==="GET"||o==="HEAD")&&(e.resource.equals(e.original),this.requested[ca(e.original.value)]=r,this.fireCallbacks("fail",[e.original.value,t]));var a=new Error("Fetcher: "+t);return a.status=r,a.statusText=t,a.response=i,Promise.reject(a)}linkData(e,t,r,i,o){if(!r)return;let s=this.store,a,l=s.rdfFactory.namedNode(ti(r,e.value));if(t==="alternate"||t==="seeAlso"||t==="meta"||t==="describedby"){if(l.value===e.value)return;a=this.ns.rdfs("seeAlso")}else t==="type"?a=s.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):a=s.rdfFactory.namedNode(ti(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));o?s.add(l,a,e,i):s.add(e,a,l,i)}parseLinkHeader(e,t,r){if(!e)return;let i=/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,o=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,s=e.match(i);if(s!=null)for(let a=0;a<s.length;a++){let l=s[a].split(">"),c=l[0].substring(1),h=l[1].match(o);if(h==null)return;for(let m=0;m<h.length;m++){let v=h[m].split("=")[1].replace(/["']/g,"");this.linkData(t,v,c,r)}}}doneFetch(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),t.req=e.req,t}nowKnownAs(e,t){this.lookedUp[e.value]?this.lookedUp[t.value]||this.lookUpThing(t,e):this.lookedUp[t.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,t))}putBack(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=ql(e),i=new zn(r).doc();return t.contentType=t["content-type"]||t["Content-Type"]||t.contentType||Hl,t.contentType==="application/ld+json"?new Promise((o,s)=>{tl(i,this.store,i.uri,t.contentType,(a,l)=>{a?s(a):(t.data=l,this.webOperation("PUT",e,t).then(c=>o(c)).catch(c=>s(c)))})}):(t.data=tl(i,this.store,i.value,t.contentType),this.webOperation("PUT",r,t))}webCopy(e,t,r){return this.webOperation("GET",e).then(i=>this.webOperation("PUT",t,{data:i.responseText,contentType:r}))}delete(e,t){return this.webOperation("DELETE",e,t).then(r=>(this.requested[e]=404,this.nonexistent[e]=!0,this.unload(this.store.rdfFactory.namedNode(e)),r))}createIfNotExists(t){return L(this,arguments,function*(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hl,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=this;try{var s=yield o.load(e)}catch(a){if(a.response.status===404){try{s=yield o.webOperation("PUT",e.value,{data:i,contentType:r})}catch(l){throw l}return delete o.requested[e.value],s}else throw a}return s})}createContainer(e,t,r){let i={"content-type":Hl,link:this.ns.ldp("BasicContainer")+'; rel="type"'};t&&(i.slug=t);let o={headers:i};return r&&(o.body=r),this.webOperation("POST",e,o)}invalidateCache(e){let t=ql(e),r=this;if(r.fetchQueue&&r.fetchQueue[t]){var i=r.fetchQueue[t];i.PromiseStatus,delete r.fetchQueue[t]}if(r.requested[t]&&r.requested[t]!=="done"&&r.requested[t]!=="failed"&&r.requested[t]!==404){let o=`Rdflib: fetcher: Destructive operation on <${r.requested[t]}> file being fetched! `+t;console.error(o)}else delete r.requested[t],delete r.nonexistent[t]}webOperation(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=ql(t);r.method=e,r.body=r.data||r.body,r.force=!0;let o=this;if(r.body&&!r.contentType)throw new Error("Web operation sending data must have a defined contentType.");return r.contentType&&(r.headers=r.headers||{},r.headers["content-type"]=r.contentType),n.setCredentials(i,r),new Promise(function(s,a){o._fetch(i,r).then(l=>{if(l.ok)(e==="PUT"||e==="PATCH"||e==="POST"||e==="DELETE")&&o.invalidateCache(i),l.text?l.text().then(c=>{l.responseText=c,s(l)}):s(l);else{let c="Web error: "+l.status;l.statusText&&(c+=" ("+l.statusText+")"),c+=" on "+e+" of <"+i+">",l.responseText&&(c+=": "+l.responseText);let u=new Error(c);u.response=l,a(u)}},l=>{let c="Fetch error for "+e+" of <"+i+">:"+l;a(new Error(c))})})}lookUpThing(e,t){let r=this.store.uris(e);return r=r.map(i=>ca(i)),r.forEach(i=>{this.lookedUp[i]=!0}),this.load(r,{referringTerm:t})}getHeader(e,t){let r=this.store,i=e.value,o=r.each(void 0,this.ns.link("requestedURI"),r.rdfFactory.literal(i));for(let s=0;s<o.length;s++){let a=o[s];if(a!==void 0){let l=r.any(a,this.ns.link("response"));if(l!==void 0&&r.anyValue(l,this.ns.http("status"))&&r.anyValue(l,this.ns.http("status")).startsWith("2")){let c=r.each(l,this.ns.httph(t.toLowerCase()));return c.length?c.map(u=>u.value):[]}}}}saveRequestMetadata(e,t){let r=t.req,i=this.store,o=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers.accept),y_(o)&&i.add(i.rdfFactory.namedNode(e),this.ns.link("requestedBy"),o,this.appNode),t.original&&t.original.value!==e&&i.add(r,this.ns.link("orginalURI"),i.rdfFactory.literal(t.original.value),this.appNode);let s=new Date,a="["+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+"] ";i.add(r,this.ns.rdfs("label"),i.rdfFactory.literal(a+" Request for "+e),this.appNode),i.add(r,this.ns.link("requestedURI"),i.rdfFactory.literal(e),this.appNode),i.add(r,this.ns.link("status"),i.collection(),this.appNode)}saveResponseMetadata(e,t){let r=this.store,i=r.bnode();return r.add(t.req,this.ns.link("response"),i,this.appNode),r.add(i,this.ns.http("status"),r.rdfFactory.literal(e.status),this.appNode),r.add(i,this.ns.http("statusText"),r.rdfFactory.literal(e.statusText),this.appNode),e.headers.forEach((o,s)=>{r.add(i,this.ns.httph(s),this.store.rdfFactory.literal(o),this.appNode),s==="content-type"&&r.add(t.resource,this.ns.rdf("type"),r.rdfFactory.namedNode(iW(o).value),this.appNode)}),i}objectRefresh(e){let t=this.store.uris(e);if(typeof t<"u")for(let r=0;r<t.length;r++)this.refresh(this.store.rdfFactory.namedNode(ca(t[r])))}refresh(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}refreshIfExpired(e,t){let r=this.getHeader(e,"Expires");!r||new Date(r[0]).getTime()<=new Date().getTime()?this.refresh(e,t):t(!0,"Not expired",{})}retract(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[ca(e.value)],this.fireCallbacks("retract",arguments)}getState(e){return typeof this.requested[e]>"u"?"unrequested":this.requested[e]===!0?"requested":this.requested[e]==="done"?"fetched":this.requested[e]==="redirected"?this.getState(this.redirectedTo[e]):"failed"}isPending(e){return this.requested[e]===!0}unload(e){this.store.removeDocument(e),delete this.requested[e.value]}addHandler(e){this.handlers.push(e),e.register(this)}retryNoCredentials(e,t){t.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];let r=Object.assign({},t,{credentials:"omit"});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,r)}isCrossSite(e){if(typeof document>"u"||!document.location)return!1;let t=EO,r=""+document.location;return(t(r)&&t(e)&&t(r))!==t(e)}handleError(e,t,r){if(this.isCrossSite(t)){if(r.credentials&&r.credentials==="include"&&!r.retriedWithNoCredentials)return this.retryNoCredentials(t,r);let o=n.crossSiteProxy(t);if(o&&!r.proxyUsed)return this.redirectToProxy(o,r)}var i;return e instanceof Error?i="Fetch error: "+e.message:(i=e.statusText,e.responseText&&(i+=` ${e.responseText}`)),this.failFetch(r,i,e.status||998,e)}addType(e,t,r,i){let o=t;if(i){var s=r.any(o,this.ns.link("requestedURI"));s&&s.value!==i&&r.add(r.rdfFactory.namedNode(i),this.ns.rdf("type"),e,this.appNode)}for(;;){let c=r.any(o,this.ns.link("requestedURI"));if(c&&c.value&&r.add(r.rdfFactory.namedNode(c.value),this.ns.rdf("type"),e,this.appNode),o=r.any(void 0,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),o),!o)break;var a=r.any(o,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!a)break;var l=r.any(a,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!l||l!=="301"&&l!=="302")break}}handleResponse(e,t,r){let i=this.store,o=e.headers,s=r.req,a=this.saveResponseMetadata(e,r),l=this.normalizedContentType(r,o)||"",c=o.get("content-location");if(e.status===0)return this.handleError(e,t,r);if(e.status>=400)return e.status===404&&(this.nonexistent[r.original.value]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,a).then(()=>{let g=r.resource+" "+e.statusText;return this.failFetch(r,g,e.status,e)});var u=null,h=null;if(c&&(h=ti(c,t),h!==t&&(u=h)),e.status===200){if(this.addType(this.ns.link("Document"),s,i,t),u&&this.addType(this.ns.link("Document"),s,i,u),r.clearPreviousData){let b=i.statementsMatching(void 0,void 0,void 0,r.resource).slice();for(let v=0;v<b.length;v++)i.removeStatement(b[v])}let g=l.includes("image/")||l.includes("application/pdf");l&&g&&(this.addType(i.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),s,i,t),u&&this.addType(i.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),s,i,u))}if(c){if(!r.force&&u&&this.requested[h]==="done")return this.doneFetch(r,e);this.requested[h]=!0}this.parseLinkHeader(o.get("link"),r.original,s);let m=this.handlerForContentType(l,e);return m?e.text().then(g=>(e.responseText=g,m.parse(this,g,r,e))):(this.addStatus(s,"Fetch over. No data handled."),this.doneFetch(r,e))}saveErrorResponse(e,t){let r=this.store;return e.text().then(i=>{i.length>10&&r.add(t,this.ns.http("content"),r.rdfFactory.literal(i),t)})}handlerForContentType(e,t){if(!e)return null;let r=this.handlers.find(i=>e.match(i.pattern));return r?new r(t):null}guessContentType(e){return AW[e.split(".").pop()]}normalizedContentType(e,t){if(e.forceContentType)return e.forceContentType;let r=t.get("content-type");if(!r||r.includes("application/octet-stream")){let o=this.guessContentType(e.resource.value);if(o)return o}let i=Wx(e.resource.value);return!r&&["file","chrome"].includes(i)?"text/xml":r}redirectToProxy(e,t){this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;let r=this.store,i=t.req;t.noMeta||(r.add(i,this.ns.link("redirectedTo"),r.rdfFactory.namedNode(e),i),this.addStatus(i,"redirected to new request")),this.requested[t.resource.value]="redirected",this.redirectedTo[t.resource.value]=e;let o=Object.assign({},t);return o.baseURI=t.resource.value,this.fetchUri(e,o).then(s=>(o.noMeta||r.add(i,this.ns.link("redirectedRequest"),o.req,this.appNode),s))}setRequestTimeout(e,t){return new Promise(r=>{this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout(()=>{this.isPending(e)&&!t.retriedWithNoCredentials&&!t.proxyUsed&&r(this.failFetch(t,`Request to ${e} timed out`,"timeout"))},this.timeout))})}addFetchCallback(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}acceptString(){let e="";for(let t in this.mediatypes){e!==""&&(e+=", "),e+=t;for(let r in this.mediatypes[t])e+=";"+r+"="+this.mediatypes[t][r]}return e}};Ue(go,"HANDLERS",void 0);Ue(go,"CONTENT_TYPE_BY_EXT",void 0);Ue(go,"crossSiteProxyTemplate",void 0);go.HANDLERS=rk;go.CONTENT_TYPE_BY_EXT=AW;var B_=class{constructor(e){if(Ue(this,"store",void 0),Ue(this,"ifps",void 0),Ue(this,"fps",void 0),Ue(this,"patchControl",void 0),Ue(this,"ns",void 0),e=e||new No,e.updater)throw new Error("You can't have two UpdateManagers for the same store");e.fetcher||(e.fetcher=new go(e)),this.store=e,e.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=bn("http://www.w3.org/2007/ont/link#"),this.ns.http=bn("http://www.w3.org/2007/ont/http#"),this.ns.httph=bn("http://www.w3.org/2007/ont/httph#"),this.ns.ldp=bn("http://www.w3.org/ns/ldp#"),this.ns.rdf=bn("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.rdfs=bn("http://www.w3.org/2000/01/rdf-schema#"),this.ns.rdf=bn("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.owl=bn("http://www.w3.org/2002/07/owl#"),this.patchControl=[]}patchControlFor(e){return this.patchControl[e.value]||(this.patchControl[e.value]=[]),this.patchControl[e.value]}isHttpUri(e){return e.slice(0,4)==="http"}flagAuthorizationMetadata(e){e||(e=this.store);let t=e.fetcher?.appNode,r=e.statementsMatching(void 0,this.ns.link("requestedURI"),void 0,t).map(i=>i.subject);for(let i of r){let o=e.any(i,this.ns.link("response"),null,t);o!=null&&e.add(o,this.ns.link("outOfDate"),!0,t)}}checkEditable(e,t){return L(this,null,function*(){if(!e)return!1;t||(t=this.store);let r=this.editable(e,t);return r!==void 0?r:(yield t.fetcher?.load(e),this.editable(e,t))})}editable(e,t){if(!e)return!1;if(t||(t=this.store),e=ql(e),!this.isHttpUri(e)&&t.holds(t.rdfFactory.namedNode(e),t.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),t.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#MachineEditableDocument")))return"LOCALFILE";var r,i=!1;let o=t.fetcher?.appNode;for(var s=t.each(void 0,this.ns.link("requestedURI"),ca(e),o),a,l=0;l<s.length;l++)if(r=s[l],r!==void 0){let v=t.any(r,this.ns.link("response"),null,o);if(v!==void 0){if(t.anyJS(v,this.ns.link("outOfDate"),null,o))continue;var c=t.anyValue(v,this.ns.httph("wac-allow"));if(c)for(var u of c.split(",")){var h=u.split("=");if(h[0].includes("user")&&!h[1].includes("write")&&!h[1].includes("append"))return!1}var m=t.each(v,this.ns.httph("accept-patch"));if(m.length)for(let C=0;C<m.length;C++){if(a=m[C].value.trim(),a.indexOf("application/sparql-update")>=0||a.indexOf("application/sparql-update-single-match")>=0)return"SPARQL";if(a.indexOf("text/n3")>=0)return"N3PATCH"}var g=t.each(v,this.ns.httph("ms-author-via"));if(g.length)for(let C=0;C<g.length;C++){if(a=g[C].value.trim(),a.indexOf("SPARQL")>=0)return"SPARQL";if(a.indexOf("DAV")>=0)return"DAV"}if(!this.isHttpUri(e))return c?"LOCALFILE":!1;var b=t.each(v,this.ns.http("status"));if(b.length)for(let C=0;C<b.length;C++)(b[C]===200||b[C]===404)&&(i=!0)}}if(s.length!==0){if(i)return!1}}anonymize(e){return e.toNT().substr(0,2)==="_:"&&this.mentioned(e)?"?"+e.toNT().substr(2):e.toNT()}anonymizeNT(e){return this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+" ."}nTriples(e){return`${e.subject.toNT()} ${e.predicate.toNT()} ${e.object.toNT()} .`}statementBnodes(e){return[e.subject,e.predicate,e.object].filter(function(t){return s7(t)})}statementArrayBnodes(e){var t=[];for(let i=0;i<e.length;i++)t=t.concat(this.statementBnodes(e[i]));t.sort();var r=[];for(let i=0;i<t.length;i++)(i===0||!t[i].equals(t[i-1]))&&r.push(t[i]);return r}cacheIfps(){this.ifps={};var e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("InverseFunctionalProperty"));for(let t=0;t<e.length;t++)this.ifps[e[t].value]=!0;this.fps={},e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("FunctionalProperty"));for(let t=0;t<e.length;t++)this.fps[e[t].value]=!0}bnodeContext2(e,t,r){var i=this.store.statementsMatching(void 0,void 0,e,t),o,s;for(let a=0;a<i.length;a++)if(this.fps[i[a].predicate.value]){if(o=i[a].subject,!o.isBlank)return[i[a]];if(r&&(s=this.bnodeContext2(o,t,r-1),s))return s.concat([i[a]])}i=this.store.statementsMatching(e,void 0,void 0,t);for(let a=0;a<i.length;a++)if(this.ifps[i[a].predicate.value]){if(o=i[a].object,!o.isBlank)return[i[a]];if(r&&(s=this.bnodeContext2(o,t,r-1),s))return s.concat([i[a]])}return null}bnodeContext1(e,t){for(var r=0;r<3;r++){var i=this.bnodeContext2(e,t,r);if(i!==null)return i}return this.store.connectedStatements(e,t)}mentioned(e){return this.store.statementsMatching(e,null,null,null).length!==0||this.store.statementsMatching(null,e).length!==0||this.store.statementsMatching(null,null,e).length!==0}bnodeContext(e,t){var r=[];if(e.length){this.cacheIfps();for(let o=0;o<e.length;o++){var i=e[o];this.mentioned(i)&&(r=r.concat(this.bnodeContext1(i,t)))}}return r}statementContext(e){var t=this.statementBnodes(e);return this.bnodeContext(t,e.graph)}contextWhere(e){var t=this;return!e||e.length===0?"":"WHERE { "+e.map(function(r){return t.anonymizeNT(r)}).join(`
`)+` }
`}fire(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Promise.resolve().then(()=>{if(!e)throw new Error("No URI given for remote editing operation: "+t);return i.noMeta=!0,i.contentType=i.contentType||"application/sparql-update",i.body=t,this.store.fetcher.webOperation("PATCH",e,i)}).then(o=>{if(!o.ok){let s="UpdateManager: update failed for <"+e+"> status="+o.status+", "+o.statusText+`
   for query: `+t;throw new Error(s)}r(e,o.ok,o.responseText,o)}).catch(o=>{r(e,!1,o.message,o)})}update_statement(e){if(!(e&&!e.graph)){var t=this,r=this.statementContext(e);return{statement:e?[e.subject,e.predicate,e.object,e.graph]:void 0,statementNT:e?this.anonymizeNT(e):void 0,where:t.contextWhere(r),set_object:function(i,o){var s=this.where;s+="DELETE DATA { "+this.statementNT+` } ;
`,s+="INSERT DATA { "+this.anonymize(this.statement[0])+" "+this.anonymize(this.statement[1])+" "+this.anonymize(i)+`  . }
`,t.fire(this.statement[3].value,s,o)}}}}insert_statement(e,t){var r=e instanceof Array?e[0]:e,i=this.contextWhere(this.statementContext(r));if(e instanceof Array){var o="";for(let s=0;s<e.length;s++)o+=e[s]+`
`;i+="INSERT DATA { "+o+` }
`}else i+="INSERT DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+`  . }
`;this.fire(r.graph.value,i,t)}delete_statement(e,t){var r=e instanceof Array?e[0]:e,i=this.contextWhere(this.statementContext(r));if(e instanceof Array){var o="";for(let s=0;s<e.length;s++)o+=e[s]+`
`;i+="DELETE DATA { "+o+` }
`}else i+="DELETE DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+`  . }
`;this.fire(r.graph.value,i,t)}requestDownstreamAction(e,t){var r=this.patchControlFor(e);if(!r.pendingUpstream)t(e);else if(r.downstreamAction){if(""+r.downstreamAction!=""+t)throw new Error("Can't wait for > 1 different downstream actions")}else r.downstreamAction=t}clearUpstreamCount(e){var t=this.patchControlFor(e);t.upstreamCount=0}getUpdatesVia(e){var t=this.store.fetcher.getHeader(e,"updates-via");return!t||!t.length?null:t[0].trim()}addDownstreamChangeListener(e,t){var r=this.patchControlFor(e);r.downstreamChangeListeners||(r.downstreamChangeListeners=[]),r.downstreamChangeListeners.push(t),this.setRefreshHandler(e,i=>{this.reloadAndSync(i)})}reloadAndSync(e){var t=this.patchControlFor(e),r=this;if(t.reloading){t.outOfDate=!0;return}t.reloading=!0;var i=1e3,o=function(){r.reload(r.store,e,function(s,a,l){if(s){if(t.downstreamChangeListeners)for(let c=0;c<t.downstreamChangeListeners.length;c++)t.downstreamChangeListeners[c]();t.reloading=!1,t.outOfDate&&(t.outOfDate=!1,o())}else t.reloading=!1,l&&l.status===0&&(t.reloading=!0,i=i*2,setTimeout(o,i))})};o()}setRefreshHandler(e,t){let r=this.getUpdatesVia(e);var i=t,o=this,s=this,a=1500,l=0;if(!r)return!1;r=ti(r,e.value);let c=r.replace(/^http:/,"ws:").replace(/^https:/,"wss:");var u=function(){var h;if(typeof WebSocket<"u")h=new WebSocket(c);else if(typeof window<"u"&&window.WebSocket)h=window.WebSocket(c);else return;h.onopen=function(){a=1500,this.send("sub "+e.value),l&&s.requestDownstreamAction(e,i)};var m=o.patchControlFor(e);m.upstreamCount=0,h.onerror=function(b){},h.onclose=function(g){a*=2,l+=1,setTimeout(function(){u()},a)},h.onmessage=function(g){if(g.data&&g.data.slice(0,3)==="pub"){if("upstreamCount"in m&&(m.upstreamCount-=1,m.upstreamCount>=0))return;m.upstreamCount=0,o.requestDownstreamAction(e,i)}}};return u(),!0}updateMany(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.concat(t).map(a=>a.why),i=this,o=[];r.forEach(a=>{o.find(l=>l.equals(a))||o.push(a)});let s=o.map(a=>i.update(e.filter(l=>l.why.equals(a)),t.filter(l=>l.why.equals(a))));return s.length>1,Promise.all(s)}constructSparqlUpdateQuery(e,t,r){var i=this.contextWhere(r),o="";if(i.length){if(e.length){o+="DELETE { ";for(let s=0;s<e.length;s++)o+=this.anonymizeNT(e[s])+`
`;o+=` }
`}if(t.length){o+="INSERT { ";for(let s=0;s<t.length;s++)o+=this.anonymizeNT(t[s])+`
`;o+=` }
`}o+=i}else{if(e.length){o+="DELETE DATA { ";for(let s=0;s<e.length;s++)o+=this.anonymizeNT(e[s])+`
`;o+=` } 
`}if(t.length){e.length&&(o+=" ; "),o+="INSERT DATA { ";for(let s=0;s<t.length;s++)o+=this.nTriples(t[s])+`
`;o+=` }
`}}return o}constructN3PatchQuery(e,t,r){var i=`
@prefix solid: <http://www.w3.org/ns/solid/terms#>.
@prefix ex: <http://www.example.org/terms#>.

_:patch
`;return r&&r.length>0&&(i+=`
      solid:where {
        ${r.map(o=>this.anonymizeNT(o)).join(`
        `)}
      };`),e.length>0&&(i+=`
      solid:deletes {
        ${e.map(o=>this.anonymizeNT(o)).join(`
        `)}
      };`),t.length>0&&(i+=`
      solid:inserts {
        ${t.map(o=>this.anonymizeNT(o)).join(`
        `)}
      };`),i+=`   a solid:InsertDeletePatch .
`,i}update(e,t,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!r){var s=this;return new Promise(function(D,$){s.update(e,t,function(Q,k,oe){k?D():$(new Error(oe))},i,o)})}try{var a=this.store,l=e?Rm(e)?e.statements:e instanceof Array?e:[e]:[],c=t?Rm(t)?t.statements:t instanceof Array?t:[t]:[];if(!(l instanceof Array))throw new Error("Type Error "+typeof l+": "+l);if(!(c instanceof Array))throw new Error("Type Error "+typeof c+": "+c);if(l.length===0&&c.length===0)return r(null,!0);var u=l.length?l[0].graph:c[0].graph;if(!u){let D="Error patching: statement does not specify which document to patch:"+l[0]+", "+c[0];throw new Error(D)}if(u.termType!=="NamedNode"){let D="Error patching: document not a NamedNode:"+l[0]+", "+c[0];throw new Error(D)}var h=this.patchControlFor(u),m=Date.now(),g=["subject","predicate","object","why"],b=["insert","delete"],v={delete:l,insert:c};b.map(function(D){v[D].map(function($){if(!u.equals($.graph))throw new Error("update: destination "+u+" inconsistent with delete quad "+$.graph);g.map(function(Q){if(typeof $[Q]>"u")throw new Error("update: undefined "+Q+" of statement.")})})});var E=this.editable(u.value,a);if(E===!1)throw new Error("Update: Can't make changes in uneditable "+u);if(E===void 0){if(i)throw new Error("Update: Loaded "+u+"but still can't figure out what editing protocol it supports.");this.store.fetcher.load(u).then(D=>{this.update(e,t,r,!0,o)},D=>{if(D.response.status===404)this.update(e,t,r,!0,o);else throw new Error(`Update: Can't get updatability status ${u} before patching: ${D}`)});return}else if(E.indexOf("SPARQL")>=0||E.indexOf("N3PATCH")>=0){var C=E.indexOf("SPARQL")>=0,R=[];l.length&&(R=this.statementArrayBnodes(l)),c.length&&(R=R.concat(this.statementArrayBnodes(c)));var F=this.bnodeContext(R,u),M=C?this.constructSparqlUpdateQuery(l,c,F):this.constructN3PatchQuery(l,c,F);o.contentType=C?"application/sparql-update":"text/n3",h.pendingUpstream=h.pendingUpstream?h.pendingUpstream+1:1,"upstreamCount"in h&&(h.upstreamCount+=1),this.fire(u.value,M,(D,$,Q,k)=>{if(k.elapsedTimeMs=Date.now()-m,$){try{a.remove(l)}catch(Ce){$=!1,Q="Remote Ok BUT error deleting "+l.length+" from store!!! "+Ce}for(let Ce=0;Ce<c.length;Ce++)a.add(c[Ce].subject,c[Ce].predicate,c[Ce].object,u)}if(r(D,$,Q,k),h.pendingUpstream-=1,h.pendingUpstream===0&&h.downstreamAction){var oe=h.downstreamAction;delete h.downstreamAction,oe(u)}},o)}else if(E.indexOf("DAV")>=0)this.updateDav(u,l,c,r,o);else if(E.indexOf("LOCALFILE")>=0)try{this.updateLocalFile(u,l,c,r,o)}catch{r(u.value,!1,"Exception trying to write back file <"+u.value+`>
`)}else throw new Error("Unhandled edit method: '"+E+"' for "+u)}catch(D){r(void 0,!1,"Exception in update: "+D+`
`+cW(D))}}updateDav(e,t,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},s=this.store;var a=s.any(e,this.ns.link("request"));if(!a)throw new Error("No record of our HTTP GET request for document: "+e);var l=s.any(a,this.ns.link("response"));if(!l)return null;var c=s.the(l,this.ns.httph("content-type")).value;let u=s.statementsMatching(void 0,void 0,void 0,e).slice();for(let b=0;b<t.length;b++)R_(u,t[b]);for(let b=0;b<r.length;b++)u.push(r[b]);let h=this.serialize(e.value,u,c);var m=s.the(l,this.ns.httph("content-location")),g;return m&&(g=ti(m.value,g)),o.contentType=c,o.noMeta=!0,o.body=h,s.fetcher.webOperation("PUT",g,o).then(b=>{if(!b.ok)throw new Error(b.error);for(let v=0;v<t.length;v++)s.remove(t[v]);for(let v=0;v<r.length;v++)s.add(r[v].subject,r[v].predicate,r[v].object,e);i(e.value,b.ok,b.responseText,b)}).catch(b=>{i(e.value,!1,b.message,b)})}updateLocalFile(e,t,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},s=this.store,a=s.statementsMatching(void 0,void 0,void 0,e).slice();for(let h=0;h<t.length;h++)R_(a,t[h]);for(let h=0;h<r.length;h++)a.push(r[h]);var l=e.value.lastIndexOf(".");if(l<1)throw new Error("Rewriting file: No filename extension: "+e.value);var c=e.value.slice(l+1);let u=go.CONTENT_TYPE_BY_EXT[c];if(!u)throw new Error("File extension ."+c+" not supported for data write");o.body=this.serialize(e.value,a,u),o.contentType=u,s.fetcher.webOperation("PUT",e.value,o).then(h=>{if(!h.ok)return i(e.value,!1,h.error);for(let m=0;m<t.length;m++)s.remove(t[m]);for(let m=0;m<r.length;m++)s.add(r[m].subject,r[m].predicate,r[m].object,e);i(e.value,!0,"")})}serialize(e,t,r){let i=this.store,o;if(typeof t=="string")return t;var s=F_(i);switch(s.suggestNamespaces(i.namespaces),s.setBase(e),r){case"text/xml":case"application/rdf+xml":o=s.statementsToXML(t);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":o=s.statementsToN3(t);break;default:throw new Error("Content-type "+r+" not supported for data serialization")}return o}put(e,t,r,i){let o=this.store,s;return Promise.resolve().then(()=>(s=this.serialize(e.value,t,r),o.fetcher.webOperation("PUT",e.value,{contentType:r,body:s}))).then(a=>{if(!a.ok)return i(e.value,a.ok,a.error,a);delete o.fetcher.nonexistent[e.value],delete o.fetcher.requested[e.value],typeof t!="string"&&t.map(l=>{o.addStatement(l)}),i(e.value,a.ok,"",a)}).catch(a=>{i(e.value,!1,a.message)})}reload(e,t,r){var i=Date.now();let o={force:!0,noMeta:!0,clearPreviousData:!0};e.fetcher.nowOrWhenFetched(t.value,o,function(s,a,l){if(!s)r(!1,"Error reloading data: "+a,l);else if(l.onErrorWasCalled||l.status!==200)r(!1,"Non-HTTP error reloading data: "+a,l);else{var c=Date.now()-i;t.reloadTimeTotal||(t.reloadTimeTotal=0),t.reloadTimeCount||(t.reloadTimeCount=0),t.reloadTimeTotal+=c,t.reloadTimeCount+=1,r(!0)}})}};var k_e=Re(ne({},k_),{fetcher(n,e){return new go(n,e)},graph(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return new No(n,e||{rdfFactory:k_})},lit(n,e,t){return this.literal(""+n,e||t)},st(n,e,t,r){return this.quad(n,e,t,r)}}),j_=k_e;var NW={};for(let n in j_)typeof j_[n]=="function"&&(NW[n]=j_[n].bind(j_));var{fetcher:ant,graph:ik,lit:lnt,st:ua,namedNode:Ht,variable:cnt,blankNode:unt,defaultGraph:dnt,literal:dh,quad:FW,triple:fnt}=NW,hnt=new Vm;var pnt=nl.fromValue,mnt=Qi.nextId;var MW=bn("http://www.w3.org/ns/ldp#>"),Ms=bn("http://xmlns.com/foaf/0.1/"),ynt=bn("http://www.w3.org/2001/XMLSchema#"),L_e=bn("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),vnt=bn("http://www.w3.org/2000/01/rdf-schema#"),B_e=bn("http://schema.org/"),j_e=bn("http://www.w3.org/ns/solid/terms#"),Os=bn("http://www.w3.org/2006/vcard/ns#"),_nt=bn("http://www.w3.org/ns/org#"),U_e=bn("http://www.w3.org/ns/pim/space#"),ea=(()=>{let e=class e{constructor(r,i){this.logger=r,this.solidAuthService=i,this.store=ik(),this.store=this.createStore(),this.updater=this.createUpdater(),this.fetcher=this.createHyperFetcher(this.store)}isLoggedIn(){return this.solidAuthService.isLoggedIn()}createStore(){return ik()}createHyperFetcher(r){let i=(o,s)=>(s||(s={}),s.headers||(s.headers={}),s.headers.hypergraph="U2FsdGVkX1/S0rANmPZVe3xCIXvlGoGnGudwlp4wFSMFtte++kYYPt0l4B4407c+",this.solidAuthService.getDefaultSession().fetch(o,s));return new go(r,{fetch:i})}createFetcher(){let r=this.solidAuthService.getDefaultSession().fetch;return new go(this.store,{fetch:r})}createUpdater(){return new B_(this.store)}loadResource(r){return L(this,null,function*(){yield this.fetcher.load(r)})}listAllTriples(r){return L(this,null,function*(){let i=r.split("#")[0];yield this.loadResource(i),this.store.statementsMatching(null,null,null).forEach(s=>{this.logger.info(s.toNT())})})}listAllTriplesAsTurtle(r){return L(this,null,function*(){let i=r.split("#")[0];yield this.loadResource(i),this.store.statementsMatching(null,null,null).forEach(s=>{this.logger.info(s.toNT())})})}listData(r){let i=Ht(r);this.loadResource(i).then(()=>{let o=this.store.any(i,MW("contains"));this.logger.info(`Files ${o}`)})}listFolders(r){let i=Ht(`${r}`);this.loadResource(i).then(()=>{let o=this.store.any(i,MW("contains"));this.logger.info(`Files ${o}`)})}parseContent(r){let i={};if(r!=null){let a="";var o=new No,s="application/rdf+xml";try{sd(r,o,a,s,(l,c)=>{l?this.logger.error(l):c!=null&&tl(null,c,void 0,"text/turtle",(u,h)=>{this.logger.info(`Serialize: ${h}`)})})}catch(l){this.logger.error(l)}}}rdfParser(){}addQuad(r,i,o,s=void 0){FW(r,i,o,s)}loadDocument(r){return L(this,null,function*(){return this.isLoggedIn()?(yield this.loadResource(r),this.store):null})}getTriples(r){return this.store.statementsMatching(Ht(r),null,null)}addTriple(r,i,o,s){return L(this,null,function*(){if(this.isLoggedIn()){let a=Ht(i),l=Ht(o),c=typeof s=="string"?dh(s):s,u=ua(a,l,c,Ht(r));return new Promise((h,m)=>{this.updater.update([],[u],(g,b,v)=>{b?h():m(new Error(v||"Failed to add triple."))})})}else return Promise.reject("Not logged in")})}deleteTriple(r,i,o,s){return L(this,null,function*(){if(this.isLoggedIn()){let a=Ht(i),l=Ht(o),c=dh(s),u=ua(a,l,c,Ht(r));return new Promise((h,m)=>{this.updater.update([u],[],(g,b,v)=>{b?h():m(new Error(v||"Failed to delete triple."))})})}else return Promise.reject("Not logged in")})}updateTriple(r,i,o,s,a){return L(this,null,function*(){if(this.isLoggedIn()){let l=Ht(i),c=Ht(o),u=dh(s),h=dh(a),m=ua(l,c,u,Ht(r)),g=ua(l,c,h,Ht(r));return new Promise((b,v)=>{this.updater.update([m],[g],(E,C,R)=>{C?b():v(new Error(R||"Failed to update triple."))})})}else return Promise.reject("Not logged in")})}findMembershipContainers(r){return L(this,null,function*(){try{let i=r.split("#")[0];yield this.loadResource(i);let o=Ht(r),s=this.store.match(null,Ms("member"),o).concat(this.store.match(null,B_e("member"),o)).concat(this.store.match(null,j_e("hasMember"),o)).concat(this.store.match(null,Os("hasMember"),o)),a=Array.from(new Set(s.map(u=>u.subject.value)));return this.store.each(o,U_e("storage"),null).map(u=>u.value).concat(a)}catch(i){return this.logger.error(`RDF: Error fetching membership data: ${i}`),[]}})}getOwnerWebId(r){let i="",o=Ht(r),s=this.store.match(o,Ms("maker"),null);return s.length>0&&(i=s[0].object.value),i}getLiteral(r,i){let o=Ht(r),s=Ht(i),a=this.store.any(o,s);return a?.termType==="Literal"?a.value:void 0}getValue(r,i){let o=Ht(r),s=Ht(i);return this.store.any(o,s)?.value||null}setValue(r,i,o){return L(this,null,function*(){let s=Ht(r),a=Ht(i),l=s.doc(),c=dh(o),u=this.store.any(s,a,void 0,l),h=u?[ua(s,a,u,l)]:[],m=[ua(s,a,c,l)];return new Promise((g,b)=>{this.updater.update(h,m,(v,E,C)=>{E?g():b(new Error(C))})})})}removeValue(r,i){return L(this,null,function*(){let o=Ht(r),s=Ht(i),a=o.doc(),l=this.store.any(o,s,void 0,a);if(!l)return;let c=[ua(o,s,l,a)];return new Promise((u,h)=>{this.updater.update(c,[],(m,g,b)=>{g?u():h(new Error(b))})})})}setValues(r,i,o){return L(this,null,function*(){yield this.loadResource(r);let s=Ht(i),a=Ht(r),l=[],c=[];for(let{predicate:u,value:h,isLiteral:m=!0,lang:g}of o){let b=Ht(u),v=this.store.any(s,b,void 0,a),E=v?ua(s,b,v,a):null;E!=null&&l.push(E);let C=m?dh(h,g):Ht(h);c.push(ua(s,b,C,a))}return new Promise((u,h)=>{this.updater.update(l,c,(m,g,b)=>{g?u():h(new Error(b))})})})}getProfileUrl(r){let i="",o=Ht(r),s=this.store.match(null,Ms("maker"),o);for(let a of s)if(this.store.holds(a.subject,L_e("type"),Ms("PersonalProfileDocument"))){i=a.subject.value;break}return i}uploadImage(r,i){return L(this,null,function*(){let o=!1,s=yield this.solidAuthService.getDefaultSession().fetch(i,{method:"PUT",headers:{"Content-Type":r.type},body:r});return s.ok?o=!0:this.logger.error(`Image upload failed: ${s.statusText}`),o})}setProfileImage(r,i){return L(this,null,function*(){let o=this.getProfileUrl(r),s=Ht(o),a=Ht(r),l=Ms("img");yield this.loadResource(r);let c=this.store.match(s,l,null,a),u=ua(s,l,Ht(i),a);yield new Promise((h,m)=>{this.updater.update(c,[u],(g,b,v)=>{b?h():m(new Error(v))})})})}deleteProfileImage(r){return L(this,null,function*(){let i=this.getProfileUrl(r),o=Ht(i),s=Ht(r),a=Ms("img");yield this.loadResource(r);let l=this.store.match(o,a,null,s);l.length===0?this.logger.info("No profile image found to remove."):yield new Promise((c,u)=>{this.updater.update(l,[],(h,m,g)=>{m?c():u(new Error(g))})})})}getProfileImageUrlsContaining(r,i){return L(this,null,function*(){let o="",s=this.getProfileUrl(r),a=Ht(s),l=Ht(r);yield this.loadResource(r);let c=[Ms("img"),Os("photo")];for(let u of c){let m=this.store.each(a,u,null,l).filter(g=>g.termType==="NamedNode").find(g=>g.value.includes(i));m&&(o=m.value)}return o})}listImagesInFolder(r){return L(this,null,function*(){let i=bn("http://www.w3.org/ns/ldp#");yield this.loadResource(r);let o=Ht(r);return this.store.match(o,i("contains"),null,o).map(a=>a.object.value).filter(a=>/\.(jpg|jpeg|png|gif)$/i.test(a))})}addKnowsRelation(r,i){return L(this,null,function*(){let o=this.getProfileUrl(r),s=Ht(o),a=Ht(r),l=Ms("knows"),c=Ht(i);yield this.loadResource(r);let u=ua(s,l,c,a);yield new Promise((h,m)=>{this.updater.update([],[u],(g,b,v)=>{b?h():m(new Error(v))})})})}getContacts(r){return L(this,null,function*(){let i=this.extractSubjectFromProfileDocurl(r),o=Ht(r),s=Ms("knows");yield this.loadResource(r);let l=this.store.each(i,s,null,o).filter(this.isNamedNode);return Promise.all(l.map(c=>L(this,null,function*(){let u={webId:"",name:"Unknown",email:"",org:"",role:"",img:""};try{y_(c)&&(yield this.loadResource(c),u.webId=c.value,u.name=this.getLiteralValue(c,Ms("name"))??this.getLiteralValue(c,Os("fn"))??"Unknown",u.email=this.getUriValue(c,Os("hasEmail"))??"",u.org=this.getUriValue(c,Os("organization-name"))??"",u.role=this.getUriValue(c,Os("role"))??"",u.img=this.getUriValue(c,Ms("img"))??this.getUriValue(c,Os("photo"))??"")}catch(h){this.logger.error(`RDFS: Error mapping contact: ${h}`)}finally{return u}})))})}extractSubjectFromProfileDocurl(r){let i=null;this.logger.info(`RDF: Profile doc url: ${r}`);let o=this.getProfileUrl(r);return this.logger.info(`RDF: Subject url: ${o}`),o!=""&&(i=Ht(o)),i}isNamedNode(r){return!!r&&r.termType==="NamedNode"}getLiteralValue(r,i){let o=this.store.any(r,i);return o?.termType==="Literal"?o.value:null}getUriValue(r,i){let o=this.store.any(r,i);return o?.termType==="NamedNode"?o.value:null}getProfileData(r){return L(this,null,function*(){let i=Ht(r);return yield this.loadResource(i.doc()),{webId:r,name:this.store.any(i,Ms("name"))?.value||this.store.any(i,Os("fn"))?.value||"Unknown",img:(yield this.getProfileImageUrlsContaining(r,"/public/images/profile-picture"))??null,org:this.store.any(i,Os("organization-name"))?.value||"",role:this.store.any(i,Os("role"))?.value||""}})}getVCardString(r){return L(this,null,function*(){let i=Ht(r),o=yield this.readProfile(r);return`BEGIN:VCARD
            VERSION:3.0
            FN:${o?.name}
            ORG:${o?.org}
            TITLE:${o?.role}
            EMAIL:${o?.email}
            TEL:${o?.phone}
            URL:${r}
            END:VCARD`})}readProfile(r){return L(this,null,function*(){let i=this.getProfileUrl(r),o=Ht(i),s=Ht(r),a=r,l={webId:a,name:"",email:"",role:"",img:""};yield this.loadResource(r);let c=this.getProfileUrl(a)??"";if(c!=""){let u=this.getOwnerWebId(c);l.name=this.store.any(o,Ms("name"))?.value??"",l.email=this.store.any(o,Os("hasEmail"))?.value??"",l.role=this.store.any(o,Os("role"))?.value??"",l.org=this.store.any(o,Os("organization_name"))?.value??"",l.img=(yield this.getProfileImageUrlsContaining(a,"/public/images/profile-picture"))??""}return this.logger.info(`SDS: Name, email, photo: ${l.name}, ${l.email}, ${l.img}`),l})}};e.\u0275fac=function(i){return new(i||e)(Ge(nr),Ge(jn))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Snt=yo(OW());(function(){if(typeof Prism>"u"||typeof document>"u")return;var n=[],e={},t=function(){};Prism.plugins.toolbar={};var r=Prism.plugins.toolbar.registerButton=function(s,a){var l;if(typeof a=="function"?l=a:l=function(c){var u;return typeof a.onClick=="function"?(u=document.createElement("button"),u.type="button",u.addEventListener("click",function(){a.onClick.call(this,c)})):typeof a.url=="string"?(u=document.createElement("a"),u.href=a.url):u=document.createElement("span"),a.className&&u.classList.add(a.className),u.textContent=a.text,u},s in e){console.warn('There is a button with the key "'+s+'" registered already.');return}n.push(e[s]=l)};function i(s){for(;s;){var a=s.getAttribute("data-toolbar-order");if(a!=null)return a=a.trim(),a.length?a.split(/\s*,\s*/g):[];s=s.parentElement}}var o=Prism.plugins.toolbar.hook=function(s){var a=s.element.parentNode;if(!(!a||!/pre/i.test(a.nodeName))&&!a.parentNode.classList.contains("code-toolbar")){var l=document.createElement("div");l.classList.add("code-toolbar"),a.parentNode.insertBefore(l,a),l.appendChild(a);var c=document.createElement("div");c.classList.add("toolbar");var u=n,h=i(s.element);h&&(u=h.map(function(m){return e[m]||t})),u.forEach(function(m){var g=m(s);if(g){var b=document.createElement("div");b.classList.add("toolbar-item"),b.appendChild(g),c.appendChild(b)}}),l.appendChild(c)}};r("label",function(s){var a=s.element.parentNode;if(!(!a||!/pre/i.test(a.nodeName))&&a.hasAttribute("data-label")){var l,c,u=a.getAttribute("data-label");try{c=document.querySelector("template#"+u)}catch{}return c?l=c.content:(a.hasAttribute("data-url")?(l=document.createElement("a"),l.href=a.getAttribute("data-url")):l=document.createElement("span"),l.textContent=u),l}}),Prism.hooks.add("complete",o)})();(function(){if(typeof Prism>"u"||typeof document>"u")return;if(!Prism.plugins.toolbar){console.warn("Copy to Clipboard plugin loaded before Toolbar plugin.");return}function n(o,s){o.addEventListener("click",function(){t(s)})}function e(o){var s=document.createElement("textarea");s.value=o.getText(),s.style.top="0",s.style.left="0",s.style.position="fixed",document.body.appendChild(s),s.focus(),s.select();try{var a=document.execCommand("copy");setTimeout(function(){a?o.success():o.error()},1)}catch(l){setTimeout(function(){o.error(l)},1)}document.body.removeChild(s)}function t(o){navigator.clipboard?navigator.clipboard.writeText(o.getText()).then(o.success,function(){e(o)}):e(o)}function r(o){window.getSelection().selectAllChildren(o)}function i(o){var s={copy:"Copy","copy-error":"Press Ctrl+C to copy","copy-success":"Copied!","copy-timeout":5e3},a="data-prismjs-";for(var l in s){for(var c=a+l,u=o;u&&!u.hasAttribute(c);)u=u.parentElement;u&&(s[l]=u.getAttribute(c))}return s}Prism.plugins.toolbar.registerButton("copy-to-clipboard",function(o){var s=o.element,a=i(s),l=document.createElement("button");l.className="copy-to-clipboard-button",l.setAttribute("type","button");var c=document.createElement("span");return l.appendChild(c),h("copy"),n(l,{getText:function(){return s.textContent},success:function(){h("copy-success"),u()},error:function(){h("copy-error"),setTimeout(function(){r(s)},1),u()}}),l;function u(){setTimeout(function(){h("copy")},a["copy-timeout"])}function h(m){c.textContent=a[m],l.setAttribute("data-copy-state",m)}})})();(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(Prism);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;(function(n){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,t=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+t+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+t+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+t+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var e=n.languages.extend("typescript",{});delete e["class-name"],n.languages.typescript["class-name"].inside=e,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),n.languages.ts=n.languages.typescript})(Prism);(function(n){n.languages.sass=n.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),n.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete n.languages.sass.atrule;var e=/\$[-\w]+|#\{\$[-\w]+\}/,t=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];n.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:e,operator:t}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:e,operator:t,important:n.languages.sass.important}}}),delete n.languages.sass.property,delete n.languages.sass.important,n.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})})(Prism);Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}});Prism.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]});Prism.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/});Prism.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}});Prism.languages.scss.atrule.inside.rest=Prism.languages.scss;Prism.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}};Prism.languages.trig=Prism.languages.turtle;var Ont=(()=>{let e=class e{constructor(){}highlightAll(){Prism.highlightAll()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Xp=(()=>{let e=class e{constructor(){}setItem(r,i){localStorage.setItem(r,JSON.stringify(i))}removeItem(r){localStorage.removeItem(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var mD=n=>({"is-invalid":n});function $_e(n,e){n&1&&(fe(0,"div"),Ae(1,"First Name is required"),de())}function H_e(n,e){if(n&1&&(fe(0,"div",18),_t(1,$_e,2,0,"div",12),de()),n&2){let t=tt(2);be(),je("ngIf",t.f.firstName.errors.required)}}function q_e(n,e){n&1&&(fe(0,"div"),Ae(1,"Last Name is required"),de())}function z_e(n,e){if(n&1&&(fe(0,"div",18),_t(1,q_e,2,0,"div",12),de()),n&2){let t=tt(2);be(),je("ngIf",t.f.lastName.errors.required)}}function G_e(n,e){n&1&&(fe(0,"div"),Ae(1,"Username is required"),de())}function W_e(n,e){if(n&1&&(fe(0,"div",18),_t(1,G_e,2,0,"div",12),de()),n&2){let t=tt(2);be(),je("ngIf",t.f.username.errors.required)}}function K_e(n,e){n&1&&(fe(0,"em"),Ae(1,"(Leave blank to keep the same password)"),de())}function J_e(n,e){n&1&&(fe(0,"div"),Ae(1,"Password is required"),de())}function X_e(n,e){n&1&&(fe(0,"div"),Ae(1,"Password must be at least 6 characters"),de())}function Y_e(n,e){if(n&1&&(fe(0,"div",18),_t(1,J_e,2,0,"div",12)(2,X_e,2,0,"div",12),de()),n&2){let t=tt(2);be(),je("ngIf",t.f.password.errors.required),be(),je("ngIf",t.f.password.errors.minlength)}}function Q_e(n,e){n&1&&Ze(0,"span",19)}function Z_e(n,e){if(n&1){let t=ar();fe(0,"form",4),St("ngSubmit",function(){In(t);let i=tt();return An(i.onSubmit())}),fe(1,"div",5)(2,"div",6)(3,"label",7),Ae(4,"First Name"),de(),Ze(5,"input",8),_t(6,H_e,2,1,"div",9),de(),fe(7,"div",6)(8,"label",7),Ae(9,"Last Name"),de(),Ze(10,"input",10),_t(11,z_e,2,1,"div",9),de()(),fe(12,"div",5)(13,"div",6)(14,"label",7),Ae(15,"Username"),de(),Ze(16,"input",11),_t(17,W_e,2,1,"div",9),de(),fe(18,"div",6)(19,"label",7),Ae(20," Password "),_t(21,K_e,2,0,"em",12),de(),Ze(22,"input",13),_t(23,Y_e,3,2,"div",9),de()(),fe(24,"div",14)(25,"button",15),_t(26,Q_e,1,0,"span",16),Ae(27," Save "),de(),fe(28,"a",17),Ae(29,"Cancel"),de()()()}if(n&2){let t=tt();je("formGroup",t.form),be(5),je("ngClass",zo(12,mD,t.submitted&&t.f.firstName.errors)),be(),je("ngIf",t.submitted&&t.f.firstName.errors),be(4),je("ngClass",zo(14,mD,t.submitted&&t.f.lastName.errors)),be(),je("ngIf",t.submitted&&t.f.lastName.errors),be(5),je("ngClass",zo(16,mD,t.submitted&&t.f.username.errors)),be(),je("ngIf",t.submitted&&t.f.username.errors),be(4),je("ngIf",t.id),be(),je("ngClass",zo(18,mD,t.submitted&&t.f.password.errors)),be(),je("ngIf",t.submitted&&t.f.password.errors),be(2),je("disabled",t.submitting),be(),je("ngIf",t.submitting)}}function e0e(n,e){n&1&&(fe(0,"div",20),Ze(1,"span",21),de())}var Qnt=(()=>{let e=class e{constructor(r,i,o,s,a){this.formBuilder=r,this.route=i,this.router=o,this.accountService=s,this.alarmService=a,this.loading=!1,this.submitting=!1,this.submitted=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.form=this.formBuilder.group({firstName:["",Cr.required],lastName:["",Cr.required],username:["",Cr.required],password:["",[Cr.minLength(6),...this.id?[]:[Cr.required]]]}),this.title="Add User",this.id&&(this.title="Edit User",this.loading=!0,this.accountService.getById(this.id).pipe(fi()).subscribe(r=>{this.form.patchValue(r),this.loading=!1}))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alarmService.clear(),!this.form.invalid&&(this.submitting=!0,this.saveUser().pipe(fi()).subscribe({next:()=>{this.alarmService.success("User saved",!0),this.router.navigateByUrl("/users")},error:r=>{this.alarmService.error(r),this.submitting=!1}}))}saveUser(){return this.id?this.accountService.update(this.id,this.form.value):this.accountService.register(this.form.value)}};e.\u0275fac=function(i){return new(i||e)(ke(Es),ke(Go),ke(mr),ke(Pa),ke(Co))},e.\u0275cmp=Je({type:e,selectors:[["app-user"]],decls:6,vars:3,consts:[[1,"p-4"],[1,"container"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center m-5",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"mb-3","col"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],[4,"ngIf"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"mb-3"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/users",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"text-center","m-5"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(i,o){i&1&&(fe(0,"div",0)(1,"div",1)(2,"h1"),Ae(3),de(),_t(4,Z_e,30,20,"form",2)(5,e0e,2,0,"div",3),de()()),i&2&&(be(3),On(o.title),be(),je("ngIf",!o.loading),be(),je("ngIf",o.loading))},dependencies:[yi,oo,Ws,Ko,io,Jo,So,ws,Ma,Wo],encapsulation:2});let n=e;return n})();export{$e as a,Ke as b,ol as c,$o as d,lJ as e,cJ as f,fJ as g,kt as h,it as i,$i as j,Ie as k,vt as l,Ge as m,B as n,In as o,An as p,Lt as q,zg as r,be as s,Mi as t,ke as u,Ta as v,Je as w,Et as x,Rt as y,U1 as z,V1 as A,$1 as B,fe as C,de as D,Ze as E,ar as F,St as G,tt as H,Ae as I,zi as J,tr as K,vT as L,ste as M,fy as N,Ote as O,kte as P,hre as Q,_c as R,Co as S,Pa as T,$E as U,on as V,Z8 as W,nS as X,iS as Y,w$e as Z,E$e as _,S$e as $,p$ as aa,Yd as ba,Cu as ca,QU as da,xu as ea,oo as fa,Qs as ga,Q$ as ha,mf as ia,wS as ja,o4 as ka,KHe as la,Qnt as ma,ZHe as na,r6e as oa,Z6e as pa,i9e as qa,a9e as ra,h9e as sa,uqe as ta,bqe as ua,Iqe as va,jn as wa,Ss as xa,IYe as ya,nr as za,ea as Aa,Ont as Ba};
